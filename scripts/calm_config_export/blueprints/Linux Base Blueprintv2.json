{
  "status": {
    "description": "",
    "state": "ACTIVE",
    "message_list": [],
    "resources": {
      "service_definition_list": [
        {
          "port_list": [],
          "description": "",
          "action_list": [
            {
              "description": "System action for creating an application",
              "message_list": [],
              "uuid": "07e85373-f0ee-44f8-8c66-9b05b9a228ea",
              "name": "action_create",
              "state": "ACTIVE",
              "critical": false,
              "attrs": {},
              "type": "system",
              "runbook": {
                "task_definition_list": [
                  {
                    "target_any_local_reference": {
                      "kind": "app_service",
                      "name": "Service1",
                      "uuid": "a03f1839-6a1a-4664-8d8d-e389d359efa1"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "DAG",
                    "uuid": "97b84eee-0077-4b13-a92b-1873ffdc9ee7",
                    "child_tasks_local_reference_list": [
                      "@{kind=app_task; name=configureBackupInterface; uuid=6a5bb9d9-954b-4c5d-a54e-f6ddcead4f48}",
                      "@{kind=app_task; name=configurePrivateInterface; uuid=6f5e8e82-bb1f-47da-b3f4-7009f2ca28f5}",
                      "@{kind=app_task; name=configureDisks; uuid=c53209c2-7bc4-4ae8-95a2-c8d9eee1b65a}",
                      "@{kind=app_task; name=createAuthLists; uuid=b27891a7-f6ae-4528-a5ba-18c4cd1bcddc}",
                      "@{kind=app_task; name=addLoginUsers; uuid=1b3ba7f4-1467-4e02-804e-2d395191d50d}",
                      "@{kind=app_task; name=joinActiveDirectory; uuid=39e9944f-abb4-4b1b-88f8-e327a9ef81b8}",
                      "@{kind=app_task; name=installBackupAgent; uuid=c59325ee-ea1b-456e-8d08-291e76bfda7e}",
                      "@{kind=app_task; name=installAntivirusAgent; uuid=da5b94ac-0bc1-4a95-8ef1-5a9bb337e1e9}"
                    ],
                    "state": "ACTIVE",
                    "attrs": {
                      "edges": "      ",
                      "type": ""
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "4d06857d_dag"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_service",
                      "name": "Service1",
                      "uuid": "a03f1839-6a1a-4664-8d8d-e389d359efa1"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "EXEC",
                    "uuid": "6a5bb9d9-954b-4c5d-a54e-f6ddcead4f48",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "script_type": "sh",
                      "type": "",
                      "command_line_args": "",
                      "exit_status": "",
                      "script": "#"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "configureBackupInterface"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_service",
                      "name": "Service1",
                      "uuid": "a03f1839-6a1a-4664-8d8d-e389d359efa1"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "EXEC",
                    "uuid": "6f5e8e82-bb1f-47da-b3f4-7009f2ca28f5",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "script_type": "sh",
                      "type": "",
                      "command_line_args": "",
                      "exit_status": "",
                      "script": "#"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "configurePrivateInterface"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_service",
                      "name": "Service1",
                      "uuid": "a03f1839-6a1a-4664-8d8d-e389d359efa1"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "EXEC",
                    "uuid": "c53209c2-7bc4-4ae8-95a2-c8d9eee1b65a",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "script_type": "sh",
                      "type": "",
                      "command_line_args": "",
                      "exit_status": "",
                      "script": "#"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "configureDisks"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_service",
                      "name": "Service1",
                      "uuid": "a03f1839-6a1a-4664-8d8d-e389d359efa1"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "SET_VARIABLE",
                    "uuid": "b27891a7-f6ae-4528-a5ba-18c4cd1bcddc",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "exit_status": "",
                      "script": "def varToBase64(var):\n    varToString = json.dumps(var, separators=(',', ':'))\n    encoded = base64.b64encode(varToString.encode('ascii'))\n    return encoded\n\nloginGroups = ('''@@{loginGroups}@@'''.splitlines())\nadministrativeGroups = ('''@@{administrativeGroups}@@'''.splitlines())\nloginUsers = ('''@@{loginUsers}@@'''.splitlines())\nadministrativeUsers = ('''@@{administrativeUsers}@@'''.splitlines())\ndefaultUser = \"@@{calm_username}@@\"\nprojectName = \"@@{calm_project_name}@@\"\ndomainName = \"@@{domainName}@@\"\njwt = '@@{calm_jwt}@@'\npayload = {\n  \"kind\": \"project\",\n  \"filter\": \"name=={}\".format(projectName)\n}\n\napi_url = 'https://localhost:9440/api/nutanix/v3/projects/list'\nheaders = {'Content-Type': 'application/json',  'Accept':'application/json', 'Authorization': 'Bearer {}'.format(jwt)}\nr = urlreq(api_url, verb='POST', params=json.dumps(payload), headers=headers, verify=False)\nif r.ok:\n    resp = json.loads(r.content)\n    projectAdGroups = resp['entities'][0]['spec']['resources']['external_user_group_reference_list']\nelse:\n    print \"Post request failed\", r.content\n    exit(1)\n\n\nfor adGroup in projectAdGroups:\n    loginGroups.append(((((adGroup['name']).replace('CN=', '')).replace('cn=', '')).split(','))[0] + \"@\" + domainName)\n\nadministrativeUsers.append(defaultUser)\nloginUserList = loginUsers + administrativeUsers\nloginGroupList = loginGroups + administrativeGroups\n\n\nprint(\"loginUsersList={}\".format(varToBase64(loginUserList)))\nprint(\"loginGroupsList={}\".format(varToBase64(loginGroupList)))\nprint(\"adminUsersList={}\".format(varToBase64(administrativeUsers)))\nprint(\"adminGroupsList={}\".format(varToBase64(administrativeGroups)))",
                      "eval_variables": "loginUsersList loginGroupsList adminUsersList adminGroupsList",
                      "eval_scope": "local",
                      "type": "",
                      "script_type": "static"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "createAuthLists"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_service",
                      "name": "Service1",
                      "uuid": "a03f1839-6a1a-4664-8d8d-e389d359efa1"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "EXEC",
                    "uuid": "1b3ba7f4-1467-4e02-804e-2d395191d50d",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "script_type": "sh",
                      "type": "",
                      "command_line_args": "",
                      "exit_status": "",
                      "script": "test=$(\n\techo \"@@{loginUsersList}@@\" | \n    base64 -d | \n    sed 's/\\\"//g' | \n    sed 's/\\[//g' | \n    sed 's/\\]//g' |  \n    sed 's/\\,/ /g'\n)\nIFS=' ' read -ra my_array <<< \"$test\"\nfor i in ${my_array[*]}; \n\tdo \n    \tsudo realm permit $i\n\tdone"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "addLoginUsers"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_service",
                      "name": "Service1",
                      "uuid": "a03f1839-6a1a-4664-8d8d-e389d359efa1"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "EXEC",
                    "uuid": "39e9944f-abb4-4b1b-88f8-e327a9ef81b8",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "script_type": "sh",
                      "type": "",
                      "command_line_args": "",
                      "exit_status": "",
                      "script": "<<COMMENT\nSCRIPT INFORMATION\n .NAME:\n\tname: getVirtualMachinesFromPrismCentral\n .TYPE:\n\tNutanix Calm escript. Set Variable / Task\n . DESCRIPTION:\n\tThis action is a Template. Describe the funcionality of this ACTION\n .EXPECTED RESULT:\n\tFunction should return object type STRING with VALUE:\n .AUTHOR:\n\tDavid Ríos Delgado <david.riosdelgado@nutanix.com>\n .VERSION HISTORY:\n\t1.0.0\tInit version.\n .TESTED ON:\n\tNutanix Calm \n                3.0.0.X\n .FUNCTIONS:\n\n .INPUT PARAMETERS:\n\t@param \n        {string}\n        {Mandatory]\n        {Name=inputExample1}\n        {Description=This is an example 1}\n\t@param \n        {string}\n        {Mandatory]\n        {Name=inputExample2}\n        {Description=This is an example 2}\n\n .GLOBAL VARIABLES:\n\n .BLOCK VARIABLES:\n\n .RETURN\n\n\nCOMMENT\n#FUNCTIONS\n\n#INPUT VARIABLES\n\n#GLOBAL VARIABLES\n\n#MAIN CODE BLOCK EXECUTION\n##Execution Block 1 - Get virtual machine api pagination - Variables\n\n##Execution Block 1 - Get virtual machine api pagination - Main Code\nsudo bash -c 'echo @@{domainAdminCreds.secret}@@ | realm join --user=@@{domainAdminCreds.username}@@ @@{domainName}@@'\nsudo bash -c 'sed -i \"s/use_fully_qualified_names = True/use_fully_qualified_names = False/g\" /etc/sssd/sssd.conf'\nsudo bash -c 'sed -i \"s/%u@%d/%u/g\" /etc/sssd/sssd.conf'\nsudo systemctl restart sssd\nsudo systemctl daemon-reload"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "joinActiveDirectory"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_service",
                      "name": "Service1",
                      "uuid": "a03f1839-6a1a-4664-8d8d-e389d359efa1"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "EXEC",
                    "uuid": "c59325ee-ea1b-456e-8d08-291e76bfda7e",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "script_type": "sh",
                      "type": "",
                      "command_line_args": "",
                      "exit_status": "",
                      "script": "#"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "installBackupAgent"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_service",
                      "name": "Service1",
                      "uuid": "a03f1839-6a1a-4664-8d8d-e389d359efa1"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "EXEC",
                    "uuid": "da5b94ac-0bc1-4a95-8ef1-5a9bb337e1e9",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "exit_status": "",
                      "script": "#",
                      "script_type": "sh",
                      "type": "",
                      "command_line_args": "",
                      "login_credential_local_reference": "@{kind=app_credential; name=ntnxCalmCred; uuid=d106818a-258d-48c8-9a5e-28edb727ee35}"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "installAntivirusAgent"
                  }
                ],
                "description": "",
                "message_list": [],
                "uuid": "03c082b3-e5b4-4ff7-a882-a94bc1975fc2",
                "state": "ACTIVE",
                "variable_list": [
                  {
                    "regex": {},
                    "val_type": "STRING",
                    "is_mandatory": false,
                    "description": "",
                    "data_type": "BASE",
                    "message_list": [],
                    "uuid": "e305d275-60bc-4590-997d-2f5967f2a859",
                    "value": "",
                    "label": "",
                    "state": "NOT_VALIDATED",
                    "attrs": {
                      "type": ""
                    },
                    "editables": {},
                    "is_hidden": false,
                    "type": "LOCAL",
                    "options": {
                      "type": "PREDEFINED",
                      "choices": ""
                    },
                    "name": "adminGroupsList"
                  },
                  {
                    "regex": {},
                    "val_type": "STRING",
                    "is_mandatory": false,
                    "description": "",
                    "data_type": "BASE",
                    "message_list": [],
                    "uuid": "7213f126-b1aa-457f-86c4-56fe0095de98",
                    "value": "",
                    "label": "",
                    "state": "NOT_VALIDATED",
                    "attrs": {
                      "type": ""
                    },
                    "editables": {},
                    "is_hidden": false,
                    "type": "LOCAL",
                    "options": {
                      "type": "PREDEFINED",
                      "choices": ""
                    },
                    "name": "adminUsersList"
                  },
                  {
                    "regex": {},
                    "val_type": "STRING",
                    "is_mandatory": false,
                    "description": "",
                    "data_type": "BASE",
                    "message_list": [],
                    "uuid": "e672702a-dbbe-48ea-a862-d5bd81faa82d",
                    "value": "",
                    "label": "",
                    "state": "NOT_VALIDATED",
                    "attrs": {
                      "type": ""
                    },
                    "editables": {},
                    "is_hidden": false,
                    "type": "LOCAL",
                    "options": {
                      "type": "PREDEFINED",
                      "choices": ""
                    },
                    "name": "loginGroupsList"
                  },
                  {
                    "regex": {},
                    "val_type": "STRING",
                    "is_mandatory": false,
                    "description": "",
                    "data_type": "BASE",
                    "message_list": [],
                    "uuid": "dc0b170a-e6ba-4baf-95e3-54b34203f05b",
                    "value": "",
                    "label": "",
                    "state": "NOT_VALIDATED",
                    "attrs": {
                      "type": ""
                    },
                    "editables": {},
                    "is_hidden": false,
                    "type": "LOCAL",
                    "options": {
                      "type": "PREDEFINED",
                      "choices": ""
                    },
                    "name": "loginUsersList"
                  }
                ],
                "main_task_local_reference": {
                  "kind": "app_task",
                  "name": "4d06857d_dag",
                  "uuid": "97b84eee-0077-4b13-a92b-1873ffdc9ee7"
                },
                "name": "ff3e502d_runbook"
              }
            },
            {
              "description": "System action for deleting an application. Deletes created VMs as well",
              "message_list": [],
              "uuid": "7240a865-ac63-41e8-8cb8-48e4fc2a7d34",
              "name": "action_delete",
              "state": "ACTIVE",
              "critical": false,
              "attrs": {},
              "type": "system",
              "runbook": {
                "task_definition_list": [
                  {
                    "target_any_local_reference": {
                      "kind": "app_service",
                      "name": "Service1",
                      "uuid": "a03f1839-6a1a-4664-8d8d-e389d359efa1"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "DAG",
                    "uuid": "25e76c88-88a0-4954-920b-9d1ac1fa94da",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "edges": "",
                      "type": ""
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "b3d3c433_dag"
                  }
                ],
                "description": "",
                "message_list": [],
                "uuid": "69679ae6-027b-40da-bc20-f687a94d5de2",
                "state": "ACTIVE",
                "variable_list": [],
                "main_task_local_reference": {
                  "kind": "app_task",
                  "name": "b3d3c433_dag",
                  "uuid": "25e76c88-88a0-4954-920b-9d1ac1fa94da"
                },
                "name": "c906f5a1_runbook"
              }
            },
            {
              "description": "System action for starting an application",
              "message_list": [],
              "uuid": "8610c077-c5ea-48b4-8a2e-e70c4a6a9387",
              "name": "action_start",
              "state": "ACTIVE",
              "critical": false,
              "attrs": {},
              "type": "system",
              "runbook": {
                "task_definition_list": [
                  {
                    "target_any_local_reference": {
                      "kind": "app_service",
                      "name": "Service1",
                      "uuid": "a03f1839-6a1a-4664-8d8d-e389d359efa1"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "DAG",
                    "uuid": "7a4761e1-7183-4666-a0d8-a73d95980521",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "edges": "",
                      "type": ""
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "afa53fcc_dag"
                  }
                ],
                "description": "",
                "message_list": [],
                "uuid": "e9fb03a8-d799-41bd-b960-5ee92b723b09",
                "state": "ACTIVE",
                "variable_list": [],
                "main_task_local_reference": {
                  "kind": "app_task",
                  "name": "afa53fcc_dag",
                  "uuid": "7a4761e1-7183-4666-a0d8-a73d95980521"
                },
                "name": "bcdcb98e_runbook"
              }
            },
            {
              "description": "System action for stopping an application",
              "message_list": [],
              "uuid": "dc016fcf-18a2-4109-87c8-d1ef96eaaacd",
              "name": "action_stop",
              "state": "ACTIVE",
              "critical": false,
              "attrs": {},
              "type": "system",
              "runbook": {
                "task_definition_list": [
                  {
                    "target_any_local_reference": {
                      "kind": "app_service",
                      "name": "Service1",
                      "uuid": "a03f1839-6a1a-4664-8d8d-e389d359efa1"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "DAG",
                    "uuid": "65653dd4-2dfa-4e4a-949c-94cf60dc2524",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "edges": "",
                      "type": ""
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "f2a98240_dag"
                  }
                ],
                "description": "",
                "message_list": [],
                "uuid": "bdb6af91-3833-466c-896d-36252f38beb9",
                "state": "ACTIVE",
                "variable_list": [],
                "main_task_local_reference": {
                  "kind": "app_task",
                  "name": "f2a98240_dag",
                  "uuid": "65653dd4-2dfa-4e4a-949c-94cf60dc2524"
                },
                "name": "e6e3ef02_runbook"
              }
            },
            {
              "description": "System action for restarting an application",
              "message_list": [],
              "uuid": "35e3e17b-759d-40b4-80b4-255129f3fcb7",
              "name": "action_restart",
              "state": "ACTIVE",
              "critical": false,
              "attrs": {},
              "type": "system",
              "runbook": {
                "task_definition_list": [
                  {
                    "target_any_local_reference": {
                      "kind": "app_service",
                      "name": "Service1",
                      "uuid": "a03f1839-6a1a-4664-8d8d-e389d359efa1"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "DAG",
                    "uuid": "7bc6d902-19e5-4a42-869b-2eafadf6d52d",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "edges": "",
                      "type": ""
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "ee176b7f_dag"
                  }
                ],
                "description": "",
                "message_list": [],
                "uuid": "96898184-725d-4c96-8825-6c01e88991c4",
                "state": "ACTIVE",
                "variable_list": [],
                "main_task_local_reference": {
                  "kind": "app_task",
                  "name": "ee176b7f_dag",
                  "uuid": "7bc6d902-19e5-4a42-869b-2eafadf6d52d"
                },
                "name": "e68a120c_runbook"
              }
            },
            {
              "description": "System action for deleting an application. Does not delete created VMs",
              "message_list": [],
              "uuid": "cbdacc06-aee7-4eff-afad-7ce596e99685",
              "name": "action_soft_delete",
              "state": "ACTIVE",
              "critical": true,
              "attrs": {},
              "type": "system",
              "runbook": {
                "task_definition_list": [
                  {
                    "target_any_local_reference": {
                      "kind": "app_service",
                      "name": "Service1",
                      "uuid": "a03f1839-6a1a-4664-8d8d-e389d359efa1"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "DAG",
                    "uuid": "904cd869-4044-4046-a30c-d8ebb0192eda",
                    "child_tasks_local_reference_list": [
                      "@{kind=app_task; name=SYS_GEN__Service_Element_Delete_a03f1839_6a1a_4664_8d8d_e389d359efa1; uuid=f542751f-e600-4aa8-970d-017bdf9db4e5}"
                    ],
                    "state": "ACTIVE",
                    "attrs": {
                      "edges": "",
                      "type": "DAG"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__DAG_Service_a03f1839_6a1a_4664_8d8d_e389d359efa1"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_service",
                      "name": "Service1",
                      "uuid": "a03f1839-6a1a-4664-8d8d-e389d359efa1"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "SOFT_DELETE_ELEMENT",
                    "uuid": "f542751f-e600-4aa8-970d-017bdf9db4e5",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "type": ""
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__Service_Element_Delete_a03f1839_6a1a_4664_8d8d_e389d359efa1"
                  }
                ],
                "description": "",
                "message_list": [],
                "uuid": "011cfb44-53e3-431f-883a-d128db8bd440",
                "state": "ACTIVE",
                "variable_list": [],
                "main_task_local_reference": {
                  "kind": "app_task",
                  "name": "SYS_GEN__DAG_Service_a03f1839_6a1a_4664_8d8d_e389d359efa1",
                  "uuid": "904cd869-4044-4046-a30c-d8ebb0192eda"
                },
                "name": "SYS_GEN__Runbook_Service_a03f1839_6a1a_4664_8d8d_e389d359efa1"
              }
            }
          ],
          "message_list": [],
          "uuid": "a03f1839-6a1a-4664-8d8d-e389d359efa1",
          "state": "ACTIVE",
          "depends_on_list": [],
          "editables": {},
          "tier": "",
          "singleton": false,
          "variable_list": [
            {
              "regex": {},
              "val_type": "STRING",
              "is_mandatory": false,
              "description": "",
              "data_type": "BASE",
              "message_list": [],
              "uuid": "3f3ba5e4-61b1-4919-9d57-9dbd16d8b51f",
              "value": "",
              "label": "",
              "state": "ACTIVE",
              "attrs": {
                "type": ""
              },
              "editables": {},
              "is_hidden": false,
              "type": "LOCAL",
              "options": {
                "type": "PREDEFINED",
                "choices": []
              },
              "name": "ntp1"
            },
            {
              "regex": {},
              "val_type": "STRING",
              "is_mandatory": false,
              "description": "",
              "data_type": "BASE",
              "message_list": [],
              "uuid": "4aa63dd8-ac79-4f6f-9e86-b46ec752d88d",
              "value": "",
              "label": "",
              "state": "ACTIVE",
              "attrs": {
                "type": ""
              },
              "editables": {},
              "is_hidden": false,
              "type": "LOCAL",
              "options": {
                "type": "PREDEFINED",
                "choices": []
              },
              "name": "ntp2"
            },
            {
              "regex": {},
              "val_type": "STRING",
              "is_mandatory": false,
              "description": "",
              "data_type": "BASE",
              "message_list": [],
              "uuid": "533be7a9-2843-450b-a44d-dace4fe19f59",
              "value": "",
              "label": "",
              "state": "ACTIVE",
              "attrs": {
                "type": ""
              },
              "editables": {},
              "is_hidden": false,
              "type": "LOCAL",
              "options": {
                "type": "PREDEFINED",
                "choices": []
              },
              "name": "antivirusAgentPath"
            },
            {
              "regex": {},
              "val_type": "STRING",
              "is_mandatory": false,
              "description": "",
              "data_type": "BASE",
              "message_list": [],
              "uuid": "e5c374fa-263e-4e98-966c-664d7d327fcd",
              "value": "",
              "label": "",
              "state": "ACTIVE",
              "attrs": {
                "type": ""
              },
              "editables": {},
              "is_hidden": false,
              "type": "LOCAL",
              "options": {
                "type": "PREDEFINED",
                "choices": []
              },
              "name": "backupAgentPath"
            },
            {
              "regex": {},
              "val_type": "STRING",
              "is_mandatory": false,
              "description": "",
              "data_type": "BASE",
              "message_list": [],
              "uuid": "e2230688-a4a1-452b-9c76-79a381de03be",
              "value": "",
              "label": "",
              "state": "ACTIVE",
              "attrs": {
                "type": ""
              },
              "editables": {},
              "is_hidden": false,
              "type": "LOCAL",
              "options": {
                "type": "PREDEFINED",
                "choices": []
              },
              "name": "domainName"
            },
            {
              "regex": {},
              "val_type": "STRING",
              "is_mandatory": false,
              "description": "",
              "data_type": "BASE",
              "message_list": [],
              "uuid": "23ce2767-5151-4a00-b687-0f8409541328",
              "value": "ens3",
              "label": "",
              "state": "ACTIVE",
              "attrs": {
                "type": ""
              },
              "editables": {},
              "is_hidden": false,
              "type": "LOCAL",
              "options": {
                "type": "PREDEFINED",
                "choices": []
              },
              "name": "netDeviceName"
            },
            {
              "regex": {},
              "val_type": "STRING",
              "is_mandatory": false,
              "description": "",
              "data_type": "BASE",
              "message_list": [],
              "uuid": "d41fa2cb-2b3d-44ab-9892-5be5f69fc7a8",
              "value": "",
              "label": "",
              "state": "ACTIVE",
              "attrs": {
                "type": ""
              },
              "editables": {},
              "is_hidden": false,
              "type": "LOCAL",
              "options": {
                "type": "PREDEFINED",
                "choices": []
              },
              "name": "sshPublicKey"
            },
            {
              "regex": {},
              "val_type": "STRING",
              "is_mandatory": false,
              "description": "",
              "data_type": "BASE",
              "message_list": [],
              "uuid": "9c8b13ea-0673-4174-b7d1-ab105a554a8a",
              "value": "172.17.73.2",
              "label": "",
              "state": "ACTIVE",
              "attrs": {
                "type": ""
              },
              "editables": {},
              "is_hidden": false,
              "type": "LOCAL",
              "options": {
                "type": "PREDEFINED",
                "choices": []
              },
              "name": "dns1"
            },
            {
              "regex": {},
              "val_type": "STRING",
              "is_mandatory": false,
              "description": "",
              "data_type": "BASE",
              "message_list": [],
              "uuid": "724ca637-ade5-4f2f-a955-35ebe32576d8",
              "value": "172.17.90.20",
              "label": "",
              "state": "ACTIVE",
              "attrs": {
                "type": ""
              },
              "editables": {},
              "is_hidden": false,
              "type": "LOCAL",
              "options": {
                "type": "PREDEFINED",
                "choices": []
              },
              "name": "dns2"
            },
            {
              "regex": {},
              "val_type": "STRING",
              "is_mandatory": false,
              "description": "",
              "data_type": "BASE",
              "message_list": [],
              "uuid": "c71d8ddc-3121-4260-9d9a-432faf6c5e1e",
              "value": "172.18.4.18",
              "label": "",
              "state": "ACTIVE",
              "attrs": {
                "type": ""
              },
              "editables": {},
              "is_hidden": false,
              "type": "LOCAL",
              "options": {
                "type": "PREDEFINED",
                "choices": []
              },
              "name": "dns3"
            }
          ],
          "name": "Service1"
        }
      ],
      "substrate_definition_list": [
        {
          "description": "",
          "action_list": [
            {
              "description": "",
              "message_list": [],
              "uuid": "2fc65396-472d-45a9-9465-8abdf106c84c",
              "name": "pre_action_create",
              "state": "ACTIVE",
              "critical": false,
              "attrs": {},
              "type": "fragment",
              "runbook": {
                "task_definition_list": [
                  {
                    "target_any_local_reference": {
                      "kind": "app_substrate",
                      "name": "VM1",
                      "uuid": "db0602f8-a4ea-40b9-9f39-6493d0c8a14e"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "DAG",
                    "uuid": "41e21492-f0ce-4b70-a3ff-161d5b272704",
                    "child_tasks_local_reference_list": [
                      "@{kind=app_task; name=setProductionNetwork; uuid=8fbf5cee-8936-448d-af54-f04d363d8669}"
                    ],
                    "state": "ACTIVE",
                    "attrs": {
                      "edges": "",
                      "type": ""
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "22b68bee_dag"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_substrate",
                      "name": "VM1",
                      "uuid": "db0602f8-a4ea-40b9-9f39-6493d0c8a14e"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "SET_VARIABLE",
                    "uuid": "8fbf5cee-8936-448d-af54-f04d363d8669",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "exit_status": "",
                      "script": "#script\n'''\nSCRIPT INFORMATION\n .NAME:\n\tname: getVirtualMachinesFromPrismCentral\n .TYPE:\n\tNutanix Calm escript. Set Variable / Task\n .DESCRIPTION:\n\tThis action is a Template. Describe the funcionality of this ACTION\n .EXPECTED RESULT:\n\tFunction should return object type STRING with VALUE:\n .AUTHOR:\n\tDavid Ríos Delgado <david.riosdelgado@nutanix.com>\n .VERSION HISTORY:\n\t1.0.0\tInit version.\n .TESTED ON:\n\tNutanix Calm \n                3.0.0.X\n .FUNCTIONS:\n\t@Gfunction\t\n        mainAction(payload, newEvent):\n\t\tExecutes the main code in this action.\n .INPUT PARAMETERS:\n\t@param \n        {string}\n        {Mandatory]\n        {Name=inputExample1}\n        {Description=This is an example 1}\n\t@param \n        {string}\n        {Mandatory]\n        {Name=inputExample2}\n        {Description=This is an example 2}\n .GLOBAL VARIABLES:\n\t@Mparam \n        {string}\n        {Mandatory}\n        {Name=type}\n        {Description=Describes the type of vRealize Orchestrator script}\n .BLOCK VARIABLES:\n\t@Mparam \n        {string}\n        {Mandatory}\n        {Name=type}\n        {Description=Describes the type of vRealize Orchestrator script}\n .RETURN\n\tresultObjs = {String}\n\n'''\n\n#INPUT VARIABLES\nproject = '@@{calm_project_name}@@'\nclusterSelection = '@@{clusterSelection}@@'\nnetworkSelection = '@@{productionInterfaceNetwork}@@'\njwt = '@@{calm_jwt}@@'\noffset = 0\nlength = 500\nlistNetwork = []\nlistSelection = []\n#FUNCTIONS\n\n#GLOBAL VARIABLES\n\n#MAIN CODE BLOCK EXECUTION\n##Execution Block 1 - Get virtual machine api pagination - Variables\napi_url = 'https://localhost:9440/api/nutanix/v3/projects/list'\nheaders = {'Content-Type': 'application/json',  'Accept':'application/json', 'Authorization': 'Bearer {}'.format(jwt)}\npayload = {\n  \"kind\": \"project\"\n}\n##Execution Block 1 - Get virtual machine api pagination - Main Code\nr = urlreq(api_url, verb='POST', params=json.dumps(payload), headers=headers, verify=False)\nif r.ok:\n    resp = json.loads(r.content)\n    iterations = ((int(resp['metadata']['total_matches'])) / length) + 1\nelse:\n    print (\"Post request failed\", r.content)\n    exit(1)\n\n##Execution Block 2 - Get virtual machine list - Variables\napi_url = 'https://localhost:9440/api/nutanix/v3/projects/list'\nheaders = {'Content-Type': 'application/json',  'Accept':'application/json', 'Authorization': 'Bearer {}'.format(jwt)}\n##Execution Block 2 - Get virtual machine list - Main Code\nfor iterator in range(iterations): \n    payload = {\n      \"kind\": \"project\",\n      \"length\": length,\n      \"offset\": offset\n    }\n    r = urlreq(api_url, verb='POST', params=json.dumps(payload), headers=headers, verify=False)\n    if r.ok:\n        resp = json.loads(r.content)\n    else:\n        print (\"Post request failed\", r.content)\n        exit(1)\n    for item in resp[\"entities\"]:\n        if project in item['spec']['name']:\n            for netResource in item['spec']['resources']['subnet_reference_list']:\n                listNetwork.append(netResource['uuid'])\n    offset = offset + length\n\n##Execution Block 2 - Get virtual machine list - Variables\nheaders = {'Content-Type': 'application/json',  'Accept':'application/json', 'Authorization': 'Bearer {}'.format(jwt)}\n##Execution Block 2 - Get virtual machine list - Main Code\nfor netUuid in listNetwork:\n    api_url = 'https://localhost:9440/api/nutanix/v3/subnets/{}'.format(netUuid)\n    r = urlreq(api_url, verb='GET', headers=headers, verify=False)\n    if r.ok:\n        resp = json.loads(r.content)\n        if (((resp['spec']['cluster_reference']['name']) == clusterSelection) and (resp['spec']['name'] == networkSelection)):\n            selectedUuid = netUuid\n            print(\"netUuid\")\n            break\n    else:\n        print (\"Post request failed\", r.content)\n        exit(1)\n\nnetwork = {\"name\":networkSelection,\"uuid\":\"{}\".format(selectedUuid)}\n\n#RETURN\nprint (\"productionNetwork={}\".format(json.dumps(network)))",
                      "eval_variables": "productionNetwork",
                      "eval_scope": "local",
                      "type": "",
                      "script_type": "static"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "setProductionNetwork"
                  }
                ],
                "description": "",
                "message_list": [],
                "uuid": "b0e33e3b-6f75-46c4-9976-d91585002a5b",
                "state": "ACTIVE",
                "variable_list": [],
                "main_task_local_reference": {
                  "kind": "app_task",
                  "name": "22b68bee_dag",
                  "uuid": "41e21492-f0ce-4b70-a3ff-161d5b272704"
                },
                "name": "8103e2f7_runbook"
              }
            },
            {
              "description": "",
              "message_list": [],
              "uuid": "634d218c-29d5-411a-86f8-5685258768ee",
              "name": "post_action_delete",
              "state": "ACTIVE",
              "critical": false,
              "attrs": {},
              "type": "fragment",
              "runbook": {
                "task_definition_list": [
                  {
                    "target_any_local_reference": {
                      "kind": "app_substrate",
                      "name": "VM1",
                      "uuid": "db0602f8-a4ea-40b9-9f39-6493d0c8a14e"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "DAG",
                    "uuid": "87524602-bd19-4357-adcb-7a5a00cf900c",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "edges": "",
                      "type": ""
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "5b52803c_dag"
                  }
                ],
                "description": "",
                "message_list": [],
                "uuid": "1b6bbba4-745c-4b59-92f6-6c425bdb5fd8",
                "state": "ACTIVE",
                "variable_list": [],
                "main_task_local_reference": {
                  "kind": "app_task",
                  "name": "5b52803c_dag",
                  "uuid": "87524602-bd19-4357-adcb-7a5a00cf900c"
                },
                "name": "30f3cc31_runbook"
              }
            },
            {
              "description": "System action for creating an application",
              "message_list": [],
              "uuid": "3489ad9f-d94d-4a5e-844d-96abd6b3b8fb",
              "name": "action_create",
              "state": "ACTIVE",
              "critical": true,
              "attrs": {},
              "type": "system",
              "runbook": {
                "task_definition_list": [
                  {
                    "target_any_local_reference": {
                      "kind": "app_substrate",
                      "name": "VM1",
                      "uuid": "db0602f8-a4ea-40b9-9f39-6493d0c8a14e"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "DAG",
                    "uuid": "fe09c1a8-fafe-4ecb-a58a-57d1ff1e4f49",
                    "child_tasks_local_reference_list": [
                      "@{kind=app_task; name=SYS_GEN__Nutanix_Provision_db0602f8_a4ea_40b9_9f39_6493d0c8a14e; uuid=8f09dfea-7b46-40e1-81cb-4990ae84c9a3}",
                      "@{kind=app_task; name=SYS_GEN__check_login_for_VM1_db0602f8_a4ea_40b9_9f39_6493d0c8a14e; uuid=59e3ebf9-44fd-40da-b654-071ffa882e32}"
                    ],
                    "state": "ACTIVE",
                    "attrs": {
                      "edges": "",
                      "type": "DAG"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__DAG_Substrate_db0602f8_a4ea_40b9_9f39_6493d0c8a14e"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_substrate",
                      "name": "VM1",
                      "uuid": "db0602f8-a4ea-40b9-9f39-6493d0c8a14e"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "PROVISION_NUTANIX",
                    "uuid": "8f09dfea-7b46-40e1-81cb-4990ae84c9a3",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "name": "@@{calm_application_name}@@",
                      "categories": "",
                      "availability_zone_reference": null,
                      "backup_policy": null,
                      "type": "",
                      "cluster_reference": null,
                      "resources": "@{nic_list=System.Object[]; parent_reference=; guest_tools=; num_vcpus_per_socket=1; num_sockets=1; serial_port_list=System.Object[]; gpu_list=System.Object[]; memory_size_mib=1024; power_state=ON; hardware_clock_timezone=; guest_customization=; type=; account_uuid=28b0cf0a-59e5-4d3e-bef1-80bca0b8e4ff; boot_config=; disk_list=System.Object[]}"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__Nutanix_Provision_db0602f8_a4ea_40b9_9f39_6493d0c8a14e"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_substrate",
                      "name": "VM1",
                      "uuid": "db0602f8-a4ea-40b9-9f39-6493d0c8a14e"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "CHECK_LOGIN",
                    "uuid": "59e3ebf9-44fd-40da-b654-071ffa882e32",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "retries": "5",
                      "dial_timeout": "",
                      "timeout": "60",
                      "address": "@@{platform.status.resources.nic_list[0].ip_endpoint_list[0].ip}@@",
                      "type": "CHECK_LOGIN",
                      "sleep_time": ""
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__check_login_for_VM1_db0602f8_a4ea_40b9_9f39_6493d0c8a14e"
                  }
                ],
                "description": "",
                "message_list": [],
                "uuid": "0246109c-7416-4c0f-9610-73e96226cc2f",
                "state": "ACTIVE",
                "variable_list": [],
                "main_task_local_reference": {
                  "kind": "app_task",
                  "name": "SYS_GEN__DAG_Substrate_db0602f8_a4ea_40b9_9f39_6493d0c8a14e",
                  "uuid": "fe09c1a8-fafe-4ecb-a58a-57d1ff1e4f49"
                },
                "name": "SYS_GEN__Runbook_Substrate_db0602f8_a4ea_40b9_9f39_6493d0c8a14e"
              }
            },
            {
              "description": "System action for powering on an application",
              "message_list": [],
              "uuid": "c073bacc-7f06-43bd-9fc8-b59fdd9e7b45",
              "name": "action_poweron",
              "state": "ACTIVE",
              "critical": true,
              "attrs": {},
              "type": "system",
              "runbook": {
                "task_definition_list": [
                  {
                    "target_any_local_reference": {
                      "kind": "app_substrate",
                      "name": "VM1",
                      "uuid": "db0602f8-a4ea-40b9-9f39-6493d0c8a14e"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "DAG",
                    "uuid": "0e9bd968-d2b1-4e52-810e-5e2fedf6c568",
                    "child_tasks_local_reference_list": [
                      "@{kind=app_task; name=SYS_GEN__Nutanix_Operation_PowerOn_db0602f8_a4ea_40b9_9f39_6493d0c8a14e; uuid=925debd2-7cb6-4cb8-b8d9-71f8f91211f9}",
                      "@{kind=app_task; name=SYS_GEN__check_login_for_VM1_db0602f8_a4ea_40b9_9f39_6493d0c8a14e; uuid=5fe2ea08-1c1d-4120-a849-40336098c8ed}"
                    ],
                    "state": "ACTIVE",
                    "attrs": {
                      "edges": "",
                      "type": "DAG"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__DAG_Substrate_db0602f8_a4ea_40b9_9f39_6493d0c8a14e"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_substrate",
                      "name": "VM1",
                      "uuid": "db0602f8-a4ea-40b9-9f39-6493d0c8a14e"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "VMOPERATION_NUTANIX",
                    "uuid": "925debd2-7cb6-4cb8-b8d9-71f8f91211f9",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "operation_type": "action_poweron",
                      "type": "GENERIC_OPERATION"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__Nutanix_Operation_PowerOn_db0602f8_a4ea_40b9_9f39_6493d0c8a14e"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_substrate",
                      "name": "VM1",
                      "uuid": "db0602f8-a4ea-40b9-9f39-6493d0c8a14e"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "CHECK_LOGIN",
                    "uuid": "5fe2ea08-1c1d-4120-a849-40336098c8ed",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "retries": "5",
                      "dial_timeout": "",
                      "timeout": "60",
                      "address": "@@{platform.status.resources.nic_list[0].ip_endpoint_list[0].ip}@@",
                      "type": "CHECK_LOGIN",
                      "sleep_time": ""
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__check_login_for_VM1_db0602f8_a4ea_40b9_9f39_6493d0c8a14e"
                  }
                ],
                "description": "",
                "message_list": [],
                "uuid": "125dc3fe-73cf-4252-a337-9bb47605955a",
                "state": "ACTIVE",
                "variable_list": [],
                "main_task_local_reference": {
                  "kind": "app_task",
                  "name": "SYS_GEN__DAG_Substrate_db0602f8_a4ea_40b9_9f39_6493d0c8a14e",
                  "uuid": "0e9bd968-d2b1-4e52-810e-5e2fedf6c568"
                },
                "name": "SYS_GEN__Runbook_Substrate_db0602f8_a4ea_40b9_9f39_6493d0c8a14e"
              }
            },
            {
              "description": "System action for restarting an application",
              "message_list": [],
              "uuid": "aa103ccd-b773-4b8d-b93f-3dfbb0909b66",
              "name": "action_restart",
              "state": "ACTIVE",
              "critical": true,
              "attrs": {},
              "type": "system",
              "runbook": {
                "task_definition_list": [
                  {
                    "target_any_local_reference": {
                      "kind": "app_substrate",
                      "name": "VM1",
                      "uuid": "db0602f8-a4ea-40b9-9f39-6493d0c8a14e"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "DAG",
                    "uuid": "d677c3d4-9b5d-4434-80c8-908894b360fa",
                    "child_tasks_local_reference_list": [
                      "@{kind=app_task; name=SYS_GEN__Nutanix_Operation_Restart_db0602f8_a4ea_40b9_9f39_6493d0c8a14e; uuid=200c192d-7da6-4e89-8cf1-58fd6737b340}",
                      "@{kind=app_task; name=SYS_GEN__check_login_for_VM1_db0602f8_a4ea_40b9_9f39_6493d0c8a14e; uuid=b6d40f59-5d46-471a-8bdc-3ed0df0ff57a}"
                    ],
                    "state": "ACTIVE",
                    "attrs": {
                      "edges": "",
                      "type": "DAG"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__DAG_Substrate_db0602f8_a4ea_40b9_9f39_6493d0c8a14e"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_substrate",
                      "name": "VM1",
                      "uuid": "db0602f8-a4ea-40b9-9f39-6493d0c8a14e"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "VMOPERATION_NUTANIX",
                    "uuid": "200c192d-7da6-4e89-8cf1-58fd6737b340",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "operation_type": "action_restart",
                      "type": "GENERIC_OPERATION"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__Nutanix_Operation_Restart_db0602f8_a4ea_40b9_9f39_6493d0c8a14e"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_substrate",
                      "name": "VM1",
                      "uuid": "db0602f8-a4ea-40b9-9f39-6493d0c8a14e"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "CHECK_LOGIN",
                    "uuid": "b6d40f59-5d46-471a-8bdc-3ed0df0ff57a",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "retries": "5",
                      "dial_timeout": "",
                      "timeout": "60",
                      "address": "@@{platform.status.resources.nic_list[0].ip_endpoint_list[0].ip}@@",
                      "type": "CHECK_LOGIN",
                      "sleep_time": ""
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__check_login_for_VM1_db0602f8_a4ea_40b9_9f39_6493d0c8a14e"
                  }
                ],
                "description": "",
                "message_list": [],
                "uuid": "de0d6310-d710-43d1-92ce-28e7f2e923a4",
                "state": "ACTIVE",
                "variable_list": [],
                "main_task_local_reference": {
                  "kind": "app_task",
                  "name": "SYS_GEN__DAG_Substrate_db0602f8_a4ea_40b9_9f39_6493d0c8a14e",
                  "uuid": "d677c3d4-9b5d-4434-80c8-908894b360fa"
                },
                "name": "SYS_GEN__Runbook_Substrate_db0602f8_a4ea_40b9_9f39_6493d0c8a14e"
              }
            },
            {
              "description": "System action for suspending an application",
              "message_list": [],
              "uuid": "5e8cc17b-7fb8-4073-a66d-e2b831953527",
              "name": "action_suspend",
              "state": "ACTIVE",
              "critical": true,
              "attrs": {},
              "type": "system",
              "runbook": {
                "task_definition_list": [
                  {
                    "target_any_local_reference": {
                      "kind": "app_substrate",
                      "name": "VM1",
                      "uuid": "db0602f8-a4ea-40b9-9f39-6493d0c8a14e"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "DAG",
                    "uuid": "7b671cd0-c55c-4571-aefe-b0a915c971a9",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "edges": "",
                      "type": "DAG"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__DAG_Substrate_db0602f8_a4ea_40b9_9f39_6493d0c8a14e"
                  }
                ],
                "description": "",
                "message_list": [],
                "uuid": "06eebcc5-0463-488a-8f6a-71527df11fce",
                "state": "ACTIVE",
                "variable_list": [],
                "main_task_local_reference": {
                  "kind": "app_task",
                  "name": "SYS_GEN__DAG_Substrate_db0602f8_a4ea_40b9_9f39_6493d0c8a14e",
                  "uuid": "7b671cd0-c55c-4571-aefe-b0a915c971a9"
                },
                "name": "SYS_GEN__Runbook_Substrate_db0602f8_a4ea_40b9_9f39_6493d0c8a14e"
              }
            },
            {
              "description": "System action for modifying an application",
              "message_list": [],
              "uuid": "47512820-5298-4a34-97a7-88887528ffc5",
              "name": "action_modify",
              "state": "ACTIVE",
              "critical": true,
              "attrs": {},
              "type": "system",
              "runbook": {
                "task_definition_list": [
                  {
                    "target_any_local_reference": {
                      "kind": "app_substrate",
                      "name": "VM1",
                      "uuid": "db0602f8-a4ea-40b9-9f39-6493d0c8a14e"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "DAG",
                    "uuid": "b61bb3bb-0b26-4d57-87f0-9b6f27165ce7",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "edges": "",
                      "type": "DAG"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__DAG_Substrate_db0602f8_a4ea_40b9_9f39_6493d0c8a14e"
                  }
                ],
                "description": "",
                "message_list": [],
                "uuid": "1fe28a5a-5057-4465-8910-3d19be96c985",
                "state": "ACTIVE",
                "variable_list": [],
                "main_task_local_reference": {
                  "kind": "app_task",
                  "name": "SYS_GEN__DAG_Substrate_db0602f8_a4ea_40b9_9f39_6493d0c8a14e",
                  "uuid": "b61bb3bb-0b26-4d57-87f0-9b6f27165ce7"
                },
                "name": "SYS_GEN__Runbook_Substrate_db0602f8_a4ea_40b9_9f39_6493d0c8a14e"
              }
            },
            {
              "description": "System action for powering off an application",
              "message_list": [],
              "uuid": "825cacc1-df65-4fc9-ad0a-3146e896baac",
              "name": "action_poweroff",
              "state": "ACTIVE",
              "critical": true,
              "attrs": {},
              "type": "system",
              "runbook": {
                "task_definition_list": [
                  {
                    "target_any_local_reference": {
                      "kind": "app_substrate",
                      "name": "VM1",
                      "uuid": "db0602f8-a4ea-40b9-9f39-6493d0c8a14e"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "DAG",
                    "uuid": "dd016dd4-4af3-4e32-9ea4-63444136869a",
                    "child_tasks_local_reference_list": [
                      "@{kind=app_task; name=SYS_GEN__Nutanix_Operation_PowerOff_db0602f8_a4ea_40b9_9f39_6493d0c8a14e; uuid=77674c53-d34d-4181-89d0-1fccda7aa5a1}"
                    ],
                    "state": "ACTIVE",
                    "attrs": {
                      "edges": "",
                      "type": "DAG"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__DAG_Substrate_db0602f8_a4ea_40b9_9f39_6493d0c8a14e"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_substrate",
                      "name": "VM1",
                      "uuid": "db0602f8-a4ea-40b9-9f39-6493d0c8a14e"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "VMOPERATION_NUTANIX",
                    "uuid": "77674c53-d34d-4181-89d0-1fccda7aa5a1",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "operation_type": "action_poweroff",
                      "type": "GENERIC_OPERATION"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__Nutanix_Operation_PowerOff_db0602f8_a4ea_40b9_9f39_6493d0c8a14e"
                  }
                ],
                "description": "",
                "message_list": [],
                "uuid": "ad6d18b2-01fc-46fc-a752-5335eb740411",
                "state": "ACTIVE",
                "variable_list": [],
                "main_task_local_reference": {
                  "kind": "app_task",
                  "name": "SYS_GEN__DAG_Substrate_db0602f8_a4ea_40b9_9f39_6493d0c8a14e",
                  "uuid": "dd016dd4-4af3-4e32-9ea4-63444136869a"
                },
                "name": "SYS_GEN__Runbook_Substrate_db0602f8_a4ea_40b9_9f39_6493d0c8a14e"
              }
            },
            {
              "description": "System action for deleting an application. Deletes created VMs as well",
              "message_list": [],
              "uuid": "80871995-de6a-48be-bf98-4811869cb757",
              "name": "action_delete",
              "state": "ACTIVE",
              "critical": true,
              "attrs": {},
              "type": "system",
              "runbook": {
                "task_definition_list": [
                  {
                    "target_any_local_reference": {
                      "kind": "app_substrate",
                      "name": "VM1",
                      "uuid": "db0602f8-a4ea-40b9-9f39-6493d0c8a14e"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "DAG",
                    "uuid": "4d61932f-fdb0-458b-9458-327c4b7f77d3",
                    "child_tasks_local_reference_list": [
                      "@{kind=app_task; name=SYS_GEN__Nutanix_Delete_db0602f8_a4ea_40b9_9f39_6493d0c8a14e; uuid=fcbafe09-1439-489e-9d15-117f5e81ca21}"
                    ],
                    "state": "ACTIVE",
                    "attrs": {
                      "edges": "",
                      "type": "DAG"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__DAG_Substrate_db0602f8_a4ea_40b9_9f39_6493d0c8a14e"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_substrate",
                      "name": "VM1",
                      "uuid": "db0602f8-a4ea-40b9-9f39-6493d0c8a14e"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "DELETE_NUTANIX",
                    "uuid": "fcbafe09-1439-489e-9d15-117f5e81ca21",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "type": ""
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__Nutanix_Delete_db0602f8_a4ea_40b9_9f39_6493d0c8a14e"
                  }
                ],
                "description": "",
                "message_list": [],
                "uuid": "67a2ede7-e92d-4705-ada1-fa96f47b4773",
                "state": "ACTIVE",
                "variable_list": [],
                "main_task_local_reference": {
                  "kind": "app_task",
                  "name": "SYS_GEN__DAG_Substrate_db0602f8_a4ea_40b9_9f39_6493d0c8a14e",
                  "uuid": "4d61932f-fdb0-458b-9458-327c4b7f77d3"
                },
                "name": "SYS_GEN__Runbook_Substrate_db0602f8_a4ea_40b9_9f39_6493d0c8a14e"
              }
            },
            {
              "description": "System action for deleting an application. Does not delete created VMs",
              "message_list": [],
              "uuid": "1b0cb43c-c3f9-49af-8daf-50f6d725cbe8",
              "name": "action_soft_delete",
              "state": "ACTIVE",
              "critical": true,
              "attrs": {},
              "type": "system",
              "runbook": {
                "task_definition_list": [
                  {
                    "target_any_local_reference": {
                      "kind": "app_substrate",
                      "name": "VM1",
                      "uuid": "db0602f8-a4ea-40b9-9f39-6493d0c8a14e"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "DAG",
                    "uuid": "1bfcde5f-4c80-4c94-bcc4-855891fe2906",
                    "child_tasks_local_reference_list": [
                      "@{kind=app_task; name=SYS_GEN__Nutanix_Soft_Delete_db0602f8_a4ea_40b9_9f39_6493d0c8a14e; uuid=1c0f0fbf-52da-4830-9fa8-4c8163042b69}"
                    ],
                    "state": "ACTIVE",
                    "attrs": {
                      "edges": "",
                      "type": "DAG"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__DAG_Substrate_db0602f8_a4ea_40b9_9f39_6493d0c8a14e"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_substrate",
                      "name": "VM1",
                      "uuid": "db0602f8-a4ea-40b9-9f39-6493d0c8a14e"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "SOFT_DELETE_NUTANIX",
                    "uuid": "1c0f0fbf-52da-4830-9fa8-4c8163042b69",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "type": ""
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__Nutanix_Soft_Delete_db0602f8_a4ea_40b9_9f39_6493d0c8a14e"
                  }
                ],
                "description": "",
                "message_list": [],
                "uuid": "63cf95a6-a0f6-46ea-965c-752d49bef993",
                "state": "ACTIVE",
                "variable_list": [],
                "main_task_local_reference": {
                  "kind": "app_task",
                  "name": "SYS_GEN__DAG_Substrate_db0602f8_a4ea_40b9_9f39_6493d0c8a14e",
                  "uuid": "1bfcde5f-4c80-4c94-bcc4-855891fe2906"
                },
                "name": "SYS_GEN__Runbook_Substrate_db0602f8_a4ea_40b9_9f39_6493d0c8a14e"
              }
            }
          ],
          "message_list": [],
          "uuid": "db0602f8-a4ea-40b9-9f39-6493d0c8a14e",
          "state": "ACTIVE",
          "readiness_probe": {
            "connection_type": "SSH",
            "retries": "5",
            "connection_protocol": "",
            "disable_readiness_probe": false,
            "address": "@@{platform.status.resources.nic_list[0].ip_endpoint_list[0].ip}@@",
            "delay_secs": "60",
            "connection_port": 22,
            "login_credential_local_reference": {
              "kind": "app_credential",
              "name": "rootCreds",
              "uuid": "a855975c-8e43-4d2f-ad18-c745e4a72eee"
            }
          },
          "editables": {
            "create_spec": {
              "resources": {
                "nic_list": {},
                "serial_port_list": {}
              }
            }
          },
          "os_type": "Linux",
          "type": "AHV_VM",
          "create_spec": {
            "name": "@@{calm_application_name}@@",
            "categories": {},
            "availability_zone_reference": null,
            "backup_policy": null,
            "type": "",
            "cluster_reference": null,
            "resources": {
              "nic_list": [
                {
                  "nic_type": "NORMAL_NIC",
                  "vpc_reference": null,
                  "ip_endpoint_list": [],
                  "network_function_chain_reference": null,
                  "network_function_nic_type": "INGRESS",
                  "mac_address": "",
                  "subnet_reference": {
                    "kind": "subnet",
                    "type": "",
                    "name": "",
                    "uuid": "cb284e43-16ee-460e-b75b-90c03dcad640"
                  },
                  "type": ""
                }
              ],
              "parent_reference": null,
              "guest_tools": null,
              "num_vcpus_per_socket": 1,
              "num_sockets": 1,
              "serial_port_list": [],
              "gpu_list": [],
              "memory_size_mib": 1024,
              "power_state": "ON",
              "hardware_clock_timezone": "",
              "guest_customization": {
                "cloud_init": {
                  "meta_data": "",
                  "type": "",
                  "user_data": "#cloud-config\nhostname: @@{calm_application_name}@@\nfqdn: @@{calm_application_name}@@.@@{Service1.domainName}@@\nusers:\n  - name: ntnxcalm\n    ssh-authorized-keys:\n      - @@{Service1.sshPublicKey}@@\n    sudo: ['ALL=(ALL) NOPASSWD:ALL']\nchpasswd:\n  list: |\n    root:@@{rootCreds.secret}@@\n  expire: False\nssh_pwauth:   true\n#Config net file\nwrite_files:\n  - content: |\n      DEVICE=@@{Service1.netDeviceName}@@\n      NAME=@@{Service1.netDeviceName}@@\n      TYPE=Ethernet\n      NM_CONTROLLED=yes\n      ONBOOT=yes\n      BOOTPROTO=static\n      IPADDR=@@{productionInterfaceIp}@@\n      NETMASK=@@{productionInterfaceNetmask}@@\n      GATEWAY=@@{productionInterfaceGateway}@@\n    path: /etc/sysconfig/network-scripts/ifcfg-@@{Service1.netDeviceName}@@\nruncmd:\n  - [nmcli, connection, reload]\n  - [systemctl, mask, cloud-init-local, cloud-init, cloud-config, cloud-final]\n  - [eject]"
                },
                "type": "",
                "sysprep": null
              },
              "type": "",
              "account_uuid": "28b0cf0a-59e5-4d3e-bef1-80bca0b8e4ff",
              "boot_config": {
                "boot_device": {
                  "type": "",
                  "disk_address": {
                    "adapter_type": "SCSI",
                    "device_index": 0,
                    "type": ""
                  }
                },
                "type": "",
                "boot_type": "",
                "mac_address": ""
              },
              "disk_list": [
                {
                  "data_source_reference": {
                    "kind": "image",
                    "type": "",
                    "name": "REHL7.8CALM-Temp",
                    "uuid": "c8d55966-13f8-4e06-80c1-ba5462fb2358"
                  },
                  "type": "",
                  "disk_size_mib": 0,
                  "volume_group_reference": null,
                  "device_properties": {
                    "type": "",
                    "device_type": "DISK",
                    "disk_address": {
                      "adapter_type": "SCSI",
                      "device_index": 0,
                      "type": ""
                    }
                  }
                }
              ]
            }
          },
          "variable_list": [],
          "name": "VM1"
        }
      ],
      "credential_definition_list": [
        {
          "username": "ntnxCalm",
          "description": "",
          "state": "ACTIVE",
          "uuid": "d106818a-258d-48c8-9a5e-28edb727ee35",
          "secret": {
            "attrs": {
              "is_secret_modified": false,
              "secret_reference": {}
            }
          },
          "editables": {},
          "cred_class": "static",
          "type": "KEY",
          "name": "ntnxCalmCred"
        },
        {
          "username": "root",
          "description": "",
          "state": "ACTIVE",
          "uuid": "a855975c-8e43-4d2f-ad18-c745e4a72eee",
          "secret": {
            "attrs": {
              "is_secret_modified": false,
              "secret_reference": {}
            }
          },
          "editables": {},
          "cred_class": "static",
          "type": "PASSWORD",
          "name": "rootCreds"
        },
        {
          "username": "serveradmin",
          "description": "",
          "state": "ACTIVE",
          "uuid": "ea1aa36c-cbf9-4ca7-8f95-f2c5656ecb63",
          "secret": {
            "attrs": {
              "is_secret_modified": false,
              "secret_reference": {}
            }
          },
          "editables": {},
          "cred_class": "static",
          "type": "PASSWORD",
          "name": "serverAdmin"
        },
        {
          "username": "test",
          "description": "",
          "state": "ACTIVE",
          "uuid": "47eebf67-6de1-4c09-aa04-d4a26e904e61",
          "secret": {
            "attrs": {
              "is_secret_modified": false,
              "secret_reference": {}
            }
          },
          "editables": {},
          "cred_class": "static",
          "type": "PASSWORD",
          "name": "domainAdminCreds"
        }
      ],
      "type": "USER",
      "app_profile_list": [
        {
          "deployment_create_list": [
            {
              "description": "",
              "action_list": [
                {
                  "description": "System action for creating an application",
                  "message_list": [],
                  "uuid": "85b06d86-13f2-4d5a-b0cf-5a5ddbc98e7f",
                  "name": "action_create",
                  "state": "ACTIVE",
                  "critical": true,
                  "attrs": {},
                  "type": "system",
                  "runbook": {
                    "task_definition_list": [
                      "@{target_any_local_reference=; retries=0; description=; type=DAG; uuid=84df442e-10a5-48e2-ba60-9ab08eb6e0ce; child_tasks_local_reference_list=System.Object[]; state=ACTIVE; attrs=; timeout_secs=0; inherit_target=False; message_list=System.Object[]; variable_list=System.Object[]; name=SYS_GEN__Composite_DAG_Deployment_3971155c_d697_435c_a1e2_6a14acc77ab2}",
                      "@{target_any_local_reference=; retries=0; description=; type=CREATE_DEPLOYMENT_ELEMENT; uuid=4dc780de-2092-4077-b8f8-bfbc1d24f05b; child_tasks_local_reference_list=System.Object[]; state=ACTIVE; attrs=; timeout_secs=0; inherit_target=False; message_list=System.Object[]; variable_list=System.Object[]; name=SYS_GEN__DE_Provision_3971155c_d697_435c_a1e2_6a14acc77ab2}",
                      "@{target_any_local_reference=; retries=0; description=; type=CALL_RUNBOOK; uuid=4eb6987a-dc25-44a6-8771-7fa27a194e23; child_tasks_local_reference_list=System.Object[]; state=ACTIVE; attrs=; timeout_secs=0; inherit_target=False; message_list=System.Object[]; variable_list=System.Object[]; name=SYS_GEN__pre_create_CRb_Substrate_db0602f8_a4ea_40b9_9f39_6493d0c8a14e}",
                      "@{target_any_local_reference=; retries=0; description=; type=CALL_RUNBOOK; uuid=a33e1699-8fd0-493a-a50f-3b1e5ff97cff; child_tasks_local_reference_list=System.Object[]; state=ACTIVE; attrs=; timeout_secs=0; inherit_target=False; message_list=System.Object[]; variable_list=System.Object[]; name=SYS_GEN__create_CRb_Substrate_db0602f8_a4ea_40b9_9f39_6493d0c8a14e}",
                      "@{target_any_local_reference=; retries=0; description=; type=CALL_RUNBOOK; uuid=5de1587f-4fdf-4641-8acf-c05268a2bd82; child_tasks_local_reference_list=System.Object[]; state=ACTIVE; attrs=; timeout_secs=0; inherit_target=False; message_list=System.Object[]; variable_list=System.Object[]; name=SYS_GEN__install_CRb_Package_fcacaced_0494_462b_9861_48adc9ce7a64}",
                      "@{target_any_local_reference=; retries=0; description=; type=CALL_RUNBOOK; uuid=b5a43e17-8e95-487e-b0b7-2c465e50005b; child_tasks_local_reference_list=System.Object[]; state=ACTIVE; attrs=; timeout_secs=0; inherit_target=False; message_list=System.Object[]; variable_list=System.Object[]; name=SYS_GEN__create_CRb_Service_a03f1839_6a1a_4664_8d8d_e389d359efa1}",
                      "@{target_any_local_reference=; retries=0; description=; type=CALL_RUNBOOK; uuid=dc207137-29d7-4f47-b6ed-12219a7fa952; child_tasks_local_reference_list=System.Object[]; state=ACTIVE; attrs=; timeout_secs=0; inherit_target=False; message_list=System.Object[]; variable_list=System.Object[]; name=SYS_GEN__start_CRb_Service_a03f1839_6a1a_4664_8d8d_e389d359efa1}"
                    ],
                    "description": "",
                    "message_list": [],
                    "uuid": "fb52f42e-4dfd-4f16-8291-f6d41d26e17f",
                    "state": "ACTIVE",
                    "variable_list": [],
                    "main_task_local_reference": {
                      "kind": "app_task",
                      "name": "SYS_GEN__Composite_DAG_Deployment_3971155c_d697_435c_a1e2_6a14acc77ab2",
                      "uuid": "84df442e-10a5-48e2-ba60-9ab08eb6e0ce"
                    },
                    "name": "SYS_GEN__Runbook_Deployment_3971155c_d697_435c_a1e2_6a14acc77ab2"
                  }
                },
                {
                  "description": "System action for starting an application",
                  "message_list": [],
                  "uuid": "26e2b9ea-5740-4ee3-bcb3-44d344452fdf",
                  "name": "action_start",
                  "state": "ACTIVE",
                  "critical": true,
                  "attrs": {},
                  "type": "system",
                  "runbook": {
                    "task_definition_list": [
                      "@{target_any_local_reference=; retries=0; description=; type=DAG; uuid=c0767e80-4a8c-487b-bd05-693943520272; child_tasks_local_reference_list=System.Object[]; state=ACTIVE; attrs=; timeout_secs=0; inherit_target=False; message_list=System.Object[]; variable_list=System.Object[]; name=SYS_GEN__Composite_DAG_Deployment_3971155c_d697_435c_a1e2_6a14acc77ab2}",
                      "@{target_any_local_reference=; retries=0; description=; type=CALL_RUNBOOK; uuid=37d745fc-0cd5-458d-97dd-0cae45696883; child_tasks_local_reference_list=System.Object[]; state=ACTIVE; attrs=; timeout_secs=0; inherit_target=False; message_list=System.Object[]; variable_list=System.Object[]; name=SYS_GEN__start_CRb_Substrate_db0602f8_a4ea_40b9_9f39_6493d0c8a14e}",
                      "@{target_any_local_reference=; retries=0; description=; type=CALL_RUNBOOK; uuid=25cdc3f3-0ef0-46d4-9f8d-9073b2d5db4b; child_tasks_local_reference_list=System.Object[]; state=ACTIVE; attrs=; timeout_secs=0; inherit_target=False; message_list=System.Object[]; variable_list=System.Object[]; name=SYS_GEN__start_CRb_Service_a03f1839_6a1a_4664_8d8d_e389d359efa1}"
                    ],
                    "description": "",
                    "message_list": [],
                    "uuid": "2bfbbfd5-ade7-4705-9ec0-b5afd2adead5",
                    "state": "ACTIVE",
                    "variable_list": [],
                    "main_task_local_reference": {
                      "kind": "app_task",
                      "name": "SYS_GEN__Composite_DAG_Deployment_3971155c_d697_435c_a1e2_6a14acc77ab2",
                      "uuid": "c0767e80-4a8c-487b-bd05-693943520272"
                    },
                    "name": "SYS_GEN__Runbook_Deployment_3971155c_d697_435c_a1e2_6a14acc77ab2"
                  }
                },
                {
                  "description": "System action for restarting an application",
                  "message_list": [],
                  "uuid": "fe44b559-e91e-4f6b-ac7e-519f1336d034",
                  "name": "action_restart",
                  "state": "ACTIVE",
                  "critical": true,
                  "attrs": {},
                  "type": "system",
                  "runbook": {
                    "task_definition_list": [
                      "@{target_any_local_reference=; retries=0; description=; type=DAG; uuid=782e8913-c80a-4466-8db8-5c241dbf1b3e; child_tasks_local_reference_list=System.Object[]; state=ACTIVE; attrs=; timeout_secs=0; inherit_target=False; message_list=System.Object[]; variable_list=System.Object[]; name=SYS_GEN__Composite_DAG_Deployment_3971155c_d697_435c_a1e2_6a14acc77ab2}",
                      "@{target_any_local_reference=; retries=0; description=; type=CALL_RUNBOOK; uuid=cace7861-21e4-42c4-b982-799eed6377ed; child_tasks_local_reference_list=System.Object[]; state=ACTIVE; attrs=; timeout_secs=0; inherit_target=False; message_list=System.Object[]; variable_list=System.Object[]; name=SYS_GEN__restart_CRb_Substrate_db0602f8_a4ea_40b9_9f39_6493d0c8a14e}",
                      "@{target_any_local_reference=; retries=0; description=; type=CALL_RUNBOOK; uuid=1a9ec415-f926-42cc-8b82-d179fddd67cd; child_tasks_local_reference_list=System.Object[]; state=ACTIVE; attrs=; timeout_secs=0; inherit_target=False; message_list=System.Object[]; variable_list=System.Object[]; name=SYS_GEN__restart_CRb_Service_a03f1839_6a1a_4664_8d8d_e389d359efa1}"
                    ],
                    "description": "",
                    "message_list": [],
                    "uuid": "dff54d8a-bc75-4d94-8353-a4e7be0b1a0f",
                    "state": "ACTIVE",
                    "variable_list": [],
                    "main_task_local_reference": {
                      "kind": "app_task",
                      "name": "SYS_GEN__Composite_DAG_Deployment_3971155c_d697_435c_a1e2_6a14acc77ab2",
                      "uuid": "782e8913-c80a-4466-8db8-5c241dbf1b3e"
                    },
                    "name": "SYS_GEN__Runbook_Deployment_3971155c_d697_435c_a1e2_6a14acc77ab2"
                  }
                },
                {
                  "description": "System action for stopping an application",
                  "message_list": [],
                  "uuid": "d1de3214-ef26-4db1-81a7-642c989d9bd7",
                  "name": "action_stop",
                  "state": "ACTIVE",
                  "critical": true,
                  "attrs": {},
                  "type": "system",
                  "runbook": {
                    "task_definition_list": [
                      "@{target_any_local_reference=; retries=0; description=; type=DAG; uuid=6fa38fc4-194e-442d-8d04-088e97081c87; child_tasks_local_reference_list=System.Object[]; state=ACTIVE; attrs=; timeout_secs=0; inherit_target=False; message_list=System.Object[]; variable_list=System.Object[]; name=SYS_GEN__Composite_DAG_Deployment_3971155c_d697_435c_a1e2_6a14acc77ab2}",
                      "@{target_any_local_reference=; retries=0; description=; type=CALL_RUNBOOK; uuid=c21d4fbb-f9b4-49f7-a31b-cb96ccb416ca; child_tasks_local_reference_list=System.Object[]; state=ACTIVE; attrs=; timeout_secs=0; inherit_target=False; message_list=System.Object[]; variable_list=System.Object[]; name=SYS_GEN__stop_CRb_Service_a03f1839_6a1a_4664_8d8d_e389d359efa1}",
                      "@{target_any_local_reference=; retries=0; description=; type=CALL_RUNBOOK; uuid=e9724c3b-d9c6-43ba-8930-f1793087c2ba; child_tasks_local_reference_list=System.Object[]; state=ACTIVE; attrs=; timeout_secs=0; inherit_target=False; message_list=System.Object[]; variable_list=System.Object[]; name=SYS_GEN__stop_CRb_Substrate_db0602f8_a4ea_40b9_9f39_6493d0c8a14e}"
                    ],
                    "description": "",
                    "message_list": [],
                    "uuid": "81aea3fd-a646-4c28-8871-2f4b7599a2c3",
                    "state": "ACTIVE",
                    "variable_list": [],
                    "main_task_local_reference": {
                      "kind": "app_task",
                      "name": "SYS_GEN__Composite_DAG_Deployment_3971155c_d697_435c_a1e2_6a14acc77ab2",
                      "uuid": "6fa38fc4-194e-442d-8d04-088e97081c87"
                    },
                    "name": "SYS_GEN__Runbook_Deployment_3971155c_d697_435c_a1e2_6a14acc77ab2"
                  }
                },
                {
                  "description": "System action for deleting an application. Deletes created VMs as well",
                  "message_list": [],
                  "uuid": "04b1e138-b701-44ee-a080-216c3c61357c",
                  "name": "action_delete",
                  "state": "ACTIVE",
                  "critical": true,
                  "attrs": {},
                  "type": "system",
                  "runbook": {
                    "task_definition_list": [
                      "@{target_any_local_reference=; retries=0; description=; type=DAG; uuid=e59ec9ad-c1d8-487a-8bd9-d56824c6cae1; child_tasks_local_reference_list=System.Object[]; state=ACTIVE; attrs=; timeout_secs=0; inherit_target=False; message_list=System.Object[]; variable_list=System.Object[]; name=SYS_GEN__Composite_DAG_Deployment_3971155c_d697_435c_a1e2_6a14acc77ab2}",
                      "@{target_any_local_reference=; retries=0; description=; type=CALL_RUNBOOK; uuid=8b198321-780e-4c43-aabf-b4d523c2e41f; child_tasks_local_reference_list=System.Object[]; state=ACTIVE; attrs=; timeout_secs=0; inherit_target=False; message_list=System.Object[]; variable_list=System.Object[]; name=SYS_GEN__stop_CRb_Service_a03f1839_6a1a_4664_8d8d_e389d359efa1}",
                      "@{target_any_local_reference=; retries=0; description=; type=CALL_RUNBOOK; uuid=3080cbb8-67ff-426f-bedc-1e432fa92fcb; child_tasks_local_reference_list=System.Object[]; state=ACTIVE; attrs=; timeout_secs=0; inherit_target=False; message_list=System.Object[]; variable_list=System.Object[]; name=SYS_GEN__delete_CRb_Service_a03f1839_6a1a_4664_8d8d_e389d359efa1}",
                      "@{target_any_local_reference=; retries=0; description=; type=CALL_RUNBOOK; uuid=0ce7fb9d-e17c-46c7-a4f0-c63402a33db0; child_tasks_local_reference_list=System.Object[]; state=ACTIVE; attrs=; timeout_secs=0; inherit_target=False; message_list=System.Object[]; variable_list=System.Object[]; name=SYS_GEN__uninstall_CRb_Package_fcacaced_0494_462b_9861_48adc9ce7a64}",
                      "@{target_any_local_reference=; retries=0; description=; type=CALL_RUNBOOK; uuid=3655af42-ce8f-4990-bb6f-ab7ebb004796; child_tasks_local_reference_list=System.Object[]; state=ACTIVE; attrs=; timeout_secs=0; inherit_target=False; message_list=System.Object[]; variable_list=System.Object[]; name=SYS_GEN__delete_CRb_Substrate_db0602f8_a4ea_40b9_9f39_6493d0c8a14e}",
                      "@{target_any_local_reference=; retries=0; description=; type=CALL_RUNBOOK; uuid=5506eae1-d0c4-4ed1-8962-6591f96f9fa7; child_tasks_local_reference_list=System.Object[]; state=ACTIVE; attrs=; timeout_secs=0; inherit_target=False; message_list=System.Object[]; variable_list=System.Object[]; name=SYS_GEN__post_delete_CRb_Substrate_db0602f8_a4ea_40b9_9f39_6493d0c8a14e}",
                      "@{target_any_local_reference=; retries=0; description=; type=DELETE_DEPLOYMENT_ELEMENT; uuid=b62193b9-7e8b-4a55-9d21-3c6cba285115; child_tasks_local_reference_list=System.Object[]; state=ACTIVE; attrs=; timeout_secs=0; inherit_target=False; message_list=System.Object[]; variable_list=System.Object[]; name=SYS_GEN__DE_Delete_3971155c_d697_435c_a1e2_6a14acc77ab2}"
                    ],
                    "description": "",
                    "message_list": [],
                    "uuid": "48ce29fd-292d-4e06-808b-058ec68f1701",
                    "state": "ACTIVE",
                    "variable_list": [],
                    "main_task_local_reference": {
                      "kind": "app_task",
                      "name": "SYS_GEN__Composite_DAG_Deployment_3971155c_d697_435c_a1e2_6a14acc77ab2",
                      "uuid": "e59ec9ad-c1d8-487a-8bd9-d56824c6cae1"
                    },
                    "name": "SYS_GEN__Runbook_Deployment_3971155c_d697_435c_a1e2_6a14acc77ab2"
                  }
                },
                {
                  "description": "System action for scaleout",
                  "message_list": [],
                  "uuid": "fb7a9d39-3498-44dd-80f0-3ee68140c857",
                  "name": "action_scaleout",
                  "state": "ACTIVE",
                  "critical": true,
                  "attrs": {},
                  "type": "system",
                  "runbook": {
                    "task_definition_list": [
                      "@{target_any_local_reference=; retries=0; description=; type=DAG; uuid=7eb4c334-47cc-4106-8361-97b4afd3e624; child_tasks_local_reference_list=System.Object[]; state=ACTIVE; attrs=; timeout_secs=0; inherit_target=False; message_list=System.Object[]; variable_list=System.Object[]; name=SYS_GEN__Composite_DAG_Deployment_3971155c_d697_435c_a1e2_6a14acc77ab2}",
                      "@{target_any_local_reference=; retries=0; description=; type=SCALING; uuid=bee863c9-b035-4b88-a3c6-b28cd2cbbbaa; child_tasks_local_reference_list=System.Object[]; state=ACTIVE; attrs=; timeout_secs=0; inherit_target=False; message_list=System.Object[]; variable_list=System.Object[]; name=SYS_GEN__Deployment_Scaleout_3971155c_d697_435c_a1e2_6a14acc77ab2}"
                    ],
                    "description": "",
                    "message_list": [],
                    "uuid": "6f5fc1bf-4141-4351-8d58-674356ae5f1f",
                    "state": "ACTIVE",
                    "variable_list": [
                      "@{regex=; val_type=STRING; is_mandatory=False; description=; data_type=BASE; message_list=System.Object[]; uuid=161fffc3-3a70-46c7-83a1-33fc93716b90; value=0; label=; state=NOT_VALIDATED; attrs=; editables=; is_hidden=False; type=LOCAL; options=; name=scaling_count}"
                    ],
                    "main_task_local_reference": {
                      "kind": "app_task",
                      "name": "SYS_GEN__Composite_DAG_Deployment_3971155c_d697_435c_a1e2_6a14acc77ab2",
                      "uuid": "7eb4c334-47cc-4106-8361-97b4afd3e624"
                    },
                    "name": "SYS_GEN__Runbook_Deployment_3971155c_d697_435c_a1e2_6a14acc77ab2"
                  }
                },
                {
                  "description": "System action for scalein",
                  "message_list": [],
                  "uuid": "f51633d5-a09c-4cde-ac7f-bd259ab7e1ff",
                  "name": "action_scalein",
                  "state": "ACTIVE",
                  "critical": true,
                  "attrs": {},
                  "type": "system",
                  "runbook": {
                    "task_definition_list": [
                      "@{target_any_local_reference=; retries=0; description=; type=DAG; uuid=d3110265-d600-4652-8ec9-7eb71888c401; child_tasks_local_reference_list=System.Object[]; state=ACTIVE; attrs=; timeout_secs=0; inherit_target=False; message_list=System.Object[]; variable_list=System.Object[]; name=SYS_GEN__Composite_DAG_Deployment_3971155c_d697_435c_a1e2_6a14acc77ab2}",
                      "@{target_any_local_reference=; retries=0; description=; type=SCALING; uuid=df16d1fb-df16-42f6-a337-d390c5e0ae3a; child_tasks_local_reference_list=System.Object[]; state=ACTIVE; attrs=; timeout_secs=0; inherit_target=False; message_list=System.Object[]; variable_list=System.Object[]; name=SYS_GEN__Deployment_Scalein_3971155c_d697_435c_a1e2_6a14acc77ab2}"
                    ],
                    "description": "",
                    "message_list": [],
                    "uuid": "9c5a8342-8fc2-4204-81a1-63aed6b8cb6e",
                    "state": "ACTIVE",
                    "variable_list": [
                      "@{regex=; val_type=STRING; is_mandatory=False; description=; data_type=BASE; message_list=System.Object[]; uuid=00f6e7e3-225a-4b85-883a-0e881d59a218; value=0; label=; state=NOT_VALIDATED; attrs=; editables=; is_hidden=False; type=LOCAL; options=; name=scaling_count}"
                    ],
                    "main_task_local_reference": {
                      "kind": "app_task",
                      "name": "SYS_GEN__Composite_DAG_Deployment_3971155c_d697_435c_a1e2_6a14acc77ab2",
                      "uuid": "d3110265-d600-4652-8ec9-7eb71888c401"
                    },
                    "name": "SYS_GEN__Runbook_Deployment_3971155c_d697_435c_a1e2_6a14acc77ab2"
                  }
                },
                {
                  "description": "System action for deleting an application. Does not delete created VMs",
                  "message_list": [],
                  "uuid": "91338c00-b334-42c0-820d-cebe076f9691",
                  "name": "action_soft_delete",
                  "state": "ACTIVE",
                  "critical": true,
                  "attrs": {},
                  "type": "system",
                  "runbook": {
                    "task_definition_list": [
                      "@{target_any_local_reference=; retries=0; description=; type=DAG; uuid=7c58da2a-7636-4fbb-8537-dae34259caca; child_tasks_local_reference_list=System.Object[]; state=ACTIVE; attrs=; timeout_secs=0; inherit_target=False; message_list=System.Object[]; variable_list=System.Object[]; name=SYS_GEN__Composite_DAG_Deployment_3971155c_d697_435c_a1e2_6a14acc77ab2}",
                      "@{target_any_local_reference=; retries=0; description=; type=CALL_RUNBOOK; uuid=606ca3d6-8ff7-47f5-9c2c-8cdb25ec1172; child_tasks_local_reference_list=System.Object[]; state=ACTIVE; attrs=; timeout_secs=0; inherit_target=False; message_list=System.Object[]; variable_list=System.Object[]; name=SYS_GEN__soft_delete_CRb_Service_a03f1839_6a1a_4664_8d8d_e389d359efa1}",
                      "@{target_any_local_reference=; retries=0; description=; type=SOFT_DELETE_ELEMENT; uuid=4c41e624-0564-4942-888c-ad747411d486; child_tasks_local_reference_list=System.Object[]; state=ACTIVE; attrs=; timeout_secs=0; inherit_target=False; message_list=System.Object[]; variable_list=System.Object[]; name=SYS_GEN__Package_Element_Delete_fcacaced_0494_462b_9861_48adc9ce7a64}",
                      "@{target_any_local_reference=; retries=0; description=; type=CALL_RUNBOOK; uuid=30894f93-7cf5-4967-8e68-05ef99989be0; child_tasks_local_reference_list=System.Object[]; state=ACTIVE; attrs=; timeout_secs=0; inherit_target=False; message_list=System.Object[]; variable_list=System.Object[]; name=SYS_GEN__soft_delete_CRb_Substrate_db0602f8_a4ea_40b9_9f39_6493d0c8a14e}",
                      "@{target_any_local_reference=; retries=0; description=; type=SOFT_DELETE_DEPLOYMENT_ELEMENT; uuid=aeb074ae-48ec-4830-834a-df5cf754929c; child_tasks_local_reference_list=System.Object[]; state=ACTIVE; attrs=; timeout_secs=0; inherit_target=False; message_list=System.Object[]; variable_list=System.Object[]; name=SYS_GEN__DE_Soft_Delete_3971155c_d697_435c_a1e2_6a14acc77ab2}"
                    ],
                    "description": "",
                    "message_list": [],
                    "uuid": "703e5060-031b-4998-a2bb-0f46f6b8141e",
                    "state": "ACTIVE",
                    "variable_list": [],
                    "main_task_local_reference": {
                      "kind": "app_task",
                      "name": "SYS_GEN__Composite_DAG_Deployment_3971155c_d697_435c_a1e2_6a14acc77ab2",
                      "uuid": "7c58da2a-7636-4fbb-8537-dae34259caca"
                    },
                    "name": "SYS_GEN__Runbook_Deployment_3971155c_d697_435c_a1e2_6a14acc77ab2"
                  }
                }
              ],
              "message_list": [],
              "published_service_local_reference_list": [],
              "uuid": "3971155c-d697-435c-a1e2-6a14acc77ab2",
              "default_replicas": "1",
              "min_replicas": "1",
              "state": "ACTIVE",
              "max_replicas": "1",
              "depends_on_list": [],
              "editables": {},
              "package_local_reference_list": [
                {
                  "kind": "app_package",
                  "name": "Package1",
                  "uuid": "fcacaced-0494-462b-9861-48adc9ce7a64"
                }
              ],
              "substrate_local_reference": {
                "kind": "app_substrate",
                "name": "VM1",
                "uuid": "db0602f8-a4ea-40b9-9f39-6493d0c8a14e"
              },
              "type": "GREENFIELD",
              "options": {},
              "variable_list": [],
              "name": "4429ea15_deployment"
            }
          ],
          "environment_reference_list": [],
          "application_url": "",
          "description": "",
          "action_list": [
            {
              "description": "System action for creating an application",
              "message_list": [],
              "uuid": "888d8fef-9f6f-4ae1-8c76-b9649fe3aa08",
              "name": "action_create",
              "state": "ACTIVE",
              "critical": true,
              "attrs": {},
              "type": "system",
              "runbook": {
                "task_definition_list": [
                  {
                    "target_any_local_reference": {
                      "kind": "app_profile",
                      "name": "AHV",
                      "uuid": "7061b67d-e734-4144-be32-4e08af7c9738"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "DAG",
                    "uuid": "5f9d05f8-2ed6-4284-8ed7-c12d1dc69f04",
                    "child_tasks_local_reference_list": [
                      "@{kind=app_task; name=SYS_GEN__DE_Provision_3971155c_d697_435c_a1e2_6a14acc77ab2; uuid=9bcb1785-4796-4e47-bab4-61199a57f613}",
                      "@{kind=app_task; name=SYS_GEN__pre_create_CRb_Substrate_db0602f8_a4ea_40b9_9f39_6493d0c8a14e; uuid=e831a8ed-c1a0-4744-b261-4d23a7fee666}",
                      "@{kind=app_task; name=SYS_GEN__create_CRb_Substrate_db0602f8_a4ea_40b9_9f39_6493d0c8a14e; uuid=6db38d02-5075-45c2-a567-ac350b449696}",
                      "@{kind=app_task; name=SYS_GEN__install_CRb_Package_fcacaced_0494_462b_9861_48adc9ce7a64; uuid=d3b3114f-6798-4524-bc75-33444c836845}",
                      "@{kind=app_task; name=SYS_GEN__create_CRb_Service_a03f1839_6a1a_4664_8d8d_e389d359efa1; uuid=62f0d9f3-8aeb-4af9-b281-a8d3044bb98c}",
                      "@{kind=app_task; name=SYS_GEN__start_CRb_Service_a03f1839_6a1a_4664_8d8d_e389d359efa1; uuid=798d0cbb-6587-407d-9acc-1d964e25c52c}"
                    ],
                    "state": "ACTIVE",
                    "attrs": {
                      "edges": "    ",
                      "type": "DAG"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__Composite_DAG_Application_7061b67d_e734_4144_be32_4e08af7c9738"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_blueprint_deployment",
                      "name": "4429ea15_deployment",
                      "uuid": "3971155c-d697-435c-a1e2-6a14acc77ab2"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "CREATE_DEPLOYMENT_ELEMENT",
                    "uuid": "9bcb1785-4796-4e47-bab4-61199a57f613",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "type": ""
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__DE_Provision_3971155c_d697_435c_a1e2_6a14acc77ab2"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_substrate",
                      "name": "VM1",
                      "uuid": "db0602f8-a4ea-40b9-9f39-6493d0c8a14e"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "CALL_RUNBOOK",
                    "uuid": "e831a8ed-c1a0-4744-b261-4d23a7fee666",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "inarg_list": "",
                      "deployment_reference": "@{kind=app_blueprint_deployment; name=4429ea15_deployment; uuid=3971155c-d697-435c-a1e2-6a14acc77ab2}",
                      "type": "CALL_RUNBOOK",
                      "runbook_reference": "@{kind=app_runbook; name=8103e2f7_runbook; uuid=b0e33e3b-6f75-46c4-9976-d91585002a5b}"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__pre_create_CRb_Substrate_db0602f8_a4ea_40b9_9f39_6493d0c8a14e"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_substrate",
                      "name": "VM1",
                      "uuid": "db0602f8-a4ea-40b9-9f39-6493d0c8a14e"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "CALL_RUNBOOK",
                    "uuid": "6db38d02-5075-45c2-a567-ac350b449696",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "inarg_list": "",
                      "deployment_reference": "@{kind=app_blueprint_deployment; name=4429ea15_deployment; uuid=3971155c-d697-435c-a1e2-6a14acc77ab2}",
                      "type": "CALL_RUNBOOK",
                      "runbook_reference": "@{kind=app_runbook; name=SYS_GEN__Runbook_Substrate_db0602f8_a4ea_40b9_9f39_6493d0c8a14e; uuid=0246109c-7416-4c0f-9610-73e96226cc2f}"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__create_CRb_Substrate_db0602f8_a4ea_40b9_9f39_6493d0c8a14e"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_package",
                      "name": "Package1",
                      "uuid": "fcacaced-0494-462b-9861-48adc9ce7a64"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "CALL_RUNBOOK",
                    "uuid": "d3b3114f-6798-4524-bc75-33444c836845",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "inarg_list": "",
                      "deployment_reference": "@{kind=app_blueprint_deployment; name=4429ea15_deployment; uuid=3971155c-d697-435c-a1e2-6a14acc77ab2}",
                      "type": "CALL_RUNBOOK",
                      "runbook_reference": "@{kind=app_runbook; name=SYS_GEN__Runbook_Package_fcacaced_0494_462b_9861_48adc9ce7a64; uuid=58046264-10ec-4e65-9c03-ec12e940c704}"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__install_CRb_Package_fcacaced_0494_462b_9861_48adc9ce7a64"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_service",
                      "name": "Service1",
                      "uuid": "a03f1839-6a1a-4664-8d8d-e389d359efa1"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "CALL_RUNBOOK",
                    "uuid": "62f0d9f3-8aeb-4af9-b281-a8d3044bb98c",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "inarg_list": "",
                      "deployment_reference": "@{kind=app_blueprint_deployment; name=4429ea15_deployment; uuid=3971155c-d697-435c-a1e2-6a14acc77ab2}",
                      "type": "CALL_RUNBOOK",
                      "runbook_reference": "@{kind=app_runbook; name=ff3e502d_runbook; uuid=03c082b3-e5b4-4ff7-a882-a94bc1975fc2}"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__create_CRb_Service_a03f1839_6a1a_4664_8d8d_e389d359efa1"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_service",
                      "name": "Service1",
                      "uuid": "a03f1839-6a1a-4664-8d8d-e389d359efa1"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "CALL_RUNBOOK",
                    "uuid": "798d0cbb-6587-407d-9acc-1d964e25c52c",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "inarg_list": "",
                      "deployment_reference": "@{kind=app_blueprint_deployment; name=4429ea15_deployment; uuid=3971155c-d697-435c-a1e2-6a14acc77ab2}",
                      "type": "CALL_RUNBOOK",
                      "runbook_reference": "@{kind=app_runbook; name=bcdcb98e_runbook; uuid=e9fb03a8-d799-41bd-b960-5ee92b723b09}"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__start_CRb_Service_a03f1839_6a1a_4664_8d8d_e389d359efa1"
                  }
                ],
                "description": "",
                "message_list": [],
                "uuid": "656fad38-bd1b-47dc-a190-8b0f5668d590",
                "state": "ACTIVE",
                "variable_list": [],
                "main_task_local_reference": {
                  "kind": "app_task",
                  "name": "SYS_GEN__Composite_DAG_Application_7061b67d_e734_4144_be32_4e08af7c9738",
                  "uuid": "5f9d05f8-2ed6-4284-8ed7-c12d1dc69f04"
                },
                "name": "SYS_GEN__Runbook_Application_7061b67d_e734_4144_be32_4e08af7c9738"
              }
            },
            {
              "description": "System action for starting an application",
              "message_list": [],
              "uuid": "543127a5-b851-4745-914f-9fe0ed6ac310",
              "name": "action_start",
              "state": "ACTIVE",
              "critical": true,
              "attrs": {},
              "type": "system",
              "runbook": {
                "task_definition_list": [
                  {
                    "target_any_local_reference": {
                      "kind": "app_profile",
                      "name": "AHV",
                      "uuid": "7061b67d-e734-4144-be32-4e08af7c9738"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "DAG",
                    "uuid": "25a0439a-ddae-4461-92bc-9143ceb5cf58",
                    "child_tasks_local_reference_list": [
                      "@{kind=app_task; name=SYS_GEN__start_CRb_Substrate_db0602f8_a4ea_40b9_9f39_6493d0c8a14e; uuid=816e596e-ca1a-4455-8d41-dd667f72f1db}",
                      "@{kind=app_task; name=SYS_GEN__start_CRb_Service_a03f1839_6a1a_4664_8d8d_e389d359efa1; uuid=5b2e5842-8d55-4414-85ff-c89407d7cc2e}"
                    ],
                    "state": "ACTIVE",
                    "attrs": {
                      "edges": "",
                      "type": "DAG"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__Composite_DAG_Application_7061b67d_e734_4144_be32_4e08af7c9738"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_substrate",
                      "name": "VM1",
                      "uuid": "db0602f8-a4ea-40b9-9f39-6493d0c8a14e"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "CALL_RUNBOOK",
                    "uuid": "816e596e-ca1a-4455-8d41-dd667f72f1db",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "inarg_list": "",
                      "deployment_reference": "@{kind=app_blueprint_deployment; name=4429ea15_deployment; uuid=3971155c-d697-435c-a1e2-6a14acc77ab2}",
                      "type": "CALL_RUNBOOK",
                      "runbook_reference": "@{kind=app_runbook; name=SYS_GEN__Runbook_Substrate_db0602f8_a4ea_40b9_9f39_6493d0c8a14e; uuid=125dc3fe-73cf-4252-a337-9bb47605955a}"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__start_CRb_Substrate_db0602f8_a4ea_40b9_9f39_6493d0c8a14e"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_service",
                      "name": "Service1",
                      "uuid": "a03f1839-6a1a-4664-8d8d-e389d359efa1"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "CALL_RUNBOOK",
                    "uuid": "5b2e5842-8d55-4414-85ff-c89407d7cc2e",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "inarg_list": "",
                      "deployment_reference": "@{kind=app_blueprint_deployment; name=4429ea15_deployment; uuid=3971155c-d697-435c-a1e2-6a14acc77ab2}",
                      "type": "CALL_RUNBOOK",
                      "runbook_reference": "@{kind=app_runbook; name=bcdcb98e_runbook; uuid=e9fb03a8-d799-41bd-b960-5ee92b723b09}"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__start_CRb_Service_a03f1839_6a1a_4664_8d8d_e389d359efa1"
                  }
                ],
                "description": "",
                "message_list": [],
                "uuid": "afb202c1-68a2-44cc-aa55-cbd23ea3f088",
                "state": "ACTIVE",
                "variable_list": [],
                "main_task_local_reference": {
                  "kind": "app_task",
                  "name": "SYS_GEN__Composite_DAG_Application_7061b67d_e734_4144_be32_4e08af7c9738",
                  "uuid": "25a0439a-ddae-4461-92bc-9143ceb5cf58"
                },
                "name": "SYS_GEN__Runbook_Application_7061b67d_e734_4144_be32_4e08af7c9738"
              }
            },
            {
              "description": "System action for restarting an application",
              "message_list": [],
              "uuid": "beb42b75-aa31-4bbb-a97a-b838448e5e46",
              "name": "action_restart",
              "state": "ACTIVE",
              "critical": true,
              "attrs": {},
              "type": "system",
              "runbook": {
                "task_definition_list": [
                  {
                    "target_any_local_reference": {
                      "kind": "app_profile",
                      "name": "AHV",
                      "uuid": "7061b67d-e734-4144-be32-4e08af7c9738"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "DAG",
                    "uuid": "416c1c57-72e0-46f0-9457-05d515234ed7",
                    "child_tasks_local_reference_list": [
                      "@{kind=app_task; name=SYS_GEN__restart_CRb_Substrate_db0602f8_a4ea_40b9_9f39_6493d0c8a14e; uuid=bcc15dc0-96c6-4b6d-b07d-5c1cc86d322c}",
                      "@{kind=app_task; name=SYS_GEN__restart_CRb_Service_a03f1839_6a1a_4664_8d8d_e389d359efa1; uuid=6fdf1161-3a7d-4585-8c32-d159b84ef186}"
                    ],
                    "state": "ACTIVE",
                    "attrs": {
                      "edges": "",
                      "type": "DAG"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__Composite_DAG_Application_7061b67d_e734_4144_be32_4e08af7c9738"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_substrate",
                      "name": "VM1",
                      "uuid": "db0602f8-a4ea-40b9-9f39-6493d0c8a14e"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "CALL_RUNBOOK",
                    "uuid": "bcc15dc0-96c6-4b6d-b07d-5c1cc86d322c",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "inarg_list": "",
                      "deployment_reference": "@{kind=app_blueprint_deployment; name=4429ea15_deployment; uuid=3971155c-d697-435c-a1e2-6a14acc77ab2}",
                      "type": "CALL_RUNBOOK",
                      "runbook_reference": "@{kind=app_runbook; name=SYS_GEN__Runbook_Substrate_db0602f8_a4ea_40b9_9f39_6493d0c8a14e; uuid=de0d6310-d710-43d1-92ce-28e7f2e923a4}"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__restart_CRb_Substrate_db0602f8_a4ea_40b9_9f39_6493d0c8a14e"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_service",
                      "name": "Service1",
                      "uuid": "a03f1839-6a1a-4664-8d8d-e389d359efa1"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "CALL_RUNBOOK",
                    "uuid": "6fdf1161-3a7d-4585-8c32-d159b84ef186",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "inarg_list": "",
                      "deployment_reference": "@{kind=app_blueprint_deployment; name=4429ea15_deployment; uuid=3971155c-d697-435c-a1e2-6a14acc77ab2}",
                      "type": "CALL_RUNBOOK",
                      "runbook_reference": "@{kind=app_runbook; name=e68a120c_runbook; uuid=96898184-725d-4c96-8825-6c01e88991c4}"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__restart_CRb_Service_a03f1839_6a1a_4664_8d8d_e389d359efa1"
                  }
                ],
                "description": "",
                "message_list": [],
                "uuid": "870ca7d4-5b6e-47bf-9090-5dd72dfaf0b2",
                "state": "ACTIVE",
                "variable_list": [],
                "main_task_local_reference": {
                  "kind": "app_task",
                  "name": "SYS_GEN__Composite_DAG_Application_7061b67d_e734_4144_be32_4e08af7c9738",
                  "uuid": "416c1c57-72e0-46f0-9457-05d515234ed7"
                },
                "name": "SYS_GEN__Runbook_Application_7061b67d_e734_4144_be32_4e08af7c9738"
              }
            },
            {
              "description": "System action for stopping an application",
              "message_list": [],
              "uuid": "22a597e4-552d-455a-b867-d253765e8fa8",
              "name": "action_stop",
              "state": "ACTIVE",
              "critical": true,
              "attrs": {},
              "type": "system",
              "runbook": {
                "task_definition_list": [
                  {
                    "target_any_local_reference": {
                      "kind": "app_profile",
                      "name": "AHV",
                      "uuid": "7061b67d-e734-4144-be32-4e08af7c9738"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "DAG",
                    "uuid": "064fc456-4db5-46a9-a840-04f1e5595861",
                    "child_tasks_local_reference_list": [
                      "@{kind=app_task; name=SYS_GEN__stop_CRb_Service_a03f1839_6a1a_4664_8d8d_e389d359efa1; uuid=fdbd30c5-e6c0-40ec-8c47-337e82ec7c19}",
                      "@{kind=app_task; name=SYS_GEN__stop_CRb_Substrate_db0602f8_a4ea_40b9_9f39_6493d0c8a14e; uuid=6cf4eab7-87bb-48c1-9b88-9d8bc777e7bf}"
                    ],
                    "state": "ACTIVE",
                    "attrs": {
                      "edges": "",
                      "type": "DAG"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__Composite_DAG_Application_7061b67d_e734_4144_be32_4e08af7c9738"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_service",
                      "name": "Service1",
                      "uuid": "a03f1839-6a1a-4664-8d8d-e389d359efa1"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "CALL_RUNBOOK",
                    "uuid": "fdbd30c5-e6c0-40ec-8c47-337e82ec7c19",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "inarg_list": "",
                      "deployment_reference": "@{kind=app_blueprint_deployment; name=4429ea15_deployment; uuid=3971155c-d697-435c-a1e2-6a14acc77ab2}",
                      "type": "CALL_RUNBOOK",
                      "runbook_reference": "@{kind=app_runbook; name=e6e3ef02_runbook; uuid=bdb6af91-3833-466c-896d-36252f38beb9}"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__stop_CRb_Service_a03f1839_6a1a_4664_8d8d_e389d359efa1"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_substrate",
                      "name": "VM1",
                      "uuid": "db0602f8-a4ea-40b9-9f39-6493d0c8a14e"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "CALL_RUNBOOK",
                    "uuid": "6cf4eab7-87bb-48c1-9b88-9d8bc777e7bf",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "inarg_list": "",
                      "deployment_reference": "@{kind=app_blueprint_deployment; name=4429ea15_deployment; uuid=3971155c-d697-435c-a1e2-6a14acc77ab2}",
                      "type": "CALL_RUNBOOK",
                      "runbook_reference": "@{kind=app_runbook; name=SYS_GEN__Runbook_Substrate_db0602f8_a4ea_40b9_9f39_6493d0c8a14e; uuid=ad6d18b2-01fc-46fc-a752-5335eb740411}"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__stop_CRb_Substrate_db0602f8_a4ea_40b9_9f39_6493d0c8a14e"
                  }
                ],
                "description": "",
                "message_list": [],
                "uuid": "e4ef6271-735f-48f7-9d8c-9f25040abbff",
                "state": "ACTIVE",
                "variable_list": [],
                "main_task_local_reference": {
                  "kind": "app_task",
                  "name": "SYS_GEN__Composite_DAG_Application_7061b67d_e734_4144_be32_4e08af7c9738",
                  "uuid": "064fc456-4db5-46a9-a840-04f1e5595861"
                },
                "name": "SYS_GEN__Runbook_Application_7061b67d_e734_4144_be32_4e08af7c9738"
              }
            },
            {
              "description": "System action for deleting an application. Deletes created VMs as well",
              "message_list": [],
              "uuid": "29b388c7-0022-4148-ae14-b7d99728af9e",
              "name": "action_delete",
              "state": "ACTIVE",
              "critical": true,
              "attrs": {},
              "type": "system",
              "runbook": {
                "task_definition_list": [
                  {
                    "target_any_local_reference": {
                      "kind": "app_profile",
                      "name": "AHV",
                      "uuid": "7061b67d-e734-4144-be32-4e08af7c9738"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "DAG",
                    "uuid": "36afceab-3605-412f-ab54-9193568ba33b",
                    "child_tasks_local_reference_list": [
                      "@{kind=app_task; name=SYS_GEN__stop_CRb_Service_a03f1839_6a1a_4664_8d8d_e389d359efa1; uuid=b7a7412d-48c9-48e7-a0c9-6c67e7b299c4}",
                      "@{kind=app_task; name=SYS_GEN__delete_CRb_Service_a03f1839_6a1a_4664_8d8d_e389d359efa1; uuid=c2e443a8-7c55-4692-8b3f-9d778edfbb17}",
                      "@{kind=app_task; name=SYS_GEN__uninstall_CRb_Package_fcacaced_0494_462b_9861_48adc9ce7a64; uuid=42e1e8a2-92b3-4eef-89a5-877338c918c7}",
                      "@{kind=app_task; name=SYS_GEN__delete_CRb_Substrate_db0602f8_a4ea_40b9_9f39_6493d0c8a14e; uuid=4eb00d03-82ec-4da0-ae52-e90c937e500c}",
                      "@{kind=app_task; name=SYS_GEN__post_delete_CRb_Substrate_db0602f8_a4ea_40b9_9f39_6493d0c8a14e; uuid=a99e0d40-8a02-47e4-9970-8ee4b5d6a8bc}",
                      "@{kind=app_task; name=SYS_GEN__DE_Delete_3971155c_d697_435c_a1e2_6a14acc77ab2; uuid=cd3020b1-54b1-4d98-8ff6-b365d94b00d6}"
                    ],
                    "state": "ACTIVE",
                    "attrs": {
                      "edges": "    ",
                      "type": "DAG"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__Composite_DAG_Application_7061b67d_e734_4144_be32_4e08af7c9738"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_service",
                      "name": "Service1",
                      "uuid": "a03f1839-6a1a-4664-8d8d-e389d359efa1"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "CALL_RUNBOOK",
                    "uuid": "b7a7412d-48c9-48e7-a0c9-6c67e7b299c4",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "inarg_list": "",
                      "deployment_reference": "@{kind=app_blueprint_deployment; name=4429ea15_deployment; uuid=3971155c-d697-435c-a1e2-6a14acc77ab2}",
                      "type": "CALL_RUNBOOK",
                      "runbook_reference": "@{kind=app_runbook; name=e6e3ef02_runbook; uuid=bdb6af91-3833-466c-896d-36252f38beb9}"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__stop_CRb_Service_a03f1839_6a1a_4664_8d8d_e389d359efa1"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_service",
                      "name": "Service1",
                      "uuid": "a03f1839-6a1a-4664-8d8d-e389d359efa1"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "CALL_RUNBOOK",
                    "uuid": "c2e443a8-7c55-4692-8b3f-9d778edfbb17",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "inarg_list": "",
                      "deployment_reference": "@{kind=app_blueprint_deployment; name=4429ea15_deployment; uuid=3971155c-d697-435c-a1e2-6a14acc77ab2}",
                      "type": "CALL_RUNBOOK",
                      "runbook_reference": "@{kind=app_runbook; name=c906f5a1_runbook; uuid=69679ae6-027b-40da-bc20-f687a94d5de2}"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__delete_CRb_Service_a03f1839_6a1a_4664_8d8d_e389d359efa1"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_package",
                      "name": "Package1",
                      "uuid": "fcacaced-0494-462b-9861-48adc9ce7a64"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "CALL_RUNBOOK",
                    "uuid": "42e1e8a2-92b3-4eef-89a5-877338c918c7",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "inarg_list": "",
                      "deployment_reference": "@{kind=app_blueprint_deployment; name=4429ea15_deployment; uuid=3971155c-d697-435c-a1e2-6a14acc77ab2}",
                      "type": "CALL_RUNBOOK",
                      "runbook_reference": "@{kind=app_runbook; name=SYS_GEN__Runbook_Package_fcacaced_0494_462b_9861_48adc9ce7a64; uuid=c6830aa7-0fa8-4996-b3bb-9da5f20c745b}"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__uninstall_CRb_Package_fcacaced_0494_462b_9861_48adc9ce7a64"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_substrate",
                      "name": "VM1",
                      "uuid": "db0602f8-a4ea-40b9-9f39-6493d0c8a14e"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "CALL_RUNBOOK",
                    "uuid": "4eb00d03-82ec-4da0-ae52-e90c937e500c",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "inarg_list": "",
                      "deployment_reference": "@{kind=app_blueprint_deployment; name=4429ea15_deployment; uuid=3971155c-d697-435c-a1e2-6a14acc77ab2}",
                      "type": "CALL_RUNBOOK",
                      "runbook_reference": "@{kind=app_runbook; name=SYS_GEN__Runbook_Substrate_db0602f8_a4ea_40b9_9f39_6493d0c8a14e; uuid=67a2ede7-e92d-4705-ada1-fa96f47b4773}"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__delete_CRb_Substrate_db0602f8_a4ea_40b9_9f39_6493d0c8a14e"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_substrate",
                      "name": "VM1",
                      "uuid": "db0602f8-a4ea-40b9-9f39-6493d0c8a14e"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "CALL_RUNBOOK",
                    "uuid": "a99e0d40-8a02-47e4-9970-8ee4b5d6a8bc",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "inarg_list": "",
                      "deployment_reference": "@{kind=app_blueprint_deployment; name=4429ea15_deployment; uuid=3971155c-d697-435c-a1e2-6a14acc77ab2}",
                      "type": "CALL_RUNBOOK",
                      "runbook_reference": "@{kind=app_runbook; name=30f3cc31_runbook; uuid=1b6bbba4-745c-4b59-92f6-6c425bdb5fd8}"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__post_delete_CRb_Substrate_db0602f8_a4ea_40b9_9f39_6493d0c8a14e"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_blueprint_deployment",
                      "name": "4429ea15_deployment",
                      "uuid": "3971155c-d697-435c-a1e2-6a14acc77ab2"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "DELETE_DEPLOYMENT_ELEMENT",
                    "uuid": "cd3020b1-54b1-4d98-8ff6-b365d94b00d6",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "type": ""
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__DE_Delete_3971155c_d697_435c_a1e2_6a14acc77ab2"
                  }
                ],
                "description": "",
                "message_list": [],
                "uuid": "e1cda40d-50cb-42f5-9cd4-1f9b9514daa1",
                "state": "ACTIVE",
                "variable_list": [],
                "main_task_local_reference": {
                  "kind": "app_task",
                  "name": "SYS_GEN__Composite_DAG_Application_7061b67d_e734_4144_be32_4e08af7c9738",
                  "uuid": "36afceab-3605-412f-ab54-9193568ba33b"
                },
                "name": "SYS_GEN__Runbook_Application_7061b67d_e734_4144_be32_4e08af7c9738"
              }
            },
            {
              "description": "System action for deleting an application. Does not delete created VMs",
              "message_list": [],
              "uuid": "175b1c2c-ff13-4ee8-9d38-87af1ee4e194",
              "name": "action_soft_delete",
              "state": "ACTIVE",
              "critical": true,
              "attrs": {},
              "type": "system",
              "runbook": {
                "task_definition_list": [
                  {
                    "target_any_local_reference": {
                      "kind": "app_profile",
                      "name": "AHV",
                      "uuid": "7061b67d-e734-4144-be32-4e08af7c9738"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "DAG",
                    "uuid": "cfa98096-5dfd-45cb-b35a-eef5b76a4e1d",
                    "child_tasks_local_reference_list": [
                      "@{kind=app_task; name=SYS_GEN__soft_delete_CRb_Service_a03f1839_6a1a_4664_8d8d_e389d359efa1; uuid=3fbb5923-a51f-4b58-9c16-a6296eae548f}",
                      "@{kind=app_task; name=SYS_GEN__Package_Element_Delete_fcacaced_0494_462b_9861_48adc9ce7a64; uuid=c579f18f-1da8-43ce-919c-0988c742461e}",
                      "@{kind=app_task; name=SYS_GEN__soft_delete_CRb_Substrate_db0602f8_a4ea_40b9_9f39_6493d0c8a14e; uuid=4ff44352-131f-4efe-a4d7-eb1762c940d4}",
                      "@{kind=app_task; name=SYS_GEN__DE_Soft_Delete_3971155c_d697_435c_a1e2_6a14acc77ab2; uuid=35899447-8eaf-4ecc-a51a-51ffd500a87c}"
                    ],
                    "state": "ACTIVE",
                    "attrs": {
                      "edges": "  ",
                      "type": "DAG"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__Composite_DAG_Application_7061b67d_e734_4144_be32_4e08af7c9738"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_service",
                      "name": "Service1",
                      "uuid": "a03f1839-6a1a-4664-8d8d-e389d359efa1"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "CALL_RUNBOOK",
                    "uuid": "3fbb5923-a51f-4b58-9c16-a6296eae548f",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "inarg_list": "",
                      "deployment_reference": "@{kind=app_blueprint_deployment; name=4429ea15_deployment; uuid=3971155c-d697-435c-a1e2-6a14acc77ab2}",
                      "type": "CALL_RUNBOOK",
                      "runbook_reference": "@{kind=app_runbook; name=SYS_GEN__Runbook_Service_a03f1839_6a1a_4664_8d8d_e389d359efa1; uuid=011cfb44-53e3-431f-883a-d128db8bd440}"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__soft_delete_CRb_Service_a03f1839_6a1a_4664_8d8d_e389d359efa1"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_package",
                      "name": "Package1",
                      "uuid": "fcacaced-0494-462b-9861-48adc9ce7a64"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "SOFT_DELETE_ELEMENT",
                    "uuid": "c579f18f-1da8-43ce-919c-0988c742461e",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "type": ""
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__Package_Element_Delete_fcacaced_0494_462b_9861_48adc9ce7a64"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_substrate",
                      "name": "VM1",
                      "uuid": "db0602f8-a4ea-40b9-9f39-6493d0c8a14e"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "CALL_RUNBOOK",
                    "uuid": "4ff44352-131f-4efe-a4d7-eb1762c940d4",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "inarg_list": "",
                      "deployment_reference": "@{kind=app_blueprint_deployment; name=4429ea15_deployment; uuid=3971155c-d697-435c-a1e2-6a14acc77ab2}",
                      "type": "CALL_RUNBOOK",
                      "runbook_reference": "@{kind=app_runbook; name=SYS_GEN__Runbook_Substrate_db0602f8_a4ea_40b9_9f39_6493d0c8a14e; uuid=63cf95a6-a0f6-46ea-965c-752d49bef993}"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__soft_delete_CRb_Substrate_db0602f8_a4ea_40b9_9f39_6493d0c8a14e"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_blueprint_deployment",
                      "name": "4429ea15_deployment",
                      "uuid": "3971155c-d697-435c-a1e2-6a14acc77ab2"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "SOFT_DELETE_DEPLOYMENT_ELEMENT",
                    "uuid": "35899447-8eaf-4ecc-a51a-51ffd500a87c",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "type": ""
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__DE_Soft_Delete_3971155c_d697_435c_a1e2_6a14acc77ab2"
                  }
                ],
                "description": "",
                "message_list": [],
                "uuid": "945c264e-6d00-46de-afc8-eba9f9db0cfd",
                "state": "ACTIVE",
                "variable_list": [],
                "main_task_local_reference": {
                  "kind": "app_task",
                  "name": "SYS_GEN__Composite_DAG_Application_7061b67d_e734_4144_be32_4e08af7c9738",
                  "uuid": "cfa98096-5dfd-45cb-b35a-eef5b76a4e1d"
                },
                "name": "SYS_GEN__Runbook_Application_7061b67d_e734_4144_be32_4e08af7c9738"
              }
            }
          ],
          "message_list": [],
          "uuid": "7061b67d-e734-4144-be32-4e08af7c9738",
          "dependency_list": [],
          "snapshot_config_list": [],
          "state": "ACTIVE",
          "patch_list": [],
          "restore_config_list": [],
          "variable_list": [
            {
              "regex": {
                "should_validate": false,
                "value": "^[\\d]*$"
              },
              "val_type": "INT",
              "is_mandatory": false,
              "description": "",
              "data_type": "BASE",
              "message_list": [],
              "uuid": "7398a5c4-920d-4b85-809d-91bb2b343f10",
              "value": "0",
              "label": "/var size",
              "state": "ACTIVE",
              "attrs": {
                "type": ""
              },
              "editables": {
                "value": true
              },
              "is_hidden": false,
              "type": "LOCAL",
              "options": {
                "type": "PREDEFINED",
                "choices": []
              },
              "name": "vDiskVar"
            },
            {
              "regex": {
                "should_validate": false,
                "value": "^[\\d]*$"
              },
              "val_type": "INT",
              "is_mandatory": false,
              "description": "",
              "data_type": "BASE",
              "message_list": [],
              "uuid": "d176d299-43f0-46fa-a960-f53ffc36d978",
              "value": "0",
              "label": "/usr size",
              "state": "ACTIVE",
              "attrs": {
                "type": ""
              },
              "editables": {
                "value": true
              },
              "is_hidden": false,
              "type": "LOCAL",
              "options": {
                "type": "PREDEFINED",
                "choices": []
              },
              "name": "vDiskUsr"
            },
            {
              "regex": {
                "should_validate": false,
                "value": "^[\\d]*$"
              },
              "val_type": "INT",
              "is_mandatory": false,
              "description": "",
              "data_type": "BASE",
              "message_list": [],
              "uuid": "f92464a5-be24-4a67-9f81-a10d237e0f9d",
              "value": "0",
              "label": "/opt size",
              "state": "ACTIVE",
              "attrs": {
                "type": ""
              },
              "editables": {
                "value": true
              },
              "is_hidden": false,
              "type": "LOCAL",
              "options": {
                "type": "PREDEFINED",
                "choices": []
              },
              "name": "vDiskOpt"
            },
            {
              "regex": {
                "should_validate": false,
                "value": "^[\\d]*$"
              },
              "val_type": "INT",
              "is_mandatory": false,
              "description": "",
              "data_type": "BASE",
              "message_list": [],
              "uuid": "b58fb442-c203-4843-bfb1-1cd5939e0b82",
              "value": "0",
              "label": "/home size",
              "state": "ACTIVE",
              "attrs": {
                "type": "LOCAL"
              },
              "editables": {
                "value": true
              },
              "is_hidden": false,
              "type": "LOCAL",
              "options": {
                "type": "PREDEFINED",
                "choices": []
              },
              "name": "vDiskHome"
            },
            {
              "regex": {
                "should_validate": false,
                "value": "^(.|\\n)*$"
              },
              "val_type": "MULTILINE_STRING",
              "is_mandatory": false,
              "description": "",
              "data_type": "BASE",
              "message_list": [],
              "uuid": "15a0bc83-c48f-44aa-80ce-25df56b5c12a",
              "value": "",
              "label": "Administrative Users",
              "state": "ACTIVE",
              "attrs": {
                "type": ""
              },
              "editables": {
                "value": true
              },
              "is_hidden": false,
              "type": "LOCAL",
              "options": {
                "type": "PREDEFINED",
                "choices": []
              },
              "name": "administrativeUsers"
            },
            {
              "regex": {
                "should_validate": false,
                "value": "^(.|\\n)*$"
              },
              "val_type": "MULTILINE_STRING",
              "is_mandatory": false,
              "description": "",
              "data_type": "BASE",
              "message_list": [],
              "uuid": "e10534ea-85d4-4085-a258-28e769d5eb00",
              "value": "",
              "label": "Login Users",
              "state": "ACTIVE",
              "attrs": {
                "type": ""
              },
              "editables": {
                "value": true
              },
              "is_hidden": false,
              "type": "LOCAL",
              "options": {
                "type": "PREDEFINED",
                "choices": []
              },
              "name": "loginUsers"
            },
            {
              "regex": {},
              "val_type": "STRING",
              "is_mandatory": false,
              "description": "",
              "data_type": "BASE",
              "message_list": [],
              "uuid": "0fa5541c-4dca-4396-8e84-cdad9f8283ab",
              "value": "",
              "label": "Private interface: NETMASK",
              "state": "ACTIVE",
              "attrs": {
                "type": ""
              },
              "editables": {
                "value": true
              },
              "is_hidden": false,
              "type": "LOCAL",
              "options": {
                "type": "PREDEFINED",
                "choices": []
              },
              "name": "privateInterfaceNetmask"
            },
            {
              "regex": {},
              "val_type": "STRING",
              "is_mandatory": false,
              "description": "",
              "data_type": "BASE",
              "message_list": [],
              "uuid": "213934ca-0f7c-4e83-8159-979fef8faec2",
              "value": "",
              "label": "Private interface: IP",
              "state": "ACTIVE",
              "attrs": {
                "type": ""
              },
              "editables": {
                "value": true
              },
              "is_hidden": false,
              "type": "LOCAL",
              "options": {
                "type": "PREDEFINED",
                "choices": []
              },
              "name": "privateInterfaceIp"
            },
            {
              "regex": {},
              "val_type": "STRING",
              "is_mandatory": false,
              "description": "",
              "data_type": "BASE",
              "message_list": [],
              "uuid": "29330a03-5fff-426f-b1a2-430f54d8f4dd",
              "value": "",
              "label": "Private interface: NETWORK",
              "state": "ACTIVE",
              "attrs": {
                "type": ""
              },
              "editables": {
                "value": true
              },
              "is_hidden": false,
              "type": "EXEC_LOCAL",
              "options": {
                "type": "EXEC",
                "attrs": {
                  "script_type": "static",
                  "type": "EXEC",
                  "command_line_args": "",
                  "exit_status": [],
                  "script": "#script\n#Global Variables\nproject = '@@{calm_project_name}@@'\nclusterSelection = '@@{clusterSelection}@@'\noffset = 0\nlength = 500\nlistNetwork = []\nlistSelection = []\n\npayload = {\n  \"kind\": \"project\"\n}\npcUser = \"@@{pcUser}@@\"\npcUserPassword = \"@@{pcUserPassword}@@\"\n\n#Global Functions\ndef varToBase64(var):\n    varToString = json.dumps(var, separators=(',', ':'))\n    encoded = base64.b64encode(varToString.encode('ascii'))\n    return encoded\n\n#Main Code\napi_url = 'https://localhost:9440/api/nutanix/v3/projects/list'\nheaders = {'Content-Type': 'application/json',  'Accept':'application/json'}\nr = urlreq(api_url, verb='POST', params=json.dumps(payload), headers=headers, verify=False, auth='BASIC', user=pcUser, passwd=pcUserPassword)\nif r.ok:\n    resp = json.loads(r.content)\n    iterations = ((int(resp['metadata']['total_matches'])) / length) + 1\nelse:\n    print \"Post request failed\", r.content\n    exit(1)\nfor iterator in range(iterations): \n    payload = {\n      \"kind\": \"project\",\n      \"length\": length,\n      \"offset\": offset\n    }\n    api_url = 'https://localhost:9440/api/nutanix/v3/projects/list'\n    headers = {'Content-Type': 'application/json',  'Accept':'application/json'}\n    r = urlreq(api_url, verb='POST', params=json.dumps(payload), headers=headers, verify=False, auth='BASIC', user=pcUser, passwd=pcUserPassword)\n    if r.ok:\n        resp = json.loads(r.content)\n    else:\n        print \"Post request failed\", r.content\n        exit(1)\n\n    for item in resp[\"entities\"]:\n        if project in item['spec']['name']:\n            for netResource in item['spec']['resources']['subnet_reference_list']:\n                listNetwork.append(netResource['uuid'])\n    offset = offset + length\n\nfor netUuid in listNetwork:\n    api_url = 'https://localhost:9440/api/nutanix/v3/subnets/{}'.format(netUuid)\n    headers = {'Content-Type': 'application/json',  'Accept':'application/json'}\n    r = urlreq(api_url, verb='GET', headers=headers, verify=False, auth='BASIC', user=pcUser, passwd=pcUserPassword)\n    if r.ok:\n        resp = json.loads(r.content)\n        if ((resp['spec']['cluster_reference']['name']) == clusterSelection):\n            listSelection.append(resp['spec']['name']) \n    else:\n        print \"Post request failed\", r.content\n        exit(1)\n\n#Return\n#print (varToBase64(result))\nlistSelection = sorted(dict.fromkeys(listSelection))\nlistSelection.insert(0, \"None\")\nprint \",\".join(map(str,listSelection))\n#print ((result))\nexit(0)"
                }
              },
              "name": "privateInterfaceNetwork"
            },
            {
              "regex": {},
              "val_type": "STRING",
              "is_mandatory": false,
              "description": "",
              "data_type": "BASE",
              "message_list": [],
              "uuid": "cde84cb3-57ad-4a2a-9cfc-5eb907f7a455",
              "value": "",
              "label": "Backup interface: GATEWAY",
              "state": "ACTIVE",
              "attrs": {
                "type": ""
              },
              "editables": {
                "value": true
              },
              "is_hidden": false,
              "type": "LOCAL",
              "options": {
                "type": "PREDEFINED",
                "choices": []
              },
              "name": "backupInterfaceGateway"
            },
            {
              "regex": {},
              "val_type": "STRING",
              "is_mandatory": false,
              "description": "",
              "data_type": "BASE",
              "message_list": [],
              "uuid": "6a8eb967-66e0-4e18-9323-98eb21051f9e",
              "value": "",
              "label": "Backup interface: NETMASK",
              "state": "ACTIVE",
              "attrs": {
                "type": ""
              },
              "editables": {
                "value": true
              },
              "is_hidden": false,
              "type": "LOCAL",
              "options": {
                "type": "PREDEFINED",
                "choices": []
              },
              "name": "backupInterfaceNetmask"
            },
            {
              "regex": {},
              "val_type": "STRING",
              "is_mandatory": false,
              "description": "",
              "data_type": "BASE",
              "message_list": [],
              "uuid": "a136368e-8ae7-483a-959a-4fefb764073a",
              "value": "",
              "label": "Backup interface: IP",
              "state": "ACTIVE",
              "attrs": {
                "type": ""
              },
              "editables": {
                "value": true
              },
              "is_hidden": false,
              "type": "LOCAL",
              "options": {
                "type": "PREDEFINED",
                "choices": []
              },
              "name": "backupInterfaceIP"
            },
            {
              "regex": {},
              "val_type": "STRING",
              "is_mandatory": false,
              "description": "",
              "data_type": "BASE",
              "message_list": [],
              "uuid": "cbedf5f2-2d7f-47e5-95b5-0794d6e236e2",
              "value": "",
              "label": "Backup interface: NETWORK",
              "state": "ACTIVE",
              "attrs": {
                "type": ""
              },
              "editables": {
                "value": true
              },
              "is_hidden": false,
              "type": "EXEC_LOCAL",
              "options": {
                "type": "EXEC",
                "attrs": {
                  "script_type": "static",
                  "type": "EXEC",
                  "command_line_args": "",
                  "exit_status": [],
                  "script": "#script\n#Global Variables\nproject = '@@{calm_project_name}@@'\nclusterSelection = '@@{clusterSelection}@@'\noffset = 0\nlength = 500\nlistNetwork = []\nlistSelection = []\n\npayload = {\n  \"kind\": \"project\"\n}\npcUser = \"@@{pcUser}@@\"\npcUserPassword = \"@@{pcUserPassword}@@\"\n\n#Global Functions\ndef varToBase64(var):\n    varToString = json.dumps(var, separators=(',', ':'))\n    encoded = base64.b64encode(varToString.encode('ascii'))\n    return encoded\n\n#Main Code\napi_url = 'https://localhost:9440/api/nutanix/v3/projects/list'\nheaders = {'Content-Type': 'application/json',  'Accept':'application/json'}\nr = urlreq(api_url, verb='POST', params=json.dumps(payload), headers=headers, verify=False, auth='BASIC', user=pcUser, passwd=pcUserPassword)\nif r.ok:\n    resp = json.loads(r.content)\n    iterations = ((int(resp['metadata']['total_matches'])) / length) + 1\nelse:\n    print \"Post request failed\", r.content\n    exit(1)\nfor iterator in range(iterations): \n    payload = {\n      \"kind\": \"project\",\n      \"length\": length,\n      \"offset\": offset\n    }\n    api_url = 'https://localhost:9440/api/nutanix/v3/projects/list'\n    headers = {'Content-Type': 'application/json',  'Accept':'application/json'}\n    r = urlreq(api_url, verb='POST', params=json.dumps(payload), headers=headers, verify=False, auth='BASIC', user=pcUser, passwd=pcUserPassword)\n    if r.ok:\n        resp = json.loads(r.content)\n    else:\n        print \"Post request failed\", r.content\n        exit(1)\n\n    for item in resp[\"entities\"]:\n        if project in item['spec']['name']:\n            for netResource in item['spec']['resources']['subnet_reference_list']:\n                listNetwork.append(netResource['uuid'])\n    offset = offset + length\n\nfor netUuid in listNetwork:\n    api_url = 'https://localhost:9440/api/nutanix/v3/subnets/{}'.format(netUuid)\n    headers = {'Content-Type': 'application/json',  'Accept':'application/json'}\n    r = urlreq(api_url, verb='GET', headers=headers, verify=False, auth='BASIC', user=pcUser, passwd=pcUserPassword)\n    if r.ok:\n        resp = json.loads(r.content)\n        if ((resp['spec']['cluster_reference']['name']) == clusterSelection):\n            listSelection.append(resp['spec']['name']) \n    else:\n        print \"Post request failed\", r.content\n        exit(1)\n\n#Return\n#print (varToBase64(result))\nlistSelection = sorted(dict.fromkeys(listSelection))\nlistSelection.insert(0, \"None\")\nprint \",\".join(map(str,listSelection))\n#print ((result))\nexit(0)"
                }
              },
              "name": "backupInterfaceNetwork"
            },
            {
              "regex": {},
              "val_type": "STRING",
              "is_mandatory": false,
              "description": "",
              "data_type": "BASE",
              "message_list": [],
              "uuid": "0bd7ac6a-9fc7-4d17-b15a-4b76b0029ef0",
              "value": "172.17.75.254",
              "label": "Production interface: GATEWAY",
              "state": "ACTIVE",
              "attrs": {
                "type": ""
              },
              "editables": {
                "value": true
              },
              "is_hidden": false,
              "type": "LOCAL",
              "options": {
                "type": "PREDEFINED",
                "choices": []
              },
              "name": "productionInterfaceGateway"
            },
            {
              "regex": {},
              "val_type": "STRING",
              "is_mandatory": false,
              "description": "",
              "data_type": "BASE",
              "message_list": [],
              "uuid": "badb7909-1afd-41b5-9cbe-95495c132ff5",
              "value": "255.255.255.0",
              "label": "Production interface: NETMASK",
              "state": "ACTIVE",
              "attrs": {
                "type": ""
              },
              "editables": {
                "value": true
              },
              "is_hidden": false,
              "type": "LOCAL",
              "options": {
                "type": "PREDEFINED",
                "choices": []
              },
              "name": "productionInterfaceNetmask"
            },
            {
              "regex": {
                "should_validate": true,
                "value": ""
              },
              "val_type": "STRING",
              "is_mandatory": false,
              "description": "",
              "data_type": "BASE",
              "message_list": [],
              "uuid": "7a48b6c6-9eb0-4219-9aff-b961204d6eb3",
              "value": "172.17.75.60",
              "label": "Production interface: IP",
              "state": "ACTIVE",
              "attrs": {
                "type": ""
              },
              "editables": {
                "value": true
              },
              "is_hidden": false,
              "type": "LOCAL",
              "options": {
                "type": "PREDEFINED",
                "choices": []
              },
              "name": "productionInterfaceIp"
            },
            {
              "regex": {
                "should_validate": false,
                "value": "^.*$"
              },
              "val_type": "STRING",
              "is_mandatory": false,
              "description": "",
              "data_type": "BASE",
              "message_list": [],
              "uuid": "fab89182-ab5e-42fa-a028-eca12890a7ef",
              "value": "",
              "label": "Production interface: NETWORK",
              "state": "ACTIVE",
              "attrs": {
                "type": ""
              },
              "editables": {
                "value": true
              },
              "is_hidden": false,
              "type": "EXEC_LOCAL",
              "options": {
                "type": "EXEC",
                "attrs": {
                  "script_type": "static",
                  "type": "EXEC",
                  "command_line_args": "",
                  "exit_status": [],
                  "script": "#script\n#Global Variables\nproject = '@@{calm_project_name}@@'\nclusterSelection = '@@{clusterSelection}@@'\noffset = 0\nlength = 500\nlistNetwork = []\nlistSelection = []\n\npayload = {\n  \"kind\": \"project\"\n}\npcUser = \"@@{pcUser}@@\"\npcUserPassword = \"@@{pcUserPassword}@@\"\n\n#Global Functions\ndef varToBase64(var):\n    varToString = json.dumps(var, separators=(',', ':'))\n    encoded = base64.b64encode(varToString.encode('ascii'))\n    return encoded\n\n#Main Code\napi_url = 'https://localhost:9440/api/nutanix/v3/projects/list'\nheaders = {'Content-Type': 'application/json',  'Accept':'application/json'}\nr = urlreq(api_url, verb='POST', params=json.dumps(payload), headers=headers, verify=False, auth='BASIC', user=pcUser, passwd=pcUserPassword)\nif r.ok:\n    resp = json.loads(r.content)\n    iterations = ((int(resp['metadata']['total_matches'])) / length) + 1\nelse:\n    print \"Post request failed\", r.content\n    exit(1)\nfor iterator in range(iterations): \n    payload = {\n      \"kind\": \"project\",\n      \"length\": length,\n      \"offset\": offset\n    }\n    api_url = 'https://localhost:9440/api/nutanix/v3/projects/list'\n    headers = {'Content-Type': 'application/json',  'Accept':'application/json'}\n    r = urlreq(api_url, verb='POST', params=json.dumps(payload), headers=headers, verify=False, auth='BASIC', user=pcUser, passwd=pcUserPassword)\n    if r.ok:\n        resp = json.loads(r.content)\n    else:\n        print \"Post request failed\", r.content\n        exit(1)\n\n    for item in resp[\"entities\"]:\n        if project in item['spec']['name']:\n            for netResource in item['spec']['resources']['subnet_reference_list']:\n                listNetwork.append(netResource['uuid'])\n    offset = offset + length\n\nfor netUuid in listNetwork:\n    api_url = 'https://localhost:9440/api/nutanix/v3/subnets/{}'.format(netUuid)\n    headers = {'Content-Type': 'application/json',  'Accept':'application/json'}\n    r = urlreq(api_url, verb='GET', headers=headers, verify=False, auth='BASIC', user=pcUser, passwd=pcUserPassword)\n    if r.ok:\n        resp = json.loads(r.content)\n        if ((resp['spec']['cluster_reference']['name']) == clusterSelection):\n            listSelection.append(resp['spec']['name']) \n    else:\n        print \"Post request failed\", r.content\n        exit(1)\n\n#Return\n#print (varToBase64(result))\nlistSelection = sorted(dict.fromkeys(listSelection))\nprint \",\".join(map(str,listSelection))\n#print ((result))\nexit(0)"
                }
              },
              "name": "productionInterfaceNetwork"
            },
            {
              "regex": {},
              "val_type": "STRING",
              "is_mandatory": false,
              "description": "",
              "data_type": "BASE",
              "message_list": [],
              "uuid": "e1456a36-984e-472c-bbbb-4f0ddf26dd72",
              "value": "",
              "label": "Select Nutanix Cluster",
              "state": "ACTIVE",
              "attrs": {
                "type": ""
              },
              "editables": {
                "value": true
              },
              "is_hidden": false,
              "type": "EXEC_LOCAL",
              "options": {
                "type": "EXEC",
                "attrs": {
                  "script_type": "static",
                  "type": "EXEC",
                  "command_line_args": "",
                  "exit_status": [],
                  "script": "#script\n#Global Variables\nproject = '@@{calm_project_name}@@'\noffset = 0\nlength = 500\nlistNetwork = []\nlistCluster = []\npayload = {\n  \"kind\": \"project\"\n}\npcUser = \"@@{pcUser}@@\"\npcUserPassword = \"@@{pcUserPassword}@@\"\n\n#Global Functions\n\n#Main Code\napi_url = 'https://localhost:9440/api/nutanix/v3/projects/list'\nheaders = {'Content-Type': 'application/json',  'Accept':'application/json'}\nr = urlreq(api_url, verb='POST', params=json.dumps(payload), headers=headers, verify=False, auth='BASIC', user=pcUser, passwd=pcUserPassword)\nif r.ok:\n    resp = json.loads(r.content)\n    iterations = ((int(resp['metadata']['total_matches'])) / length) + 1\nelse:\n    print \"Post request failed\", r.content\n    exit(1)\nfor iterator in range(iterations): \n    payload = {\n      \"kind\": \"project\",\n      \"length\": length,\n      \"offset\": offset\n    }\n    api_url = 'https://localhost:9440/api/nutanix/v3/projects/list'\n    headers = {'Content-Type': 'application/json',  'Accept':'application/json'}\n    r = urlreq(api_url, verb='POST', params=json.dumps(payload), headers=headers, verify=False, auth='BASIC', user=pcUser, passwd=pcUserPassword)\n    if r.ok:\n        resp = json.loads(r.content)\n    else:\n        print \"Post request failed\", r.content\n        exit(1)\n\n    for item in resp[\"entities\"]:\n        if project in item['spec']['name']:\n            for netResource in item['spec']['resources']['subnet_reference_list']:\n                listNetwork.append(netResource['uuid'])\n    offset = offset + length\n\nfor netUuid in listNetwork:\n    api_url = 'https://localhost:9440/api/nutanix/v3/subnets/{}'.format(netUuid)\n    headers = {'Content-Type': 'application/json',  'Accept':'application/json'}\n    r = urlreq(api_url, verb='GET', headers=headers, verify=False, auth='BASIC', user=pcUser, passwd=pcUserPassword)\n    if r.ok:\n        resp = json.loads(r.content)\n        listCluster.append(resp['spec']['cluster_reference']['name'])\n    else:\n        print \"Post request failed\", r.content\n        exit(1)\n\nlistCluster = sorted(dict.fromkeys(listCluster))\n#Return\nprint \",\".join(map(str,listCluster))\nexit(0)"
                }
              },
              "name": "clusterSelection"
            },
            {
              "regex": {},
              "val_type": "STRING",
              "is_mandatory": false,
              "description": "",
              "data_type": "BASE",
              "message_list": [],
              "uuid": "9d9531af-6024-449d-b9a5-a09a56381cf6",
              "value": "calmtemp",
              "label": "",
              "state": "ACTIVE",
              "attrs": {
                "type": ""
              },
              "editables": {
                "value": false
              },
              "is_hidden": true,
              "type": "LOCAL",
              "options": {
                "type": "PREDEFINED",
                "choices": []
              },
              "name": "pcUser"
            },
            {
              "regex": {},
              "val_type": "STRING",
              "is_mandatory": false,
              "description": "",
              "data_type": "BASE",
              "message_list": [],
              "uuid": "caab0f4d-2cd8-41bd-8426-3de625e34610",
              "value": "nutanix/4u",
              "label": "",
              "state": "ACTIVE",
              "attrs": {
                "type": ""
              },
              "editables": {
                "value": false
              },
              "is_hidden": true,
              "type": "LOCAL",
              "options": {
                "type": "PREDEFINED",
                "choices": []
              },
              "name": "pcUserPassword"
            }
          ],
          "name": "AHV"
        }
      ],
      "published_service_definition_list": [],
      "default_credential_local_reference": {
        "kind": "app_credential",
        "name": "rootCreds",
        "uuid": "a855975c-8e43-4d2f-ad18-c745e4a72eee"
      },
      "package_definition_list": [
        {
          "description": "",
          "action_list": [
            {
              "description": "System action for installing an application",
              "message_list": [],
              "uuid": "dff86df4-6b65-4d91-bdf2-4c3a0a7f357d",
              "name": "action_install",
              "state": "ACTIVE",
              "critical": true,
              "attrs": {},
              "type": "system",
              "runbook": {
                "task_definition_list": [
                  {
                    "target_any_local_reference": {
                      "kind": "app_package",
                      "name": "Package1",
                      "uuid": "fcacaced-0494-462b-9861-48adc9ce7a64"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "DAG",
                    "uuid": "a3297868-0852-4aca-b114-625d2dc49297",
                    "child_tasks_local_reference_list": [
                      "@{kind=app_task; name=SYS_GEN__Install_Crb_fcacaced_0494_462b_9861_48adc9ce7a64; uuid=dfb4fcfe-9050-4717-91d3-cb2cd07f6fd7}"
                    ],
                    "state": "ACTIVE",
                    "attrs": {
                      "edges": "",
                      "type": "DAG"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__DAG_Package_fcacaced_0494_462b_9861_48adc9ce7a64"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_package",
                      "name": "Package1",
                      "uuid": "fcacaced-0494-462b-9861-48adc9ce7a64"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "CUSTOM_PACKAGE_INSTALL",
                    "uuid": "dfb4fcfe-9050-4717-91d3-cb2cd07f6fd7",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "install_runbook": "@{task_definition_list=System.Object[]; description=; message_list=System.Object[]; uuid=30e63ea0-f6a1-4b90-af55-62b6a29fcb38; state=ACTIVE; variable_list=System.Object[]; main_task_local_reference=; name=acb8bbe6_runbook}",
                      "type": "",
                      "upgrade_runbook": "",
                      "uninstall_runbook": "@{task_definition_list=System.Object[]; description=; message_list=System.Object[]; uuid=0cf331ba-94b0-422b-be1a-fb559789c9bc; state=ACTIVE; variable_list=System.Object[]; main_task_local_reference=; name=155af92f_runbook}"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__Install_Crb_fcacaced_0494_462b_9861_48adc9ce7a64"
                  }
                ],
                "description": "",
                "message_list": [],
                "uuid": "58046264-10ec-4e65-9c03-ec12e940c704",
                "state": "ACTIVE",
                "variable_list": [],
                "main_task_local_reference": {
                  "kind": "app_task",
                  "name": "SYS_GEN__DAG_Package_fcacaced_0494_462b_9861_48adc9ce7a64",
                  "uuid": "a3297868-0852-4aca-b114-625d2dc49297"
                },
                "name": "SYS_GEN__Runbook_Package_fcacaced_0494_462b_9861_48adc9ce7a64"
              }
            },
            {
              "description": "System action for creating an application",
              "message_list": [],
              "uuid": "a03888f3-1a2f-4759-9aae-dfe9d860dab9",
              "name": "action_create",
              "state": "ACTIVE",
              "critical": true,
              "attrs": {},
              "type": "system",
              "runbook": {
                "task_definition_list": [
                  {
                    "target_any_local_reference": {
                      "kind": "app_package",
                      "name": "Package1",
                      "uuid": "fcacaced-0494-462b-9861-48adc9ce7a64"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "DAG",
                    "uuid": "8f73850a-64e3-4fcc-859c-8c40991a8c1a",
                    "child_tasks_local_reference_list": [
                      "@{kind=app_task; name=SYS_GEN__install_CRb_Package_fcacaced_0494_462b_9861_48adc9ce7a64; uuid=b6dd198f-63ea-4843-9a9f-bcc897486ee8}",
                      "@{kind=app_task; name=SYS_GEN__create_CRb_Service_a03f1839_6a1a_4664_8d8d_e389d359efa1; uuid=3bd7791c-af21-4198-914c-be06de59cf9e}",
                      "@{kind=app_task; name=SYS_GEN__start_CRb_Service_a03f1839_6a1a_4664_8d8d_e389d359efa1; uuid=2e650331-d323-4439-97f3-d0461757c5af}"
                    ],
                    "state": "ACTIVE",
                    "attrs": {
                      "edges": " ",
                      "type": "DAG"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__Composite_DAG_Package_fcacaced_0494_462b_9861_48adc9ce7a64"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_package",
                      "name": "Package1",
                      "uuid": "fcacaced-0494-462b-9861-48adc9ce7a64"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "CALL_RUNBOOK",
                    "uuid": "b6dd198f-63ea-4843-9a9f-bcc897486ee8",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "inarg_list": "",
                      "type": "CALL_RUNBOOK",
                      "runbook_reference": "@{kind=app_runbook; name=SYS_GEN__Runbook_Package_fcacaced_0494_462b_9861_48adc9ce7a64; uuid=58046264-10ec-4e65-9c03-ec12e940c704}"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__install_CRb_Package_fcacaced_0494_462b_9861_48adc9ce7a64"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_service",
                      "name": "Service1",
                      "uuid": "a03f1839-6a1a-4664-8d8d-e389d359efa1"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "CALL_RUNBOOK",
                    "uuid": "3bd7791c-af21-4198-914c-be06de59cf9e",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "inarg_list": "",
                      "type": "CALL_RUNBOOK",
                      "runbook_reference": "@{kind=app_runbook; name=ff3e502d_runbook; uuid=03c082b3-e5b4-4ff7-a882-a94bc1975fc2}"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__create_CRb_Service_a03f1839_6a1a_4664_8d8d_e389d359efa1"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_service",
                      "name": "Service1",
                      "uuid": "a03f1839-6a1a-4664-8d8d-e389d359efa1"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "CALL_RUNBOOK",
                    "uuid": "2e650331-d323-4439-97f3-d0461757c5af",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "inarg_list": "",
                      "type": "CALL_RUNBOOK",
                      "runbook_reference": "@{kind=app_runbook; name=bcdcb98e_runbook; uuid=e9fb03a8-d799-41bd-b960-5ee92b723b09}"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__start_CRb_Service_a03f1839_6a1a_4664_8d8d_e389d359efa1"
                  }
                ],
                "description": "",
                "message_list": [],
                "uuid": "438b9315-8c2d-45aa-a6ff-db6bcde49c1e",
                "state": "ACTIVE",
                "variable_list": [],
                "main_task_local_reference": {
                  "kind": "app_task",
                  "name": "SYS_GEN__Composite_DAG_Package_fcacaced_0494_462b_9861_48adc9ce7a64",
                  "uuid": "8f73850a-64e3-4fcc-859c-8c40991a8c1a"
                },
                "name": "SYS_GEN__Runbook_Package_fcacaced_0494_462b_9861_48adc9ce7a64"
              }
            },
            {
              "description": "System action for uninstalling an application",
              "message_list": [],
              "uuid": "0c9d0bbe-668c-4870-a6bd-eeeac270a1ad",
              "name": "action_uninstall",
              "state": "ACTIVE",
              "critical": true,
              "attrs": {},
              "type": "system",
              "runbook": {
                "task_definition_list": [
                  {
                    "target_any_local_reference": {
                      "kind": "app_package",
                      "name": "Package1",
                      "uuid": "fcacaced-0494-462b-9861-48adc9ce7a64"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "DAG",
                    "uuid": "2b201817-990e-4a5f-9266-64032eb44245",
                    "child_tasks_local_reference_list": [
                      "@{kind=app_task; name=SYS_GEN__Uninstall_Crb_fcacaced_0494_462b_9861_48adc9ce7a64; uuid=9613ac33-25ae-47dd-a355-043280fc15d6}"
                    ],
                    "state": "ACTIVE",
                    "attrs": {
                      "edges": "",
                      "type": "DAG"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__DAG_Package_fcacaced_0494_462b_9861_48adc9ce7a64"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_package",
                      "name": "Package1",
                      "uuid": "fcacaced-0494-462b-9861-48adc9ce7a64"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "CUSTOM_PACKAGE_UNINSTALL",
                    "uuid": "9613ac33-25ae-47dd-a355-043280fc15d6",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "install_runbook": "@{task_definition_list=System.Object[]; description=; message_list=System.Object[]; uuid=30e63ea0-f6a1-4b90-af55-62b6a29fcb38; state=ACTIVE; variable_list=System.Object[]; main_task_local_reference=; name=acb8bbe6_runbook}",
                      "type": "",
                      "upgrade_runbook": "",
                      "uninstall_runbook": "@{task_definition_list=System.Object[]; description=; message_list=System.Object[]; uuid=0cf331ba-94b0-422b-be1a-fb559789c9bc; state=ACTIVE; variable_list=System.Object[]; main_task_local_reference=; name=155af92f_runbook}"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__Uninstall_Crb_fcacaced_0494_462b_9861_48adc9ce7a64"
                  }
                ],
                "description": "",
                "message_list": [],
                "uuid": "c6830aa7-0fa8-4996-b3bb-9da5f20c745b",
                "state": "ACTIVE",
                "variable_list": [],
                "main_task_local_reference": {
                  "kind": "app_task",
                  "name": "SYS_GEN__DAG_Package_fcacaced_0494_462b_9861_48adc9ce7a64",
                  "uuid": "2b201817-990e-4a5f-9266-64032eb44245"
                },
                "name": "SYS_GEN__Runbook_Package_fcacaced_0494_462b_9861_48adc9ce7a64"
              }
            },
            {
              "description": "System action for deleting an application. Deletes created VMs as well",
              "message_list": [],
              "uuid": "e621a620-7aff-420a-a37c-a938e67a19c7",
              "name": "action_delete",
              "state": "ACTIVE",
              "critical": true,
              "attrs": {},
              "type": "system",
              "runbook": {
                "task_definition_list": [
                  {
                    "target_any_local_reference": {
                      "kind": "app_package",
                      "name": "Package1",
                      "uuid": "fcacaced-0494-462b-9861-48adc9ce7a64"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "DAG",
                    "uuid": "2ca42ad2-9def-450a-9077-5e0f57872061",
                    "child_tasks_local_reference_list": [
                      "@{kind=app_task; name=SYS_GEN__stop_CRb_Service_a03f1839_6a1a_4664_8d8d_e389d359efa1; uuid=0594733e-d909-4cd9-873d-33beab5a234f}",
                      "@{kind=app_task; name=SYS_GEN__delete_CRb_Service_a03f1839_6a1a_4664_8d8d_e389d359efa1; uuid=82308038-39fb-4f60-8aef-2bc050d80006}",
                      "@{kind=app_task; name=SYS_GEN__uninstall_CRb_Package_fcacaced_0494_462b_9861_48adc9ce7a64; uuid=669bba77-69c7-4e22-a97b-0f09360b509f}"
                    ],
                    "state": "ACTIVE",
                    "attrs": {
                      "edges": " ",
                      "type": "DAG"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__Composite_DAG_Package_fcacaced_0494_462b_9861_48adc9ce7a64"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_service",
                      "name": "Service1",
                      "uuid": "a03f1839-6a1a-4664-8d8d-e389d359efa1"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "CALL_RUNBOOK",
                    "uuid": "0594733e-d909-4cd9-873d-33beab5a234f",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "inarg_list": "",
                      "type": "CALL_RUNBOOK",
                      "runbook_reference": "@{kind=app_runbook; name=e6e3ef02_runbook; uuid=bdb6af91-3833-466c-896d-36252f38beb9}"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__stop_CRb_Service_a03f1839_6a1a_4664_8d8d_e389d359efa1"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_service",
                      "name": "Service1",
                      "uuid": "a03f1839-6a1a-4664-8d8d-e389d359efa1"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "CALL_RUNBOOK",
                    "uuid": "82308038-39fb-4f60-8aef-2bc050d80006",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "inarg_list": "",
                      "type": "CALL_RUNBOOK",
                      "runbook_reference": "@{kind=app_runbook; name=c906f5a1_runbook; uuid=69679ae6-027b-40da-bc20-f687a94d5de2}"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__delete_CRb_Service_a03f1839_6a1a_4664_8d8d_e389d359efa1"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_package",
                      "name": "Package1",
                      "uuid": "fcacaced-0494-462b-9861-48adc9ce7a64"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "CALL_RUNBOOK",
                    "uuid": "669bba77-69c7-4e22-a97b-0f09360b509f",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "inarg_list": "",
                      "type": "CALL_RUNBOOK",
                      "runbook_reference": "@{kind=app_runbook; name=SYS_GEN__Runbook_Package_fcacaced_0494_462b_9861_48adc9ce7a64; uuid=c6830aa7-0fa8-4996-b3bb-9da5f20c745b}"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__uninstall_CRb_Package_fcacaced_0494_462b_9861_48adc9ce7a64"
                  }
                ],
                "description": "",
                "message_list": [],
                "uuid": "0d4c479a-eba3-45f4-8afe-9b99f423d8fb",
                "state": "ACTIVE",
                "variable_list": [],
                "main_task_local_reference": {
                  "kind": "app_task",
                  "name": "SYS_GEN__Composite_DAG_Package_fcacaced_0494_462b_9861_48adc9ce7a64",
                  "uuid": "2ca42ad2-9def-450a-9077-5e0f57872061"
                },
                "name": "SYS_GEN__Runbook_Package_fcacaced_0494_462b_9861_48adc9ce7a64"
              }
            },
            {
              "description": "System action for deleting an application. Does not delete created VMs",
              "message_list": [],
              "uuid": "44eed05e-ddde-4314-9960-62b790c8f5e8",
              "name": "action_soft_delete",
              "state": "ACTIVE",
              "critical": true,
              "attrs": {},
              "type": "system",
              "runbook": {
                "task_definition_list": [
                  {
                    "target_any_local_reference": {
                      "kind": "app_package",
                      "name": "Package1",
                      "uuid": "fcacaced-0494-462b-9861-48adc9ce7a64"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "DAG",
                    "uuid": "c639f332-aa16-4c47-8b9e-6e5ac5a1eccb",
                    "child_tasks_local_reference_list": [
                      "@{kind=app_task; name=SYS_GEN__soft_delete_CRb_Service_a03f1839_6a1a_4664_8d8d_e389d359efa1; uuid=244d6500-54ce-4b8d-b512-f758e0f67099}",
                      "@{kind=app_task; name=SYS_GEN__Package_Element_Delete_fcacaced_0494_462b_9861_48adc9ce7a64; uuid=2e51ea7e-53c5-4d15-85f2-1e09f10b67cd}"
                    ],
                    "state": "ACTIVE",
                    "attrs": {
                      "edges": "",
                      "type": "DAG"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__Composite_DAG_Package_fcacaced_0494_462b_9861_48adc9ce7a64"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_service",
                      "name": "Service1",
                      "uuid": "a03f1839-6a1a-4664-8d8d-e389d359efa1"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "CALL_RUNBOOK",
                    "uuid": "244d6500-54ce-4b8d-b512-f758e0f67099",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "inarg_list": "",
                      "type": "CALL_RUNBOOK",
                      "runbook_reference": "@{kind=app_runbook; name=SYS_GEN__Runbook_Service_a03f1839_6a1a_4664_8d8d_e389d359efa1; uuid=011cfb44-53e3-431f-883a-d128db8bd440}"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__soft_delete_CRb_Service_a03f1839_6a1a_4664_8d8d_e389d359efa1"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_package",
                      "name": "Package1",
                      "uuid": "fcacaced-0494-462b-9861-48adc9ce7a64"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "SOFT_DELETE_ELEMENT",
                    "uuid": "2e51ea7e-53c5-4d15-85f2-1e09f10b67cd",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "type": ""
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__Package_Element_Delete_fcacaced_0494_462b_9861_48adc9ce7a64"
                  }
                ],
                "description": "",
                "message_list": [],
                "uuid": "dcc0dd7d-4a2b-4349-b39f-8490ef30e0ac",
                "state": "ACTIVE",
                "variable_list": [],
                "main_task_local_reference": {
                  "kind": "app_task",
                  "name": "SYS_GEN__Composite_DAG_Package_fcacaced_0494_462b_9861_48adc9ce7a64",
                  "uuid": "c639f332-aa16-4c47-8b9e-6e5ac5a1eccb"
                },
                "name": "SYS_GEN__Runbook_Package_fcacaced_0494_462b_9861_48adc9ce7a64"
              }
            },
            {
              "description": "System action for starting an application",
              "message_list": [],
              "uuid": "81c9d6be-309f-4868-b105-76822a960f81",
              "name": "action_start",
              "state": "ACTIVE",
              "critical": true,
              "attrs": {},
              "type": "system",
              "runbook": {
                "task_definition_list": [
                  {
                    "target_any_local_reference": {
                      "kind": "app_package",
                      "name": "Package1",
                      "uuid": "fcacaced-0494-462b-9861-48adc9ce7a64"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "DAG",
                    "uuid": "84b5a12b-2be1-4104-9143-941b7ca26134",
                    "child_tasks_local_reference_list": [
                      "@{kind=app_task; name=SYS_GEN__start_CRb_Service_a03f1839_6a1a_4664_8d8d_e389d359efa1; uuid=183d2dd1-798c-466f-9fc5-3d023273f53c}"
                    ],
                    "state": "ACTIVE",
                    "attrs": {
                      "edges": "",
                      "type": "DAG"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__Composite_DAG_Package_fcacaced_0494_462b_9861_48adc9ce7a64"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_service",
                      "name": "Service1",
                      "uuid": "a03f1839-6a1a-4664-8d8d-e389d359efa1"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "CALL_RUNBOOK",
                    "uuid": "183d2dd1-798c-466f-9fc5-3d023273f53c",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "inarg_list": "",
                      "type": "CALL_RUNBOOK",
                      "runbook_reference": "@{kind=app_runbook; name=bcdcb98e_runbook; uuid=e9fb03a8-d799-41bd-b960-5ee92b723b09}"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__start_CRb_Service_a03f1839_6a1a_4664_8d8d_e389d359efa1"
                  }
                ],
                "description": "",
                "message_list": [],
                "uuid": "f735a4e7-3e94-4a69-980b-3858da03655a",
                "state": "ACTIVE",
                "variable_list": [],
                "main_task_local_reference": {
                  "kind": "app_task",
                  "name": "SYS_GEN__Composite_DAG_Package_fcacaced_0494_462b_9861_48adc9ce7a64",
                  "uuid": "84b5a12b-2be1-4104-9143-941b7ca26134"
                },
                "name": "SYS_GEN__Runbook_Package_fcacaced_0494_462b_9861_48adc9ce7a64"
              }
            },
            {
              "description": "System action for restarting an application",
              "message_list": [],
              "uuid": "3962f915-dd07-421d-92d9-f585d1ec7c5b",
              "name": "action_restart",
              "state": "ACTIVE",
              "critical": true,
              "attrs": {},
              "type": "system",
              "runbook": {
                "task_definition_list": [
                  {
                    "target_any_local_reference": {
                      "kind": "app_package",
                      "name": "Package1",
                      "uuid": "fcacaced-0494-462b-9861-48adc9ce7a64"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "DAG",
                    "uuid": "6e592d39-bcfc-4091-9327-274d02329f48",
                    "child_tasks_local_reference_list": [
                      "@{kind=app_task; name=SYS_GEN__restart_CRb_Service_a03f1839_6a1a_4664_8d8d_e389d359efa1; uuid=5f9feee6-abd0-481e-8485-2300687bbe39}"
                    ],
                    "state": "ACTIVE",
                    "attrs": {
                      "edges": "",
                      "type": "DAG"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__Composite_DAG_Package_fcacaced_0494_462b_9861_48adc9ce7a64"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_service",
                      "name": "Service1",
                      "uuid": "a03f1839-6a1a-4664-8d8d-e389d359efa1"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "CALL_RUNBOOK",
                    "uuid": "5f9feee6-abd0-481e-8485-2300687bbe39",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "inarg_list": "",
                      "type": "CALL_RUNBOOK",
                      "runbook_reference": "@{kind=app_runbook; name=e68a120c_runbook; uuid=96898184-725d-4c96-8825-6c01e88991c4}"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__restart_CRb_Service_a03f1839_6a1a_4664_8d8d_e389d359efa1"
                  }
                ],
                "description": "",
                "message_list": [],
                "uuid": "f9d8e291-f597-482b-8c16-d86b7b68580e",
                "state": "ACTIVE",
                "variable_list": [],
                "main_task_local_reference": {
                  "kind": "app_task",
                  "name": "SYS_GEN__Composite_DAG_Package_fcacaced_0494_462b_9861_48adc9ce7a64",
                  "uuid": "6e592d39-bcfc-4091-9327-274d02329f48"
                },
                "name": "SYS_GEN__Runbook_Package_fcacaced_0494_462b_9861_48adc9ce7a64"
              }
            },
            {
              "description": "System action for stopping an application",
              "message_list": [],
              "uuid": "a2258535-dbb8-4f15-91d4-cdb5fbc1045c",
              "name": "action_stop",
              "state": "ACTIVE",
              "critical": true,
              "attrs": {},
              "type": "system",
              "runbook": {
                "task_definition_list": [
                  {
                    "target_any_local_reference": {
                      "kind": "app_package",
                      "name": "Package1",
                      "uuid": "fcacaced-0494-462b-9861-48adc9ce7a64"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "DAG",
                    "uuid": "fed1d58e-3dcc-4fad-b02f-787baacb526e",
                    "child_tasks_local_reference_list": [
                      "@{kind=app_task; name=SYS_GEN__stop_CRb_Service_a03f1839_6a1a_4664_8d8d_e389d359efa1; uuid=0c41abe0-0d72-4339-a100-6fdcb7746876}"
                    ],
                    "state": "ACTIVE",
                    "attrs": {
                      "edges": "",
                      "type": "DAG"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__Composite_DAG_Package_fcacaced_0494_462b_9861_48adc9ce7a64"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_service",
                      "name": "Service1",
                      "uuid": "a03f1839-6a1a-4664-8d8d-e389d359efa1"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "CALL_RUNBOOK",
                    "uuid": "0c41abe0-0d72-4339-a100-6fdcb7746876",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "inarg_list": "",
                      "type": "CALL_RUNBOOK",
                      "runbook_reference": "@{kind=app_runbook; name=e6e3ef02_runbook; uuid=bdb6af91-3833-466c-896d-36252f38beb9}"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__stop_CRb_Service_a03f1839_6a1a_4664_8d8d_e389d359efa1"
                  }
                ],
                "description": "",
                "message_list": [],
                "uuid": "7295803d-80c3-49a1-bace-50a9b1733cde",
                "state": "ACTIVE",
                "variable_list": [],
                "main_task_local_reference": {
                  "kind": "app_task",
                  "name": "SYS_GEN__Composite_DAG_Package_fcacaced_0494_462b_9861_48adc9ce7a64",
                  "uuid": "fed1d58e-3dcc-4fad-b02f-787baacb526e"
                },
                "name": "SYS_GEN__Runbook_Package_fcacaced_0494_462b_9861_48adc9ce7a64"
              }
            }
          ],
          "message_list": [],
          "service_local_reference_list": [
            {
              "kind": "app_service",
              "name": "Service1",
              "uuid": "a03f1839-6a1a-4664-8d8d-e389d359efa1"
            }
          ],
          "uuid": "fcacaced-0494-462b-9861-48adc9ce7a64",
          "state": "ACTIVE",
          "version": "",
          "editables": {},
          "type": "DEB",
          "options": {
            "install_runbook": {
              "task_definition_list": [
                {
                  "target_any_local_reference": {
                    "kind": "app_package",
                    "name": "Package1",
                    "uuid": "fcacaced-0494-462b-9861-48adc9ce7a64"
                  },
                  "retries": "0",
                  "description": "",
                  "type": "DAG",
                  "uuid": "dd885396-c6c2-4f88-8bd3-e62ae5c75f43",
                  "child_tasks_local_reference_list": [
                    {
                      "kind": "app_task",
                      "name": "configureDns",
                      "uuid": "9dcfc8de-ebd2-4aaf-bb89-77b37a53af13"
                    },
                    {
                      "kind": "app_task",
                      "name": "shutdownGuest",
                      "uuid": "822e0552-d520-4e87-8a83-50a20e125cf5"
                    },
                    {
                      "kind": "app_task",
                      "name": "addNetworkInterfaces",
                      "uuid": "8f74efe1-6384-4ffe-932e-88e80a6ca30d"
                    },
                    {
                      "kind": "app_task",
                      "name": "addAdditionalDisks",
                      "uuid": "e8015e1e-ef1c-4543-b687-221ade2820a2"
                    },
                    {
                      "kind": "app_task",
                      "name": "updateVirtualMachine",
                      "uuid": "fc4fa2e3-1acc-41fc-83e6-df4bf93a9bdd"
                    },
                    {
                      "kind": "app_task",
                      "name": "startVirtualMachine",
                      "uuid": "47a9e407-39c3-4aa9-b1c0-e40f7d2fab40"
                    },
                    {
                      "kind": "app_task",
                      "name": "waitPowerOn",
                      "uuid": "cd61ba46-c99a-4712-bc8e-a0f1035c3440"
                    },
                    {
                      "kind": "app_task",
                      "name": "configureRepo",
                      "uuid": "1874e5a9-1df8-4cd4-a535-ff1fe779af8d"
                    },
                    {
                      "kind": "app_task",
                      "name": "installRequiredPackages",
                      "uuid": "3c6f2f3d-7fa4-45b8-a034-27a6087e953d"
                    },
                    {
                      "kind": "app_task",
                      "name": "instalNgtTools",
                      "uuid": "a1f665ec-e4a3-46e3-970b-2c36e5cd9b1b"
                    }
                  ],
                  "state": "ACTIVE",
                  "attrs": {
                    "edges": [
                      "@{from_task_reference=; edge_type=user_defined; type=; uuid=50eb5c76-435f-414f-ab31-032c426e4b10; to_task_reference=}",
                      "@{from_task_reference=; edge_type=user_defined; type=; uuid=af4905ed-2eac-493a-b210-85e90bf4f09c; to_task_reference=}",
                      "@{from_task_reference=; edge_type=user_defined; type=; uuid=13ea8e25-e6c4-4a37-bda0-9142c0fe8c1d; to_task_reference=}",
                      "@{from_task_reference=; edge_type=user_defined; type=; uuid=46072bc6-f7c9-407c-8a7a-ba34653ae2aa; to_task_reference=}",
                      "@{from_task_reference=; edge_type=user_defined; type=; uuid=e4d866b6-076b-4395-8b90-81c94b919dd8; to_task_reference=}",
                      "@{from_task_reference=; edge_type=user_defined; type=; uuid=2fcd6f5b-c1b2-4481-b8e8-81ef06cabd7f; to_task_reference=}",
                      "@{from_task_reference=; edge_type=user_defined; type=; uuid=938dede6-5912-4280-aede-b0f66c7827fb; to_task_reference=}",
                      "@{from_task_reference=; edge_type=user_defined; type=; uuid=156c2f64-4f4b-47f7-a89b-c05ded07fd19; to_task_reference=}",
                      "@{from_task_reference=; edge_type=user_defined; type=; uuid=4d7149bb-a21d-41fe-a3c5-feafd230383b; to_task_reference=}"
                    ],
                    "type": ""
                  },
                  "timeout_secs": "0",
                  "inherit_target": false,
                  "message_list": [],
                  "variable_list": [],
                  "name": "2c5169c7_dag"
                },
                {
                  "target_any_local_reference": {
                    "kind": "app_service",
                    "name": "Service1",
                    "uuid": "a03f1839-6a1a-4664-8d8d-e389d359efa1"
                  },
                  "retries": "0",
                  "description": "",
                  "type": "EXEC",
                  "uuid": "9dcfc8de-ebd2-4aaf-bb89-77b37a53af13",
                  "child_tasks_local_reference_list": [],
                  "state": "ACTIVE",
                  "attrs": {
                    "script_type": "sh",
                    "type": "",
                    "command_line_args": "",
                    "exit_status": [],
                    "script": "<<COMMENT\nSCRIPT INFORMATION\n .NAME:\n\tname: getVirtualMachinesFromPrismCentral\n .TYPE:\n\tNutanix Calm escript. Set Variable / Task\n . DESCRIPTION:\n\tThis action is a Template. Describe the funcionality of this ACTION\n .EXPECTED RESULT:\n\tFunction should return object type STRING with VALUE:\n .AUTHOR:\n\tDavid Ríos Delgado <david.riosdelgado@nutanix.com>\n .VERSION HISTORY:\n\t1.0.0\tInit version.\n .TESTED ON:\n\tNutanix Calm \n                3.0.0.X\n .FUNCTIONS:\n\n .INPUT PARAMETERS:\n\t@param \n        {string}\n        {Mandatory]\n        {Name=inputExample1}\n        {Description=This is an example 1}\n\t@param \n        {string}\n        {Mandatory]\n        {Name=inputExample2}\n        {Description=This is an example 2}\n\n .GLOBAL VARIABLES:\n\n .BLOCK VARIABLES:\n\n .RETURN\n\tresultObjs = {String}\n\nCOMMENT\n#FUNCTIONS\n#INPUT VARIABLES\n#GLOBAL VARIABLES\n#MAIN CODE BLOCK EXECUTION\n##Execution Block 1 - Get virtual machine api pagination - Variables\n##Execution Block 1 - Get virtual machine api pagination - Main Code\nsudo bash -c 'cat > /etc/resolv.conf <<EOF\nsearch @@{domainName}@@\nnameserver @@{dns1}@@\nnameserver @@{dns2}@@\nEOF\n'"
                  },
                  "timeout_secs": "0",
                  "inherit_target": false,
                  "message_list": [],
                  "variable_list": [],
                  "name": "configureDns"
                },
                {
                  "target_any_local_reference": {
                    "kind": "app_service",
                    "name": "Service1",
                    "uuid": "a03f1839-6a1a-4664-8d8d-e389d359efa1"
                  },
                  "retries": "0",
                  "description": "",
                  "type": "EXEC",
                  "uuid": "822e0552-d520-4e87-8a83-50a20e125cf5",
                  "child_tasks_local_reference_list": [],
                  "state": "ACTIVE",
                  "attrs": {
                    "script_type": "sh",
                    "type": "",
                    "command_line_args": "",
                    "exit_status": [],
                    "script": "#<<COMMENT\nSCRIPT INFORMATION\n .NAME:\n\tname: shutdownGuestMachines\n .TYPE:\n\tNutanix Calm shell script. \n . DESCRIPTION:\n\tThis action will shutdown the guest VM.\n .EXPECTED RESULT:\n\tThe guest VMs should be down once this fuction is executed.\n .AUTHOR:\n\tStalin Stepin <stalin.stepin@nutanix.com>\n .VERSION HISTORY:\n\t1.0.0\tInit version.\n .TESTED ON:\n\tNutanix Calm \n                3.0.0.X\n\nCOMMENT\n#FUNCTIONS\n#INPUT VARIABLES\n#GLOBAL VARIABLES\n#MAIN CODE BLOCK EXECUTION\n##Execution Block 1 - Get virtual machine api pagination - Variables\n##Execution Block 1 - Get virtual machine api pagination - Main Code\nsudo shutdown -h now"
                  },
                  "timeout_secs": "0",
                  "inherit_target": false,
                  "message_list": [],
                  "variable_list": [],
                  "name": "shutdownGuest"
                },
                {
                  "target_any_local_reference": {
                    "kind": "app_service",
                    "name": "Service1",
                    "uuid": "a03f1839-6a1a-4664-8d8d-e389d359efa1"
                  },
                  "retries": "0",
                  "description": "",
                  "type": "EXEC",
                  "uuid": "8f74efe1-6384-4ffe-932e-88e80a6ca30d",
                  "child_tasks_local_reference_list": [],
                  "state": "ACTIVE",
                  "attrs": {
                    "script_type": "static",
                    "type": "",
                    "command_line_args": "",
                    "exit_status": [],
                    "script": "#"
                  },
                  "timeout_secs": "0",
                  "inherit_target": false,
                  "message_list": [],
                  "variable_list": [],
                  "name": "addNetworkInterfaces"
                },
                {
                  "target_any_local_reference": {
                    "kind": "app_service",
                    "name": "Service1",
                    "uuid": "a03f1839-6a1a-4664-8d8d-e389d359efa1"
                  },
                  "retries": "0",
                  "description": "",
                  "type": "EXEC",
                  "uuid": "e8015e1e-ef1c-4543-b687-221ade2820a2",
                  "child_tasks_local_reference_list": [],
                  "state": "ACTIVE",
                  "attrs": {
                    "script_type": "static",
                    "type": "",
                    "command_line_args": "",
                    "exit_status": [],
                    "script": "#"
                  },
                  "timeout_secs": "0",
                  "inherit_target": false,
                  "message_list": [],
                  "variable_list": [],
                  "name": "addAdditionalDisks"
                },
                {
                  "target_any_local_reference": {
                    "kind": "app_service",
                    "name": "Service1",
                    "uuid": "a03f1839-6a1a-4664-8d8d-e389d359efa1"
                  },
                  "retries": "0",
                  "description": "",
                  "type": "EXEC",
                  "uuid": "fc4fa2e3-1acc-41fc-83e6-df4bf93a9bdd",
                  "child_tasks_local_reference_list": [],
                  "state": "ACTIVE",
                  "attrs": {
                    "script_type": "static",
                    "type": "",
                    "command_line_args": "",
                    "exit_status": [],
                    "script": "#"
                  },
                  "timeout_secs": "0",
                  "inherit_target": false,
                  "message_list": [],
                  "variable_list": [],
                  "name": "updateVirtualMachine"
                },
                {
                  "target_any_local_reference": {
                    "kind": "app_service",
                    "name": "Service1",
                    "uuid": "a03f1839-6a1a-4664-8d8d-e389d359efa1"
                  },
                  "retries": "0",
                  "description": "",
                  "type": "CALL_RUNBOOK",
                  "uuid": "47a9e407-39c3-4aa9-b1c0-e40f7d2fab40",
                  "child_tasks_local_reference_list": [],
                  "state": "ACTIVE",
                  "attrs": {
                    "inarg_list": [],
                    "type": "CALL_RUNBOOK",
                    "runbook_reference": {
                      "kind": "app_runbook",
                      "name": "bcdcb98e_runbook",
                      "uuid": "e9fb03a8-d799-41bd-b960-5ee92b723b09"
                    }
                  },
                  "timeout_secs": "0",
                  "inherit_target": false,
                  "message_list": [],
                  "variable_list": [],
                  "name": "startVirtualMachine"
                },
                {
                  "target_any_local_reference": {
                    "kind": "app_service",
                    "name": "Service1",
                    "uuid": "a03f1839-6a1a-4664-8d8d-e389d359efa1"
                  },
                  "retries": "0",
                  "description": "",
                  "type": "EXEC",
                  "uuid": "cd61ba46-c99a-4712-bc8e-a0f1035c3440",
                  "child_tasks_local_reference_list": [],
                  "state": "ACTIVE",
                  "attrs": {
                    "script_type": "static",
                    "type": "",
                    "command_line_args": "",
                    "exit_status": [],
                    "script": "#"
                  },
                  "timeout_secs": "0",
                  "inherit_target": false,
                  "message_list": [],
                  "variable_list": [],
                  "name": "waitPowerOn"
                },
                {
                  "target_any_local_reference": {
                    "kind": "app_service",
                    "name": "Service1",
                    "uuid": "a03f1839-6a1a-4664-8d8d-e389d359efa1"
                  },
                  "retries": "0",
                  "description": "",
                  "type": "EXEC",
                  "uuid": "1874e5a9-1df8-4cd4-a535-ff1fe779af8d",
                  "child_tasks_local_reference_list": [],
                  "state": "ACTIVE",
                  "attrs": {
                    "script_type": "sh",
                    "type": "",
                    "command_line_args": "",
                    "exit_status": [],
                    "script": "# Configure the remote server repo for the clients.\nsudo echo '\n[remote]\nname=RHEL Apache\nbaseurl=http://172.17.76.141\nenabled=1\ngpgcheck=0' | sudo tee -a /etc/yum.repos.d/remote.repo\n\nsudo yum install tree -y\nsudo yum info tree"
                  },
                  "timeout_secs": "0",
                  "inherit_target": false,
                  "message_list": [],
                  "variable_list": [],
                  "name": "configureRepo"
                },
                {
                  "target_any_local_reference": {
                    "kind": "app_service",
                    "name": "Service1",
                    "uuid": "a03f1839-6a1a-4664-8d8d-e389d359efa1"
                  },
                  "retries": "0",
                  "description": "",
                  "type": "EXEC",
                  "uuid": "3c6f2f3d-7fa4-45b8-a034-27a6087e953d",
                  "child_tasks_local_reference_list": [],
                  "state": "ACTIVE",
                  "attrs": {
                    "script_type": "sh",
                    "type": "",
                    "command_line_args": "",
                    "exit_status": [],
                    "script": "<<COMMENT\nsudo dnf install -y \\\n        sssd \\\n        realmd \\\n        oddjob \\\n        oddjob-mkhomedir \\\n        adcli \\\n        samba-common \\\n        samba-common-tools \\\n        krb5-workstation \\\n        openldap-clients \\\n        policycoreutils-python-utils \\\n        chrony \\\n        tar \\\n        python3 \nCOMMENT"
                  },
                  "timeout_secs": "0",
                  "inherit_target": false,
                  "message_list": [],
                  "variable_list": [],
                  "name": "installRequiredPackages"
                },
                {
                  "target_any_local_reference": {
                    "kind": "app_service",
                    "name": "Service1",
                    "uuid": "a03f1839-6a1a-4664-8d8d-e389d359efa1"
                  },
                  "retries": "0",
                  "description": "",
                  "type": "EXEC",
                  "uuid": "a1f665ec-e4a3-46e3-970b-2c36e5cd9b1b",
                  "child_tasks_local_reference_list": [],
                  "state": "ACTIVE",
                  "attrs": {
                    "script_type": "sh",
                    "type": "",
                    "command_line_args": "",
                    "exit_status": [],
                    "script": "##Execution Block 1 - Get virtual machine api pagination - Main Code\n#sudo mount /dev/sr0 /mnt\n#sudo python3 /mnt/installer/linux/install_ngt.py\n#sudo eject\n#sudo systemctl enable ngt_guest_agent"
                  },
                  "timeout_secs": "0",
                  "inherit_target": false,
                  "message_list": [],
                  "variable_list": [],
                  "name": "instalNgtTools"
                }
              ],
              "description": "",
              "message_list": [],
              "uuid": "30e63ea0-f6a1-4b90-af55-62b6a29fcb38",
              "state": "ACTIVE",
              "variable_list": [],
              "main_task_local_reference": {
                "kind": "app_task",
                "name": "2c5169c7_dag",
                "uuid": "dd885396-c6c2-4f88-8bd3-e62ae5c75f43"
              },
              "name": "acb8bbe6_runbook"
            },
            "type": "",
            "upgrade_runbook": {},
            "uninstall_runbook": {
              "task_definition_list": [
                {
                  "target_any_local_reference": {
                    "kind": "app_package",
                    "name": "Package1",
                    "uuid": "fcacaced-0494-462b-9861-48adc9ce7a64"
                  },
                  "retries": "0",
                  "description": "",
                  "type": "DAG",
                  "uuid": "495f9b50-3710-41c3-8304-0dacdd7dac4e",
                  "child_tasks_local_reference_list": [],
                  "state": "ACTIVE",
                  "attrs": {
                    "edges": [],
                    "type": ""
                  },
                  "timeout_secs": "0",
                  "inherit_target": false,
                  "message_list": [],
                  "variable_list": [],
                  "name": "022642f5_dag"
                }
              ],
              "description": "",
              "message_list": [],
              "uuid": "0cf331ba-94b0-422b-be1a-fb559789c9bc",
              "state": "ACTIVE",
              "variable_list": [],
              "main_task_local_reference": {
                "kind": "app_task",
                "name": "022642f5_dag",
                "uuid": "495f9b50-3710-41c3-8304-0dacdd7dac4e"
              },
              "name": "155af92f_runbook"
            }
          },
          "variable_list": [],
          "name": "Package1"
        }
      ]
    },
    "name": "Linux Base Blueprintv2"
  },
  "spec": {
    "description": "",
    "resources": {
      "client_attrs": {
        "4429ea15_deployment": {
          "y": 70.4084699561,
          "x": 1244.2732140751
        },
        "None": {
          "y": 524.5,
          "x": 1368
        }
      },
      "service_definition_list": [
        {
          "singleton": false,
          "action_list": [
            {
              "description": "System action for creating an application",
              "type": "system",
              "critical": false,
              "runbook": {
                "task_definition_list": [
                  {
                    "target_any_local_reference": {
                      "kind": "app_service",
                      "name": "Service1"
                    },
                    "retries": "0",
                    "description": "",
                    "inherit_target": false,
                    "child_tasks_local_reference_list": [
                      "@{kind=app_task; name=configureBackupInterface}",
                      "@{kind=app_task; name=configurePrivateInterface}",
                      "@{kind=app_task; name=configureDisks}",
                      "@{kind=app_task; name=createAuthLists}",
                      "@{kind=app_task; name=addLoginUsers}",
                      "@{kind=app_task; name=joinActiveDirectory}",
                      "@{kind=app_task; name=installBackupAgent}",
                      "@{kind=app_task; name=installAntivirusAgent}"
                    ],
                    "name": "4d06857d_dag",
                    "attrs": {
                      "edges": "      ",
                      "type": ""
                    },
                    "timeout_secs": "0",
                    "type": "DAG",
                    "variable_list": []
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_service",
                      "name": "Service1"
                    },
                    "retries": "0",
                    "description": "",
                    "inherit_target": false,
                    "child_tasks_local_reference_list": [],
                    "name": "configureBackupInterface",
                    "attrs": {
                      "script": "#",
                      "type": "",
                      "command_line_args": "",
                      "exit_status": "",
                      "script_type": "sh"
                    },
                    "timeout_secs": "0",
                    "type": "EXEC",
                    "variable_list": []
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_service",
                      "name": "Service1"
                    },
                    "retries": "0",
                    "description": "",
                    "inherit_target": false,
                    "child_tasks_local_reference_list": [],
                    "name": "configurePrivateInterface",
                    "attrs": {
                      "script": "#",
                      "type": "",
                      "command_line_args": "",
                      "exit_status": "",
                      "script_type": "sh"
                    },
                    "timeout_secs": "0",
                    "type": "EXEC",
                    "variable_list": []
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_service",
                      "name": "Service1"
                    },
                    "retries": "0",
                    "description": "",
                    "inherit_target": false,
                    "child_tasks_local_reference_list": [],
                    "name": "configureDisks",
                    "attrs": {
                      "script": "#",
                      "type": "",
                      "command_line_args": "",
                      "exit_status": "",
                      "script_type": "sh"
                    },
                    "timeout_secs": "0",
                    "type": "EXEC",
                    "variable_list": []
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_service",
                      "name": "Service1"
                    },
                    "retries": "0",
                    "description": "",
                    "inherit_target": false,
                    "child_tasks_local_reference_list": [],
                    "name": "createAuthLists",
                    "attrs": {
                      "exit_status": "",
                      "script": "def varToBase64(var):\n    varToString = json.dumps(var, separators=(',', ':'))\n    encoded = base64.b64encode(varToString.encode('ascii'))\n    return encoded\n\nloginGroups = ('''@@{loginGroups}@@'''.splitlines())\nadministrativeGroups = ('''@@{administrativeGroups}@@'''.splitlines())\nloginUsers = ('''@@{loginUsers}@@'''.splitlines())\nadministrativeUsers = ('''@@{administrativeUsers}@@'''.splitlines())\ndefaultUser = \"@@{calm_username}@@\"\nprojectName = \"@@{calm_project_name}@@\"\ndomainName = \"@@{domainName}@@\"\njwt = '@@{calm_jwt}@@'\npayload = {\n  \"kind\": \"project\",\n  \"filter\": \"name=={}\".format(projectName)\n}\n\napi_url = 'https://localhost:9440/api/nutanix/v3/projects/list'\nheaders = {'Content-Type': 'application/json',  'Accept':'application/json', 'Authorization': 'Bearer {}'.format(jwt)}\nr = urlreq(api_url, verb='POST', params=json.dumps(payload), headers=headers, verify=False)\nif r.ok:\n    resp = json.loads(r.content)\n    projectAdGroups = resp['entities'][0]['spec']['resources']['external_user_group_reference_list']\nelse:\n    print \"Post request failed\", r.content\n    exit(1)\n\n\nfor adGroup in projectAdGroups:\n    loginGroups.append(((((adGroup['name']).replace('CN=', '')).replace('cn=', '')).split(','))[0] + \"@\" + domainName)\n\nadministrativeUsers.append(defaultUser)\nloginUserList = loginUsers + administrativeUsers\nloginGroupList = loginGroups + administrativeGroups\n\n\nprint(\"loginUsersList={}\".format(varToBase64(loginUserList)))\nprint(\"loginGroupsList={}\".format(varToBase64(loginGroupList)))\nprint(\"adminUsersList={}\".format(varToBase64(administrativeUsers)))\nprint(\"adminGroupsList={}\".format(varToBase64(administrativeGroups)))",
                      "eval_variables": "loginUsersList loginGroupsList adminUsersList adminGroupsList",
                      "eval_scope": "local",
                      "type": "",
                      "script_type": "static"
                    },
                    "timeout_secs": "0",
                    "type": "SET_VARIABLE",
                    "variable_list": []
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_service",
                      "name": "Service1"
                    },
                    "retries": "0",
                    "description": "",
                    "inherit_target": false,
                    "child_tasks_local_reference_list": [],
                    "name": "addLoginUsers",
                    "attrs": {
                      "script": "test=$(\n\techo \"@@{loginUsersList}@@\" | \n    base64 -d | \n    sed 's/\\\"//g' | \n    sed 's/\\[//g' | \n    sed 's/\\]//g' |  \n    sed 's/\\,/ /g'\n)\nIFS=' ' read -ra my_array <<< \"$test\"\nfor i in ${my_array[*]}; \n\tdo \n    \tsudo realm permit $i\n\tdone",
                      "type": "",
                      "command_line_args": "",
                      "exit_status": "",
                      "script_type": "sh"
                    },
                    "timeout_secs": "0",
                    "type": "EXEC",
                    "variable_list": []
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_service",
                      "name": "Service1"
                    },
                    "retries": "0",
                    "description": "",
                    "inherit_target": false,
                    "child_tasks_local_reference_list": [],
                    "name": "joinActiveDirectory",
                    "attrs": {
                      "script": "<<COMMENT\nSCRIPT INFORMATION\n .NAME:\n\tname: getVirtualMachinesFromPrismCentral\n .TYPE:\n\tNutanix Calm escript. Set Variable / Task\n . DESCRIPTION:\n\tThis action is a Template. Describe the funcionality of this ACTION\n .EXPECTED RESULT:\n\tFunction should return object type STRING with VALUE:\n .AUTHOR:\n\tDavid Ríos Delgado <david.riosdelgado@nutanix.com>\n .VERSION HISTORY:\n\t1.0.0\tInit version.\n .TESTED ON:\n\tNutanix Calm \n                3.0.0.X\n .FUNCTIONS:\n\n .INPUT PARAMETERS:\n\t@param \n        {string}\n        {Mandatory]\n        {Name=inputExample1}\n        {Description=This is an example 1}\n\t@param \n        {string}\n        {Mandatory]\n        {Name=inputExample2}\n        {Description=This is an example 2}\n\n .GLOBAL VARIABLES:\n\n .BLOCK VARIABLES:\n\n .RETURN\n\n\nCOMMENT\n#FUNCTIONS\n\n#INPUT VARIABLES\n\n#GLOBAL VARIABLES\n\n#MAIN CODE BLOCK EXECUTION\n##Execution Block 1 - Get virtual machine api pagination - Variables\n\n##Execution Block 1 - Get virtual machine api pagination - Main Code\nsudo bash -c 'echo @@{domainAdminCreds.secret}@@ | realm join --user=@@{domainAdminCreds.username}@@ @@{domainName}@@'\nsudo bash -c 'sed -i \"s/use_fully_qualified_names = True/use_fully_qualified_names = False/g\" /etc/sssd/sssd.conf'\nsudo bash -c 'sed -i \"s/%u@%d/%u/g\" /etc/sssd/sssd.conf'\nsudo systemctl restart sssd\nsudo systemctl daemon-reload",
                      "type": "",
                      "command_line_args": "",
                      "exit_status": "",
                      "script_type": "sh"
                    },
                    "timeout_secs": "0",
                    "type": "EXEC",
                    "variable_list": []
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_service",
                      "name": "Service1"
                    },
                    "retries": "0",
                    "description": "",
                    "inherit_target": false,
                    "child_tasks_local_reference_list": [],
                    "name": "installBackupAgent",
                    "attrs": {
                      "script": "#",
                      "type": "",
                      "command_line_args": "",
                      "exit_status": "",
                      "script_type": "sh"
                    },
                    "timeout_secs": "0",
                    "type": "EXEC",
                    "variable_list": []
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_service",
                      "name": "Service1"
                    },
                    "retries": "0",
                    "description": "",
                    "inherit_target": false,
                    "child_tasks_local_reference_list": [],
                    "name": "installAntivirusAgent",
                    "attrs": {
                      "exit_status": "",
                      "script": "#",
                      "script_type": "sh",
                      "type": "",
                      "command_line_args": "",
                      "login_credential_local_reference": "@{kind=app_credential; name=ntnxCalmCred}"
                    },
                    "timeout_secs": "0",
                    "type": "EXEC",
                    "variable_list": []
                  }
                ],
                "description": "",
                "name": "ff3e502d_runbook",
                "main_task_local_reference": {
                  "kind": "app_task",
                  "name": "4d06857d_dag"
                },
                "variable_list": [
                  {
                    "val_type": "STRING",
                    "is_mandatory": false,
                    "description": "",
                    "data_type": "BASE",
                    "type": "LOCAL",
                    "name": "adminGroupsList",
                    "value": "",
                    "label": "",
                    "attrs": {
                      "type": ""
                    },
                    "is_hidden": false,
                    "options": {
                      "type": "PREDEFINED",
                      "choices": ""
                    }
                  },
                  {
                    "val_type": "STRING",
                    "is_mandatory": false,
                    "description": "",
                    "data_type": "BASE",
                    "type": "LOCAL",
                    "name": "adminUsersList",
                    "value": "",
                    "label": "",
                    "attrs": {
                      "type": ""
                    },
                    "is_hidden": false,
                    "options": {
                      "type": "PREDEFINED",
                      "choices": ""
                    }
                  },
                  {
                    "val_type": "STRING",
                    "is_mandatory": false,
                    "description": "",
                    "data_type": "BASE",
                    "type": "LOCAL",
                    "name": "loginGroupsList",
                    "value": "",
                    "label": "",
                    "attrs": {
                      "type": ""
                    },
                    "is_hidden": false,
                    "options": {
                      "type": "PREDEFINED",
                      "choices": ""
                    }
                  },
                  {
                    "val_type": "STRING",
                    "is_mandatory": false,
                    "description": "",
                    "data_type": "BASE",
                    "type": "LOCAL",
                    "name": "loginUsersList",
                    "value": "",
                    "label": "",
                    "attrs": {
                      "type": ""
                    },
                    "is_hidden": false,
                    "options": {
                      "type": "PREDEFINED",
                      "choices": ""
                    }
                  }
                ]
              },
              "name": "action_create"
            },
            {
              "description": "System action for deleting an application. Deletes created VMs as well",
              "type": "system",
              "critical": false,
              "runbook": {
                "task_definition_list": [
                  {
                    "target_any_local_reference": {
                      "kind": "app_service",
                      "name": "Service1"
                    },
                    "retries": "0",
                    "description": "",
                    "inherit_target": false,
                    "child_tasks_local_reference_list": [],
                    "name": "b3d3c433_dag",
                    "attrs": {
                      "edges": "",
                      "type": ""
                    },
                    "timeout_secs": "0",
                    "type": "DAG",
                    "variable_list": []
                  }
                ],
                "description": "",
                "name": "c906f5a1_runbook",
                "main_task_local_reference": {
                  "kind": "app_task",
                  "name": "b3d3c433_dag"
                },
                "variable_list": []
              },
              "name": "action_delete"
            },
            {
              "description": "System action for starting an application",
              "type": "system",
              "critical": false,
              "runbook": {
                "task_definition_list": [
                  {
                    "target_any_local_reference": {
                      "kind": "app_service",
                      "name": "Service1"
                    },
                    "retries": "0",
                    "description": "",
                    "inherit_target": false,
                    "child_tasks_local_reference_list": [],
                    "name": "afa53fcc_dag",
                    "attrs": {
                      "edges": "",
                      "type": ""
                    },
                    "timeout_secs": "0",
                    "type": "DAG",
                    "variable_list": []
                  }
                ],
                "description": "",
                "name": "bcdcb98e_runbook",
                "main_task_local_reference": {
                  "kind": "app_task",
                  "name": "afa53fcc_dag"
                },
                "variable_list": []
              },
              "name": "action_start"
            },
            {
              "description": "System action for stopping an application",
              "type": "system",
              "critical": false,
              "runbook": {
                "task_definition_list": [
                  {
                    "target_any_local_reference": {
                      "kind": "app_service",
                      "name": "Service1"
                    },
                    "retries": "0",
                    "description": "",
                    "inherit_target": false,
                    "child_tasks_local_reference_list": [],
                    "name": "f2a98240_dag",
                    "attrs": {
                      "edges": "",
                      "type": ""
                    },
                    "timeout_secs": "0",
                    "type": "DAG",
                    "variable_list": []
                  }
                ],
                "description": "",
                "name": "e6e3ef02_runbook",
                "main_task_local_reference": {
                  "kind": "app_task",
                  "name": "f2a98240_dag"
                },
                "variable_list": []
              },
              "name": "action_stop"
            },
            {
              "description": "System action for restarting an application",
              "type": "system",
              "critical": false,
              "runbook": {
                "task_definition_list": [
                  {
                    "target_any_local_reference": {
                      "kind": "app_service",
                      "name": "Service1"
                    },
                    "retries": "0",
                    "description": "",
                    "inherit_target": false,
                    "child_tasks_local_reference_list": [],
                    "name": "ee176b7f_dag",
                    "attrs": {
                      "edges": "",
                      "type": ""
                    },
                    "timeout_secs": "0",
                    "type": "DAG",
                    "variable_list": []
                  }
                ],
                "description": "",
                "name": "e68a120c_runbook",
                "main_task_local_reference": {
                  "kind": "app_task",
                  "name": "ee176b7f_dag"
                },
                "variable_list": []
              },
              "name": "action_restart"
            }
          ],
          "depends_on_list": [],
          "name": "Service1",
          "port_list": [],
          "tier": "",
          "variable_list": [
            {
              "val_type": "STRING",
              "is_mandatory": false,
              "description": "",
              "data_type": "BASE",
              "type": "LOCAL",
              "name": "ntp1",
              "value": "",
              "label": "",
              "attrs": {
                "type": ""
              },
              "is_hidden": false,
              "options": {
                "type": "PREDEFINED",
                "choices": []
              }
            },
            {
              "val_type": "STRING",
              "is_mandatory": false,
              "description": "",
              "data_type": "BASE",
              "type": "LOCAL",
              "name": "ntp2",
              "value": "",
              "label": "",
              "attrs": {
                "type": ""
              },
              "is_hidden": false,
              "options": {
                "type": "PREDEFINED",
                "choices": []
              }
            },
            {
              "val_type": "STRING",
              "is_mandatory": false,
              "description": "",
              "data_type": "BASE",
              "type": "LOCAL",
              "name": "antivirusAgentPath",
              "value": "",
              "label": "",
              "attrs": {
                "type": ""
              },
              "is_hidden": false,
              "options": {
                "type": "PREDEFINED",
                "choices": []
              }
            },
            {
              "val_type": "STRING",
              "is_mandatory": false,
              "description": "",
              "data_type": "BASE",
              "type": "LOCAL",
              "name": "backupAgentPath",
              "value": "",
              "label": "",
              "attrs": {
                "type": ""
              },
              "is_hidden": false,
              "options": {
                "type": "PREDEFINED",
                "choices": []
              }
            },
            {
              "val_type": "STRING",
              "is_mandatory": false,
              "description": "",
              "data_type": "BASE",
              "type": "LOCAL",
              "name": "domainName",
              "value": "",
              "label": "",
              "attrs": {
                "type": ""
              },
              "is_hidden": false,
              "options": {
                "type": "PREDEFINED",
                "choices": []
              }
            },
            {
              "val_type": "STRING",
              "is_mandatory": false,
              "description": "",
              "data_type": "BASE",
              "type": "LOCAL",
              "name": "netDeviceName",
              "value": "ens3",
              "label": "",
              "attrs": {
                "type": ""
              },
              "is_hidden": false,
              "options": {
                "type": "PREDEFINED",
                "choices": []
              }
            },
            {
              "val_type": "STRING",
              "is_mandatory": false,
              "description": "",
              "data_type": "BASE",
              "type": "LOCAL",
              "name": "sshPublicKey",
              "value": "",
              "label": "",
              "attrs": {
                "type": ""
              },
              "is_hidden": false,
              "options": {
                "type": "PREDEFINED",
                "choices": []
              }
            },
            {
              "val_type": "STRING",
              "is_mandatory": false,
              "description": "",
              "data_type": "BASE",
              "type": "LOCAL",
              "name": "dns1",
              "value": "172.17.73.2",
              "label": "",
              "attrs": {
                "type": ""
              },
              "is_hidden": false,
              "options": {
                "type": "PREDEFINED",
                "choices": []
              }
            },
            {
              "val_type": "STRING",
              "is_mandatory": false,
              "description": "",
              "data_type": "BASE",
              "type": "LOCAL",
              "name": "dns2",
              "value": "172.17.90.20",
              "label": "",
              "attrs": {
                "type": ""
              },
              "is_hidden": false,
              "options": {
                "type": "PREDEFINED",
                "choices": []
              }
            },
            {
              "val_type": "STRING",
              "is_mandatory": false,
              "description": "",
              "data_type": "BASE",
              "type": "LOCAL",
              "name": "dns3",
              "value": "172.18.4.18",
              "label": "",
              "attrs": {
                "type": ""
              },
              "is_hidden": false,
              "options": {
                "type": "PREDEFINED",
                "choices": []
              }
            }
          ],
          "description": ""
        }
      ],
      "substrate_definition_list": [
        {
          "description": "",
          "action_list": [
            {
              "description": "",
              "type": "fragment",
              "critical": false,
              "runbook": {
                "task_definition_list": [
                  {
                    "target_any_local_reference": {
                      "kind": "app_substrate",
                      "name": "VM1"
                    },
                    "retries": "0",
                    "description": "",
                    "inherit_target": false,
                    "child_tasks_local_reference_list": [
                      "@{kind=app_task; name=setProductionNetwork}"
                    ],
                    "name": "22b68bee_dag",
                    "attrs": {
                      "edges": "",
                      "type": ""
                    },
                    "timeout_secs": "0",
                    "type": "DAG",
                    "variable_list": []
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_substrate",
                      "name": "VM1"
                    },
                    "retries": "0",
                    "description": "",
                    "inherit_target": false,
                    "child_tasks_local_reference_list": [],
                    "name": "setProductionNetwork",
                    "attrs": {
                      "exit_status": "",
                      "script": "#script\n'''\nSCRIPT INFORMATION\n .NAME:\n\tname: getVirtualMachinesFromPrismCentral\n .TYPE:\n\tNutanix Calm escript. Set Variable / Task\n .DESCRIPTION:\n\tThis action is a Template. Describe the funcionality of this ACTION\n .EXPECTED RESULT:\n\tFunction should return object type STRING with VALUE:\n .AUTHOR:\n\tDavid Ríos Delgado <david.riosdelgado@nutanix.com>\n .VERSION HISTORY:\n\t1.0.0\tInit version.\n .TESTED ON:\n\tNutanix Calm \n                3.0.0.X\n .FUNCTIONS:\n\t@Gfunction\t\n        mainAction(payload, newEvent):\n\t\tExecutes the main code in this action.\n .INPUT PARAMETERS:\n\t@param \n        {string}\n        {Mandatory]\n        {Name=inputExample1}\n        {Description=This is an example 1}\n\t@param \n        {string}\n        {Mandatory]\n        {Name=inputExample2}\n        {Description=This is an example 2}\n .GLOBAL VARIABLES:\n\t@Mparam \n        {string}\n        {Mandatory}\n        {Name=type}\n        {Description=Describes the type of vRealize Orchestrator script}\n .BLOCK VARIABLES:\n\t@Mparam \n        {string}\n        {Mandatory}\n        {Name=type}\n        {Description=Describes the type of vRealize Orchestrator script}\n .RETURN\n\tresultObjs = {String}\n\n'''\n\n#INPUT VARIABLES\nproject = '@@{calm_project_name}@@'\nclusterSelection = '@@{clusterSelection}@@'\nnetworkSelection = '@@{productionInterfaceNetwork}@@'\njwt = '@@{calm_jwt}@@'\noffset = 0\nlength = 500\nlistNetwork = []\nlistSelection = []\n#FUNCTIONS\n\n#GLOBAL VARIABLES\n\n#MAIN CODE BLOCK EXECUTION\n##Execution Block 1 - Get virtual machine api pagination - Variables\napi_url = 'https://localhost:9440/api/nutanix/v3/projects/list'\nheaders = {'Content-Type': 'application/json',  'Accept':'application/json', 'Authorization': 'Bearer {}'.format(jwt)}\npayload = {\n  \"kind\": \"project\"\n}\n##Execution Block 1 - Get virtual machine api pagination - Main Code\nr = urlreq(api_url, verb='POST', params=json.dumps(payload), headers=headers, verify=False)\nif r.ok:\n    resp = json.loads(r.content)\n    iterations = ((int(resp['metadata']['total_matches'])) / length) + 1\nelse:\n    print (\"Post request failed\", r.content)\n    exit(1)\n\n##Execution Block 2 - Get virtual machine list - Variables\napi_url = 'https://localhost:9440/api/nutanix/v3/projects/list'\nheaders = {'Content-Type': 'application/json',  'Accept':'application/json', 'Authorization': 'Bearer {}'.format(jwt)}\n##Execution Block 2 - Get virtual machine list - Main Code\nfor iterator in range(iterations): \n    payload = {\n      \"kind\": \"project\",\n      \"length\": length,\n      \"offset\": offset\n    }\n    r = urlreq(api_url, verb='POST', params=json.dumps(payload), headers=headers, verify=False)\n    if r.ok:\n        resp = json.loads(r.content)\n    else:\n        print (\"Post request failed\", r.content)\n        exit(1)\n    for item in resp[\"entities\"]:\n        if project in item['spec']['name']:\n            for netResource in item['spec']['resources']['subnet_reference_list']:\n                listNetwork.append(netResource['uuid'])\n    offset = offset + length\n\n##Execution Block 2 - Get virtual machine list - Variables\nheaders = {'Content-Type': 'application/json',  'Accept':'application/json', 'Authorization': 'Bearer {}'.format(jwt)}\n##Execution Block 2 - Get virtual machine list - Main Code\nfor netUuid in listNetwork:\n    api_url = 'https://localhost:9440/api/nutanix/v3/subnets/{}'.format(netUuid)\n    r = urlreq(api_url, verb='GET', headers=headers, verify=False)\n    if r.ok:\n        resp = json.loads(r.content)\n        if (((resp['spec']['cluster_reference']['name']) == clusterSelection) and (resp['spec']['name'] == networkSelection)):\n            selectedUuid = netUuid\n            print(\"netUuid\")\n            break\n    else:\n        print (\"Post request failed\", r.content)\n        exit(1)\n\nnetwork = {\"name\":networkSelection,\"uuid\":\"{}\".format(selectedUuid)}\n\n#RETURN\nprint (\"productionNetwork={}\".format(json.dumps(network)))",
                      "eval_variables": "productionNetwork",
                      "eval_scope": "local",
                      "type": "",
                      "script_type": "static"
                    },
                    "timeout_secs": "0",
                    "type": "SET_VARIABLE",
                    "variable_list": []
                  }
                ],
                "description": "",
                "name": "8103e2f7_runbook",
                "main_task_local_reference": {
                  "kind": "app_task",
                  "name": "22b68bee_dag"
                },
                "variable_list": []
              },
              "name": "pre_action_create"
            },
            {
              "description": "",
              "type": "fragment",
              "critical": false,
              "runbook": {
                "task_definition_list": [
                  {
                    "target_any_local_reference": {
                      "kind": "app_substrate",
                      "name": "VM1"
                    },
                    "retries": "0",
                    "description": "",
                    "inherit_target": false,
                    "child_tasks_local_reference_list": [],
                    "name": "5b52803c_dag",
                    "attrs": {
                      "edges": "",
                      "type": ""
                    },
                    "timeout_secs": "0",
                    "type": "DAG",
                    "variable_list": []
                  }
                ],
                "description": "",
                "name": "30f3cc31_runbook",
                "main_task_local_reference": {
                  "kind": "app_task",
                  "name": "5b52803c_dag"
                },
                "variable_list": []
              },
              "name": "post_action_delete"
            }
          ],
          "type": "AHV_VM",
          "name": "VM1",
          "readiness_probe": {
            "connection_type": "SSH",
            "retries": "5",
            "connection_protocol": "",
            "connection_port": 22,
            "address": "@@{platform.status.resources.nic_list[0].ip_endpoint_list[0].ip}@@",
            "delay_secs": "60",
            "disable_readiness_probe": false,
            "login_credential_local_reference": {
              "kind": "app_credential",
              "name": "rootCreds"
            }
          },
          "editables": {
            "create_spec": {
              "resources": {
                "nic_list": {},
                "serial_port_list": {}
              }
            }
          },
          "os_type": "Linux",
          "create_spec": {
            "name": "@@{calm_application_name}@@",
            "resources": {
              "nic_list": [
                {
                  "nic_type": "NORMAL_NIC",
                  "vpc_reference": null,
                  "ip_endpoint_list": [],
                  "network_function_chain_reference": null,
                  "network_function_nic_type": "INGRESS",
                  "mac_address": "",
                  "subnet_reference": {
                    "kind": "subnet",
                    "type": "",
                    "name": "",
                    "uuid": "cb284e43-16ee-460e-b75b-90c03dcad640"
                  },
                  "type": ""
                }
              ],
              "serial_port_list": [],
              "guest_tools": null,
              "num_vcpus_per_socket": 1,
              "num_sockets": 1,
              "gpu_list": [],
              "memory_size_mib": 1024,
              "parent_reference": null,
              "hardware_clock_timezone": "",
              "guest_customization": {
                "cloud_init": {
                  "meta_data": "",
                  "type": "",
                  "user_data": "#cloud-config\nhostname: @@{calm_application_name}@@\nfqdn: @@{calm_application_name}@@.@@{Service1.domainName}@@\nusers:\n  - name: ntnxcalm\n    ssh-authorized-keys:\n      - @@{Service1.sshPublicKey}@@\n    sudo: ['ALL=(ALL) NOPASSWD:ALL']\nchpasswd:\n  list: |\n    root:@@{rootCreds.secret}@@\n  expire: False\nssh_pwauth:   true\n#Config net file\nwrite_files:\n  - content: |\n      DEVICE=@@{Service1.netDeviceName}@@\n      NAME=@@{Service1.netDeviceName}@@\n      TYPE=Ethernet\n      NM_CONTROLLED=yes\n      ONBOOT=yes\n      BOOTPROTO=static\n      IPADDR=@@{productionInterfaceIp}@@\n      NETMASK=@@{productionInterfaceNetmask}@@\n      GATEWAY=@@{productionInterfaceGateway}@@\n    path: /etc/sysconfig/network-scripts/ifcfg-@@{Service1.netDeviceName}@@\nruncmd:\n  - [nmcli, connection, reload]\n  - [systemctl, mask, cloud-init-local, cloud-init, cloud-config, cloud-final]\n  - [eject]"
                },
                "type": "",
                "sysprep": null
              },
              "power_state": "ON",
              "type": "",
              "account_uuid": "28b0cf0a-59e5-4d3e-bef1-80bca0b8e4ff",
              "boot_config": {
                "boot_device": {
                  "type": "",
                  "disk_address": {
                    "type": "",
                    "device_index": 0,
                    "adapter_type": "SCSI"
                  }
                },
                "type": "",
                "boot_type": "",
                "mac_address": ""
              },
              "disk_list": [
                {
                  "data_source_reference": {
                    "kind": "image",
                    "type": "",
                    "name": "REHL7.8CALM-Temp",
                    "uuid": "c8d55966-13f8-4e06-80c1-ba5462fb2358"
                  },
                  "type": "",
                  "disk_size_mib": 0,
                  "volume_group_reference": null,
                  "device_properties": {
                    "type": "",
                    "disk_address": {
                      "type": "",
                      "device_index": 0,
                      "adapter_type": "SCSI"
                    },
                    "device_type": "DISK"
                  }
                }
              ]
            },
            "availability_zone_reference": null,
            "backup_policy": null,
            "type": "",
            "cluster_reference": null,
            "categories": {}
          },
          "variable_list": []
        }
      ],
      "endpoint_definition_list": [],
      "credential_definition_list": [
        {
          "username": "ntnxCalm",
          "description": "",
          "type": "KEY",
          "secret": {
            "attrs": {
              "is_secret_modified": false,
              "secret_reference": {}
            }
          },
          "name": "ntnxCalmCred",
          "cred_class": "static"
        },
        {
          "username": "root",
          "description": "",
          "type": "PASSWORD",
          "secret": {
            "attrs": {
              "is_secret_modified": false,
              "secret_reference": {}
            }
          },
          "name": "rootCreds",
          "cred_class": "static"
        },
        {
          "username": "serveradmin",
          "description": "",
          "type": "PASSWORD",
          "secret": {
            "attrs": {
              "is_secret_modified": false,
              "secret_reference": {}
            }
          },
          "name": "serverAdmin",
          "cred_class": "static"
        },
        {
          "username": "test",
          "description": "",
          "type": "PASSWORD",
          "secret": {
            "attrs": {
              "is_secret_modified": false,
              "secret_reference": {}
            }
          },
          "name": "domainAdminCreds",
          "cred_class": "static"
        }
      ],
      "package_definition_list": [
        {
          "description": "",
          "action_list": [],
          "type": "DEB",
          "service_local_reference_list": [
            {
              "kind": "app_service",
              "name": "Service1"
            }
          ],
          "name": "Package1",
          "version": "",
          "options": {
            "install_runbook": {
              "task_definition_list": [
                {
                  "target_any_local_reference": {
                    "kind": "app_package",
                    "name": "Package1"
                  },
                  "retries": "0",
                  "description": "",
                  "inherit_target": false,
                  "child_tasks_local_reference_list": [
                    {
                      "kind": "app_task",
                      "name": "configureDns"
                    },
                    {
                      "kind": "app_task",
                      "name": "shutdownGuest"
                    },
                    {
                      "kind": "app_task",
                      "name": "addNetworkInterfaces"
                    },
                    {
                      "kind": "app_task",
                      "name": "addAdditionalDisks"
                    },
                    {
                      "kind": "app_task",
                      "name": "updateVirtualMachine"
                    },
                    {
                      "kind": "app_task",
                      "name": "startVirtualMachine"
                    },
                    {
                      "kind": "app_task",
                      "name": "waitPowerOn"
                    },
                    {
                      "kind": "app_task",
                      "name": "configureRepo"
                    },
                    {
                      "kind": "app_task",
                      "name": "installRequiredPackages"
                    },
                    {
                      "kind": "app_task",
                      "name": "instalNgtTools"
                    }
                  ],
                  "name": "2c5169c7_dag",
                  "attrs": {
                    "edges": [
                      "@{from_task_reference=; edge_type=user_defined; type=; to_task_reference=}",
                      "@{from_task_reference=; edge_type=user_defined; type=; to_task_reference=}",
                      "@{from_task_reference=; edge_type=user_defined; type=; to_task_reference=}",
                      "@{from_task_reference=; edge_type=user_defined; type=; to_task_reference=}",
                      "@{from_task_reference=; edge_type=user_defined; type=; to_task_reference=}",
                      "@{from_task_reference=; edge_type=user_defined; type=; to_task_reference=}",
                      "@{from_task_reference=; edge_type=user_defined; type=; to_task_reference=}",
                      "@{from_task_reference=; edge_type=user_defined; type=; to_task_reference=}",
                      "@{from_task_reference=; edge_type=user_defined; type=; to_task_reference=}"
                    ],
                    "type": ""
                  },
                  "timeout_secs": "0",
                  "type": "DAG",
                  "variable_list": []
                },
                {
                  "target_any_local_reference": {
                    "kind": "app_service",
                    "name": "Service1"
                  },
                  "retries": "0",
                  "description": "",
                  "inherit_target": false,
                  "child_tasks_local_reference_list": [],
                  "name": "configureDns",
                  "attrs": {
                    "script": "<<COMMENT\nSCRIPT INFORMATION\n .NAME:\n\tname: getVirtualMachinesFromPrismCentral\n .TYPE:\n\tNutanix Calm escript. Set Variable / Task\n . DESCRIPTION:\n\tThis action is a Template. Describe the funcionality of this ACTION\n .EXPECTED RESULT:\n\tFunction should return object type STRING with VALUE:\n .AUTHOR:\n\tDavid Ríos Delgado <david.riosdelgado@nutanix.com>\n .VERSION HISTORY:\n\t1.0.0\tInit version.\n .TESTED ON:\n\tNutanix Calm \n                3.0.0.X\n .FUNCTIONS:\n\n .INPUT PARAMETERS:\n\t@param \n        {string}\n        {Mandatory]\n        {Name=inputExample1}\n        {Description=This is an example 1}\n\t@param \n        {string}\n        {Mandatory]\n        {Name=inputExample2}\n        {Description=This is an example 2}\n\n .GLOBAL VARIABLES:\n\n .BLOCK VARIABLES:\n\n .RETURN\n\tresultObjs = {String}\n\nCOMMENT\n#FUNCTIONS\n#INPUT VARIABLES\n#GLOBAL VARIABLES\n#MAIN CODE BLOCK EXECUTION\n##Execution Block 1 - Get virtual machine api pagination - Variables\n##Execution Block 1 - Get virtual machine api pagination - Main Code\nsudo bash -c 'cat > /etc/resolv.conf <<EOF\nsearch @@{domainName}@@\nnameserver @@{dns1}@@\nnameserver @@{dns2}@@\nEOF\n'",
                    "type": "",
                    "command_line_args": "",
                    "exit_status": [],
                    "script_type": "sh"
                  },
                  "timeout_secs": "0",
                  "type": "EXEC",
                  "variable_list": []
                },
                {
                  "target_any_local_reference": {
                    "kind": "app_service",
                    "name": "Service1"
                  },
                  "retries": "0",
                  "description": "",
                  "inherit_target": false,
                  "child_tasks_local_reference_list": [],
                  "name": "shutdownGuest",
                  "attrs": {
                    "script": "#<<COMMENT\nSCRIPT INFORMATION\n .NAME:\n\tname: shutdownGuestMachines\n .TYPE:\n\tNutanix Calm shell script. \n . DESCRIPTION:\n\tThis action will shutdown the guest VM.\n .EXPECTED RESULT:\n\tThe guest VMs should be down once this fuction is executed.\n .AUTHOR:\n\tStalin Stepin <stalin.stepin@nutanix.com>\n .VERSION HISTORY:\n\t1.0.0\tInit version.\n .TESTED ON:\n\tNutanix Calm \n                3.0.0.X\n\nCOMMENT\n#FUNCTIONS\n#INPUT VARIABLES\n#GLOBAL VARIABLES\n#MAIN CODE BLOCK EXECUTION\n##Execution Block 1 - Get virtual machine api pagination - Variables\n##Execution Block 1 - Get virtual machine api pagination - Main Code\nsudo shutdown -h now",
                    "type": "",
                    "command_line_args": "",
                    "exit_status": [],
                    "script_type": "sh"
                  },
                  "timeout_secs": "0",
                  "type": "EXEC",
                  "variable_list": []
                },
                {
                  "target_any_local_reference": {
                    "kind": "app_service",
                    "name": "Service1"
                  },
                  "retries": "0",
                  "description": "",
                  "inherit_target": false,
                  "child_tasks_local_reference_list": [],
                  "name": "addNetworkInterfaces",
                  "attrs": {
                    "script": "#",
                    "type": "",
                    "command_line_args": "",
                    "exit_status": [],
                    "script_type": "static"
                  },
                  "timeout_secs": "0",
                  "type": "EXEC",
                  "variable_list": []
                },
                {
                  "target_any_local_reference": {
                    "kind": "app_service",
                    "name": "Service1"
                  },
                  "retries": "0",
                  "description": "",
                  "inherit_target": false,
                  "child_tasks_local_reference_list": [],
                  "name": "addAdditionalDisks",
                  "attrs": {
                    "script": "#",
                    "type": "",
                    "command_line_args": "",
                    "exit_status": [],
                    "script_type": "static"
                  },
                  "timeout_secs": "0",
                  "type": "EXEC",
                  "variable_list": []
                },
                {
                  "target_any_local_reference": {
                    "kind": "app_service",
                    "name": "Service1"
                  },
                  "retries": "0",
                  "description": "",
                  "inherit_target": false,
                  "child_tasks_local_reference_list": [],
                  "name": "updateVirtualMachine",
                  "attrs": {
                    "script": "#",
                    "type": "",
                    "command_line_args": "",
                    "exit_status": [],
                    "script_type": "static"
                  },
                  "timeout_secs": "0",
                  "type": "EXEC",
                  "variable_list": []
                },
                {
                  "target_any_local_reference": {
                    "kind": "app_service",
                    "name": "Service1"
                  },
                  "retries": "0",
                  "description": "",
                  "inherit_target": false,
                  "child_tasks_local_reference_list": [],
                  "name": "startVirtualMachine",
                  "attrs": {
                    "type": "CALL_RUNBOOK",
                    "inarg_list": [],
                    "runbook_reference": {
                      "kind": "app_runbook",
                      "name": "bcdcb98e_runbook"
                    }
                  },
                  "timeout_secs": "0",
                  "type": "CALL_RUNBOOK",
                  "variable_list": []
                },
                {
                  "target_any_local_reference": {
                    "kind": "app_service",
                    "name": "Service1"
                  },
                  "retries": "0",
                  "description": "",
                  "inherit_target": false,
                  "child_tasks_local_reference_list": [],
                  "name": "waitPowerOn",
                  "attrs": {
                    "script": "#",
                    "type": "",
                    "command_line_args": "",
                    "exit_status": [],
                    "script_type": "static"
                  },
                  "timeout_secs": "0",
                  "type": "EXEC",
                  "variable_list": []
                },
                {
                  "target_any_local_reference": {
                    "kind": "app_service",
                    "name": "Service1"
                  },
                  "retries": "0",
                  "description": "",
                  "inherit_target": false,
                  "child_tasks_local_reference_list": [],
                  "name": "configureRepo",
                  "attrs": {
                    "script": "# Configure the remote server repo for the clients.\nsudo echo '\n[remote]\nname=RHEL Apache\nbaseurl=http://172.17.76.141\nenabled=1\ngpgcheck=0' | sudo tee -a /etc/yum.repos.d/remote.repo\n\nsudo yum install tree -y\nsudo yum info tree",
                    "type": "",
                    "command_line_args": "",
                    "exit_status": [],
                    "script_type": "sh"
                  },
                  "timeout_secs": "0",
                  "type": "EXEC",
                  "variable_list": []
                },
                {
                  "target_any_local_reference": {
                    "kind": "app_service",
                    "name": "Service1"
                  },
                  "retries": "0",
                  "description": "",
                  "inherit_target": false,
                  "child_tasks_local_reference_list": [],
                  "name": "installRequiredPackages",
                  "attrs": {
                    "script": "<<COMMENT\nsudo dnf install -y \\\n        sssd \\\n        realmd \\\n        oddjob \\\n        oddjob-mkhomedir \\\n        adcli \\\n        samba-common \\\n        samba-common-tools \\\n        krb5-workstation \\\n        openldap-clients \\\n        policycoreutils-python-utils \\\n        chrony \\\n        tar \\\n        python3 \nCOMMENT",
                    "type": "",
                    "command_line_args": "",
                    "exit_status": [],
                    "script_type": "sh"
                  },
                  "timeout_secs": "0",
                  "type": "EXEC",
                  "variable_list": []
                },
                {
                  "target_any_local_reference": {
                    "kind": "app_service",
                    "name": "Service1"
                  },
                  "retries": "0",
                  "description": "",
                  "inherit_target": false,
                  "child_tasks_local_reference_list": [],
                  "name": "instalNgtTools",
                  "attrs": {
                    "script": "##Execution Block 1 - Get virtual machine api pagination - Main Code\n#sudo mount /dev/sr0 /mnt\n#sudo python3 /mnt/installer/linux/install_ngt.py\n#sudo eject\n#sudo systemctl enable ngt_guest_agent",
                    "type": "",
                    "command_line_args": "",
                    "exit_status": [],
                    "script_type": "sh"
                  },
                  "timeout_secs": "0",
                  "type": "EXEC",
                  "variable_list": []
                }
              ],
              "description": "",
              "name": "acb8bbe6_runbook",
              "main_task_local_reference": {
                "kind": "app_task",
                "name": "2c5169c7_dag"
              },
              "variable_list": []
            },
            "type": "",
            "uninstall_runbook": {
              "task_definition_list": [
                {
                  "target_any_local_reference": {
                    "kind": "app_package",
                    "name": "Package1"
                  },
                  "retries": "0",
                  "description": "",
                  "inherit_target": false,
                  "child_tasks_local_reference_list": [],
                  "name": "022642f5_dag",
                  "attrs": {
                    "edges": [],
                    "type": ""
                  },
                  "timeout_secs": "0",
                  "type": "DAG",
                  "variable_list": []
                }
              ],
              "description": "",
              "name": "155af92f_runbook",
              "main_task_local_reference": {
                "kind": "app_task",
                "name": "022642f5_dag"
              },
              "variable_list": []
            },
            "upgrade_runbook": {}
          },
          "variable_list": []
        }
      ],
      "app_profile_list": [
        {
          "deployment_create_list": [
            {
              "type": "GREENFIELD",
              "action_list": [],
              "name": "4429ea15_deployment",
              "min_replicas": "1",
              "default_replicas": "1",
              "depends_on_list": [],
              "published_service_local_reference_list": [],
              "max_replicas": "1",
              "package_local_reference_list": [
                {
                  "kind": "app_package",
                  "name": "Package1"
                }
              ],
              "substrate_local_reference": {
                "kind": "app_substrate",
                "name": "VM1"
              },
              "variable_list": [],
              "description": ""
            }
          ],
          "environment_reference_list": [],
          "application_url": "",
          "description": "",
          "action_list": [],
          "name": "AHV",
          "restore_config_list": [],
          "snapshot_config_list": [],
          "patch_list": [],
          "variable_list": [
            {
              "regex": {
                "should_validate": false,
                "value": "^[\\d]*$"
              },
              "val_type": "INT",
              "is_mandatory": false,
              "description": "",
              "data_type": "BASE",
              "type": "LOCAL",
              "name": "vDiskVar",
              "value": "0",
              "label": "/var size",
              "attrs": {
                "type": ""
              },
              "editables": {
                "value": true
              },
              "is_hidden": false,
              "options": {
                "type": "PREDEFINED",
                "choices": []
              }
            },
            {
              "regex": {
                "should_validate": false,
                "value": "^[\\d]*$"
              },
              "val_type": "INT",
              "is_mandatory": false,
              "description": "",
              "data_type": "BASE",
              "type": "LOCAL",
              "name": "vDiskUsr",
              "value": "0",
              "label": "/usr size",
              "attrs": {
                "type": ""
              },
              "editables": {
                "value": true
              },
              "is_hidden": false,
              "options": {
                "type": "PREDEFINED",
                "choices": []
              }
            },
            {
              "regex": {
                "should_validate": false,
                "value": "^[\\d]*$"
              },
              "val_type": "INT",
              "is_mandatory": false,
              "description": "",
              "data_type": "BASE",
              "type": "LOCAL",
              "name": "vDiskOpt",
              "value": "0",
              "label": "/opt size",
              "attrs": {
                "type": ""
              },
              "editables": {
                "value": true
              },
              "is_hidden": false,
              "options": {
                "type": "PREDEFINED",
                "choices": []
              }
            },
            {
              "regex": {
                "should_validate": false,
                "value": "^[\\d]*$"
              },
              "val_type": "INT",
              "is_mandatory": false,
              "description": "",
              "data_type": "BASE",
              "type": "LOCAL",
              "name": "vDiskHome",
              "value": "0",
              "label": "/home size",
              "attrs": {
                "type": "LOCAL"
              },
              "editables": {
                "value": true
              },
              "is_hidden": false,
              "options": {
                "type": "PREDEFINED",
                "choices": []
              }
            },
            {
              "regex": {
                "should_validate": false,
                "value": "^(.|\\n)*$"
              },
              "val_type": "MULTILINE_STRING",
              "is_mandatory": false,
              "description": "",
              "data_type": "BASE",
              "type": "LOCAL",
              "name": "administrativeUsers",
              "value": "",
              "label": "Administrative Users",
              "attrs": {
                "type": ""
              },
              "editables": {
                "value": true
              },
              "is_hidden": false,
              "options": {
                "type": "PREDEFINED",
                "choices": []
              }
            },
            {
              "regex": {
                "should_validate": false,
                "value": "^(.|\\n)*$"
              },
              "val_type": "MULTILINE_STRING",
              "is_mandatory": false,
              "description": "",
              "data_type": "BASE",
              "type": "LOCAL",
              "name": "loginUsers",
              "value": "",
              "label": "Login Users",
              "attrs": {
                "type": ""
              },
              "editables": {
                "value": true
              },
              "is_hidden": false,
              "options": {
                "type": "PREDEFINED",
                "choices": []
              }
            },
            {
              "val_type": "STRING",
              "is_mandatory": false,
              "description": "",
              "data_type": "BASE",
              "type": "LOCAL",
              "name": "privateInterfaceNetmask",
              "value": "",
              "label": "Private interface: NETMASK",
              "attrs": {
                "type": ""
              },
              "editables": {
                "value": true
              },
              "is_hidden": false,
              "options": {
                "type": "PREDEFINED",
                "choices": []
              }
            },
            {
              "val_type": "STRING",
              "is_mandatory": false,
              "description": "",
              "data_type": "BASE",
              "type": "LOCAL",
              "name": "privateInterfaceIp",
              "value": "",
              "label": "Private interface: IP",
              "attrs": {
                "type": ""
              },
              "editables": {
                "value": true
              },
              "is_hidden": false,
              "options": {
                "type": "PREDEFINED",
                "choices": []
              }
            },
            {
              "val_type": "STRING",
              "is_mandatory": false,
              "description": "",
              "data_type": "BASE",
              "type": "EXEC_LOCAL",
              "name": "privateInterfaceNetwork",
              "value": "",
              "label": "Private interface: NETWORK",
              "attrs": {
                "type": ""
              },
              "editables": {
                "value": true
              },
              "is_hidden": false,
              "options": {
                "type": "EXEC",
                "attrs": {
                  "script": "#script\n#Global Variables\nproject = '@@{calm_project_name}@@'\nclusterSelection = '@@{clusterSelection}@@'\noffset = 0\nlength = 500\nlistNetwork = []\nlistSelection = []\n\npayload = {\n  \"kind\": \"project\"\n}\npcUser = \"@@{pcUser}@@\"\npcUserPassword = \"@@{pcUserPassword}@@\"\n\n#Global Functions\ndef varToBase64(var):\n    varToString = json.dumps(var, separators=(',', ':'))\n    encoded = base64.b64encode(varToString.encode('ascii'))\n    return encoded\n\n#Main Code\napi_url = 'https://localhost:9440/api/nutanix/v3/projects/list'\nheaders = {'Content-Type': 'application/json',  'Accept':'application/json'}\nr = urlreq(api_url, verb='POST', params=json.dumps(payload), headers=headers, verify=False, auth='BASIC', user=pcUser, passwd=pcUserPassword)\nif r.ok:\n    resp = json.loads(r.content)\n    iterations = ((int(resp['metadata']['total_matches'])) / length) + 1\nelse:\n    print \"Post request failed\", r.content\n    exit(1)\nfor iterator in range(iterations): \n    payload = {\n      \"kind\": \"project\",\n      \"length\": length,\n      \"offset\": offset\n    }\n    api_url = 'https://localhost:9440/api/nutanix/v3/projects/list'\n    headers = {'Content-Type': 'application/json',  'Accept':'application/json'}\n    r = urlreq(api_url, verb='POST', params=json.dumps(payload), headers=headers, verify=False, auth='BASIC', user=pcUser, passwd=pcUserPassword)\n    if r.ok:\n        resp = json.loads(r.content)\n    else:\n        print \"Post request failed\", r.content\n        exit(1)\n\n    for item in resp[\"entities\"]:\n        if project in item['spec']['name']:\n            for netResource in item['spec']['resources']['subnet_reference_list']:\n                listNetwork.append(netResource['uuid'])\n    offset = offset + length\n\nfor netUuid in listNetwork:\n    api_url = 'https://localhost:9440/api/nutanix/v3/subnets/{}'.format(netUuid)\n    headers = {'Content-Type': 'application/json',  'Accept':'application/json'}\n    r = urlreq(api_url, verb='GET', headers=headers, verify=False, auth='BASIC', user=pcUser, passwd=pcUserPassword)\n    if r.ok:\n        resp = json.loads(r.content)\n        if ((resp['spec']['cluster_reference']['name']) == clusterSelection):\n            listSelection.append(resp['spec']['name']) \n    else:\n        print \"Post request failed\", r.content\n        exit(1)\n\n#Return\n#print (varToBase64(result))\nlistSelection = sorted(dict.fromkeys(listSelection))\nlistSelection.insert(0, \"None\")\nprint \",\".join(map(str,listSelection))\n#print ((result))\nexit(0)",
                  "type": "EXEC",
                  "command_line_args": "",
                  "exit_status": [],
                  "script_type": "static"
                }
              }
            },
            {
              "val_type": "STRING",
              "is_mandatory": false,
              "description": "",
              "data_type": "BASE",
              "type": "LOCAL",
              "name": "backupInterfaceGateway",
              "value": "",
              "label": "Backup interface: GATEWAY",
              "attrs": {
                "type": ""
              },
              "editables": {
                "value": true
              },
              "is_hidden": false,
              "options": {
                "type": "PREDEFINED",
                "choices": []
              }
            },
            {
              "val_type": "STRING",
              "is_mandatory": false,
              "description": "",
              "data_type": "BASE",
              "type": "LOCAL",
              "name": "backupInterfaceNetmask",
              "value": "",
              "label": "Backup interface: NETMASK",
              "attrs": {
                "type": ""
              },
              "editables": {
                "value": true
              },
              "is_hidden": false,
              "options": {
                "type": "PREDEFINED",
                "choices": []
              }
            },
            {
              "val_type": "STRING",
              "is_mandatory": false,
              "description": "",
              "data_type": "BASE",
              "type": "LOCAL",
              "name": "backupInterfaceIP",
              "value": "",
              "label": "Backup interface: IP",
              "attrs": {
                "type": ""
              },
              "editables": {
                "value": true
              },
              "is_hidden": false,
              "options": {
                "type": "PREDEFINED",
                "choices": []
              }
            },
            {
              "val_type": "STRING",
              "is_mandatory": false,
              "description": "",
              "data_type": "BASE",
              "type": "EXEC_LOCAL",
              "name": "backupInterfaceNetwork",
              "value": "",
              "label": "Backup interface: NETWORK",
              "attrs": {
                "type": ""
              },
              "editables": {
                "value": true
              },
              "is_hidden": false,
              "options": {
                "type": "EXEC",
                "attrs": {
                  "script": "#script\n#Global Variables\nproject = '@@{calm_project_name}@@'\nclusterSelection = '@@{clusterSelection}@@'\noffset = 0\nlength = 500\nlistNetwork = []\nlistSelection = []\n\npayload = {\n  \"kind\": \"project\"\n}\npcUser = \"@@{pcUser}@@\"\npcUserPassword = \"@@{pcUserPassword}@@\"\n\n#Global Functions\ndef varToBase64(var):\n    varToString = json.dumps(var, separators=(',', ':'))\n    encoded = base64.b64encode(varToString.encode('ascii'))\n    return encoded\n\n#Main Code\napi_url = 'https://localhost:9440/api/nutanix/v3/projects/list'\nheaders = {'Content-Type': 'application/json',  'Accept':'application/json'}\nr = urlreq(api_url, verb='POST', params=json.dumps(payload), headers=headers, verify=False, auth='BASIC', user=pcUser, passwd=pcUserPassword)\nif r.ok:\n    resp = json.loads(r.content)\n    iterations = ((int(resp['metadata']['total_matches'])) / length) + 1\nelse:\n    print \"Post request failed\", r.content\n    exit(1)\nfor iterator in range(iterations): \n    payload = {\n      \"kind\": \"project\",\n      \"length\": length,\n      \"offset\": offset\n    }\n    api_url = 'https://localhost:9440/api/nutanix/v3/projects/list'\n    headers = {'Content-Type': 'application/json',  'Accept':'application/json'}\n    r = urlreq(api_url, verb='POST', params=json.dumps(payload), headers=headers, verify=False, auth='BASIC', user=pcUser, passwd=pcUserPassword)\n    if r.ok:\n        resp = json.loads(r.content)\n    else:\n        print \"Post request failed\", r.content\n        exit(1)\n\n    for item in resp[\"entities\"]:\n        if project in item['spec']['name']:\n            for netResource in item['spec']['resources']['subnet_reference_list']:\n                listNetwork.append(netResource['uuid'])\n    offset = offset + length\n\nfor netUuid in listNetwork:\n    api_url = 'https://localhost:9440/api/nutanix/v3/subnets/{}'.format(netUuid)\n    headers = {'Content-Type': 'application/json',  'Accept':'application/json'}\n    r = urlreq(api_url, verb='GET', headers=headers, verify=False, auth='BASIC', user=pcUser, passwd=pcUserPassword)\n    if r.ok:\n        resp = json.loads(r.content)\n        if ((resp['spec']['cluster_reference']['name']) == clusterSelection):\n            listSelection.append(resp['spec']['name']) \n    else:\n        print \"Post request failed\", r.content\n        exit(1)\n\n#Return\n#print (varToBase64(result))\nlistSelection = sorted(dict.fromkeys(listSelection))\nlistSelection.insert(0, \"None\")\nprint \",\".join(map(str,listSelection))\n#print ((result))\nexit(0)",
                  "type": "EXEC",
                  "command_line_args": "",
                  "exit_status": [],
                  "script_type": "static"
                }
              }
            },
            {
              "val_type": "STRING",
              "is_mandatory": false,
              "description": "",
              "data_type": "BASE",
              "type": "LOCAL",
              "name": "productionInterfaceGateway",
              "value": "172.17.75.254",
              "label": "Production interface: GATEWAY",
              "attrs": {
                "type": ""
              },
              "editables": {
                "value": true
              },
              "is_hidden": false,
              "options": {
                "type": "PREDEFINED",
                "choices": []
              }
            },
            {
              "val_type": "STRING",
              "is_mandatory": false,
              "description": "",
              "data_type": "BASE",
              "type": "LOCAL",
              "name": "productionInterfaceNetmask",
              "value": "255.255.255.0",
              "label": "Production interface: NETMASK",
              "attrs": {
                "type": ""
              },
              "editables": {
                "value": true
              },
              "is_hidden": false,
              "options": {
                "type": "PREDEFINED",
                "choices": []
              }
            },
            {
              "regex": {
                "should_validate": true,
                "value": ""
              },
              "val_type": "STRING",
              "is_mandatory": false,
              "description": "",
              "data_type": "BASE",
              "type": "LOCAL",
              "name": "productionInterfaceIp",
              "value": "172.17.75.60",
              "label": "Production interface: IP",
              "attrs": {
                "type": ""
              },
              "editables": {
                "value": true
              },
              "is_hidden": false,
              "options": {
                "type": "PREDEFINED",
                "choices": []
              }
            },
            {
              "regex": {
                "should_validate": false,
                "value": "^.*$"
              },
              "val_type": "STRING",
              "is_mandatory": false,
              "description": "",
              "data_type": "BASE",
              "type": "EXEC_LOCAL",
              "name": "productionInterfaceNetwork",
              "value": "",
              "label": "Production interface: NETWORK",
              "attrs": {
                "type": ""
              },
              "editables": {
                "value": true
              },
              "is_hidden": false,
              "options": {
                "type": "EXEC",
                "attrs": {
                  "script": "#script\n#Global Variables\nproject = '@@{calm_project_name}@@'\nclusterSelection = '@@{clusterSelection}@@'\noffset = 0\nlength = 500\nlistNetwork = []\nlistSelection = []\n\npayload = {\n  \"kind\": \"project\"\n}\npcUser = \"@@{pcUser}@@\"\npcUserPassword = \"@@{pcUserPassword}@@\"\n\n#Global Functions\ndef varToBase64(var):\n    varToString = json.dumps(var, separators=(',', ':'))\n    encoded = base64.b64encode(varToString.encode('ascii'))\n    return encoded\n\n#Main Code\napi_url = 'https://localhost:9440/api/nutanix/v3/projects/list'\nheaders = {'Content-Type': 'application/json',  'Accept':'application/json'}\nr = urlreq(api_url, verb='POST', params=json.dumps(payload), headers=headers, verify=False, auth='BASIC', user=pcUser, passwd=pcUserPassword)\nif r.ok:\n    resp = json.loads(r.content)\n    iterations = ((int(resp['metadata']['total_matches'])) / length) + 1\nelse:\n    print \"Post request failed\", r.content\n    exit(1)\nfor iterator in range(iterations): \n    payload = {\n      \"kind\": \"project\",\n      \"length\": length,\n      \"offset\": offset\n    }\n    api_url = 'https://localhost:9440/api/nutanix/v3/projects/list'\n    headers = {'Content-Type': 'application/json',  'Accept':'application/json'}\n    r = urlreq(api_url, verb='POST', params=json.dumps(payload), headers=headers, verify=False, auth='BASIC', user=pcUser, passwd=pcUserPassword)\n    if r.ok:\n        resp = json.loads(r.content)\n    else:\n        print \"Post request failed\", r.content\n        exit(1)\n\n    for item in resp[\"entities\"]:\n        if project in item['spec']['name']:\n            for netResource in item['spec']['resources']['subnet_reference_list']:\n                listNetwork.append(netResource['uuid'])\n    offset = offset + length\n\nfor netUuid in listNetwork:\n    api_url = 'https://localhost:9440/api/nutanix/v3/subnets/{}'.format(netUuid)\n    headers = {'Content-Type': 'application/json',  'Accept':'application/json'}\n    r = urlreq(api_url, verb='GET', headers=headers, verify=False, auth='BASIC', user=pcUser, passwd=pcUserPassword)\n    if r.ok:\n        resp = json.loads(r.content)\n        if ((resp['spec']['cluster_reference']['name']) == clusterSelection):\n            listSelection.append(resp['spec']['name']) \n    else:\n        print \"Post request failed\", r.content\n        exit(1)\n\n#Return\n#print (varToBase64(result))\nlistSelection = sorted(dict.fromkeys(listSelection))\nprint \",\".join(map(str,listSelection))\n#print ((result))\nexit(0)",
                  "type": "EXEC",
                  "command_line_args": "",
                  "exit_status": [],
                  "script_type": "static"
                }
              }
            },
            {
              "val_type": "STRING",
              "is_mandatory": false,
              "description": "",
              "data_type": "BASE",
              "type": "EXEC_LOCAL",
              "name": "clusterSelection",
              "value": "",
              "label": "Select Nutanix Cluster",
              "attrs": {
                "type": ""
              },
              "editables": {
                "value": true
              },
              "is_hidden": false,
              "options": {
                "type": "EXEC",
                "attrs": {
                  "script": "#script\n#Global Variables\nproject = '@@{calm_project_name}@@'\noffset = 0\nlength = 500\nlistNetwork = []\nlistCluster = []\npayload = {\n  \"kind\": \"project\"\n}\npcUser = \"@@{pcUser}@@\"\npcUserPassword = \"@@{pcUserPassword}@@\"\n\n#Global Functions\n\n#Main Code\napi_url = 'https://localhost:9440/api/nutanix/v3/projects/list'\nheaders = {'Content-Type': 'application/json',  'Accept':'application/json'}\nr = urlreq(api_url, verb='POST', params=json.dumps(payload), headers=headers, verify=False, auth='BASIC', user=pcUser, passwd=pcUserPassword)\nif r.ok:\n    resp = json.loads(r.content)\n    iterations = ((int(resp['metadata']['total_matches'])) / length) + 1\nelse:\n    print \"Post request failed\", r.content\n    exit(1)\nfor iterator in range(iterations): \n    payload = {\n      \"kind\": \"project\",\n      \"length\": length,\n      \"offset\": offset\n    }\n    api_url = 'https://localhost:9440/api/nutanix/v3/projects/list'\n    headers = {'Content-Type': 'application/json',  'Accept':'application/json'}\n    r = urlreq(api_url, verb='POST', params=json.dumps(payload), headers=headers, verify=False, auth='BASIC', user=pcUser, passwd=pcUserPassword)\n    if r.ok:\n        resp = json.loads(r.content)\n    else:\n        print \"Post request failed\", r.content\n        exit(1)\n\n    for item in resp[\"entities\"]:\n        if project in item['spec']['name']:\n            for netResource in item['spec']['resources']['subnet_reference_list']:\n                listNetwork.append(netResource['uuid'])\n    offset = offset + length\n\nfor netUuid in listNetwork:\n    api_url = 'https://localhost:9440/api/nutanix/v3/subnets/{}'.format(netUuid)\n    headers = {'Content-Type': 'application/json',  'Accept':'application/json'}\n    r = urlreq(api_url, verb='GET', headers=headers, verify=False, auth='BASIC', user=pcUser, passwd=pcUserPassword)\n    if r.ok:\n        resp = json.loads(r.content)\n        listCluster.append(resp['spec']['cluster_reference']['name'])\n    else:\n        print \"Post request failed\", r.content\n        exit(1)\n\nlistCluster = sorted(dict.fromkeys(listCluster))\n#Return\nprint \",\".join(map(str,listCluster))\nexit(0)",
                  "type": "EXEC",
                  "command_line_args": "",
                  "exit_status": [],
                  "script_type": "static"
                }
              }
            },
            {
              "val_type": "STRING",
              "is_mandatory": false,
              "description": "",
              "data_type": "BASE",
              "type": "LOCAL",
              "name": "pcUser",
              "value": "calmtemp",
              "label": "",
              "attrs": {
                "type": ""
              },
              "editables": {
                "value": false
              },
              "is_hidden": true,
              "options": {
                "type": "PREDEFINED",
                "choices": []
              }
            },
            {
              "val_type": "STRING",
              "is_mandatory": false,
              "description": "",
              "data_type": "BASE",
              "type": "LOCAL",
              "name": "pcUserPassword",
              "value": "nutanix/4u",
              "label": "",
              "attrs": {
                "type": ""
              },
              "editables": {
                "value": false
              },
              "is_hidden": true,
              "options": {
                "type": "PREDEFINED",
                "choices": []
              }
            }
          ]
        }
      ],
      "published_service_definition_list": [],
      "default_credential_local_reference": {
        "kind": "app_credential",
        "name": "rootCreds"
      },
      "type": "USER"
    },
    "name": "Linux Base Blueprintv2"
  },
  "api_version": "3.0",
  "metadata": {
    "last_update_time": "1620237431191481",
    "kind": "blueprint",
    "spec_version": 3,
    "creation_time": "1618046551936707",
    "name": "Linux Base Blueprintv2"
  }
}
