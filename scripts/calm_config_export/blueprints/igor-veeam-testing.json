{
  "status": {
    "description": "",
    "state": "ACTIVE",
    "message_list": [],
    "resources": {
      "service_definition_list": [
        {
          "port_list": [],
          "description": "",
          "action_list": [
            {
              "description": "System action for creating an application",
              "message_list": [],
              "uuid": "8ad2ca6b-b613-d951-0494-7f9c32deff19",
              "name": "action_create",
              "state": "ACTIVE",
              "critical": false,
              "attrs": {},
              "type": "system",
              "runbook": {
                "task_definition_list": [
                  {
                    "target_any_local_reference": {
                      "kind": "app_service",
                      "name": "PCsvc",
                      "uuid": "47c67600-3b74-f2af-9d73-9ca84ff91d05"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "DAG",
                    "uuid": "aaa485a3-17c5-4eb3-7a93-2d6be2b7160e",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "edges": "",
                      "type": ""
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "3895f664_dag"
                  }
                ],
                "description": "",
                "message_list": [],
                "uuid": "64307b90-886d-9d3b-33f9-fa2a5ff91e91",
                "state": "ACTIVE",
                "variable_list": [],
                "main_task_local_reference": {
                  "kind": "app_task",
                  "name": "3895f664_dag",
                  "uuid": "aaa485a3-17c5-4eb3-7a93-2d6be2b7160e"
                },
                "name": "cc61f23d_runbook"
              }
            },
            {
              "description": "System action for deleting an application. Deletes created VMs as well",
              "message_list": [],
              "uuid": "9a329a28-5179-0f8e-3a80-8c59bede413f",
              "name": "action_delete",
              "state": "ACTIVE",
              "critical": false,
              "attrs": {},
              "type": "system",
              "runbook": {
                "task_definition_list": [
                  {
                    "target_any_local_reference": {
                      "kind": "app_service",
                      "name": "PCsvc",
                      "uuid": "47c67600-3b74-f2af-9d73-9ca84ff91d05"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "DAG",
                    "uuid": "c8437b73-cea6-8b09-612b-bb7164b80db9",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "edges": "",
                      "type": ""
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "02b6e59a_dag"
                  }
                ],
                "description": "",
                "message_list": [],
                "uuid": "e585cd47-5989-6415-4046-0e54f773e442",
                "state": "ACTIVE",
                "variable_list": [],
                "main_task_local_reference": {
                  "kind": "app_task",
                  "name": "02b6e59a_dag",
                  "uuid": "c8437b73-cea6-8b09-612b-bb7164b80db9"
                },
                "name": "6896f7ba_runbook"
              }
            },
            {
              "description": "System action for starting an application",
              "message_list": [],
              "uuid": "1d33998e-1de1-76a6-12f1-88b0411cd093",
              "name": "action_start",
              "state": "ACTIVE",
              "critical": false,
              "attrs": {},
              "type": "system",
              "runbook": {
                "task_definition_list": [
                  {
                    "target_any_local_reference": {
                      "kind": "app_service",
                      "name": "PCsvc",
                      "uuid": "47c67600-3b74-f2af-9d73-9ca84ff91d05"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "DAG",
                    "uuid": "e518bc74-35d9-aec1-7337-41f24037eea2",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "edges": "",
                      "type": ""
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "0a8f6330_dag"
                  }
                ],
                "description": "",
                "message_list": [],
                "uuid": "1a2b60a1-3694-0a9e-703b-0c0538713431",
                "state": "ACTIVE",
                "variable_list": [],
                "main_task_local_reference": {
                  "kind": "app_task",
                  "name": "0a8f6330_dag",
                  "uuid": "e518bc74-35d9-aec1-7337-41f24037eea2"
                },
                "name": "86591f91_runbook"
              }
            },
            {
              "description": "System action for stopping an application",
              "message_list": [],
              "uuid": "69df689b-f0c1-4081-a8e0-c4ae3b65e05d",
              "name": "action_stop",
              "state": "ACTIVE",
              "critical": false,
              "attrs": {},
              "type": "system",
              "runbook": {
                "task_definition_list": [
                  {
                    "target_any_local_reference": {
                      "kind": "app_service",
                      "name": "PCsvc",
                      "uuid": "47c67600-3b74-f2af-9d73-9ca84ff91d05"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "DAG",
                    "uuid": "3037688e-9a2e-0600-2584-ee5152097fbf",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "edges": "",
                      "type": ""
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "6ffce19f_dag"
                  }
                ],
                "description": "",
                "message_list": [],
                "uuid": "d1fe1a84-3744-8523-2c26-080e2b2540c2",
                "state": "ACTIVE",
                "variable_list": [],
                "main_task_local_reference": {
                  "kind": "app_task",
                  "name": "6ffce19f_dag",
                  "uuid": "3037688e-9a2e-0600-2584-ee5152097fbf"
                },
                "name": "e9075619_runbook"
              }
            },
            {
              "description": "System action for restarting an application",
              "message_list": [],
              "uuid": "e5d879d5-0fdc-34bc-d5d4-b2a373e98182",
              "name": "action_restart",
              "state": "ACTIVE",
              "critical": false,
              "attrs": {},
              "type": "system",
              "runbook": {
                "task_definition_list": [
                  {
                    "target_any_local_reference": {
                      "kind": "app_service",
                      "name": "PCsvc",
                      "uuid": "47c67600-3b74-f2af-9d73-9ca84ff91d05"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "DAG",
                    "uuid": "b4b241c9-9484-17ec-1c30-7734ca0d6cfd",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "edges": "",
                      "type": ""
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "96686e17_dag"
                  }
                ],
                "description": "",
                "message_list": [],
                "uuid": "97a0bf4e-6ecb-ab98-7db6-6c02ac0bf51a",
                "state": "ACTIVE",
                "variable_list": [],
                "main_task_local_reference": {
                  "kind": "app_task",
                  "name": "96686e17_dag",
                  "uuid": "b4b241c9-9484-17ec-1c30-7734ca0d6cfd"
                },
                "name": "a50be1a4_runbook"
              }
            },
            {
              "description": "System action for deleting an application. Does not delete created VMs",
              "message_list": [],
              "uuid": "e89f3025-b860-4451-9a0b-28a98a8694da",
              "name": "action_soft_delete",
              "state": "ACTIVE",
              "critical": true,
              "attrs": {},
              "type": "system",
              "runbook": {
                "task_definition_list": [
                  {
                    "target_any_local_reference": {
                      "kind": "app_service",
                      "name": "PCsvc",
                      "uuid": "47c67600-3b74-f2af-9d73-9ca84ff91d05"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "DAG",
                    "uuid": "9e148034-98b8-4967-bede-17d79311768a",
                    "child_tasks_local_reference_list": [
                      "@{kind=app_task; name=SYS_GEN__Service_Element_Delete_47c67600_3b74_f2af_9d73_9ca84ff91d05; uuid=65898ac9-bb94-43b8-bb73-49839039ef1b}"
                    ],
                    "state": "ACTIVE",
                    "attrs": {
                      "edges": "",
                      "type": "DAG"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__DAG_Service_47c67600_3b74_f2af_9d73_9ca84ff91d05"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_service",
                      "name": "PCsvc",
                      "uuid": "47c67600-3b74-f2af-9d73-9ca84ff91d05"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "SOFT_DELETE_ELEMENT",
                    "uuid": "65898ac9-bb94-43b8-bb73-49839039ef1b",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "type": ""
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__Service_Element_Delete_47c67600_3b74_f2af_9d73_9ca84ff91d05"
                  }
                ],
                "description": "",
                "message_list": [],
                "uuid": "606ce2d8-04f1-4fb4-9d2f-825522e23b11",
                "state": "ACTIVE",
                "variable_list": [],
                "main_task_local_reference": {
                  "kind": "app_task",
                  "name": "SYS_GEN__DAG_Service_47c67600_3b74_f2af_9d73_9ca84ff91d05",
                  "uuid": "9e148034-98b8-4967-bede-17d79311768a"
                },
                "name": "SYS_GEN__Runbook_Service_47c67600_3b74_f2af_9d73_9ca84ff91d05"
              }
            },
            {
              "description": "",
              "message_list": [],
              "uuid": "f543fd0b-df3e-a0fb-3ecd-5c5d936c0e15",
              "name": "VeeamCreateBackup",
              "state": "ACTIVE",
              "critical": false,
              "attrs": {},
              "type": "user",
              "runbook": {
                "task_definition_list": [
                  {
                    "retries": "0",
                    "description": "",
                    "type": "DAG",
                    "uuid": "293eb426-946b-a9ea-3e5d-0fa83ca6ffba",
                    "child_tasks_local_reference_list": [
                      "@{kind=app_task; name=VeeamLogin; uuid=262e6a86-81c0-3353-c322-70613342f5e7}",
                      "@{kind=app_task; name=VeeamGetHierarchyRoots; uuid=f237b39a-fcb2-983f-8288-94cdbc893bc6}",
                      "@{kind=app_task; name=VeeamGetRepository; uuid=b7f13711-7c8a-9730-221d-1c44b08e7649}",
                      "@{kind=app_task; name=VeeamGetTemplateJob; uuid=addb6b44-2c1a-b2dd-aca5-1ebf3d87fa0a}",
                      "@{kind=app_task; name=VeeamCloneJob; uuid=5ad5ee3c-e038-414e-d2a5-010a8b648558}",
                      "@{kind=app_task; name=VeeamGetJob; uuid=006182ba-4965-32f7-fbb4-e74bd7efb484}",
                      "@{kind=app_task; name=VeeamEditJob; uuid=b8565af8-bf5a-6dc4-e537-75617ecc1364}",
                      "@{kind=app_task; name=VeeamLogout; uuid=80216ffe-fb91-bbc2-6b66-97b6dfc83366}"
                    ],
                    "state": "ACTIVE",
                    "attrs": {
                      "edges": "      ",
                      "type": ""
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "0364a5af_dag"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_service",
                      "name": "PCsvc",
                      "uuid": "47c67600-3b74-f2af-9d73-9ca84ff91d05"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "SET_VARIABLE",
                    "uuid": "262e6a86-81c0-3353-c322-70613342f5e7",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "exit_status": "",
                      "script": "# region headers\n# * author:     igor.zecevic@nutanix.com\n# * version:    v1.0 - initial version\n# * date:       11/03/2020\n# task_name:    VeeamLogin\n# description:  Login to the Veeam API\n#               Retreives a X-RestSvcSessionId session\n# input vars:   username, password, api_server\n# output vars:  veeam_session_id, veeam_session_cookie\n# endregion\n\n# region capture Calm variables\nusername = \"@@{veeam.username}@@\"\npassword = \"@@{veeam.secret}@@\"\napi_server = \"@@{veeam_endpoint}@@\"\n# endregion\n\n# region prepare api call\napi_server_port = \"9398\"\napi_server_endpoint = \"/api/sessionMngr/?v=latest\"\nmethod = \"POST\"\nurl = \"https://{}:{}{}\".format(api_server, api_server_port, api_server_endpoint)\nheaders = {'Content-Type': 'application/json', 'Accept': 'application/json'}\n# endregion\n\n# region API call function\ndef process_request(url, method, headers, payload=None):\n    if (payload is not None):\n        payload = json.dumps(payload)\n    r = urlreq(url, verb=method, auth='BASIC', user=username, passwd=password, params=payload, verify=False, headers=headers)\n    if r.ok:\n        print(\"Request was successful\")\n        print(\"Status code: {}\".format(r.status_code))\n       # print('Response: {}'.format(json.dumps(json.loads(r.content), indent=2)))\n    else:\n        print(\"Request failed\")\n        print('Status code: {}'.format(r.status_code))\n        print(\"Headers: {}\".format(headers))\n        print(\"Payload: {}\".format(json.dumps(payload)))\n        print('Response: {}'.format(json.dumps(json.loads(r.content), indent=4)))\n        exit(1)\n    return r\n# endregion\n\n# region login\nprint(\"Making a {} API call to {}\".format(method, url))\nresp = process_request(url, method, headers)\n# endregion\n\n# pass the session_cookie and session_id so that it may be captured by Calm.\nresp_parse = json.loads(resp.content)\nsession_cookie = resp.headers.get('X-RestSvcSessionId')\nsession_id = resp_parse['SessionId']\nprint (\"veeam_session_id={}\".format(session_id))\nprint (\"veeam_session_cookie={}\".format(session_cookie))\nexit(0)",
                      "eval_variables": "veeam_session_id veeam_session_cookie",
                      "eval_scope": "local",
                      "type": "",
                      "script_type": "static"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "VeeamLogin"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_service",
                      "name": "PCsvc",
                      "uuid": "47c67600-3b74-f2af-9d73-9ca84ff91d05"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "SET_VARIABLE",
                    "uuid": "f237b39a-fcb2-983f-8288-94cdbc893bc6",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "exit_status": "",
                      "script": "# region headers\n# * author:     igor.zecevic@nutanix.com\n# * version:    v1.0 - initial version\n# * date:       11/03/2020\n# task_name:    VeeamGetHierarchyRoots\n# description:  Get the hierarchyRoot UID\n#               The script retreives the hierarchyRoots UID\n# input vars:   veeam_session_cookie, vc_server, api_server\n# output vars:  veeam_hierarchyRoot_uid\n# endregion\n\n# region capture Calm variables\nveeam_session_cookie = \"@@{veeam_session_cookie}@@\"\napi_server = \"@@{veeam_endpoint}@@\"\nvc_server = \"@@{vc_endpoint}@@\"\n# endregion\n\n# region prepare api call\napi_server_port = \"9398\"\napi_server_endpoint = \"/api/hierarchyRoots\"\nmethod = \"GET\"\nurl = \"https://{}:{}{}\".format(api_server, api_server_port, api_server_endpoint)\nheaders = {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-RestSvcSessionId': veeam_session_cookie}\n# endregion\n\n# region API call function\ndef process_request(url, method, headers, payload=None):\n    if (payload is not None):\n        payload = json.dumps(payload)\n    r = urlreq(url, verb=method, params=payload, verify=False, headers=headers)\n    if r.ok:\n        print(\"Request was successful\")\n        print(\"Status code: {}\".format(r.status_code))\n    else:\n        print(\"Request failed\")\n        print('Status code: {}'.format(r.status_code))\n        print(\"Headers: {}\".format(headers))\n        print(\"Payload: {}\".format(json.dumps(payload)))\n        print('Response: {}'.format(json.dumps(json.loads(r.content), indent=4)))\n        exit(1)\n    return r\n# endregion\n\n# region login\nprint(\"Making a {} API call to {}\".format(method, url))\nresp = process_request(url, method, headers)\n# endregion\n\n# pass the repo_uid so that it may be captured by Calm.\nobj_uid = \"\"\nresp_parse = json.loads(resp.content)\nfor obj in resp_parse['Refs']:\n    if obj['Name'] == vc_server:\n                obj_uid = obj['UID']               \nif obj_uid:\n    print (\"veeam_hierarchyroot_uid={}\".format(obj_uid.rsplit(':', 1)[1]))\n    exit(0)\nelse:\n    print(\"Error: Managed Server \"+vc_server+\" doesn't is not present ..\")\n    exit(1)",
                      "eval_variables": "veeam_hierarchyroot_uid",
                      "eval_scope": "local",
                      "type": "",
                      "script_type": "static"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "VeeamGetHierarchyRoots"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_service",
                      "name": "PCsvc",
                      "uuid": "47c67600-3b74-f2af-9d73-9ca84ff91d05"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "SET_VARIABLE",
                    "uuid": "b7f13711-7c8a-9730-221d-1c44b08e7649",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "exit_status": "",
                      "script": "# region headers\n# * author:     igor.zecevic@nutanix.com\n# * version:    v1.0 - initial version\n# * date:       11/03/2020\n# task_name:    VeeamGetRepository\n# description:  Get Repository UID\n#               The script retreives the repository uid\n#               based on the provided repository's name\n# input vars:   veeam_session_cookie, veeam_job_name,\n#               veeam_repo_name, api_server\n# output vars:  veeam_repo_uid\n# endregion\n\n# region capture Calm variables\nveeam_session_cookie = \"@@{veeam_session_cookie}@@\"\nveeam_repo_name = \"@@{veeam_repo_name}@@\"\napi_server = \"@@{veeam_endpoint}@@\"\n# endregion\n\n# region prepare api call\napi_server_port = \"9398\"\napi_server_endpoint = \"/api/repositories\"\nmethod = \"GET\"\nurl = \"https://{}:{}{}\".format(api_server, api_server_port, api_server_endpoint)\nheaders = {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-RestSvcSessionId': veeam_session_cookie}\n# endregion\n\n# region API call function\ndef process_request(url, method, headers, payload=None):\n    if (payload is not None):\n        payload = json.dumps(payload)\n    r = urlreq(url, verb=method, params=payload, verify=False, headers=headers)\n    if r.ok:\n        print(\"Request was successful\")\n        print(\"Status code: {}\".format(r.status_code))\n    else:\n        print(\"Request failed\")\n        print('Status code: {}'.format(r.status_code))\n        print(\"Headers: {}\".format(headers))\n        print(\"Payload: {}\".format(json.dumps(payload)))\n        print('Response: {}'.format(json.dumps(json.loads(r.content), indent=4)))\n        exit(1)\n    return r\n# endregion\n\n# region login\nprint(\"Making a {} API call to {}\".format(method, url))\nresp = process_request(url, method, headers)\n# endregion\n\n# pass the repo_uid so that it may be captured by Calm.\nrepo_uid = \"\"\nresp_parse = json.loads(resp.content)\nfor repo in resp_parse['Refs']:\n    if repo['Name'] == veeam_repo_name:\n                repo_uid = repo['UID']\n                \nif repo_uid:\n    print (\"veeam_repo_uid={}\".format(repo_uid))\n    exit(0)\nelse:\n    print(\"Error: Repository \"+veeam_repo_name+\" doesn't is not present ..\")\n    exit(1)",
                      "eval_variables": "veeam_repo_uid",
                      "eval_scope": "local",
                      "type": "",
                      "script_type": "static"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "VeeamGetRepository"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_service",
                      "name": "PCsvc",
                      "uuid": "47c67600-3b74-f2af-9d73-9ca84ff91d05"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "SET_VARIABLE",
                    "uuid": "addb6b44-2c1a-b2dd-aca5-1ebf3d87fa0a",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "exit_status": "",
                      "script": "# region headers\n# * author:     igor.zecevic@nutanix.com\n# * version:    v1.0 - initial version\n# * date:       11/03/2020\n# task_name:    VeeamGetJob\n# description:  Get Job's url\n#               The script retreives a specific job\n#               url based on the provided job's name\n# input vars:   veeam_session_cookie, veeam_job_name, api_server\n# output vars:  veeam_job_url\n# endregion\n\n# region capture Calm variables\nveeam_session_cookie = \"@@{veeam_session_cookie}@@\"\n#veeam_job_name = \"@@{calm_application_name}@@\"  # getting the calm apps job\nveeam_job_name = \"@@{veeam_job_template_name}@@\" # getting the template job on veeam\napi_server = \"@@{veeam_endpoint}@@\"\n\n# endregion\n\n# region prepare api call\napi_server_port = \"9398\"\napi_server_endpoint = \"/api/jobs\"\nmethod = \"GET\"\nurl = \"https://{}:{}{}\".format(api_server, api_server_port, api_server_endpoint)\nheaders = {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-RestSvcSessionId': veeam_session_cookie}\n# endregion\n\n# region API call function\ndef process_request(url, method, headers, payload=None):\n    if (payload is not None):\n        payload = json.dumps(payload)\n    r = urlreq(url, verb=method, params=payload, verify=False, headers=headers)\n    if r.ok:\n        print(\"Request was successful\")\n        print(\"Status code: {}\".format(r.status_code))\n    else:\n        print(\"Request failed\")\n        print('Status code: {}'.format(r.status_code))\n        print(\"Headers: {}\".format(headers))\n        print(\"Payload: {}\".format(json.dumps(payload)))\n        print('Response: {}'.format(json.dumps(json.loads(r.content), indent=4)))\n        exit(1)\n    return r\n# endregion\n\n# region login\nprint(\"Making a {} API call to {}\".format(method, url))\nresp = process_request(url, method, headers)\n# endregion\n\n# pass the cookie job_url so that it may be captured by Calm.\njob_url = \"\"\nresp_parse = json.loads(resp.content)\nfor job in resp_parse['Refs']:\n    if job['Name'] == veeam_job_name:\n        job_url = job['Href']\n                \nif job_url:\n    print (\"veeam_job_url={}\".format(job_url.rsplit('/', 1)[1])) #get only the last occurence\n    exit(0)\nelse:\n    print(\"Error: Backup Job \"+veeam_job_name+\" doesn't is not present ..\")\n    exit(1)",
                      "eval_variables": "veeam_job_url",
                      "eval_scope": "local",
                      "type": "",
                      "script_type": "static"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "VeeamGetTemplateJob"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_service",
                      "name": "PCsvc",
                      "uuid": "47c67600-3b74-f2af-9d73-9ca84ff91d05"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "SET_VARIABLE",
                    "uuid": "5ad5ee3c-e038-414e-d2a5-010a8b648558",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "exit_status": "",
                      "script": "# region headers\n# * author:     igor.zecevic@nutanix.com\n# * version:    v1.0 - initial version\n# * date:       11/03/2020\n# task_name:    VeeamCloneJob\n# description:  Clone a Veeam Job\n#               The script clones a Veeam Job using the \n#               the veeam_job_url and veeam_repo_uid found\n#               on the VeeamGetJob and VeeamGetRepository\n# input vars:   veeam_session_cookie, veeam_job_url\n#               veeam_job_name, veeam_repo_uid, api_server\n# output vars:  none\n# endregion\n\n# region capture Calm variables\nveeam_session_cookie = \"@@{veeam_session_cookie}@@\"\nveeam_job_url = \"@@{veeam_job_url}@@\"\nveeam_repo_uid = \"@@{veeam_repo_uid}@@\"\nveeam_job_name = \"@@{calm_application_name}@@\"\napi_server = \"@@{veeam_endpoint}@@\"\n# endregion\n\n# region prepare api call\napi_server_port = \"9398\"\napi_server_endpoint = \"/api/jobs\"\nmethod = \"POST\"\nbase_url = \"https://{}:{}{}\".format(api_server, api_server_port, api_server_endpoint)\nheaders = {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-RestSvcSessionId': veeam_session_cookie}\n# endregion\n\n# region API call function\ndef process_request(url, method, headers, payload=None):\n    if (payload is not None):\n        payload = json.dumps(payload)\n    r = urlreq(url, verb=method, params=payload, verify=False, headers=headers)\n    if r.ok:\n        print(\"Request was successful\")\n        print(\"Status code: {}\".format(r.status_code))\n    else:\n        print(\"Request failed\")\n        print('Status code: {}'.format(r.status_code))\n        print(\"Headers: {}\".format(headers))\n        print(\"Payload: {}\".format(json.dumps(payload)))\n        print('Response: {}'.format(json.dumps(json.loads(r.content), indent=4)))\n        exit(1)\n    return r\n# endregion\n\n# region login\npayload = {\n   \"BackupJobCloneInfo\": {\n      \"JobName\": veeam_job_name,\n      \"FolderName\": veeam_job_name,\n      \"RepositoryUid\": veeam_repo_uid,\n      \"Description\": \"This job was created by CALM\"\n   }\n}\nurl = \"{0}/{1}?action=clone\".format(base_url, veeam_job_url)\nprint(\"Making a {} API call to {}\".format(method, url))\nresp = process_request(url, method, headers, payload)\n# endregion\n\n# pass the task_id so that it may be captured by Calm.\nresp_parse = json.loads(resp.content)\ntask_id = resp_parse['TaskId']\nprint (\"veeam_task_id={}\".format(task_id))\nexit(0)",
                      "eval_variables": "veeam_task_id",
                      "eval_scope": "local",
                      "type": "",
                      "script_type": "static"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "VeeamCloneJob"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_service",
                      "name": "PCsvc",
                      "uuid": "47c67600-3b74-f2af-9d73-9ca84ff91d05"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "SET_VARIABLE",
                    "uuid": "006182ba-4965-32f7-fbb4-e74bd7efb484",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "exit_status": "",
                      "script": "# region headers\n# * author:     igor.zecevic@nutanix.com\n# * version:    v1.0 - initial version\n# * date:       11/03/2020\n# task_name:    VeeamGetJob\n# description:  Get Job's url\n#               The script retreives a specific job\n#               url based on the provided job's name\n# input vars:   veeam_session_cookie, veeam_job_name, api_server\n# output vars:  veeam_job_url\n# endregion\n\n# region capture Calm variables\nveeam_session_cookie = \"@@{veeam_session_cookie}@@\"\nveeam_job_name = \"@@{calm_application_name}@@\"  # getting the calm apps job\n#veeam_job_name = \"@@{veeam_job_template_name}@@\" # getting the template job on veeam\napi_server = \"@@{veeam_endpoint}@@\"\n\n# endregion\n\n# region prepare api call\napi_server_port = \"9398\"\napi_server_endpoint = \"/api/jobs\"\nmethod = \"GET\"\nurl = \"https://{}:{}{}\".format(api_server, api_server_port, api_server_endpoint)\nheaders = {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-RestSvcSessionId': veeam_session_cookie}\n# endregion\n\n# region API call function\ndef process_request(url, method, headers, payload=None):\n    if (payload is not None):\n        payload = json.dumps(payload)\n    r = urlreq(url, verb=method, params=payload, verify=False, headers=headers)\n    if r.ok:\n        print(\"Request was successful\")\n        print(\"Status code: {}\".format(r.status_code))\n    else:\n        print(\"Request failed\")\n        print('Status code: {}'.format(r.status_code))\n        print(\"Headers: {}\".format(headers))\n        print(\"Payload: {}\".format(json.dumps(payload)))\n        print('Response: {}'.format(json.dumps(json.loads(r.content), indent=4)))\n        exit(1)\n    return r\n# endregion\n\n# region login\nprint(\"Making a {} API call to {}\".format(method, url))\nresp = process_request(url, method, headers)\n# endregion\n\n# pass the cookie job_url so that it may be captured by Calm.\njob_url = \"\"\nresp_parse = json.loads(resp.content)\nfor job in resp_parse['Refs']:\n    if job['Name'] == veeam_job_name:\n        job_url = job['Href']\n                \nif job_url:\n    print (\"veeam_job_url={}\".format(job_url.rsplit('/', 1)[1])) #get only the last occurence\n    exit(0)\nelse:\n    print(\"Error: Backup Job \"+veeam_job_name+\" doesn't is not present ..\")\n    exit(1)",
                      "eval_variables": "veeam_job_url",
                      "eval_scope": "local",
                      "type": "",
                      "script_type": "static"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "VeeamGetJob"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_service",
                      "name": "PCsvc",
                      "uuid": "47c67600-3b74-f2af-9d73-9ca84ff91d05"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "SET_VARIABLE",
                    "uuid": "b8565af8-bf5a-6dc4-e537-75617ecc1364",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "exit_status": "",
                      "script": "# region headers\n# * author:     igor.zecevic@nutanix.com\n# * version:    v1.0 - initial version\n# * date:       11/03/2020\n# task_name:    VeeamEditJob\n# description:  Edit a Veeam Job\n#               The script edits a Veeam Job using the \n#               the veeam_job_url found on VeeamGetJob\n#               and attach a category_id found on \n#               VcRestGetCategory\n# input vars:   veeam_session_cookie, veeam_start_url,\n#               veeam_job_name, vc_category_name,\n# #             vc_category_id, api_server\n# output vars:  none\n# endregion\n\n# region capture Calm variables\nveeam_session_cookie = \"@@{veeam_session_cookie}@@\"\nveeam_job_url = \"@@{veeam_job_url}@@\"\nveeam_hierarchyroot_uid = \"@@{veeam_hierarchyroot_uid}@@\"\nveeam_job_daily_schedule = \"@@{veeam_job_daily_schedule}@@\"\nvc_category_id = \"@@{vc_category_id}@@\"\nvc_category_name = \"@@{calm_application_name}@@\"\napi_server = \"@@{veeam_endpoint}@@\"\n# endregion\n\n# region prepare api call\napi_server_port = \"9398\"\napi_server_endpoint = \"/api/jobs\"\nmethod = \"PUT\"\nbase_url = \"https://{}:{}{}\".format(api_server, api_server_port, api_server_endpoint)\nheaders = {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-RestSvcSessionId': veeam_session_cookie}\n# endregion\n\n# region API call function\ndef process_request(url, method, headers, payload=None):\n    if (payload is not None):\n        payload = json.dumps(payload)\n    r = urlreq(url, verb=method, params=payload, verify=False, headers=headers)\n    if r.ok:\n        print(\"Request was successful\")\n        print(\"Status code: {}\".format(r.status_code))\n        print('Response: {}'.format(json.dumps(json.loads(r.content), indent=2)))\n    else:\n        print(\"Request failed\")\n        print('Status code: {}'.format(r.status_code))\n        print(\"Headers: {}\".format(headers))\n        print(\"Payload: {}\".format(json.dumps(payload)))\n        print('Response: {}'.format(json.dumps(json.loads(r.content), indent=4)))\n        exit(1)\n    return r\n# endregion\n\n# region login\npayload = {\n    \"ScheduleConfigured\": True,\n    \"ScheduleEnabled\": True,\n    \"JobScheduleOptions\": { \n      \"Standart\": {\n          \"OptionsDaily\": {\n              \"Kind\": \"Everyday\",\n              \"Time\": veeam_job_daily_schedule,\n              \"Enabled\": True\n          },\n          \"OptionsMonthly\": {\n              \"Enabled\": False\n            }\n        }\n    },\n    \"JobInfo\": {\n      \"BackupJobInfo\": {\n        \"Includes\": {\n            \"ObjectInJobs\": [\n              {\n                \"HierarchyObjRef\": \"urn:VMware:Category:\"+veeam_hierarchyroot_uid+'.'+vc_category_id,\n                    \"Name\": vc_category_name,\n                    \"DisplayName\": vc_category_name,\n                    \"Type\": \"ObjectInJob\"\n                  }\n              ]\n          }\n      }\n  }\n}\n\nurl = \"{0}/{1}?action=edit\".format(base_url, veeam_job_url)\nprint(\"Making a {} API call to {}\".format(method, url))\nresp = process_request(url, method, headers, payload)\n# endregion\n\n# pass the task_id so that it may be captured by Calm.\nresp_parse = json.loads(resp.content)\ntask_id = resp_parse['TaskId']\nprint (\"veeam_task_id={}\".format(task_id))\nexit(0)",
                      "eval_variables": "veeam_task_id",
                      "eval_scope": "local",
                      "type": "",
                      "script_type": "static"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "VeeamEditJob"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_service",
                      "name": "PCsvc",
                      "uuid": "47c67600-3b74-f2af-9d73-9ca84ff91d05"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "EXEC",
                    "uuid": "80216ffe-fb91-bbc2-6b66-97b6dfc83366",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "script_type": "static",
                      "type": "",
                      "command_line_args": "",
                      "exit_status": "",
                      "script": "# region headers\n# * author:     igor.zecevic@nutanix.com\n# * version:    v1.0 - initial version\n# * date:       11/03/2020\n# task_name:    VeeamLogout\n# description:  Logout from the Veeam API\n#               veeam_session_cookie: retreived from VeeamLogin\n#               vmware_session_id: retreived from VeeamLogin\n#               none that the LogonSessionId can also be \n#               retreived using /api/logonSessions url\n# input vars:   veeam_session_cookie, veeam_session_id, api_server\n# output vars:  none\n# endregion\n\n# region capture Calm variables\nveeam_session_cookie = \"@@{veeam_session_cookie}@@\"\nveeam_session_id = \"@@{veeam_session_id}@@\"\napi_server = \"@@{veeam_endpoint}@@\"\n# endregion\n\n# region prepare api call\napi_server_port = \"9398\"\napi_server_endpoint = \"/api/logonSessions\"\nmethod = \"DELETE\"\nbase_url = \"https://{}:{}{}\".format(api_server, api_server_port, api_server_endpoint)\nheaders = {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-RestSvcSessionId': veeam_session_cookie}\n# endregion\n\n# region API call function\ndef process_request(url, method, headers, payload=None):\n    if (payload is not None):\n        payload = json.dumps(payload)\n    r = urlreq(url, verb=method, params=payload, verify=False, headers=headers)\n    if r.ok:\n        print(\"Request was successful\")\n        print(\"Status code: {}\".format(r.status_code))\n    else:\n        print(\"Request failed\")\n        print('Status code: {}'.format(r.status_code))\n        print(\"Headers: {}\".format(headers))\n        print(\"Payload: {}\".format(json.dumps(payload)))\n        print('Response: {}'.format(json.dumps(json.loads(r.content), indent=4)))\n        exit(1)\n    return r\n# endregion\n\n# region Logout\nurl = \"{0}/{1}\".format(base_url, veeam_session_id)\nprint(\"Making a {} API call to {}\".format(method, url))\nresp = process_request(url, method, headers)\n# endregion\n\nexit(0)"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "VeeamLogout"
                  }
                ],
                "description": "",
                "message_list": [],
                "uuid": "f01e5f1d-93bc-e376-2421-053892164da5",
                "state": "ACTIVE",
                "variable_list": [],
                "main_task_local_reference": {
                  "kind": "app_task",
                  "name": "0364a5af_dag",
                  "uuid": "293eb426-946b-a9ea-3e5d-0fa83ca6ffba"
                },
                "name": "05b24d0c_runbook"
              }
            },
            {
              "description": "",
              "message_list": [],
              "uuid": "92d21dc5-b482-5f53-7432-43ebd4b72043",
              "name": "VcGetCategory",
              "state": "ACTIVE",
              "critical": false,
              "attrs": {},
              "type": "user",
              "runbook": {
                "task_definition_list": [
                  {
                    "retries": "0",
                    "description": "",
                    "type": "DAG",
                    "uuid": "eeb055bf-b2a6-86ac-1fca-125f6e1d6af0",
                    "child_tasks_local_reference_list": [
                      "@{kind=app_task; name=VcRestLogin; uuid=d7e168aa-4ee1-2298-a66e-312ff4e4f80a}",
                      "@{kind=app_task; name=VcRestGetCategory; uuid=2b6e34da-a273-ae71-2074-2f277c16acca}",
                      "@{kind=app_task; name=VcRestLogout; uuid=729d9929-0de3-f923-c005-b8c03c0bd557}"
                    ],
                    "state": "ACTIVE",
                    "attrs": {
                      "edges": " ",
                      "type": ""
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "7c0db8ac_dag"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_service",
                      "name": "PCsvc",
                      "uuid": "47c67600-3b74-f2af-9d73-9ca84ff91d05"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "SET_VARIABLE",
                    "uuid": "d7e168aa-4ee1-2298-a66e-312ff4e4f80a",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "exit_status": "",
                      "script": "# region headers\n# * author:     igor.zecevic@nutanix.com\n# * version:    v1.0 - initial version\n# * date:       10/03/2020\n# task_name:    VcRestLogin\n# description:  Authenticate to the vCenter Rest API\n#               Retreives a cookie session\n# input vars:   username, password, api_server\n# output vars:  vc_api_session\n# endregion\n\n# region capture Calm variables\nusername = \"@@{vc.username}@@\"\npassword = \"@@{vc.secret}@@\"\napi_server = \"@@{vc_endpoint}@@\"\n# endregion\n\n# region prepare api call\napi_server_port = \"443\"\napi_server_endpoint = \"/rest/com/vmware/cis/session\"\nmethod = \"POST\"\nurl = \"https://{}:{}{}\".format(api_server, api_server_port, api_server_endpoint)\nheaders = {'Content-Type': 'application/json', 'Accept': 'application/json'}\n# endregion\n\n# region API call function\ndef process_request(url, method, headers, payload=None):\n    if (payload is not None):\n        payload = json.dumps(payload)\n    r = urlreq(url, verb=method, auth='BASIC', user=username, passwd=password, params=payload, verify=False, headers=headers)\n    if r.ok:\n        print(\"Request was successful\")\n        print(\"Status code: {}\".format(r.status_code))\n        print('Response: {}'.format(json.dumps(json.loads(r.content), indent=4)))\n    else:\n        print(\"Request failed\")\n        print('Status code: {}'.format(r.status_code))\n        print(\"Headers: {}\".format(headers))\n        print(\"Payload: {}\".format(json.dumps(payload)))\n        print('Response: {}'.format(json.dumps(json.loads(r.content), indent=4)))\n        exit(1)\n    return r\n# endregion\n\n# region login\nprint(\"Making a {} API call to {}\".format(method, url))\nresp = process_request(url, method, headers)\n# endregion\n\n# pass the cookie in vc_soap_session so that it may be captured by Calm.\ncookie = resp.headers.get('Set-Cookie').split(\";\")[0]\nprint (\"vc_api_session={}\".format(cookie))\nexit(0)",
                      "eval_variables": "vc_api_session",
                      "eval_scope": "local",
                      "type": "",
                      "script_type": "static"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "VcRestLogin"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_service",
                      "name": "PCsvc",
                      "uuid": "47c67600-3b74-f2af-9d73-9ca84ff91d05"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "SET_VARIABLE",
                    "uuid": "2b6e34da-a273-ae71-2074-2f277c16acca",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "exit_status": "",
                      "script": "# region headers\n# * author:     igor.zecevic@nutanix.com\n# * version:    v1.0 - initial version\n# * date:       10/03/2020\n# task_name:    VcRestGetCategory\n# description:  Retreives a specific category id based on the category's name\n#               The scripts list all categories and filter\n# input vars:   vc_cookie, api_server, vc_category_name\n# output vars:  vc_category_id\n# endregion\n\n# region capture Calm variables\nvc_cookie = \"@@{vc_api_session}@@\" # retreived from VcRestLogin\napi_server = \"@@{vc_endpoint}@@\"\nvc_category_name = \"@@{calm_application_name}@@\"\n# endregion\n\n# region prepare api call\napi_server_port = \"443\"\napi_server_endpoint = \"/rest/com/vmware/cis/tagging/category\"\nmethod = \"GET\"\nbase_url = \"https://{}:{}{}\".format(api_server, api_server_port, api_server_endpoint)\nheaders = {'Content-Type': 'application/json', 'Accept': 'application/json', 'Cookie': vc_cookie}\n# endregion\n\n# region API call function\ndef process_request(url, method, headers, payload=None):\n    if (payload is not None):\n        payload = json.dumps(payload)\n    r = urlreq(url, verb=method, params=payload, verify=False, headers=headers)\n    if r.ok:\n        print(\"Request was successful\")\n        print(\"Status code: {}\".format(r.status_code))\n        print('Response: {}'.format(json.dumps(json.loads(r.content), indent=4)))\n    else:\n        print(\"Request failed\")\n        print('Status code: {}'.format(r.status_code))\n        print(\"Headers: {}\".format(headers))\n        print(\"Payload: {}\".format(json.dumps(payload)))\n        print('Response: {}'.format(json.dumps(json.loads(r.content), indent=4)))\n        exit(1)\n    return r\n# endregion\n\n# region get category id\n# get all categories\nurl = format(base_url)\nprint(\"Making a {} API call to {}\".format(method, url))\nall_categories = process_request(base_url, method, headers)\n\n# get specific category\nall_categories_parsed = json.loads(all_categories.content)\ncategory_id = \"\"\nfor category in all_categories_parsed['value']:\n    url = \"\"+base_url+\"/id:\"+category+\"\"\n    print(\"Making a {} API call to {}\".format(method, url))\n    category = process_request(url, method, headers)\n    category_parse = json.loads(category.content)\n    if category_parse['value']['name'] == vc_category_name:\n        category_id = category_parse['value']['id']\n        break\n# endregion\n\n# pass the specific founded category in vc_category_id so that it may be captured by Calm.\nif not category_id:\n    print(\"Error : category not present\")\n    exit (1)\nelif category_id:\n    print(\"vc_category_id={}\".format(category_id))\n    exit(0)\n# endregion",
                      "eval_variables": "vc_category_id",
                      "eval_scope": "local",
                      "type": "",
                      "script_type": "static"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "VcRestGetCategory"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_service",
                      "name": "PCsvc",
                      "uuid": "47c67600-3b74-f2af-9d73-9ca84ff91d05"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "EXEC",
                    "uuid": "729d9929-0de3-f923-c005-b8c03c0bd557",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "script_type": "static",
                      "type": "",
                      "command_line_args": "",
                      "exit_status": "",
                      "script": "# region headers\n# * author:     igor.zecevic@nutanix.com\n# * version:    v1.0 - initial version\n# * date:       10/03/2020\n# task_name:    VcRestLogout\n# description:  Logout form the vCenter Rest API\n# input vars:   vc_cookie, api_server\n# output vars:  none\n# endregion\n\n# region capture Calm variables\nvc_cookie = \"@@{vc_api_session}@@\" #retreived from VcRestLogin\napi_server = \"@@{vc_endpoint}@@\"\n# endregion\n\n# region prepare api call\napi_server_port = \"443\"\napi_server_endpoint = \"/rest/com/vmware/cis/session\"\nmethod = \"DELETE\"\nurl = \"https://{}:{}{}\".format(api_server, api_server_port, api_server_endpoint)\nheaders = {'Content-Type': 'application/json', 'Accept': 'application/json', 'Cookie': vc_cookie}\n# endregion\n\n# region API call function\ndef process_request(url, method, headers, payload=None):\n    if (payload is not None):\n        payload = json.dumps(payload)\n    r = urlreq(url, verb=method, params=payload, verify=False, headers=headers)\n    if r.ok:\n        print(\"Request was successful\")\n        print(\"Status code: {}\".format(r.status_code))\n    else:\n        print(\"Request failed\")\n        print('Status code: {}'.format(r.status_code))\n        print(\"Headers: {}\".format(headers))\n        print(\"Payload: {}\".format(json.dumps(payload)))\n        print('Response: {}'.format(json.dumps(json.loads(r.content), indent=4)))\n        exit(1)\n    return r\n# endregion\n\n# region logout\nprint(\"Making a {} API call to {}\".format(method, url))\nresp = process_request(url, method, headers)\n# endregion"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "VcRestLogout"
                  }
                ],
                "description": "",
                "message_list": [],
                "uuid": "c2aecfed-a5db-53ed-adfa-764ab88f8509",
                "state": "ACTIVE",
                "variable_list": [],
                "main_task_local_reference": {
                  "kind": "app_task",
                  "name": "7c0db8ac_dag",
                  "uuid": "eeb055bf-b2a6-86ac-1fca-125f6e1d6af0"
                },
                "name": "2cd32961_runbook"
              }
            },
            {
              "description": "",
              "message_list": [],
              "uuid": "41b1e9d7-fdf7-79ab-83f0-b6c9a6c8a67c",
              "name": "VeeamAppBackup",
              "state": "ACTIVE",
              "critical": false,
              "attrs": {},
              "type": "user",
              "runbook": {
                "task_definition_list": [
                  {
                    "retries": "0",
                    "description": "",
                    "type": "DAG",
                    "uuid": "e918ccf8-a498-d392-4114-e4f416d4eed5",
                    "child_tasks_local_reference_list": [
                      "@{kind=app_task; name=VeeamLogin; uuid=144b492f-3d9e-830a-df2e-8e14cc8a8677}",
                      "@{kind=app_task; name=VeeamStartJob; uuid=215c27d3-dbb9-30ce-0037-7bd8077a4bd9}",
                      "@{kind=app_task; name=VeeamLogout; uuid=16d82971-0155-0b2a-cadf-7e99b8eb73d0}"
                    ],
                    "state": "ACTIVE",
                    "attrs": {
                      "edges": " ",
                      "type": ""
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "0364a5af_dag_cloned_1"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_service",
                      "name": "PCsvc",
                      "uuid": "47c67600-3b74-f2af-9d73-9ca84ff91d05"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "SET_VARIABLE",
                    "uuid": "144b492f-3d9e-830a-df2e-8e14cc8a8677",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "exit_status": "",
                      "script": "# region headers\n# * author:     igor.zecevic@nutanix.com\n# * version:    v1.0 - initial version\n# * date:       11/03/2020\n# task_name:    VeeamLogin\n# description:  Login to the Veeam API\n#               Retreives a X-RestSvcSessionId session\n# input vars:   username, password, api_server\n# output vars:  veeam_session_id, veeam_session_cookie\n# endregion\n\n# region capture Calm variables\nusername = \"@@{veeam.username}@@\"\npassword = \"@@{veeam.secret}@@\"\napi_server = \"@@{veeam_endpoint}@@\"\n# endregion\n\n# region prepare api call\napi_server_port = \"9398\"\napi_server_endpoint = \"/api/sessionMngr/?v=latest\"\nmethod = \"POST\"\nurl = \"https://{}:{}{}\".format(api_server, api_server_port, api_server_endpoint)\nheaders = {'Content-Type': 'application/json', 'Accept': 'application/json'}\n# endregion\n\n# region API call function\ndef process_request(url, method, headers, payload=None):\n    if (payload is not None):\n        payload = json.dumps(payload)\n    r = urlreq(url, verb=method, auth='BASIC', user=username, passwd=password, params=payload, verify=False, headers=headers)\n    if r.ok:\n        print(\"Request was successful\")\n        print(\"Status code: {}\".format(r.status_code))\n       # print('Response: {}'.format(json.dumps(json.loads(r.content), indent=2)))\n    else:\n        print(\"Request failed\")\n        print('Status code: {}'.format(r.status_code))\n        print(\"Headers: {}\".format(headers))\n        print(\"Payload: {}\".format(json.dumps(payload)))\n        print('Response: {}'.format(json.dumps(json.loads(r.content), indent=4)))\n        exit(1)\n    return r\n# endregion\n\n# region login\nprint(\"Making a {} API call to {}\".format(method, url))\nresp = process_request(url, method, headers)\n# endregion\n\n# pass the session_cookie and session_id so that it may be captured by Calm.\nresp_parse = json.loads(resp.content)\nsession_cookie = resp.headers.get('X-RestSvcSessionId')\nsession_id = resp_parse['SessionId']\nprint (\"veeam_session_id={}\".format(session_id))\nprint (\"veeam_session_cookie={}\".format(session_cookie))\nexit(0)",
                      "eval_variables": "veeam_session_id veeam_session_cookie",
                      "eval_scope": "local",
                      "type": "",
                      "script_type": "static"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "VeeamLogin"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_service",
                      "name": "PCsvc",
                      "uuid": "47c67600-3b74-f2af-9d73-9ca84ff91d05"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "SET_VARIABLE",
                    "uuid": "215c27d3-dbb9-30ce-0037-7bd8077a4bd9",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "exit_status": "",
                      "script": "# region headers\n# * author:     igor.zecevic@nutanix.com\n# * version:    v1.0 - initial version\n# * date:       11/03/2020\n# task_name:    VeeamStartJob\n# description:  Starts a Veeam Job\n#               The script starts a Veeam Job using the \n#               the veeam_job_url on VeeamGetJob\n# input vars:   veeam_session_cookie, veeam_job_start_url, api_server\n# output vars:  none\n# endregion\n\n# region capture Calm variables\nveeam_session_cookie = \"@@{veeam_session_cookie}@@\"\nveeam_job_url = \"@@{veeam_job_url}@@\"\napi_server = \"@@{veeam_endpoint}@@\"\n# endregion\n\n# region prepare api call\napi_server_port = \"9398\"\napi_server_endpoint = \"/api/jobs\"\nmethod = \"POST\"\nbase_url = \"https://{}:{}{}\".format(api_server, api_server_port, api_server_endpoint)\nheaders = {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-RestSvcSessionId': veeam_session_cookie}\n# endregion\n\n# region API call function\ndef process_request(url, method, headers, payload=None):\n    if (payload is not None):\n        payload = json.dumps(payload)\n    r = urlreq(url, verb=method, params=payload, verify=False, headers=headers)\n    if r.ok:\n        print(\"Request was successful\")\n        print(\"Status code: {}\".format(r.status_code))\n    else:\n        print(\"Request failed\")\n        print('Status code: {}'.format(r.status_code))\n        print(\"Headers: {}\".format(headers))\n        print(\"Payload: {}\".format(json.dumps(payload)))\n        print('Response: {}'.format(json.dumps(json.loads(r.content), indent=4)))\n        exit(1)\n    return r\n# endregion\n\n# region login\nurl = \"{0}/{1}?action=start\".format(base_url, veeam_job_url)\nprint(\"Making a {} API call to {}\".format(method, url))\nresp = process_request(url, method, headers)\n# endregion\n\n# pass the task_id so that it may be captured by Calm.\nresp_parse = json.loads(resp.content)\ntask_id = resp_parse['TaskId']\nprint (\"veeam_task_id={}\".format(task_id))\nexit(0)",
                      "eval_variables": "veeam_task_id",
                      "eval_scope": "local",
                      "type": "",
                      "script_type": "static"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "VeeamStartJob"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_service",
                      "name": "PCsvc",
                      "uuid": "47c67600-3b74-f2af-9d73-9ca84ff91d05"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "EXEC",
                    "uuid": "16d82971-0155-0b2a-cadf-7e99b8eb73d0",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "script_type": "static",
                      "type": "",
                      "command_line_args": "",
                      "exit_status": "",
                      "script": "# region headers\n# * author:     igor.zecevic@nutanix.com\n# * version:    v1.0 - initial version\n# * date:       11/03/2020\n# task_name:    VeeamLogout\n# description:  Logout from the Veeam API\n#               veeam_session_cookie: retreived from VeeamLogin\n#               vmware_session_id: retreived from VeeamLogin\n#               none that the LogonSessionId can also be \n#               retreived using /api/logonSessions url\n# input vars:   veeam_session_cookie, veeam_session_id, api_server\n# output vars:  none\n# endregion\n\n# region capture Calm variables\nveeam_session_cookie = \"@@{veeam_session_cookie}@@\"\nveeam_session_id = \"@@{veeam_session_id}@@\"\napi_server = \"@@{veeam_endpoint}@@\"\n# endregion\n\n# region prepare api call\napi_server_port = \"9398\"\napi_server_endpoint = \"/api/logonSessions\"\nmethod = \"DELETE\"\nbase_url = \"https://{}:{}{}\".format(api_server, api_server_port, api_server_endpoint)\nheaders = {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-RestSvcSessionId': veeam_session_cookie}\n# endregion\n\n# region API call function\ndef process_request(url, method, headers, payload=None):\n    if (payload is not None):\n        payload = json.dumps(payload)\n    r = urlreq(url, verb=method, params=payload, verify=False, headers=headers)\n    if r.ok:\n        print(\"Request was successful\")\n        print(\"Status code: {}\".format(r.status_code))\n    else:\n        print(\"Request failed\")\n        print('Status code: {}'.format(r.status_code))\n        print(\"Headers: {}\".format(headers))\n        print(\"Payload: {}\".format(json.dumps(payload)))\n        print('Response: {}'.format(json.dumps(json.loads(r.content), indent=4)))\n        exit(1)\n    return r\n# endregion\n\n# region Logout\nurl = \"{0}/{1}\".format(base_url, veeam_session_id)\nprint(\"Making a {} API call to {}\".format(method, url))\nresp = process_request(url, method, headers)\n# endregion\n\nexit(0)"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "VeeamLogout"
                  }
                ],
                "description": "",
                "message_list": [],
                "uuid": "33b6ca82-2fe3-223d-d02c-9c4a0aca65b7",
                "state": "ACTIVE",
                "variable_list": [],
                "main_task_local_reference": {
                  "kind": "app_task",
                  "name": "0364a5af_dag_cloned_1",
                  "uuid": "e918ccf8-a498-d392-4114-e4f416d4eed5"
                },
                "name": "05b24d0c_runbook_cloned_0"
              }
            }
          ],
          "message_list": [],
          "uuid": "47c67600-3b74-f2af-9d73-9ca84ff91d05",
          "state": "ACTIVE",
          "depends_on_list": [],
          "editables": {},
          "tier": "",
          "singleton": false,
          "variable_list": [
            {
              "regex": {},
              "val_type": "STRING",
              "is_mandatory": false,
              "description": "",
              "data_type": "BASE",
              "message_list": [],
              "uuid": "0b7dc914-2d84-23a7-1af3-f86a488498dc",
              "value": "22:00",
              "label": "",
              "state": "ACTIVE",
              "attrs": {
                "type": ""
              },
              "editables": {},
              "is_hidden": false,
              "type": "LOCAL",
              "options": {
                "type": "PREDEFINED",
                "choices": []
              },
              "name": "veeam_job_daily_schedule"
            },
            {
              "regex": {},
              "val_type": "STRING",
              "is_mandatory": false,
              "description": "",
              "data_type": "BASE",
              "message_list": [],
              "uuid": "3a6a34c4-4a83-26a0-ad8e-2a8502043eac",
              "value": "Backups",
              "label": "",
              "state": "ACTIVE",
              "attrs": {
                "type": ""
              },
              "editables": {},
              "is_hidden": false,
              "type": "LOCAL",
              "options": {
                "type": "PREDEFINED",
                "choices": []
              },
              "name": "veeam_repo_name"
            },
            {
              "regex": {},
              "val_type": "STRING",
              "is_mandatory": false,
              "description": "",
              "data_type": "BASE",
              "message_list": [],
              "uuid": "61eede28-7b66-5462-4e10-05a99cfdc021",
              "value": "",
              "label": "",
              "state": "ACTIVE",
              "attrs": {
                "type": ""
              },
              "editables": {
                "value": false
              },
              "is_hidden": false,
              "type": "LOCAL",
              "options": {
                "type": "PREDEFINED",
                "choices": []
              },
              "name": "veeam_hierarchyroot_uid"
            },
            {
              "regex": {},
              "val_type": "STRING",
              "is_mandatory": false,
              "description": "",
              "data_type": "BASE",
              "message_list": [],
              "uuid": "060ce64a-afea-4971-6a9c-47896ac40575",
              "value": "",
              "label": "",
              "state": "ACTIVE",
              "attrs": {
                "type": ""
              },
              "editables": {},
              "is_hidden": false,
              "type": "LOCAL",
              "options": {
                "type": "PREDEFINED",
                "choices": []
              },
              "name": "vc_category_id"
            },
            {
              "regex": {},
              "val_type": "STRING",
              "is_mandatory": false,
              "description": "",
              "data_type": "BASE",
              "message_list": [],
              "uuid": "f2a531b3-f170-f866-df7c-7f925693edef",
              "value": "",
              "label": "",
              "state": "ACTIVE",
              "attrs": {
                "type": ""
              },
              "editables": {},
              "is_hidden": false,
              "type": "LOCAL",
              "options": {
                "type": "PREDEFINED",
                "choices": []
              },
              "name": "veeam_task_id"
            },
            {
              "regex": {},
              "val_type": "STRING",
              "is_mandatory": false,
              "description": "",
              "data_type": "BASE",
              "message_list": [],
              "uuid": "53948bd7-e465-f902-8bd1-4f4082cde278",
              "value": "10.68.98.10",
              "label": "",
              "state": "ACTIVE",
              "attrs": {
                "type": ""
              },
              "editables": {
                "value": false
              },
              "is_hidden": true,
              "type": "LOCAL",
              "options": {
                "type": "PREDEFINED",
                "choices": []
              },
              "name": "vc_endpoint"
            },
            {
              "regex": {},
              "val_type": "STRING",
              "is_mandatory": false,
              "description": "",
              "data_type": "BASE",
              "message_list": [],
              "uuid": "aca0bf1e-597a-925f-e5ac-f820d69b78f6",
              "value": "",
              "label": "",
              "state": "ACTIVE",
              "attrs": {
                "type": ""
              },
              "editables": {},
              "is_hidden": false,
              "type": "LOCAL",
              "options": {
                "type": "PREDEFINED",
                "choices": []
              },
              "name": "vc_api_session"
            },
            {
              "regex": {},
              "val_type": "STRING",
              "is_mandatory": false,
              "description": "",
              "data_type": "BASE",
              "message_list": [],
              "uuid": "2afafa6a-16e8-f191-01bf-f10daac8d5f8",
              "value": "",
              "label": "",
              "state": "ACTIVE",
              "attrs": {
                "type": ""
              },
              "editables": {},
              "is_hidden": false,
              "type": "LOCAL",
              "options": {
                "type": "PREDEFINED",
                "choices": []
              },
              "name": "veeam_job_url"
            },
            {
              "regex": {},
              "val_type": "STRING",
              "is_mandatory": false,
              "description": "",
              "data_type": "BASE",
              "message_list": [],
              "uuid": "cc1b22c4-2167-f7df-837c-40f612ed77fe",
              "value": "TEMPLATE-JOB-FOR-CALM",
              "label": "",
              "state": "ACTIVE",
              "attrs": {
                "type": "LOCAL"
              },
              "editables": {
                "value": false
              },
              "is_hidden": true,
              "type": "LOCAL",
              "options": {
                "type": "PREDEFINED",
                "choices": []
              },
              "name": "veeam_job_template_name"
            },
            {
              "regex": {},
              "val_type": "STRING",
              "is_mandatory": false,
              "description": "",
              "data_type": "BASE",
              "message_list": [],
              "uuid": "b69ab3d8-4529-125f-9e37-6150c26b8ea7",
              "value": "10.68.99.161",
              "label": "",
              "state": "ACTIVE",
              "attrs": {
                "type": ""
              },
              "editables": {},
              "is_hidden": false,
              "type": "LOCAL",
              "options": {
                "type": "PREDEFINED",
                "choices": []
              },
              "name": "veeam_endpoint"
            },
            {
              "regex": {},
              "val_type": "STRING",
              "is_mandatory": false,
              "description": "",
              "data_type": "BASE",
              "message_list": [],
              "uuid": "c96cf021-68fc-87ab-c457-f3de2525e25b",
              "value": "",
              "label": "",
              "state": "ACTIVE",
              "attrs": {
                "type": ""
              },
              "editables": {},
              "is_hidden": false,
              "type": "LOCAL",
              "options": {
                "type": "PREDEFINED",
                "choices": []
              },
              "name": "veeam_repo_uid"
            },
            {
              "regex": {},
              "val_type": "STRING",
              "is_mandatory": false,
              "description": "",
              "data_type": "BASE",
              "message_list": [],
              "uuid": "67ef253b-aa8c-9739-ed12-9a2212ed52a6",
              "value": "",
              "label": "",
              "state": "ACTIVE",
              "attrs": {
                "type": ""
              },
              "editables": {},
              "is_hidden": false,
              "type": "LOCAL",
              "options": {
                "type": "PREDEFINED",
                "choices": []
              },
              "name": "veeam_session_cookie"
            },
            {
              "regex": {},
              "val_type": "STRING",
              "is_mandatory": false,
              "description": "",
              "data_type": "BASE",
              "message_list": [],
              "uuid": "8806f95b-c238-a9e5-4ea5-09a3b6e86261",
              "value": "",
              "label": "",
              "state": "ACTIVE",
              "attrs": {
                "type": ""
              },
              "editables": {},
              "is_hidden": false,
              "type": "LOCAL",
              "options": {
                "type": "PREDEFINED",
                "choices": []
              },
              "name": "veeam_session_id"
            }
          ],
          "name": "PCsvc"
        }
      ],
      "substrate_definition_list": [
        {
          "description": "",
          "action_list": [
            {
              "description": "System action for creating an application",
              "message_list": [],
              "uuid": "b4ba6e8e-0959-4dda-ac60-1b2029cc8912",
              "name": "action_create",
              "state": "ACTIVE",
              "critical": true,
              "attrs": {},
              "type": "system",
              "runbook": {
                "task_definition_list": [
                  {
                    "target_any_local_reference": {
                      "kind": "app_substrate",
                      "name": "PCVm",
                      "uuid": "da50a44a-1261-6726-38bb-ad93f93f7a4d"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "DAG",
                    "uuid": "51e6f309-c4d2-47e1-a2ef-7e6120f1aab3",
                    "child_tasks_local_reference_list": [
                      "@{kind=app_task; name=SYS_GEN__Existing_Machine_Provision_da50a44a_1261_6726_38bb_ad93f93f7a4d; uuid=f94aef54-c3ea-471a-a690-eac4f95b6902}",
                      "@{kind=app_task; name=SYS_GEN__check_login_for_PC_da50a44a_1261_6726_38bb_ad93f93f7a4d; uuid=9782fa12-7290-41ae-ae84-c1e8f6867d83}"
                    ],
                    "state": "ACTIVE",
                    "attrs": {
                      "edges": "",
                      "type": "DAG"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__DAG_Substrate_da50a44a_1261_6726_38bb_ad93f93f7a4d"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_substrate",
                      "name": "PCVm",
                      "uuid": "da50a44a-1261-6726-38bb-ad93f93f7a4d"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "PROVISION_EXISTING_MACHINE",
                    "uuid": "f94aef54-c3ea-471a-a690-eac4f95b6902",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "type": "PROVISION_EXISTING_MACHINE",
                      "address": "10.68.97.150"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__Existing_Machine_Provision_da50a44a_1261_6726_38bb_ad93f93f7a4d"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_substrate",
                      "name": "PCVm",
                      "uuid": "da50a44a-1261-6726-38bb-ad93f93f7a4d"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "CHECK_LOGIN",
                    "uuid": "9782fa12-7290-41ae-ae84-c1e8f6867d83",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "retries": "5",
                      "dial_timeout": "",
                      "timeout": "60",
                      "address": "@@{ip_address}@@",
                      "type": "CHECK_LOGIN",
                      "sleep_time": ""
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__check_login_for_PC_da50a44a_1261_6726_38bb_ad93f93f7a4d"
                  }
                ],
                "description": "",
                "message_list": [],
                "uuid": "09d563a5-a2f9-4f7d-ab50-b51ab1179939",
                "state": "ACTIVE",
                "variable_list": [],
                "main_task_local_reference": {
                  "kind": "app_task",
                  "name": "SYS_GEN__DAG_Substrate_da50a44a_1261_6726_38bb_ad93f93f7a4d",
                  "uuid": "51e6f309-c4d2-47e1-a2ef-7e6120f1aab3"
                },
                "name": "SYS_GEN__Runbook_Substrate_da50a44a_1261_6726_38bb_ad93f93f7a4d"
              }
            },
            {
              "description": "System action for powering on an application",
              "message_list": [],
              "uuid": "ba58efb5-78cb-4027-bd80-b151145a2193",
              "name": "action_poweron",
              "state": "ACTIVE",
              "critical": true,
              "attrs": {},
              "type": "system",
              "runbook": {
                "task_definition_list": [
                  {
                    "target_any_local_reference": {
                      "kind": "app_substrate",
                      "name": "PCVm",
                      "uuid": "da50a44a-1261-6726-38bb-ad93f93f7a4d"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "DAG",
                    "uuid": "67ed1208-cd08-441f-9d2a-43b87841768c",
                    "child_tasks_local_reference_list": [
                      "@{kind=app_task; name=SYS_GEN__Existing_Machine_Operation_PowerOn_da50a44a_1261_6726_38bb_ad93f93f7a4d; uuid=13832b6e-af3f-47f7-8ac4-3f4be399b2ef}"
                    ],
                    "state": "ACTIVE",
                    "attrs": {
                      "edges": "",
                      "type": "DAG"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__DAG_Substrate_da50a44a_1261_6726_38bb_ad93f93f7a4d"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_substrate",
                      "name": "PCVm",
                      "uuid": "da50a44a-1261-6726-38bb-ad93f93f7a4d"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "EXISTING_MACHINE_OPERATION",
                    "uuid": "13832b6e-af3f-47f7-8ac4-3f4be399b2ef",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "operation_type": "action_poweron",
                      "type": "GENERIC_OPERATION"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__Existing_Machine_Operation_PowerOn_da50a44a_1261_6726_38bb_ad93f93f7a4d"
                  }
                ],
                "description": "",
                "message_list": [],
                "uuid": "ce801c80-2c3a-4ddb-a1f9-ac01d5c4b59e",
                "state": "ACTIVE",
                "variable_list": [],
                "main_task_local_reference": {
                  "kind": "app_task",
                  "name": "SYS_GEN__DAG_Substrate_da50a44a_1261_6726_38bb_ad93f93f7a4d",
                  "uuid": "67ed1208-cd08-441f-9d2a-43b87841768c"
                },
                "name": "SYS_GEN__Runbook_Substrate_da50a44a_1261_6726_38bb_ad93f93f7a4d"
              }
            },
            {
              "description": "System action for restarting an application",
              "message_list": [],
              "uuid": "c25571ae-9fef-4c96-b634-d31968ade848",
              "name": "action_restart",
              "state": "ACTIVE",
              "critical": true,
              "attrs": {},
              "type": "system",
              "runbook": {
                "task_definition_list": [
                  {
                    "target_any_local_reference": {
                      "kind": "app_substrate",
                      "name": "PCVm",
                      "uuid": "da50a44a-1261-6726-38bb-ad93f93f7a4d"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "DAG",
                    "uuid": "0f2a0d36-c154-41f1-aa01-08129c32b5d1",
                    "child_tasks_local_reference_list": [
                      "@{kind=app_task; name=SYS_GEN__Existing_Machine_Operation_Restart_da50a44a_1261_6726_38bb_ad93f93f7a4d; uuid=39d88887-9cec-49e3-97d0-48f097575788}"
                    ],
                    "state": "ACTIVE",
                    "attrs": {
                      "edges": "",
                      "type": "DAG"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__DAG_Substrate_da50a44a_1261_6726_38bb_ad93f93f7a4d"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_substrate",
                      "name": "PCVm",
                      "uuid": "da50a44a-1261-6726-38bb-ad93f93f7a4d"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "EXISTING_MACHINE_OPERATION",
                    "uuid": "39d88887-9cec-49e3-97d0-48f097575788",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "operation_type": "action_restart",
                      "type": "GENERIC_OPERATION"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__Existing_Machine_Operation_Restart_da50a44a_1261_6726_38bb_ad93f93f7a4d"
                  }
                ],
                "description": "",
                "message_list": [],
                "uuid": "03e0a5f5-41c3-4470-b943-29628564415a",
                "state": "ACTIVE",
                "variable_list": [],
                "main_task_local_reference": {
                  "kind": "app_task",
                  "name": "SYS_GEN__DAG_Substrate_da50a44a_1261_6726_38bb_ad93f93f7a4d",
                  "uuid": "0f2a0d36-c154-41f1-aa01-08129c32b5d1"
                },
                "name": "SYS_GEN__Runbook_Substrate_da50a44a_1261_6726_38bb_ad93f93f7a4d"
              }
            },
            {
              "description": "System action for suspending an application",
              "message_list": [],
              "uuid": "70efe724-64ec-454d-a29b-075c5a38e0ac",
              "name": "action_suspend",
              "state": "ACTIVE",
              "critical": true,
              "attrs": {},
              "type": "system",
              "runbook": {
                "task_definition_list": [
                  {
                    "target_any_local_reference": {
                      "kind": "app_substrate",
                      "name": "PCVm",
                      "uuid": "da50a44a-1261-6726-38bb-ad93f93f7a4d"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "DAG",
                    "uuid": "73a9d606-012d-4004-bf61-d282f2d76c6a",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "edges": "",
                      "type": "DAG"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__DAG_Substrate_da50a44a_1261_6726_38bb_ad93f93f7a4d"
                  }
                ],
                "description": "",
                "message_list": [],
                "uuid": "370b98d6-fdbf-417d-a5ce-aa28a6969c40",
                "state": "ACTIVE",
                "variable_list": [],
                "main_task_local_reference": {
                  "kind": "app_task",
                  "name": "SYS_GEN__DAG_Substrate_da50a44a_1261_6726_38bb_ad93f93f7a4d",
                  "uuid": "73a9d606-012d-4004-bf61-d282f2d76c6a"
                },
                "name": "SYS_GEN__Runbook_Substrate_da50a44a_1261_6726_38bb_ad93f93f7a4d"
              }
            },
            {
              "description": "System action for modifying an application",
              "message_list": [],
              "uuid": "fce6178d-faeb-4e7f-975c-661f0f36c058",
              "name": "action_modify",
              "state": "ACTIVE",
              "critical": true,
              "attrs": {},
              "type": "system",
              "runbook": {
                "task_definition_list": [
                  {
                    "target_any_local_reference": {
                      "kind": "app_substrate",
                      "name": "PCVm",
                      "uuid": "da50a44a-1261-6726-38bb-ad93f93f7a4d"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "DAG",
                    "uuid": "eef8fcc0-0c09-4a11-88d1-bac56c345f7e",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "edges": "",
                      "type": "DAG"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__DAG_Substrate_da50a44a_1261_6726_38bb_ad93f93f7a4d"
                  }
                ],
                "description": "",
                "message_list": [],
                "uuid": "0de52bde-418a-4a64-94c5-27dd83fa91b3",
                "state": "ACTIVE",
                "variable_list": [],
                "main_task_local_reference": {
                  "kind": "app_task",
                  "name": "SYS_GEN__DAG_Substrate_da50a44a_1261_6726_38bb_ad93f93f7a4d",
                  "uuid": "eef8fcc0-0c09-4a11-88d1-bac56c345f7e"
                },
                "name": "SYS_GEN__Runbook_Substrate_da50a44a_1261_6726_38bb_ad93f93f7a4d"
              }
            },
            {
              "description": "System action for powering off an application",
              "message_list": [],
              "uuid": "159e4abc-be60-4610-b6ea-6d79195b291a",
              "name": "action_poweroff",
              "state": "ACTIVE",
              "critical": true,
              "attrs": {},
              "type": "system",
              "runbook": {
                "task_definition_list": [
                  {
                    "target_any_local_reference": {
                      "kind": "app_substrate",
                      "name": "PCVm",
                      "uuid": "da50a44a-1261-6726-38bb-ad93f93f7a4d"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "DAG",
                    "uuid": "a0ef9222-d7dc-4a96-858c-3d1744804a2c",
                    "child_tasks_local_reference_list": [
                      "@{kind=app_task; name=SYS_GEN__Existing_Machine_Operation_PowerOff_da50a44a_1261_6726_38bb_ad93f93f7a4d; uuid=0a1bdcc5-2e5b-46c6-8ffe-f2fc5a731d9d}"
                    ],
                    "state": "ACTIVE",
                    "attrs": {
                      "edges": "",
                      "type": "DAG"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__DAG_Substrate_da50a44a_1261_6726_38bb_ad93f93f7a4d"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_substrate",
                      "name": "PCVm",
                      "uuid": "da50a44a-1261-6726-38bb-ad93f93f7a4d"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "EXISTING_MACHINE_OPERATION",
                    "uuid": "0a1bdcc5-2e5b-46c6-8ffe-f2fc5a731d9d",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "operation_type": "action_poweroff",
                      "type": "GENERIC_OPERATION"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__Existing_Machine_Operation_PowerOff_da50a44a_1261_6726_38bb_ad93f93f7a4d"
                  }
                ],
                "description": "",
                "message_list": [],
                "uuid": "50a09a84-acde-4583-b1f6-ee0fe94bbafe",
                "state": "ACTIVE",
                "variable_list": [],
                "main_task_local_reference": {
                  "kind": "app_task",
                  "name": "SYS_GEN__DAG_Substrate_da50a44a_1261_6726_38bb_ad93f93f7a4d",
                  "uuid": "a0ef9222-d7dc-4a96-858c-3d1744804a2c"
                },
                "name": "SYS_GEN__Runbook_Substrate_da50a44a_1261_6726_38bb_ad93f93f7a4d"
              }
            },
            {
              "description": "System action for deleting an application. Deletes created VMs as well",
              "message_list": [],
              "uuid": "bf0491e2-8526-44ac-b9ae-457f0b24e2c2",
              "name": "action_delete",
              "state": "ACTIVE",
              "critical": true,
              "attrs": {},
              "type": "system",
              "runbook": {
                "task_definition_list": [
                  {
                    "target_any_local_reference": {
                      "kind": "app_substrate",
                      "name": "PCVm",
                      "uuid": "da50a44a-1261-6726-38bb-ad93f93f7a4d"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "DAG",
                    "uuid": "3b78a9d6-4e5f-4e17-8790-a268a9bc2bc2",
                    "child_tasks_local_reference_list": [
                      "@{kind=app_task; name=SYS_GEN__Existing_Machine_Delete_da50a44a_1261_6726_38bb_ad93f93f7a4d; uuid=c44d6014-475c-4fd4-92f5-22a6afc4f3c5}"
                    ],
                    "state": "ACTIVE",
                    "attrs": {
                      "edges": "",
                      "type": "DAG"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__DAG_Substrate_da50a44a_1261_6726_38bb_ad93f93f7a4d"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_substrate",
                      "name": "PCVm",
                      "uuid": "da50a44a-1261-6726-38bb-ad93f93f7a4d"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "EXISTING_MACHINE_DELETE",
                    "uuid": "c44d6014-475c-4fd4-92f5-22a6afc4f3c5",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "type": ""
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__Existing_Machine_Delete_da50a44a_1261_6726_38bb_ad93f93f7a4d"
                  }
                ],
                "description": "",
                "message_list": [],
                "uuid": "1fb4ee1e-2213-4ec8-89ee-f4b467ed0e0d",
                "state": "ACTIVE",
                "variable_list": [],
                "main_task_local_reference": {
                  "kind": "app_task",
                  "name": "SYS_GEN__DAG_Substrate_da50a44a_1261_6726_38bb_ad93f93f7a4d",
                  "uuid": "3b78a9d6-4e5f-4e17-8790-a268a9bc2bc2"
                },
                "name": "SYS_GEN__Runbook_Substrate_da50a44a_1261_6726_38bb_ad93f93f7a4d"
              }
            },
            {
              "description": "System action for deleting an application. Does not delete created VMs",
              "message_list": [],
              "uuid": "e705e946-c091-44c0-908f-6a73e0ffc1e9",
              "name": "action_soft_delete",
              "state": "ACTIVE",
              "critical": true,
              "attrs": {},
              "type": "system",
              "runbook": {
                "task_definition_list": [
                  {
                    "target_any_local_reference": {
                      "kind": "app_substrate",
                      "name": "PCVm",
                      "uuid": "da50a44a-1261-6726-38bb-ad93f93f7a4d"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "DAG",
                    "uuid": "32a8ca5f-898c-42e2-bc89-55e95819ceab",
                    "child_tasks_local_reference_list": [
                      "@{kind=app_task; name=SYS_GEN__Substrate_Element_Delete_da50a44a_1261_6726_38bb_ad93f93f7a4d; uuid=04724420-dbb7-47de-97d5-4d86b16e58b3}"
                    ],
                    "state": "ACTIVE",
                    "attrs": {
                      "edges": "",
                      "type": "DAG"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__DAG_Substrate_da50a44a_1261_6726_38bb_ad93f93f7a4d"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_substrate",
                      "name": "PCVm",
                      "uuid": "da50a44a-1261-6726-38bb-ad93f93f7a4d"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "SOFT_DELETE_ELEMENT",
                    "uuid": "04724420-dbb7-47de-97d5-4d86b16e58b3",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "type": ""
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__Substrate_Element_Delete_da50a44a_1261_6726_38bb_ad93f93f7a4d"
                  }
                ],
                "description": "",
                "message_list": [],
                "uuid": "61072eca-8786-42e5-92f5-e1ad68ae8fef",
                "state": "ACTIVE",
                "variable_list": [],
                "main_task_local_reference": {
                  "kind": "app_task",
                  "name": "SYS_GEN__DAG_Substrate_da50a44a_1261_6726_38bb_ad93f93f7a4d",
                  "uuid": "32a8ca5f-898c-42e2-bc89-55e95819ceab"
                },
                "name": "SYS_GEN__Runbook_Substrate_da50a44a_1261_6726_38bb_ad93f93f7a4d"
              }
            }
          ],
          "message_list": [],
          "uuid": "da50a44a-1261-6726-38bb-ad93f93f7a4d",
          "state": "ACTIVE",
          "readiness_probe": {
            "connection_type": "SSH",
            "retries": "5",
            "connection_protocol": "",
            "disable_readiness_probe": true,
            "address": "@@{ip_address}@@",
            "delay_secs": "60",
            "connection_port": 22,
            "login_credential_local_reference": {
              "kind": "app_credential",
              "name": "PC",
              "uuid": "4497e850-bc6a-3301-540e-2ca89112f43a"
            }
          },
          "editables": {},
          "os_type": "Linux",
          "type": "EXISTING_VM",
          "create_spec": {
            "type": "PROVISION_EXISTING_MACHINE",
            "address": "10.68.97.150"
          },
          "variable_list": [],
          "name": "PCVm"
        }
      ],
      "credential_definition_list": [
        {
          "username": "nutanix",
          "description": "",
          "state": "ACTIVE",
          "uuid": "4497e850-bc6a-3301-540e-2ca89112f43a",
          "secret": {
            "attrs": {
              "is_secret_modified": false,
              "secret_reference": {}
            }
          },
          "editables": {},
          "cred_class": "static",
          "type": "PASSWORD",
          "name": "PC"
        },
        {
          "username": "administrator",
          "description": "",
          "state": "ACTIVE",
          "uuid": "6cd5abea-c036-c5a9-ac57-5b6e252577b0",
          "secret": {
            "attrs": {
              "is_secret_modified": false,
              "secret_reference": {}
            }
          },
          "editables": {},
          "cred_class": "static",
          "type": "PASSWORD",
          "name": "veeam"
        },
        {
          "username": "administrator@vsphere.local",
          "description": "",
          "state": "ACTIVE",
          "uuid": "bf994217-14cf-69a7-4625-bc3deb207bdd",
          "secret": {
            "attrs": {
              "is_secret_modified": false,
              "secret_reference": {}
            }
          },
          "editables": {},
          "cred_class": "static",
          "type": "PASSWORD",
          "name": "vc"
        }
      ],
      "type": "USER",
      "app_profile_list": [
        {
          "deployment_create_list": [
            {
              "description": "",
              "action_list": [
                {
                  "description": "System action for creating an application",
                  "message_list": [],
                  "uuid": "b3dd9789-5f32-4fe5-adf8-6a310ad81883",
                  "name": "action_create",
                  "state": "ACTIVE",
                  "critical": true,
                  "attrs": {},
                  "type": "system",
                  "runbook": {
                    "task_definition_list": [
                      "@{target_any_local_reference=; retries=0; description=; type=DAG; uuid=4eebec61-f746-4b67-8454-c096a29264d1; child_tasks_local_reference_list=System.Object[]; state=ACTIVE; attrs=; timeout_secs=0; inherit_target=False; message_list=System.Object[]; variable_list=System.Object[]; name=SYS_GEN__Composite_DAG_Deployment_5ef36572_512b_e6cb_d56a_33e14225dd0f}",
                      "@{target_any_local_reference=; retries=0; description=; type=CREATE_DEPLOYMENT_ELEMENT; uuid=a4066144-5feb-4e3e-b73f-65b117cdd71e; child_tasks_local_reference_list=System.Object[]; state=ACTIVE; attrs=; timeout_secs=0; inherit_target=False; message_list=System.Object[]; variable_list=System.Object[]; name=SYS_GEN__DE_Provision_5ef36572_512b_e6cb_d56a_33e14225dd0f}",
                      "@{target_any_local_reference=; retries=0; description=; type=CALL_RUNBOOK; uuid=5378ddae-2b25-4912-98b7-2377687af6a2; child_tasks_local_reference_list=System.Object[]; state=ACTIVE; attrs=; timeout_secs=0; inherit_target=False; message_list=System.Object[]; variable_list=System.Object[]; name=SYS_GEN__create_CRb_Substrate_da50a44a_1261_6726_38bb_ad93f93f7a4d}",
                      "@{target_any_local_reference=; retries=0; description=; type=CALL_RUNBOOK; uuid=83a7c76e-539f-4e3c-aca2-e078ac4f9017; child_tasks_local_reference_list=System.Object[]; state=ACTIVE; attrs=; timeout_secs=0; inherit_target=False; message_list=System.Object[]; variable_list=System.Object[]; name=SYS_GEN__install_CRb_Package_4d1da903_ff86_5101_7cb4_6e9390753d3e}",
                      "@{target_any_local_reference=; retries=0; description=; type=CALL_RUNBOOK; uuid=ec7c824d-bb2a-4ec6-809a-9bbe38c59222; child_tasks_local_reference_list=System.Object[]; state=ACTIVE; attrs=; timeout_secs=0; inherit_target=False; message_list=System.Object[]; variable_list=System.Object[]; name=SYS_GEN__create_CRb_Service_47c67600_3b74_f2af_9d73_9ca84ff91d05}",
                      "@{target_any_local_reference=; retries=0; description=; type=CALL_RUNBOOK; uuid=4aad890a-9b85-427a-aa05-2d36d02e3d5c; child_tasks_local_reference_list=System.Object[]; state=ACTIVE; attrs=; timeout_secs=0; inherit_target=False; message_list=System.Object[]; variable_list=System.Object[]; name=SYS_GEN__start_CRb_Service_47c67600_3b74_f2af_9d73_9ca84ff91d05}"
                    ],
                    "description": "",
                    "message_list": [],
                    "uuid": "dfa2f173-60f3-4daf-b032-0f2bde376910",
                    "state": "ACTIVE",
                    "variable_list": [],
                    "main_task_local_reference": {
                      "kind": "app_task",
                      "name": "SYS_GEN__Composite_DAG_Deployment_5ef36572_512b_e6cb_d56a_33e14225dd0f",
                      "uuid": "4eebec61-f746-4b67-8454-c096a29264d1"
                    },
                    "name": "SYS_GEN__Runbook_Deployment_5ef36572_512b_e6cb_d56a_33e14225dd0f"
                  }
                },
                {
                  "description": "System action for starting an application",
                  "message_list": [],
                  "uuid": "8e409cca-d992-4ea9-b103-1b3f49b190d9",
                  "name": "action_start",
                  "state": "ACTIVE",
                  "critical": true,
                  "attrs": {},
                  "type": "system",
                  "runbook": {
                    "task_definition_list": [
                      "@{target_any_local_reference=; retries=0; description=; type=DAG; uuid=33697eb0-e859-43a8-b719-6a10ae60cb0b; child_tasks_local_reference_list=System.Object[]; state=ACTIVE; attrs=; timeout_secs=0; inherit_target=False; message_list=System.Object[]; variable_list=System.Object[]; name=SYS_GEN__Composite_DAG_Deployment_5ef36572_512b_e6cb_d56a_33e14225dd0f}",
                      "@{target_any_local_reference=; retries=0; description=; type=CALL_RUNBOOK; uuid=f2dbf0c9-b03c-4908-880c-decb648b24b4; child_tasks_local_reference_list=System.Object[]; state=ACTIVE; attrs=; timeout_secs=0; inherit_target=False; message_list=System.Object[]; variable_list=System.Object[]; name=SYS_GEN__start_CRb_Substrate_da50a44a_1261_6726_38bb_ad93f93f7a4d}",
                      "@{target_any_local_reference=; retries=0; description=; type=CALL_RUNBOOK; uuid=dc75d6c4-ae30-4f23-8840-fe2a82de4f6e; child_tasks_local_reference_list=System.Object[]; state=ACTIVE; attrs=; timeout_secs=0; inherit_target=False; message_list=System.Object[]; variable_list=System.Object[]; name=SYS_GEN__start_CRb_Service_47c67600_3b74_f2af_9d73_9ca84ff91d05}"
                    ],
                    "description": "",
                    "message_list": [],
                    "uuid": "ccfc76b3-4373-4df1-a112-9b00bece2ce0",
                    "state": "ACTIVE",
                    "variable_list": [],
                    "main_task_local_reference": {
                      "kind": "app_task",
                      "name": "SYS_GEN__Composite_DAG_Deployment_5ef36572_512b_e6cb_d56a_33e14225dd0f",
                      "uuid": "33697eb0-e859-43a8-b719-6a10ae60cb0b"
                    },
                    "name": "SYS_GEN__Runbook_Deployment_5ef36572_512b_e6cb_d56a_33e14225dd0f"
                  }
                },
                {
                  "description": "System action for restarting an application",
                  "message_list": [],
                  "uuid": "ad1f0af4-6651-4cae-bb0a-e9bc6dbe94e8",
                  "name": "action_restart",
                  "state": "ACTIVE",
                  "critical": true,
                  "attrs": {},
                  "type": "system",
                  "runbook": {
                    "task_definition_list": [
                      "@{target_any_local_reference=; retries=0; description=; type=DAG; uuid=a8a04a03-06b9-45d6-9593-b1efb3f3105b; child_tasks_local_reference_list=System.Object[]; state=ACTIVE; attrs=; timeout_secs=0; inherit_target=False; message_list=System.Object[]; variable_list=System.Object[]; name=SYS_GEN__Composite_DAG_Deployment_5ef36572_512b_e6cb_d56a_33e14225dd0f}",
                      "@{target_any_local_reference=; retries=0; description=; type=CALL_RUNBOOK; uuid=7e6ab873-9364-49b7-a7b8-db4e79e3eed8; child_tasks_local_reference_list=System.Object[]; state=ACTIVE; attrs=; timeout_secs=0; inherit_target=False; message_list=System.Object[]; variable_list=System.Object[]; name=SYS_GEN__restart_CRb_Substrate_da50a44a_1261_6726_38bb_ad93f93f7a4d}",
                      "@{target_any_local_reference=; retries=0; description=; type=CALL_RUNBOOK; uuid=ee4690b1-6cce-4b03-bd49-9c04ed9df40c; child_tasks_local_reference_list=System.Object[]; state=ACTIVE; attrs=; timeout_secs=0; inherit_target=False; message_list=System.Object[]; variable_list=System.Object[]; name=SYS_GEN__restart_CRb_Service_47c67600_3b74_f2af_9d73_9ca84ff91d05}"
                    ],
                    "description": "",
                    "message_list": [],
                    "uuid": "fe8a9622-775f-431f-8dc1-5e7f30ecf645",
                    "state": "ACTIVE",
                    "variable_list": [],
                    "main_task_local_reference": {
                      "kind": "app_task",
                      "name": "SYS_GEN__Composite_DAG_Deployment_5ef36572_512b_e6cb_d56a_33e14225dd0f",
                      "uuid": "a8a04a03-06b9-45d6-9593-b1efb3f3105b"
                    },
                    "name": "SYS_GEN__Runbook_Deployment_5ef36572_512b_e6cb_d56a_33e14225dd0f"
                  }
                },
                {
                  "description": "System action for stopping an application",
                  "message_list": [],
                  "uuid": "1bd052ef-d68b-4141-bdb4-e78669263b61",
                  "name": "action_stop",
                  "state": "ACTIVE",
                  "critical": true,
                  "attrs": {},
                  "type": "system",
                  "runbook": {
                    "task_definition_list": [
                      "@{target_any_local_reference=; retries=0; description=; type=DAG; uuid=94772298-7a64-41e0-b2d0-ee62b916223e; child_tasks_local_reference_list=System.Object[]; state=ACTIVE; attrs=; timeout_secs=0; inherit_target=False; message_list=System.Object[]; variable_list=System.Object[]; name=SYS_GEN__Composite_DAG_Deployment_5ef36572_512b_e6cb_d56a_33e14225dd0f}",
                      "@{target_any_local_reference=; retries=0; description=; type=CALL_RUNBOOK; uuid=5537af1c-e21f-4b5f-b4b3-8dae4bacf4cf; child_tasks_local_reference_list=System.Object[]; state=ACTIVE; attrs=; timeout_secs=0; inherit_target=False; message_list=System.Object[]; variable_list=System.Object[]; name=SYS_GEN__stop_CRb_Service_47c67600_3b74_f2af_9d73_9ca84ff91d05}",
                      "@{target_any_local_reference=; retries=0; description=; type=CALL_RUNBOOK; uuid=be473a7f-967a-477e-84b3-0ec52546e99e; child_tasks_local_reference_list=System.Object[]; state=ACTIVE; attrs=; timeout_secs=0; inherit_target=False; message_list=System.Object[]; variable_list=System.Object[]; name=SYS_GEN__stop_CRb_Substrate_da50a44a_1261_6726_38bb_ad93f93f7a4d}"
                    ],
                    "description": "",
                    "message_list": [],
                    "uuid": "e5b0a165-557d-4e74-b2a1-15795f7c3215",
                    "state": "ACTIVE",
                    "variable_list": [],
                    "main_task_local_reference": {
                      "kind": "app_task",
                      "name": "SYS_GEN__Composite_DAG_Deployment_5ef36572_512b_e6cb_d56a_33e14225dd0f",
                      "uuid": "94772298-7a64-41e0-b2d0-ee62b916223e"
                    },
                    "name": "SYS_GEN__Runbook_Deployment_5ef36572_512b_e6cb_d56a_33e14225dd0f"
                  }
                },
                {
                  "description": "System action for deleting an application. Deletes created VMs as well",
                  "message_list": [],
                  "uuid": "7d13cd34-e1ce-40e2-a285-00caa435a810",
                  "name": "action_delete",
                  "state": "ACTIVE",
                  "critical": true,
                  "attrs": {},
                  "type": "system",
                  "runbook": {
                    "task_definition_list": [
                      "@{target_any_local_reference=; retries=0; description=; type=DAG; uuid=2fa87e03-94e0-4c8e-9f95-1644b75aab04; child_tasks_local_reference_list=System.Object[]; state=ACTIVE; attrs=; timeout_secs=0; inherit_target=False; message_list=System.Object[]; variable_list=System.Object[]; name=SYS_GEN__Composite_DAG_Deployment_5ef36572_512b_e6cb_d56a_33e14225dd0f}",
                      "@{target_any_local_reference=; retries=0; description=; type=CALL_RUNBOOK; uuid=d9b13421-69c2-48c1-bf71-79341bf7d5dd; child_tasks_local_reference_list=System.Object[]; state=ACTIVE; attrs=; timeout_secs=0; inherit_target=False; message_list=System.Object[]; variable_list=System.Object[]; name=SYS_GEN__stop_CRb_Service_47c67600_3b74_f2af_9d73_9ca84ff91d05}",
                      "@{target_any_local_reference=; retries=0; description=; type=CALL_RUNBOOK; uuid=48be392f-9918-44ad-9ead-eb70a46e3f86; child_tasks_local_reference_list=System.Object[]; state=ACTIVE; attrs=; timeout_secs=0; inherit_target=False; message_list=System.Object[]; variable_list=System.Object[]; name=SYS_GEN__delete_CRb_Service_47c67600_3b74_f2af_9d73_9ca84ff91d05}",
                      "@{target_any_local_reference=; retries=0; description=; type=CALL_RUNBOOK; uuid=278236f4-a452-431f-9a2e-47ceb8700d82; child_tasks_local_reference_list=System.Object[]; state=ACTIVE; attrs=; timeout_secs=0; inherit_target=False; message_list=System.Object[]; variable_list=System.Object[]; name=SYS_GEN__uninstall_CRb_Package_4d1da903_ff86_5101_7cb4_6e9390753d3e}",
                      "@{target_any_local_reference=; retries=0; description=; type=CALL_RUNBOOK; uuid=1bbadd00-0dd9-4563-9143-ad882fcd5ead; child_tasks_local_reference_list=System.Object[]; state=ACTIVE; attrs=; timeout_secs=0; inherit_target=False; message_list=System.Object[]; variable_list=System.Object[]; name=SYS_GEN__delete_CRb_Substrate_da50a44a_1261_6726_38bb_ad93f93f7a4d}",
                      "@{target_any_local_reference=; retries=0; description=; type=DELETE_DEPLOYMENT_ELEMENT; uuid=d3c74458-f667-43d1-9c1b-0c915092e8d5; child_tasks_local_reference_list=System.Object[]; state=ACTIVE; attrs=; timeout_secs=0; inherit_target=False; message_list=System.Object[]; variable_list=System.Object[]; name=SYS_GEN__DE_Delete_5ef36572_512b_e6cb_d56a_33e14225dd0f}"
                    ],
                    "description": "",
                    "message_list": [],
                    "uuid": "a9964387-2d14-4f6a-a27f-b06f3749654f",
                    "state": "ACTIVE",
                    "variable_list": [],
                    "main_task_local_reference": {
                      "kind": "app_task",
                      "name": "SYS_GEN__Composite_DAG_Deployment_5ef36572_512b_e6cb_d56a_33e14225dd0f",
                      "uuid": "2fa87e03-94e0-4c8e-9f95-1644b75aab04"
                    },
                    "name": "SYS_GEN__Runbook_Deployment_5ef36572_512b_e6cb_d56a_33e14225dd0f"
                  }
                },
                {
                  "description": "System action for scaleout",
                  "message_list": [],
                  "uuid": "dd2f9eb5-1326-4627-bac9-796a095eedc8",
                  "name": "action_scaleout",
                  "state": "ACTIVE",
                  "critical": true,
                  "attrs": {},
                  "type": "system",
                  "runbook": {
                    "task_definition_list": [
                      "@{target_any_local_reference=; retries=0; description=; type=DAG; uuid=27d9a18d-f8e0-4fab-beee-200324255cac; child_tasks_local_reference_list=System.Object[]; state=ACTIVE; attrs=; timeout_secs=0; inherit_target=False; message_list=System.Object[]; variable_list=System.Object[]; name=SYS_GEN__Composite_DAG_Deployment_5ef36572_512b_e6cb_d56a_33e14225dd0f}",
                      "@{target_any_local_reference=; retries=0; description=; type=SCALING; uuid=de6b2621-9458-48df-aab9-08a1ab80d7c9; child_tasks_local_reference_list=System.Object[]; state=ACTIVE; attrs=; timeout_secs=0; inherit_target=False; message_list=System.Object[]; variable_list=System.Object[]; name=SYS_GEN__Deployment_Scaleout_5ef36572_512b_e6cb_d56a_33e14225dd0f}"
                    ],
                    "description": "",
                    "message_list": [],
                    "uuid": "891a59ca-738d-4a2d-ad52-6306651f6be3",
                    "state": "ACTIVE",
                    "variable_list": [
                      "@{regex=; val_type=STRING; is_mandatory=False; description=; data_type=BASE; message_list=System.Object[]; uuid=0bf6ed98-e38a-41ec-ba23-89c14f1e3332; value=0; label=; state=NOT_VALIDATED; attrs=; editables=; is_hidden=False; type=LOCAL; options=; name=scaling_count}"
                    ],
                    "main_task_local_reference": {
                      "kind": "app_task",
                      "name": "SYS_GEN__Composite_DAG_Deployment_5ef36572_512b_e6cb_d56a_33e14225dd0f",
                      "uuid": "27d9a18d-f8e0-4fab-beee-200324255cac"
                    },
                    "name": "SYS_GEN__Runbook_Deployment_5ef36572_512b_e6cb_d56a_33e14225dd0f"
                  }
                },
                {
                  "description": "System action for scalein",
                  "message_list": [],
                  "uuid": "9128c307-26f0-44f4-bcf9-334e5aa1e448",
                  "name": "action_scalein",
                  "state": "ACTIVE",
                  "critical": true,
                  "attrs": {},
                  "type": "system",
                  "runbook": {
                    "task_definition_list": [
                      "@{target_any_local_reference=; retries=0; description=; type=DAG; uuid=737dc11d-5ef2-42cf-88df-20fcba730306; child_tasks_local_reference_list=System.Object[]; state=ACTIVE; attrs=; timeout_secs=0; inherit_target=False; message_list=System.Object[]; variable_list=System.Object[]; name=SYS_GEN__Composite_DAG_Deployment_5ef36572_512b_e6cb_d56a_33e14225dd0f}",
                      "@{target_any_local_reference=; retries=0; description=; type=SCALING; uuid=89e5bfbb-01e5-42ae-a286-61a7979d9402; child_tasks_local_reference_list=System.Object[]; state=ACTIVE; attrs=; timeout_secs=0; inherit_target=False; message_list=System.Object[]; variable_list=System.Object[]; name=SYS_GEN__Deployment_Scalein_5ef36572_512b_e6cb_d56a_33e14225dd0f}"
                    ],
                    "description": "",
                    "message_list": [],
                    "uuid": "e7482a2e-be8e-4a81-8b30-1b979e31d3f7",
                    "state": "ACTIVE",
                    "variable_list": [
                      "@{regex=; val_type=STRING; is_mandatory=False; description=; data_type=BASE; message_list=System.Object[]; uuid=7dc0bc8b-5ce9-4780-b1d7-dc76b358ec86; value=0; label=; state=NOT_VALIDATED; attrs=; editables=; is_hidden=False; type=LOCAL; options=; name=scaling_count}"
                    ],
                    "main_task_local_reference": {
                      "kind": "app_task",
                      "name": "SYS_GEN__Composite_DAG_Deployment_5ef36572_512b_e6cb_d56a_33e14225dd0f",
                      "uuid": "737dc11d-5ef2-42cf-88df-20fcba730306"
                    },
                    "name": "SYS_GEN__Runbook_Deployment_5ef36572_512b_e6cb_d56a_33e14225dd0f"
                  }
                },
                {
                  "description": "System action for deleting an application. Does not delete created VMs",
                  "message_list": [],
                  "uuid": "cf3d6463-8ff2-4121-8eff-38bd5122eb9d",
                  "name": "action_soft_delete",
                  "state": "ACTIVE",
                  "critical": true,
                  "attrs": {},
                  "type": "system",
                  "runbook": {
                    "task_definition_list": [
                      "@{target_any_local_reference=; retries=0; description=; type=DAG; uuid=ffe18268-c601-433b-ac25-cfcc693fd5b6; child_tasks_local_reference_list=System.Object[]; state=ACTIVE; attrs=; timeout_secs=0; inherit_target=False; message_list=System.Object[]; variable_list=System.Object[]; name=SYS_GEN__Composite_DAG_Deployment_5ef36572_512b_e6cb_d56a_33e14225dd0f}",
                      "@{target_any_local_reference=; retries=0; description=; type=CALL_RUNBOOK; uuid=e81499a8-0f53-4712-bf50-383a70dd4fd0; child_tasks_local_reference_list=System.Object[]; state=ACTIVE; attrs=; timeout_secs=0; inherit_target=False; message_list=System.Object[]; variable_list=System.Object[]; name=SYS_GEN__soft_delete_CRb_Service_47c67600_3b74_f2af_9d73_9ca84ff91d05}",
                      "@{target_any_local_reference=; retries=0; description=; type=SOFT_DELETE_ELEMENT; uuid=d8870c09-6b6a-4ceb-8e43-687b486feeb9; child_tasks_local_reference_list=System.Object[]; state=ACTIVE; attrs=; timeout_secs=0; inherit_target=False; message_list=System.Object[]; variable_list=System.Object[]; name=SYS_GEN__Package_Element_Delete_4d1da903_ff86_5101_7cb4_6e9390753d3e}",
                      "@{target_any_local_reference=; retries=0; description=; type=CALL_RUNBOOK; uuid=bb3f842a-99a7-4096-bfa2-835691dac8a0; child_tasks_local_reference_list=System.Object[]; state=ACTIVE; attrs=; timeout_secs=0; inherit_target=False; message_list=System.Object[]; variable_list=System.Object[]; name=SYS_GEN__soft_delete_CRb_Substrate_da50a44a_1261_6726_38bb_ad93f93f7a4d}",
                      "@{target_any_local_reference=; retries=0; description=; type=SOFT_DELETE_DEPLOYMENT_ELEMENT; uuid=0f8ce83e-468d-49f2-b78e-5706c46c2029; child_tasks_local_reference_list=System.Object[]; state=ACTIVE; attrs=; timeout_secs=0; inherit_target=False; message_list=System.Object[]; variable_list=System.Object[]; name=SYS_GEN__DE_Soft_Delete_5ef36572_512b_e6cb_d56a_33e14225dd0f}"
                    ],
                    "description": "",
                    "message_list": [],
                    "uuid": "d8ea4ea3-3cd6-4808-ae3d-ebebb4e9752c",
                    "state": "ACTIVE",
                    "variable_list": [],
                    "main_task_local_reference": {
                      "kind": "app_task",
                      "name": "SYS_GEN__Composite_DAG_Deployment_5ef36572_512b_e6cb_d56a_33e14225dd0f",
                      "uuid": "ffe18268-c601-433b-ac25-cfcc693fd5b6"
                    },
                    "name": "SYS_GEN__Runbook_Deployment_5ef36572_512b_e6cb_d56a_33e14225dd0f"
                  }
                }
              ],
              "message_list": [],
              "published_service_local_reference_list": [],
              "uuid": "5ef36572-512b-e6cb-d56a-33e14225dd0f",
              "default_replicas": "1",
              "min_replicas": "1",
              "state": "ACTIVE",
              "max_replicas": "1",
              "depends_on_list": [],
              "editables": {},
              "package_local_reference_list": [
                {
                  "kind": "app_package",
                  "name": "Package1",
                  "uuid": "4d1da903-ff86-5101-7cb4-6e9390753d3e"
                }
              ],
              "substrate_local_reference": {
                "kind": "app_substrate",
                "name": "PCVm",
                "uuid": "da50a44a-1261-6726-38bb-ad93f93f7a4d"
              },
              "type": "GREENFIELD",
              "options": {},
              "variable_list": [],
              "name": "b81c1fcf_deployment"
            }
          ],
          "environment_reference_list": [],
          "application_url": "",
          "description": "",
          "action_list": [
            {
              "description": "System action for creating an application",
              "message_list": [],
              "uuid": "f21c36ab-bcae-47bc-a202-6e0f38510978",
              "name": "action_create",
              "state": "ACTIVE",
              "critical": true,
              "attrs": {},
              "type": "system",
              "runbook": {
                "task_definition_list": [
                  {
                    "target_any_local_reference": {
                      "kind": "app_profile",
                      "name": "Default",
                      "uuid": "5150cf2d-4e6f-2850-93a8-966d63be7e9f"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "DAG",
                    "uuid": "f3e2212b-82b0-43aa-b73a-bb2e3b063576",
                    "child_tasks_local_reference_list": [
                      "@{kind=app_task; name=SYS_GEN__DE_Provision_5ef36572_512b_e6cb_d56a_33e14225dd0f; uuid=aabd72a5-25e2-46b0-8e42-1b6ce7362cbc}",
                      "@{kind=app_task; name=SYS_GEN__create_CRb_Substrate_da50a44a_1261_6726_38bb_ad93f93f7a4d; uuid=24cb1cc4-1804-403f-809e-a0d6fe7031b4}",
                      "@{kind=app_task; name=SYS_GEN__install_CRb_Package_4d1da903_ff86_5101_7cb4_6e9390753d3e; uuid=9fc2fac5-ffb7-4143-afd9-a82ea8370e5c}",
                      "@{kind=app_task; name=SYS_GEN__create_CRb_Service_47c67600_3b74_f2af_9d73_9ca84ff91d05; uuid=30f6b84e-0b32-475e-8a0d-ee61996c5db6}",
                      "@{kind=app_task; name=SYS_GEN__start_CRb_Service_47c67600_3b74_f2af_9d73_9ca84ff91d05; uuid=147b0d9d-dda2-43a8-b819-e9fedb6615fc}"
                    ],
                    "state": "ACTIVE",
                    "attrs": {
                      "edges": "   ",
                      "type": "DAG"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__Composite_DAG_Application_5150cf2d_4e6f_2850_93a8_966d63be7e9f"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_blueprint_deployment",
                      "name": "b81c1fcf_deployment",
                      "uuid": "5ef36572-512b-e6cb-d56a-33e14225dd0f"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "CREATE_DEPLOYMENT_ELEMENT",
                    "uuid": "aabd72a5-25e2-46b0-8e42-1b6ce7362cbc",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "type": ""
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__DE_Provision_5ef36572_512b_e6cb_d56a_33e14225dd0f"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_substrate",
                      "name": "PCVm",
                      "uuid": "da50a44a-1261-6726-38bb-ad93f93f7a4d"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "CALL_RUNBOOK",
                    "uuid": "24cb1cc4-1804-403f-809e-a0d6fe7031b4",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "inarg_list": "",
                      "deployment_reference": "@{kind=app_blueprint_deployment; name=b81c1fcf_deployment; uuid=5ef36572-512b-e6cb-d56a-33e14225dd0f}",
                      "type": "CALL_RUNBOOK",
                      "runbook_reference": "@{kind=app_runbook; name=SYS_GEN__Runbook_Substrate_da50a44a_1261_6726_38bb_ad93f93f7a4d; uuid=09d563a5-a2f9-4f7d-ab50-b51ab1179939}"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__create_CRb_Substrate_da50a44a_1261_6726_38bb_ad93f93f7a4d"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_package",
                      "name": "Package1",
                      "uuid": "4d1da903-ff86-5101-7cb4-6e9390753d3e"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "CALL_RUNBOOK",
                    "uuid": "9fc2fac5-ffb7-4143-afd9-a82ea8370e5c",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "inarg_list": "",
                      "deployment_reference": "@{kind=app_blueprint_deployment; name=b81c1fcf_deployment; uuid=5ef36572-512b-e6cb-d56a-33e14225dd0f}",
                      "type": "CALL_RUNBOOK",
                      "runbook_reference": "@{kind=app_runbook; name=SYS_GEN__Runbook_Package_4d1da903_ff86_5101_7cb4_6e9390753d3e; uuid=ee20eacb-9379-4a0f-94ed-9e453078761a}"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__install_CRb_Package_4d1da903_ff86_5101_7cb4_6e9390753d3e"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_service",
                      "name": "PCsvc",
                      "uuid": "47c67600-3b74-f2af-9d73-9ca84ff91d05"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "CALL_RUNBOOK",
                    "uuid": "30f6b84e-0b32-475e-8a0d-ee61996c5db6",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "inarg_list": "",
                      "deployment_reference": "@{kind=app_blueprint_deployment; name=b81c1fcf_deployment; uuid=5ef36572-512b-e6cb-d56a-33e14225dd0f}",
                      "type": "CALL_RUNBOOK",
                      "runbook_reference": "@{kind=app_runbook; name=cc61f23d_runbook; uuid=64307b90-886d-9d3b-33f9-fa2a5ff91e91}"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__create_CRb_Service_47c67600_3b74_f2af_9d73_9ca84ff91d05"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_service",
                      "name": "PCsvc",
                      "uuid": "47c67600-3b74-f2af-9d73-9ca84ff91d05"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "CALL_RUNBOOK",
                    "uuid": "147b0d9d-dda2-43a8-b819-e9fedb6615fc",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "inarg_list": "",
                      "deployment_reference": "@{kind=app_blueprint_deployment; name=b81c1fcf_deployment; uuid=5ef36572-512b-e6cb-d56a-33e14225dd0f}",
                      "type": "CALL_RUNBOOK",
                      "runbook_reference": "@{kind=app_runbook; name=86591f91_runbook; uuid=1a2b60a1-3694-0a9e-703b-0c0538713431}"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__start_CRb_Service_47c67600_3b74_f2af_9d73_9ca84ff91d05"
                  }
                ],
                "description": "",
                "message_list": [],
                "uuid": "173e09d4-b01b-4be1-ae79-c0420ed75a81",
                "state": "ACTIVE",
                "variable_list": [],
                "main_task_local_reference": {
                  "kind": "app_task",
                  "name": "SYS_GEN__Composite_DAG_Application_5150cf2d_4e6f_2850_93a8_966d63be7e9f",
                  "uuid": "f3e2212b-82b0-43aa-b73a-bb2e3b063576"
                },
                "name": "SYS_GEN__Runbook_Application_5150cf2d_4e6f_2850_93a8_966d63be7e9f"
              }
            },
            {
              "description": "System action for starting an application",
              "message_list": [],
              "uuid": "04afda5f-7baa-4850-a5d2-7c433fd82575",
              "name": "action_start",
              "state": "ACTIVE",
              "critical": true,
              "attrs": {},
              "type": "system",
              "runbook": {
                "task_definition_list": [
                  {
                    "target_any_local_reference": {
                      "kind": "app_profile",
                      "name": "Default",
                      "uuid": "5150cf2d-4e6f-2850-93a8-966d63be7e9f"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "DAG",
                    "uuid": "0604d068-cef4-4941-b3c8-85c9a4ecfd01",
                    "child_tasks_local_reference_list": [
                      "@{kind=app_task; name=SYS_GEN__start_CRb_Substrate_da50a44a_1261_6726_38bb_ad93f93f7a4d; uuid=858aa3b5-9111-4065-8e9f-bb9040504c7f}",
                      "@{kind=app_task; name=SYS_GEN__start_CRb_Service_47c67600_3b74_f2af_9d73_9ca84ff91d05; uuid=18f032b8-2b74-4081-ae59-94c0b6213c05}"
                    ],
                    "state": "ACTIVE",
                    "attrs": {
                      "edges": "",
                      "type": "DAG"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__Composite_DAG_Application_5150cf2d_4e6f_2850_93a8_966d63be7e9f"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_substrate",
                      "name": "PCVm",
                      "uuid": "da50a44a-1261-6726-38bb-ad93f93f7a4d"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "CALL_RUNBOOK",
                    "uuid": "858aa3b5-9111-4065-8e9f-bb9040504c7f",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "inarg_list": "",
                      "deployment_reference": "@{kind=app_blueprint_deployment; name=b81c1fcf_deployment; uuid=5ef36572-512b-e6cb-d56a-33e14225dd0f}",
                      "type": "CALL_RUNBOOK",
                      "runbook_reference": "@{kind=app_runbook; name=SYS_GEN__Runbook_Substrate_da50a44a_1261_6726_38bb_ad93f93f7a4d; uuid=ce801c80-2c3a-4ddb-a1f9-ac01d5c4b59e}"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__start_CRb_Substrate_da50a44a_1261_6726_38bb_ad93f93f7a4d"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_service",
                      "name": "PCsvc",
                      "uuid": "47c67600-3b74-f2af-9d73-9ca84ff91d05"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "CALL_RUNBOOK",
                    "uuid": "18f032b8-2b74-4081-ae59-94c0b6213c05",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "inarg_list": "",
                      "deployment_reference": "@{kind=app_blueprint_deployment; name=b81c1fcf_deployment; uuid=5ef36572-512b-e6cb-d56a-33e14225dd0f}",
                      "type": "CALL_RUNBOOK",
                      "runbook_reference": "@{kind=app_runbook; name=86591f91_runbook; uuid=1a2b60a1-3694-0a9e-703b-0c0538713431}"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__start_CRb_Service_47c67600_3b74_f2af_9d73_9ca84ff91d05"
                  }
                ],
                "description": "",
                "message_list": [],
                "uuid": "867f7669-e88e-41f7-a240-2242553ca07c",
                "state": "ACTIVE",
                "variable_list": [],
                "main_task_local_reference": {
                  "kind": "app_task",
                  "name": "SYS_GEN__Composite_DAG_Application_5150cf2d_4e6f_2850_93a8_966d63be7e9f",
                  "uuid": "0604d068-cef4-4941-b3c8-85c9a4ecfd01"
                },
                "name": "SYS_GEN__Runbook_Application_5150cf2d_4e6f_2850_93a8_966d63be7e9f"
              }
            },
            {
              "description": "System action for restarting an application",
              "message_list": [],
              "uuid": "9af30e81-f223-4bb7-9e48-3db341fc2d1f",
              "name": "action_restart",
              "state": "ACTIVE",
              "critical": true,
              "attrs": {},
              "type": "system",
              "runbook": {
                "task_definition_list": [
                  {
                    "target_any_local_reference": {
                      "kind": "app_profile",
                      "name": "Default",
                      "uuid": "5150cf2d-4e6f-2850-93a8-966d63be7e9f"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "DAG",
                    "uuid": "2d5a27d2-fb29-4e6c-82c2-217709327aab",
                    "child_tasks_local_reference_list": [
                      "@{kind=app_task; name=SYS_GEN__restart_CRb_Substrate_da50a44a_1261_6726_38bb_ad93f93f7a4d; uuid=15e6d987-cebf-4e25-9c49-4c43ee7b0f38}",
                      "@{kind=app_task; name=SYS_GEN__restart_CRb_Service_47c67600_3b74_f2af_9d73_9ca84ff91d05; uuid=e8b5f086-2fb5-472c-a84e-b5048026e0a6}"
                    ],
                    "state": "ACTIVE",
                    "attrs": {
                      "edges": "",
                      "type": "DAG"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__Composite_DAG_Application_5150cf2d_4e6f_2850_93a8_966d63be7e9f"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_substrate",
                      "name": "PCVm",
                      "uuid": "da50a44a-1261-6726-38bb-ad93f93f7a4d"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "CALL_RUNBOOK",
                    "uuid": "15e6d987-cebf-4e25-9c49-4c43ee7b0f38",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "inarg_list": "",
                      "deployment_reference": "@{kind=app_blueprint_deployment; name=b81c1fcf_deployment; uuid=5ef36572-512b-e6cb-d56a-33e14225dd0f}",
                      "type": "CALL_RUNBOOK",
                      "runbook_reference": "@{kind=app_runbook; name=SYS_GEN__Runbook_Substrate_da50a44a_1261_6726_38bb_ad93f93f7a4d; uuid=03e0a5f5-41c3-4470-b943-29628564415a}"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__restart_CRb_Substrate_da50a44a_1261_6726_38bb_ad93f93f7a4d"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_service",
                      "name": "PCsvc",
                      "uuid": "47c67600-3b74-f2af-9d73-9ca84ff91d05"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "CALL_RUNBOOK",
                    "uuid": "e8b5f086-2fb5-472c-a84e-b5048026e0a6",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "inarg_list": "",
                      "deployment_reference": "@{kind=app_blueprint_deployment; name=b81c1fcf_deployment; uuid=5ef36572-512b-e6cb-d56a-33e14225dd0f}",
                      "type": "CALL_RUNBOOK",
                      "runbook_reference": "@{kind=app_runbook; name=a50be1a4_runbook; uuid=97a0bf4e-6ecb-ab98-7db6-6c02ac0bf51a}"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__restart_CRb_Service_47c67600_3b74_f2af_9d73_9ca84ff91d05"
                  }
                ],
                "description": "",
                "message_list": [],
                "uuid": "8d28847e-216c-4652-b245-f855abc69636",
                "state": "ACTIVE",
                "variable_list": [],
                "main_task_local_reference": {
                  "kind": "app_task",
                  "name": "SYS_GEN__Composite_DAG_Application_5150cf2d_4e6f_2850_93a8_966d63be7e9f",
                  "uuid": "2d5a27d2-fb29-4e6c-82c2-217709327aab"
                },
                "name": "SYS_GEN__Runbook_Application_5150cf2d_4e6f_2850_93a8_966d63be7e9f"
              }
            },
            {
              "description": "System action for stopping an application",
              "message_list": [],
              "uuid": "45959a4b-c65a-46f6-b7c8-3105bc65f81e",
              "name": "action_stop",
              "state": "ACTIVE",
              "critical": true,
              "attrs": {},
              "type": "system",
              "runbook": {
                "task_definition_list": [
                  {
                    "target_any_local_reference": {
                      "kind": "app_profile",
                      "name": "Default",
                      "uuid": "5150cf2d-4e6f-2850-93a8-966d63be7e9f"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "DAG",
                    "uuid": "89cbfb54-1c68-4be4-926a-adce6941f1eb",
                    "child_tasks_local_reference_list": [
                      "@{kind=app_task; name=SYS_GEN__stop_CRb_Service_47c67600_3b74_f2af_9d73_9ca84ff91d05; uuid=c29f209e-27ca-4759-8a2f-1d752b5e4fef}",
                      "@{kind=app_task; name=SYS_GEN__stop_CRb_Substrate_da50a44a_1261_6726_38bb_ad93f93f7a4d; uuid=53fcba85-28d2-4022-9b8b-b951d4454d82}"
                    ],
                    "state": "ACTIVE",
                    "attrs": {
                      "edges": "",
                      "type": "DAG"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__Composite_DAG_Application_5150cf2d_4e6f_2850_93a8_966d63be7e9f"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_service",
                      "name": "PCsvc",
                      "uuid": "47c67600-3b74-f2af-9d73-9ca84ff91d05"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "CALL_RUNBOOK",
                    "uuid": "c29f209e-27ca-4759-8a2f-1d752b5e4fef",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "inarg_list": "",
                      "deployment_reference": "@{kind=app_blueprint_deployment; name=b81c1fcf_deployment; uuid=5ef36572-512b-e6cb-d56a-33e14225dd0f}",
                      "type": "CALL_RUNBOOK",
                      "runbook_reference": "@{kind=app_runbook; name=e9075619_runbook; uuid=d1fe1a84-3744-8523-2c26-080e2b2540c2}"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__stop_CRb_Service_47c67600_3b74_f2af_9d73_9ca84ff91d05"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_substrate",
                      "name": "PCVm",
                      "uuid": "da50a44a-1261-6726-38bb-ad93f93f7a4d"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "CALL_RUNBOOK",
                    "uuid": "53fcba85-28d2-4022-9b8b-b951d4454d82",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "inarg_list": "",
                      "deployment_reference": "@{kind=app_blueprint_deployment; name=b81c1fcf_deployment; uuid=5ef36572-512b-e6cb-d56a-33e14225dd0f}",
                      "type": "CALL_RUNBOOK",
                      "runbook_reference": "@{kind=app_runbook; name=SYS_GEN__Runbook_Substrate_da50a44a_1261_6726_38bb_ad93f93f7a4d; uuid=50a09a84-acde-4583-b1f6-ee0fe94bbafe}"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__stop_CRb_Substrate_da50a44a_1261_6726_38bb_ad93f93f7a4d"
                  }
                ],
                "description": "",
                "message_list": [],
                "uuid": "071b5069-1233-4e5e-8be2-7971119b8ca5",
                "state": "ACTIVE",
                "variable_list": [],
                "main_task_local_reference": {
                  "kind": "app_task",
                  "name": "SYS_GEN__Composite_DAG_Application_5150cf2d_4e6f_2850_93a8_966d63be7e9f",
                  "uuid": "89cbfb54-1c68-4be4-926a-adce6941f1eb"
                },
                "name": "SYS_GEN__Runbook_Application_5150cf2d_4e6f_2850_93a8_966d63be7e9f"
              }
            },
            {
              "description": "System action for deleting an application. Deletes created VMs as well",
              "message_list": [],
              "uuid": "9329c230-77a8-42be-a276-a506bec335e7",
              "name": "action_delete",
              "state": "ACTIVE",
              "critical": true,
              "attrs": {},
              "type": "system",
              "runbook": {
                "task_definition_list": [
                  {
                    "target_any_local_reference": {
                      "kind": "app_profile",
                      "name": "Default",
                      "uuid": "5150cf2d-4e6f-2850-93a8-966d63be7e9f"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "DAG",
                    "uuid": "1dae3c92-f840-4d73-b12e-b959f4182d4e",
                    "child_tasks_local_reference_list": [
                      "@{kind=app_task; name=SYS_GEN__stop_CRb_Service_47c67600_3b74_f2af_9d73_9ca84ff91d05; uuid=045e4cc5-784f-47ff-91fc-2861495b41bc}",
                      "@{kind=app_task; name=SYS_GEN__delete_CRb_Service_47c67600_3b74_f2af_9d73_9ca84ff91d05; uuid=fa5c6521-21a7-42cb-b4bd-d7016e435b3c}",
                      "@{kind=app_task; name=SYS_GEN__uninstall_CRb_Package_4d1da903_ff86_5101_7cb4_6e9390753d3e; uuid=9eb7ac3d-afcf-466f-a1fd-3d02ecbce400}",
                      "@{kind=app_task; name=SYS_GEN__delete_CRb_Substrate_da50a44a_1261_6726_38bb_ad93f93f7a4d; uuid=36563f5f-2859-4f32-aa33-8e9119d25e16}",
                      "@{kind=app_task; name=SYS_GEN__DE_Delete_5ef36572_512b_e6cb_d56a_33e14225dd0f; uuid=d3fb12b6-51cf-4969-9ca7-6da36bf4abe0}"
                    ],
                    "state": "ACTIVE",
                    "attrs": {
                      "edges": "   ",
                      "type": "DAG"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__Composite_DAG_Application_5150cf2d_4e6f_2850_93a8_966d63be7e9f"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_service",
                      "name": "PCsvc",
                      "uuid": "47c67600-3b74-f2af-9d73-9ca84ff91d05"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "CALL_RUNBOOK",
                    "uuid": "045e4cc5-784f-47ff-91fc-2861495b41bc",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "inarg_list": "",
                      "deployment_reference": "@{kind=app_blueprint_deployment; name=b81c1fcf_deployment; uuid=5ef36572-512b-e6cb-d56a-33e14225dd0f}",
                      "type": "CALL_RUNBOOK",
                      "runbook_reference": "@{kind=app_runbook; name=e9075619_runbook; uuid=d1fe1a84-3744-8523-2c26-080e2b2540c2}"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__stop_CRb_Service_47c67600_3b74_f2af_9d73_9ca84ff91d05"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_service",
                      "name": "PCsvc",
                      "uuid": "47c67600-3b74-f2af-9d73-9ca84ff91d05"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "CALL_RUNBOOK",
                    "uuid": "fa5c6521-21a7-42cb-b4bd-d7016e435b3c",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "inarg_list": "",
                      "deployment_reference": "@{kind=app_blueprint_deployment; name=b81c1fcf_deployment; uuid=5ef36572-512b-e6cb-d56a-33e14225dd0f}",
                      "type": "CALL_RUNBOOK",
                      "runbook_reference": "@{kind=app_runbook; name=6896f7ba_runbook; uuid=e585cd47-5989-6415-4046-0e54f773e442}"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__delete_CRb_Service_47c67600_3b74_f2af_9d73_9ca84ff91d05"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_package",
                      "name": "Package1",
                      "uuid": "4d1da903-ff86-5101-7cb4-6e9390753d3e"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "CALL_RUNBOOK",
                    "uuid": "9eb7ac3d-afcf-466f-a1fd-3d02ecbce400",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "inarg_list": "",
                      "deployment_reference": "@{kind=app_blueprint_deployment; name=b81c1fcf_deployment; uuid=5ef36572-512b-e6cb-d56a-33e14225dd0f}",
                      "type": "CALL_RUNBOOK",
                      "runbook_reference": "@{kind=app_runbook; name=SYS_GEN__Runbook_Package_4d1da903_ff86_5101_7cb4_6e9390753d3e; uuid=470b082f-5fab-4eb8-b971-b62524edba86}"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__uninstall_CRb_Package_4d1da903_ff86_5101_7cb4_6e9390753d3e"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_substrate",
                      "name": "PCVm",
                      "uuid": "da50a44a-1261-6726-38bb-ad93f93f7a4d"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "CALL_RUNBOOK",
                    "uuid": "36563f5f-2859-4f32-aa33-8e9119d25e16",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "inarg_list": "",
                      "deployment_reference": "@{kind=app_blueprint_deployment; name=b81c1fcf_deployment; uuid=5ef36572-512b-e6cb-d56a-33e14225dd0f}",
                      "type": "CALL_RUNBOOK",
                      "runbook_reference": "@{kind=app_runbook; name=SYS_GEN__Runbook_Substrate_da50a44a_1261_6726_38bb_ad93f93f7a4d; uuid=1fb4ee1e-2213-4ec8-89ee-f4b467ed0e0d}"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__delete_CRb_Substrate_da50a44a_1261_6726_38bb_ad93f93f7a4d"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_blueprint_deployment",
                      "name": "b81c1fcf_deployment",
                      "uuid": "5ef36572-512b-e6cb-d56a-33e14225dd0f"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "DELETE_DEPLOYMENT_ELEMENT",
                    "uuid": "d3fb12b6-51cf-4969-9ca7-6da36bf4abe0",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "type": ""
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__DE_Delete_5ef36572_512b_e6cb_d56a_33e14225dd0f"
                  }
                ],
                "description": "",
                "message_list": [],
                "uuid": "ba9483a2-8237-4c5e-b2df-2dde83e7ad29",
                "state": "ACTIVE",
                "variable_list": [],
                "main_task_local_reference": {
                  "kind": "app_task",
                  "name": "SYS_GEN__Composite_DAG_Application_5150cf2d_4e6f_2850_93a8_966d63be7e9f",
                  "uuid": "1dae3c92-f840-4d73-b12e-b959f4182d4e"
                },
                "name": "SYS_GEN__Runbook_Application_5150cf2d_4e6f_2850_93a8_966d63be7e9f"
              }
            },
            {
              "description": "System action for deleting an application. Does not delete created VMs",
              "message_list": [],
              "uuid": "b65b955a-425b-4b20-aa19-d511b1ace971",
              "name": "action_soft_delete",
              "state": "ACTIVE",
              "critical": true,
              "attrs": {},
              "type": "system",
              "runbook": {
                "task_definition_list": [
                  {
                    "target_any_local_reference": {
                      "kind": "app_profile",
                      "name": "Default",
                      "uuid": "5150cf2d-4e6f-2850-93a8-966d63be7e9f"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "DAG",
                    "uuid": "0a86927c-8e7b-420f-80a3-5f130d11e975",
                    "child_tasks_local_reference_list": [
                      "@{kind=app_task; name=SYS_GEN__soft_delete_CRb_Service_47c67600_3b74_f2af_9d73_9ca84ff91d05; uuid=75aab958-4507-429a-852e-4947ab09e6f1}",
                      "@{kind=app_task; name=SYS_GEN__Package_Element_Delete_4d1da903_ff86_5101_7cb4_6e9390753d3e; uuid=39c0435a-eae1-45d7-8435-da4616e7cce1}",
                      "@{kind=app_task; name=SYS_GEN__soft_delete_CRb_Substrate_da50a44a_1261_6726_38bb_ad93f93f7a4d; uuid=c4aae2fe-2bda-43b2-9361-ecf777b64d80}",
                      "@{kind=app_task; name=SYS_GEN__DE_Soft_Delete_5ef36572_512b_e6cb_d56a_33e14225dd0f; uuid=3e100510-9d0d-4265-8a9e-f835a9cbe419}"
                    ],
                    "state": "ACTIVE",
                    "attrs": {
                      "edges": "  ",
                      "type": "DAG"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__Composite_DAG_Application_5150cf2d_4e6f_2850_93a8_966d63be7e9f"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_service",
                      "name": "PCsvc",
                      "uuid": "47c67600-3b74-f2af-9d73-9ca84ff91d05"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "CALL_RUNBOOK",
                    "uuid": "75aab958-4507-429a-852e-4947ab09e6f1",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "inarg_list": "",
                      "deployment_reference": "@{kind=app_blueprint_deployment; name=b81c1fcf_deployment; uuid=5ef36572-512b-e6cb-d56a-33e14225dd0f}",
                      "type": "CALL_RUNBOOK",
                      "runbook_reference": "@{kind=app_runbook; name=SYS_GEN__Runbook_Service_47c67600_3b74_f2af_9d73_9ca84ff91d05; uuid=606ce2d8-04f1-4fb4-9d2f-825522e23b11}"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__soft_delete_CRb_Service_47c67600_3b74_f2af_9d73_9ca84ff91d05"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_package",
                      "name": "Package1",
                      "uuid": "4d1da903-ff86-5101-7cb4-6e9390753d3e"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "SOFT_DELETE_ELEMENT",
                    "uuid": "39c0435a-eae1-45d7-8435-da4616e7cce1",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "type": ""
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__Package_Element_Delete_4d1da903_ff86_5101_7cb4_6e9390753d3e"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_substrate",
                      "name": "PCVm",
                      "uuid": "da50a44a-1261-6726-38bb-ad93f93f7a4d"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "CALL_RUNBOOK",
                    "uuid": "c4aae2fe-2bda-43b2-9361-ecf777b64d80",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "inarg_list": "",
                      "deployment_reference": "@{kind=app_blueprint_deployment; name=b81c1fcf_deployment; uuid=5ef36572-512b-e6cb-d56a-33e14225dd0f}",
                      "type": "CALL_RUNBOOK",
                      "runbook_reference": "@{kind=app_runbook; name=SYS_GEN__Runbook_Substrate_da50a44a_1261_6726_38bb_ad93f93f7a4d; uuid=61072eca-8786-42e5-92f5-e1ad68ae8fef}"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__soft_delete_CRb_Substrate_da50a44a_1261_6726_38bb_ad93f93f7a4d"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_blueprint_deployment",
                      "name": "b81c1fcf_deployment",
                      "uuid": "5ef36572-512b-e6cb-d56a-33e14225dd0f"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "SOFT_DELETE_DEPLOYMENT_ELEMENT",
                    "uuid": "3e100510-9d0d-4265-8a9e-f835a9cbe419",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "type": ""
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__DE_Soft_Delete_5ef36572_512b_e6cb_d56a_33e14225dd0f"
                  }
                ],
                "description": "",
                "message_list": [],
                "uuid": "c1e896b9-df9a-4c0e-810d-00d22e6ea0dd",
                "state": "ACTIVE",
                "variable_list": [],
                "main_task_local_reference": {
                  "kind": "app_task",
                  "name": "SYS_GEN__Composite_DAG_Application_5150cf2d_4e6f_2850_93a8_966d63be7e9f",
                  "uuid": "0a86927c-8e7b-420f-80a3-5f130d11e975"
                },
                "name": "SYS_GEN__Runbook_Application_5150cf2d_4e6f_2850_93a8_966d63be7e9f"
              }
            },
            {
              "description": "",
              "message_list": [],
              "uuid": "8a362a0c-a533-ca0e-1076-663568ac64c6",
              "name": "VeeamAppBackup",
              "state": "ACTIVE",
              "critical": false,
              "attrs": {},
              "type": "user",
              "runbook": {
                "task_definition_list": [
                  {
                    "retries": "0",
                    "description": "",
                    "type": "DAG",
                    "uuid": "c5f76491-fe67-6ce6-525e-ffcc6937f9a0",
                    "child_tasks_local_reference_list": [
                      "@{kind=app_task; name=VeeamAppBackup; uuid=00178324-f2f8-a02f-ce88-efd3e31d24a9}"
                    ],
                    "state": "ACTIVE",
                    "attrs": {
                      "edges": "",
                      "type": ""
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "8c61ff45_dag"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_service",
                      "name": "PCsvc",
                      "uuid": "47c67600-3b74-f2af-9d73-9ca84ff91d05"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "CALL_RUNBOOK",
                    "uuid": "00178324-f2f8-a02f-ce88-efd3e31d24a9",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "inarg_list": "",
                      "type": "CALL_RUNBOOK",
                      "runbook_reference": "@{kind=app_runbook; name=05b24d0c_runbook_cloned_0; uuid=33b6ca82-2fe3-223d-d02c-9c4a0aca65b7}"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "VeeamAppBackup"
                  }
                ],
                "description": "",
                "message_list": [],
                "uuid": "ec0e7ddf-302b-c858-feed-dea7f58ab03a",
                "state": "ACTIVE",
                "variable_list": [],
                "main_task_local_reference": {
                  "kind": "app_task",
                  "name": "8c61ff45_dag",
                  "uuid": "c5f76491-fe67-6ce6-525e-ffcc6937f9a0"
                },
                "name": "78f7a259_runbook"
              }
            }
          ],
          "message_list": [],
          "uuid": "5150cf2d-4e6f-2850-93a8-966d63be7e9f",
          "dependency_list": [],
          "snapshot_config_list": [],
          "state": "ACTIVE",
          "patch_list": [],
          "restore_config_list": [],
          "variable_list": [],
          "name": "Default"
        }
      ],
      "published_service_definition_list": [],
      "default_credential_local_reference": {
        "kind": "app_credential",
        "name": "PC",
        "uuid": "4497e850-bc6a-3301-540e-2ca89112f43a"
      },
      "package_definition_list": [
        {
          "description": "",
          "action_list": [
            {
              "description": "System action for installing an application",
              "message_list": [],
              "uuid": "2c849c3c-3cce-45f1-a4ba-292f462ed9a9",
              "name": "action_install",
              "state": "ACTIVE",
              "critical": true,
              "attrs": {},
              "type": "system",
              "runbook": {
                "task_definition_list": [
                  {
                    "target_any_local_reference": {
                      "kind": "app_package",
                      "name": "Package1",
                      "uuid": "4d1da903-ff86-5101-7cb4-6e9390753d3e"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "DAG",
                    "uuid": "5b68ceed-150b-4023-b475-bfbce8925c7d",
                    "child_tasks_local_reference_list": [
                      "@{kind=app_task; name=SYS_GEN__Install_Crb_4d1da903_ff86_5101_7cb4_6e9390753d3e; uuid=a41fef78-649a-4f2c-b709-182be19459a6}"
                    ],
                    "state": "ACTIVE",
                    "attrs": {
                      "edges": "",
                      "type": "DAG"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__DAG_Package_4d1da903_ff86_5101_7cb4_6e9390753d3e"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_package",
                      "name": "Package1",
                      "uuid": "4d1da903-ff86-5101-7cb4-6e9390753d3e"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "CUSTOM_PACKAGE_INSTALL",
                    "uuid": "a41fef78-649a-4f2c-b709-182be19459a6",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "install_runbook": "@{task_definition_list=System.Object[]; description=; message_list=System.Object[]; uuid=ed3457c8-2463-2aaf-00f7-8ce55718c8cf; state=ACTIVE; variable_list=System.Object[]; main_task_local_reference=; name=df4bb6e1_runbook}",
                      "type": "",
                      "upgrade_runbook": "",
                      "uninstall_runbook": "@{task_definition_list=System.Object[]; description=; message_list=System.Object[]; uuid=bcdfd7bb-5d04-c5b2-6923-4eab925948f8; state=ACTIVE; variable_list=System.Object[]; main_task_local_reference=; name=61c8be49_runbook}"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__Install_Crb_4d1da903_ff86_5101_7cb4_6e9390753d3e"
                  }
                ],
                "description": "",
                "message_list": [],
                "uuid": "ee20eacb-9379-4a0f-94ed-9e453078761a",
                "state": "ACTIVE",
                "variable_list": [],
                "main_task_local_reference": {
                  "kind": "app_task",
                  "name": "SYS_GEN__DAG_Package_4d1da903_ff86_5101_7cb4_6e9390753d3e",
                  "uuid": "5b68ceed-150b-4023-b475-bfbce8925c7d"
                },
                "name": "SYS_GEN__Runbook_Package_4d1da903_ff86_5101_7cb4_6e9390753d3e"
              }
            },
            {
              "description": "System action for creating an application",
              "message_list": [],
              "uuid": "96ba2556-4c2c-49dc-8945-7b4903972b37",
              "name": "action_create",
              "state": "ACTIVE",
              "critical": true,
              "attrs": {},
              "type": "system",
              "runbook": {
                "task_definition_list": [
                  {
                    "target_any_local_reference": {
                      "kind": "app_package",
                      "name": "Package1",
                      "uuid": "4d1da903-ff86-5101-7cb4-6e9390753d3e"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "DAG",
                    "uuid": "f3a3c437-2bc0-4a5d-8307-4d8cd0cd7d22",
                    "child_tasks_local_reference_list": [
                      "@{kind=app_task; name=SYS_GEN__install_CRb_Package_4d1da903_ff86_5101_7cb4_6e9390753d3e; uuid=023da474-6d7d-49e8-8ef8-f78675fe150a}",
                      "@{kind=app_task; name=SYS_GEN__create_CRb_Service_47c67600_3b74_f2af_9d73_9ca84ff91d05; uuid=5db403c8-3ed3-4865-8ddb-81f403ce38f5}",
                      "@{kind=app_task; name=SYS_GEN__start_CRb_Service_47c67600_3b74_f2af_9d73_9ca84ff91d05; uuid=68040cd2-78e6-4288-888b-e5f43a538f79}"
                    ],
                    "state": "ACTIVE",
                    "attrs": {
                      "edges": " ",
                      "type": "DAG"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__Composite_DAG_Package_4d1da903_ff86_5101_7cb4_6e9390753d3e"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_package",
                      "name": "Package1",
                      "uuid": "4d1da903-ff86-5101-7cb4-6e9390753d3e"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "CALL_RUNBOOK",
                    "uuid": "023da474-6d7d-49e8-8ef8-f78675fe150a",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "inarg_list": "",
                      "type": "CALL_RUNBOOK",
                      "runbook_reference": "@{kind=app_runbook; name=SYS_GEN__Runbook_Package_4d1da903_ff86_5101_7cb4_6e9390753d3e; uuid=ee20eacb-9379-4a0f-94ed-9e453078761a}"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__install_CRb_Package_4d1da903_ff86_5101_7cb4_6e9390753d3e"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_service",
                      "name": "PCsvc",
                      "uuid": "47c67600-3b74-f2af-9d73-9ca84ff91d05"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "CALL_RUNBOOK",
                    "uuid": "5db403c8-3ed3-4865-8ddb-81f403ce38f5",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "inarg_list": "",
                      "type": "CALL_RUNBOOK",
                      "runbook_reference": "@{kind=app_runbook; name=cc61f23d_runbook; uuid=64307b90-886d-9d3b-33f9-fa2a5ff91e91}"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__create_CRb_Service_47c67600_3b74_f2af_9d73_9ca84ff91d05"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_service",
                      "name": "PCsvc",
                      "uuid": "47c67600-3b74-f2af-9d73-9ca84ff91d05"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "CALL_RUNBOOK",
                    "uuid": "68040cd2-78e6-4288-888b-e5f43a538f79",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "inarg_list": "",
                      "type": "CALL_RUNBOOK",
                      "runbook_reference": "@{kind=app_runbook; name=86591f91_runbook; uuid=1a2b60a1-3694-0a9e-703b-0c0538713431}"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__start_CRb_Service_47c67600_3b74_f2af_9d73_9ca84ff91d05"
                  }
                ],
                "description": "",
                "message_list": [],
                "uuid": "b2475d23-dc94-445b-9ca7-0b3cff420abc",
                "state": "ACTIVE",
                "variable_list": [],
                "main_task_local_reference": {
                  "kind": "app_task",
                  "name": "SYS_GEN__Composite_DAG_Package_4d1da903_ff86_5101_7cb4_6e9390753d3e",
                  "uuid": "f3a3c437-2bc0-4a5d-8307-4d8cd0cd7d22"
                },
                "name": "SYS_GEN__Runbook_Package_4d1da903_ff86_5101_7cb4_6e9390753d3e"
              }
            },
            {
              "description": "System action for uninstalling an application",
              "message_list": [],
              "uuid": "525a7fc7-7e86-43bf-ab0f-37f09696e81f",
              "name": "action_uninstall",
              "state": "ACTIVE",
              "critical": true,
              "attrs": {},
              "type": "system",
              "runbook": {
                "task_definition_list": [
                  {
                    "target_any_local_reference": {
                      "kind": "app_package",
                      "name": "Package1",
                      "uuid": "4d1da903-ff86-5101-7cb4-6e9390753d3e"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "DAG",
                    "uuid": "410f2e3b-ac05-479b-bc07-f757a8afa501",
                    "child_tasks_local_reference_list": [
                      "@{kind=app_task; name=SYS_GEN__Uninstall_Crb_4d1da903_ff86_5101_7cb4_6e9390753d3e; uuid=dd496431-c8a9-47e7-bdbf-3fb6bfab556a}"
                    ],
                    "state": "ACTIVE",
                    "attrs": {
                      "edges": "",
                      "type": "DAG"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__DAG_Package_4d1da903_ff86_5101_7cb4_6e9390753d3e"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_package",
                      "name": "Package1",
                      "uuid": "4d1da903-ff86-5101-7cb4-6e9390753d3e"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "CUSTOM_PACKAGE_UNINSTALL",
                    "uuid": "dd496431-c8a9-47e7-bdbf-3fb6bfab556a",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "install_runbook": "@{task_definition_list=System.Object[]; description=; message_list=System.Object[]; uuid=ed3457c8-2463-2aaf-00f7-8ce55718c8cf; state=ACTIVE; variable_list=System.Object[]; main_task_local_reference=; name=df4bb6e1_runbook}",
                      "type": "",
                      "upgrade_runbook": "",
                      "uninstall_runbook": "@{task_definition_list=System.Object[]; description=; message_list=System.Object[]; uuid=bcdfd7bb-5d04-c5b2-6923-4eab925948f8; state=ACTIVE; variable_list=System.Object[]; main_task_local_reference=; name=61c8be49_runbook}"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__Uninstall_Crb_4d1da903_ff86_5101_7cb4_6e9390753d3e"
                  }
                ],
                "description": "",
                "message_list": [],
                "uuid": "470b082f-5fab-4eb8-b971-b62524edba86",
                "state": "ACTIVE",
                "variable_list": [],
                "main_task_local_reference": {
                  "kind": "app_task",
                  "name": "SYS_GEN__DAG_Package_4d1da903_ff86_5101_7cb4_6e9390753d3e",
                  "uuid": "410f2e3b-ac05-479b-bc07-f757a8afa501"
                },
                "name": "SYS_GEN__Runbook_Package_4d1da903_ff86_5101_7cb4_6e9390753d3e"
              }
            },
            {
              "description": "System action for deleting an application. Deletes created VMs as well",
              "message_list": [],
              "uuid": "a34bd735-6851-44a4-8e90-ebaf4b8e41c7",
              "name": "action_delete",
              "state": "ACTIVE",
              "critical": true,
              "attrs": {},
              "type": "system",
              "runbook": {
                "task_definition_list": [
                  {
                    "target_any_local_reference": {
                      "kind": "app_package",
                      "name": "Package1",
                      "uuid": "4d1da903-ff86-5101-7cb4-6e9390753d3e"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "DAG",
                    "uuid": "73c52c38-3654-4203-8180-eb5b58455270",
                    "child_tasks_local_reference_list": [
                      "@{kind=app_task; name=SYS_GEN__stop_CRb_Service_47c67600_3b74_f2af_9d73_9ca84ff91d05; uuid=b98d069c-bc20-481d-9f06-5791d829101e}",
                      "@{kind=app_task; name=SYS_GEN__delete_CRb_Service_47c67600_3b74_f2af_9d73_9ca84ff91d05; uuid=78004f13-3ee5-4c6e-9e71-a940345ffffe}",
                      "@{kind=app_task; name=SYS_GEN__uninstall_CRb_Package_4d1da903_ff86_5101_7cb4_6e9390753d3e; uuid=69b5323a-b659-4511-94e2-5081fa44936e}"
                    ],
                    "state": "ACTIVE",
                    "attrs": {
                      "edges": " ",
                      "type": "DAG"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__Composite_DAG_Package_4d1da903_ff86_5101_7cb4_6e9390753d3e"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_service",
                      "name": "PCsvc",
                      "uuid": "47c67600-3b74-f2af-9d73-9ca84ff91d05"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "CALL_RUNBOOK",
                    "uuid": "b98d069c-bc20-481d-9f06-5791d829101e",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "inarg_list": "",
                      "type": "CALL_RUNBOOK",
                      "runbook_reference": "@{kind=app_runbook; name=e9075619_runbook; uuid=d1fe1a84-3744-8523-2c26-080e2b2540c2}"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__stop_CRb_Service_47c67600_3b74_f2af_9d73_9ca84ff91d05"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_service",
                      "name": "PCsvc",
                      "uuid": "47c67600-3b74-f2af-9d73-9ca84ff91d05"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "CALL_RUNBOOK",
                    "uuid": "78004f13-3ee5-4c6e-9e71-a940345ffffe",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "inarg_list": "",
                      "type": "CALL_RUNBOOK",
                      "runbook_reference": "@{kind=app_runbook; name=6896f7ba_runbook; uuid=e585cd47-5989-6415-4046-0e54f773e442}"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__delete_CRb_Service_47c67600_3b74_f2af_9d73_9ca84ff91d05"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_package",
                      "name": "Package1",
                      "uuid": "4d1da903-ff86-5101-7cb4-6e9390753d3e"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "CALL_RUNBOOK",
                    "uuid": "69b5323a-b659-4511-94e2-5081fa44936e",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "inarg_list": "",
                      "type": "CALL_RUNBOOK",
                      "runbook_reference": "@{kind=app_runbook; name=SYS_GEN__Runbook_Package_4d1da903_ff86_5101_7cb4_6e9390753d3e; uuid=470b082f-5fab-4eb8-b971-b62524edba86}"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__uninstall_CRb_Package_4d1da903_ff86_5101_7cb4_6e9390753d3e"
                  }
                ],
                "description": "",
                "message_list": [],
                "uuid": "fec4db49-967c-4f73-aa9b-6aac44a77414",
                "state": "ACTIVE",
                "variable_list": [],
                "main_task_local_reference": {
                  "kind": "app_task",
                  "name": "SYS_GEN__Composite_DAG_Package_4d1da903_ff86_5101_7cb4_6e9390753d3e",
                  "uuid": "73c52c38-3654-4203-8180-eb5b58455270"
                },
                "name": "SYS_GEN__Runbook_Package_4d1da903_ff86_5101_7cb4_6e9390753d3e"
              }
            },
            {
              "description": "System action for deleting an application. Does not delete created VMs",
              "message_list": [],
              "uuid": "db58bb6e-5f0e-426d-9a68-62ffca9ebaf5",
              "name": "action_soft_delete",
              "state": "ACTIVE",
              "critical": true,
              "attrs": {},
              "type": "system",
              "runbook": {
                "task_definition_list": [
                  {
                    "target_any_local_reference": {
                      "kind": "app_package",
                      "name": "Package1",
                      "uuid": "4d1da903-ff86-5101-7cb4-6e9390753d3e"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "DAG",
                    "uuid": "8000099a-49d2-498f-a7ec-6e454a03082d",
                    "child_tasks_local_reference_list": [
                      "@{kind=app_task; name=SYS_GEN__soft_delete_CRb_Service_47c67600_3b74_f2af_9d73_9ca84ff91d05; uuid=79e229fe-05c0-435e-aa76-56643df5842c}",
                      "@{kind=app_task; name=SYS_GEN__Package_Element_Delete_4d1da903_ff86_5101_7cb4_6e9390753d3e; uuid=1f8a7f17-3939-4608-9802-ccaaf31e534d}"
                    ],
                    "state": "ACTIVE",
                    "attrs": {
                      "edges": "",
                      "type": "DAG"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__Composite_DAG_Package_4d1da903_ff86_5101_7cb4_6e9390753d3e"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_service",
                      "name": "PCsvc",
                      "uuid": "47c67600-3b74-f2af-9d73-9ca84ff91d05"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "CALL_RUNBOOK",
                    "uuid": "79e229fe-05c0-435e-aa76-56643df5842c",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "inarg_list": "",
                      "type": "CALL_RUNBOOK",
                      "runbook_reference": "@{kind=app_runbook; name=SYS_GEN__Runbook_Service_47c67600_3b74_f2af_9d73_9ca84ff91d05; uuid=606ce2d8-04f1-4fb4-9d2f-825522e23b11}"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__soft_delete_CRb_Service_47c67600_3b74_f2af_9d73_9ca84ff91d05"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_package",
                      "name": "Package1",
                      "uuid": "4d1da903-ff86-5101-7cb4-6e9390753d3e"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "SOFT_DELETE_ELEMENT",
                    "uuid": "1f8a7f17-3939-4608-9802-ccaaf31e534d",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "type": ""
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__Package_Element_Delete_4d1da903_ff86_5101_7cb4_6e9390753d3e"
                  }
                ],
                "description": "",
                "message_list": [],
                "uuid": "937bcddc-0ab2-4430-83d6-06a2a7c96082",
                "state": "ACTIVE",
                "variable_list": [],
                "main_task_local_reference": {
                  "kind": "app_task",
                  "name": "SYS_GEN__Composite_DAG_Package_4d1da903_ff86_5101_7cb4_6e9390753d3e",
                  "uuid": "8000099a-49d2-498f-a7ec-6e454a03082d"
                },
                "name": "SYS_GEN__Runbook_Package_4d1da903_ff86_5101_7cb4_6e9390753d3e"
              }
            },
            {
              "description": "System action for starting an application",
              "message_list": [],
              "uuid": "463bb8b9-a541-4c5e-bd5d-9f2699b23b13",
              "name": "action_start",
              "state": "ACTIVE",
              "critical": true,
              "attrs": {},
              "type": "system",
              "runbook": {
                "task_definition_list": [
                  {
                    "target_any_local_reference": {
                      "kind": "app_package",
                      "name": "Package1",
                      "uuid": "4d1da903-ff86-5101-7cb4-6e9390753d3e"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "DAG",
                    "uuid": "e4c58a17-6fc8-4bee-945b-07cc7a75eab2",
                    "child_tasks_local_reference_list": [
                      "@{kind=app_task; name=SYS_GEN__start_CRb_Service_47c67600_3b74_f2af_9d73_9ca84ff91d05; uuid=5579df14-5968-4804-8266-c2ba2535d474}"
                    ],
                    "state": "ACTIVE",
                    "attrs": {
                      "edges": "",
                      "type": "DAG"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__Composite_DAG_Package_4d1da903_ff86_5101_7cb4_6e9390753d3e"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_service",
                      "name": "PCsvc",
                      "uuid": "47c67600-3b74-f2af-9d73-9ca84ff91d05"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "CALL_RUNBOOK",
                    "uuid": "5579df14-5968-4804-8266-c2ba2535d474",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "inarg_list": "",
                      "type": "CALL_RUNBOOK",
                      "runbook_reference": "@{kind=app_runbook; name=86591f91_runbook; uuid=1a2b60a1-3694-0a9e-703b-0c0538713431}"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__start_CRb_Service_47c67600_3b74_f2af_9d73_9ca84ff91d05"
                  }
                ],
                "description": "",
                "message_list": [],
                "uuid": "6403583a-79e8-4d07-8459-2d4bdadc3439",
                "state": "ACTIVE",
                "variable_list": [],
                "main_task_local_reference": {
                  "kind": "app_task",
                  "name": "SYS_GEN__Composite_DAG_Package_4d1da903_ff86_5101_7cb4_6e9390753d3e",
                  "uuid": "e4c58a17-6fc8-4bee-945b-07cc7a75eab2"
                },
                "name": "SYS_GEN__Runbook_Package_4d1da903_ff86_5101_7cb4_6e9390753d3e"
              }
            },
            {
              "description": "System action for restarting an application",
              "message_list": [],
              "uuid": "b4a8dfad-8e69-4705-9a41-bf5a19ed00db",
              "name": "action_restart",
              "state": "ACTIVE",
              "critical": true,
              "attrs": {},
              "type": "system",
              "runbook": {
                "task_definition_list": [
                  {
                    "target_any_local_reference": {
                      "kind": "app_package",
                      "name": "Package1",
                      "uuid": "4d1da903-ff86-5101-7cb4-6e9390753d3e"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "DAG",
                    "uuid": "c08a33f2-a457-43d5-ba81-b60644bb8545",
                    "child_tasks_local_reference_list": [
                      "@{kind=app_task; name=SYS_GEN__restart_CRb_Service_47c67600_3b74_f2af_9d73_9ca84ff91d05; uuid=6c5f0b75-2ae4-417d-b852-217ea7cac0ab}"
                    ],
                    "state": "ACTIVE",
                    "attrs": {
                      "edges": "",
                      "type": "DAG"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__Composite_DAG_Package_4d1da903_ff86_5101_7cb4_6e9390753d3e"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_service",
                      "name": "PCsvc",
                      "uuid": "47c67600-3b74-f2af-9d73-9ca84ff91d05"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "CALL_RUNBOOK",
                    "uuid": "6c5f0b75-2ae4-417d-b852-217ea7cac0ab",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "inarg_list": "",
                      "type": "CALL_RUNBOOK",
                      "runbook_reference": "@{kind=app_runbook; name=a50be1a4_runbook; uuid=97a0bf4e-6ecb-ab98-7db6-6c02ac0bf51a}"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__restart_CRb_Service_47c67600_3b74_f2af_9d73_9ca84ff91d05"
                  }
                ],
                "description": "",
                "message_list": [],
                "uuid": "95c1ebb0-19a1-4103-80cb-8e396713734e",
                "state": "ACTIVE",
                "variable_list": [],
                "main_task_local_reference": {
                  "kind": "app_task",
                  "name": "SYS_GEN__Composite_DAG_Package_4d1da903_ff86_5101_7cb4_6e9390753d3e",
                  "uuid": "c08a33f2-a457-43d5-ba81-b60644bb8545"
                },
                "name": "SYS_GEN__Runbook_Package_4d1da903_ff86_5101_7cb4_6e9390753d3e"
              }
            },
            {
              "description": "System action for stopping an application",
              "message_list": [],
              "uuid": "eaec25ef-8a81-4e93-8f08-a59f22b65832",
              "name": "action_stop",
              "state": "ACTIVE",
              "critical": true,
              "attrs": {},
              "type": "system",
              "runbook": {
                "task_definition_list": [
                  {
                    "target_any_local_reference": {
                      "kind": "app_package",
                      "name": "Package1",
                      "uuid": "4d1da903-ff86-5101-7cb4-6e9390753d3e"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "DAG",
                    "uuid": "5dc50b7b-c30b-4c4e-9774-0ca3a8cdcd67",
                    "child_tasks_local_reference_list": [
                      "@{kind=app_task; name=SYS_GEN__stop_CRb_Service_47c67600_3b74_f2af_9d73_9ca84ff91d05; uuid=0e83d358-dacc-4296-b7dc-ab47240857b8}"
                    ],
                    "state": "ACTIVE",
                    "attrs": {
                      "edges": "",
                      "type": "DAG"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__Composite_DAG_Package_4d1da903_ff86_5101_7cb4_6e9390753d3e"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_service",
                      "name": "PCsvc",
                      "uuid": "47c67600-3b74-f2af-9d73-9ca84ff91d05"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "CALL_RUNBOOK",
                    "uuid": "0e83d358-dacc-4296-b7dc-ab47240857b8",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "inarg_list": "",
                      "type": "CALL_RUNBOOK",
                      "runbook_reference": "@{kind=app_runbook; name=e9075619_runbook; uuid=d1fe1a84-3744-8523-2c26-080e2b2540c2}"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__stop_CRb_Service_47c67600_3b74_f2af_9d73_9ca84ff91d05"
                  }
                ],
                "description": "",
                "message_list": [],
                "uuid": "1cc5e140-54d5-4bd8-b2e7-146e6282d712",
                "state": "ACTIVE",
                "variable_list": [],
                "main_task_local_reference": {
                  "kind": "app_task",
                  "name": "SYS_GEN__Composite_DAG_Package_4d1da903_ff86_5101_7cb4_6e9390753d3e",
                  "uuid": "5dc50b7b-c30b-4c4e-9774-0ca3a8cdcd67"
                },
                "name": "SYS_GEN__Runbook_Package_4d1da903_ff86_5101_7cb4_6e9390753d3e"
              }
            }
          ],
          "message_list": [],
          "service_local_reference_list": [
            {
              "kind": "app_service",
              "name": "PCsvc",
              "uuid": "47c67600-3b74-f2af-9d73-9ca84ff91d05"
            }
          ],
          "uuid": "4d1da903-ff86-5101-7cb4-6e9390753d3e",
          "state": "ACTIVE",
          "version": "",
          "editables": {},
          "type": "DEB",
          "options": {
            "install_runbook": {
              "task_definition_list": [
                {
                  "target_any_local_reference": {
                    "kind": "app_package",
                    "name": "Package1",
                    "uuid": "4d1da903-ff86-5101-7cb4-6e9390753d3e"
                  },
                  "retries": "0",
                  "description": "",
                  "type": "DAG",
                  "uuid": "610d80ec-f4a0-e859-f3c6-31538b042504",
                  "child_tasks_local_reference_list": [
                    {
                      "kind": "app_task",
                      "name": "VcGetCategory",
                      "uuid": "ef57bf11-5bcd-ca6c-2dc4-0265db714bb4"
                    },
                    {
                      "kind": "app_task",
                      "name": "VeeamCreateBackup",
                      "uuid": "104eca35-03c0-ccc3-09d3-1f9b586ccec9"
                    }
                  ],
                  "state": "ACTIVE",
                  "attrs": {
                    "edges": [
                      "@{from_task_reference=; edge_type=user_defined; type=; uuid=bbc132c5-3c7a-ddf3-8e96-c7717ed7a6ef; to_task_reference=}"
                    ],
                    "type": ""
                  },
                  "timeout_secs": "0",
                  "inherit_target": false,
                  "message_list": [],
                  "variable_list": [],
                  "name": "e4ced877_dag"
                },
                {
                  "target_any_local_reference": {
                    "kind": "app_service",
                    "name": "PCsvc",
                    "uuid": "47c67600-3b74-f2af-9d73-9ca84ff91d05"
                  },
                  "retries": "0",
                  "description": "",
                  "type": "CALL_RUNBOOK",
                  "uuid": "ef57bf11-5bcd-ca6c-2dc4-0265db714bb4",
                  "child_tasks_local_reference_list": [],
                  "state": "ACTIVE",
                  "attrs": {
                    "inarg_list": [],
                    "type": "CALL_RUNBOOK",
                    "runbook_reference": {
                      "kind": "app_runbook",
                      "name": "2cd32961_runbook",
                      "uuid": "c2aecfed-a5db-53ed-adfa-764ab88f8509"
                    }
                  },
                  "timeout_secs": "0",
                  "inherit_target": false,
                  "message_list": [],
                  "variable_list": [],
                  "name": "VcGetCategory"
                },
                {
                  "target_any_local_reference": {
                    "kind": "app_service",
                    "name": "PCsvc",
                    "uuid": "47c67600-3b74-f2af-9d73-9ca84ff91d05"
                  },
                  "retries": "0",
                  "description": "",
                  "type": "CALL_RUNBOOK",
                  "uuid": "104eca35-03c0-ccc3-09d3-1f9b586ccec9",
                  "child_tasks_local_reference_list": [],
                  "state": "ACTIVE",
                  "attrs": {
                    "inarg_list": [],
                    "type": "CALL_RUNBOOK",
                    "runbook_reference": {
                      "kind": "app_runbook",
                      "name": "05b24d0c_runbook",
                      "uuid": "f01e5f1d-93bc-e376-2421-053892164da5"
                    }
                  },
                  "timeout_secs": "0",
                  "inherit_target": false,
                  "message_list": [],
                  "variable_list": [],
                  "name": "VeeamCreateBackup"
                }
              ],
              "description": "",
              "message_list": [],
              "uuid": "ed3457c8-2463-2aaf-00f7-8ce55718c8cf",
              "state": "ACTIVE",
              "variable_list": [],
              "main_task_local_reference": {
                "kind": "app_task",
                "name": "e4ced877_dag",
                "uuid": "610d80ec-f4a0-e859-f3c6-31538b042504"
              },
              "name": "df4bb6e1_runbook"
            },
            "type": "",
            "upgrade_runbook": {},
            "uninstall_runbook": {
              "task_definition_list": [
                {
                  "target_any_local_reference": {
                    "kind": "app_package",
                    "name": "Package1",
                    "uuid": "4d1da903-ff86-5101-7cb4-6e9390753d3e"
                  },
                  "retries": "0",
                  "description": "",
                  "type": "DAG",
                  "uuid": "9f107cc7-2bef-eff2-744d-b0604f4a56c8",
                  "child_tasks_local_reference_list": [],
                  "state": "ACTIVE",
                  "attrs": {
                    "edges": [],
                    "type": ""
                  },
                  "timeout_secs": "0",
                  "inherit_target": false,
                  "message_list": [],
                  "variable_list": [],
                  "name": "7b3790a3_dag"
                }
              ],
              "description": "",
              "message_list": [],
              "uuid": "bcdfd7bb-5d04-c5b2-6923-4eab925948f8",
              "state": "ACTIVE",
              "variable_list": [],
              "main_task_local_reference": {
                "kind": "app_task",
                "name": "7b3790a3_dag",
                "uuid": "9f107cc7-2bef-eff2-744d-b0604f4a56c8"
              },
              "name": "61c8be49_runbook"
            }
          },
          "variable_list": [],
          "name": "Package1"
        }
      ]
    },
    "name": "igor-veeam-testing"
  },
  "spec": {
    "description": "",
    "resources": {
      "client_attrs": {
        "b81c1fcf_deployment": {
          "y": -192.3709919241,
          "x": 449.7465533978
        }
      },
      "service_definition_list": [
        {
          "singleton": false,
          "action_list": [
            {
              "description": "System action for creating an application",
              "type": "system",
              "critical": false,
              "runbook": {
                "task_definition_list": [
                  {
                    "target_any_local_reference": {
                      "kind": "app_service",
                      "name": "PCsvc"
                    },
                    "retries": "0",
                    "description": "",
                    "inherit_target": false,
                    "child_tasks_local_reference_list": [],
                    "name": "3895f664_dag",
                    "attrs": {
                      "edges": "",
                      "type": ""
                    },
                    "timeout_secs": "0",
                    "type": "DAG",
                    "variable_list": []
                  }
                ],
                "description": "",
                "name": "cc61f23d_runbook",
                "main_task_local_reference": {
                  "kind": "app_task",
                  "name": "3895f664_dag"
                },
                "variable_list": []
              },
              "name": "action_create"
            },
            {
              "description": "System action for deleting an application. Deletes created VMs as well",
              "type": "system",
              "critical": false,
              "runbook": {
                "task_definition_list": [
                  {
                    "target_any_local_reference": {
                      "kind": "app_service",
                      "name": "PCsvc"
                    },
                    "retries": "0",
                    "description": "",
                    "inherit_target": false,
                    "child_tasks_local_reference_list": [],
                    "name": "02b6e59a_dag",
                    "attrs": {
                      "edges": "",
                      "type": ""
                    },
                    "timeout_secs": "0",
                    "type": "DAG",
                    "variable_list": []
                  }
                ],
                "description": "",
                "name": "6896f7ba_runbook",
                "main_task_local_reference": {
                  "kind": "app_task",
                  "name": "02b6e59a_dag"
                },
                "variable_list": []
              },
              "name": "action_delete"
            },
            {
              "description": "System action for starting an application",
              "type": "system",
              "critical": false,
              "runbook": {
                "task_definition_list": [
                  {
                    "target_any_local_reference": {
                      "kind": "app_service",
                      "name": "PCsvc"
                    },
                    "retries": "0",
                    "description": "",
                    "inherit_target": false,
                    "child_tasks_local_reference_list": [],
                    "name": "0a8f6330_dag",
                    "attrs": {
                      "edges": "",
                      "type": ""
                    },
                    "timeout_secs": "0",
                    "type": "DAG",
                    "variable_list": []
                  }
                ],
                "description": "",
                "name": "86591f91_runbook",
                "main_task_local_reference": {
                  "kind": "app_task",
                  "name": "0a8f6330_dag"
                },
                "variable_list": []
              },
              "name": "action_start"
            },
            {
              "description": "System action for stopping an application",
              "type": "system",
              "critical": false,
              "runbook": {
                "task_definition_list": [
                  {
                    "target_any_local_reference": {
                      "kind": "app_service",
                      "name": "PCsvc"
                    },
                    "retries": "0",
                    "description": "",
                    "inherit_target": false,
                    "child_tasks_local_reference_list": [],
                    "name": "6ffce19f_dag",
                    "attrs": {
                      "edges": "",
                      "type": ""
                    },
                    "timeout_secs": "0",
                    "type": "DAG",
                    "variable_list": []
                  }
                ],
                "description": "",
                "name": "e9075619_runbook",
                "main_task_local_reference": {
                  "kind": "app_task",
                  "name": "6ffce19f_dag"
                },
                "variable_list": []
              },
              "name": "action_stop"
            },
            {
              "description": "System action for restarting an application",
              "type": "system",
              "critical": false,
              "runbook": {
                "task_definition_list": [
                  {
                    "target_any_local_reference": {
                      "kind": "app_service",
                      "name": "PCsvc"
                    },
                    "retries": "0",
                    "description": "",
                    "inherit_target": false,
                    "child_tasks_local_reference_list": [],
                    "name": "96686e17_dag",
                    "attrs": {
                      "edges": "",
                      "type": ""
                    },
                    "timeout_secs": "0",
                    "type": "DAG",
                    "variable_list": []
                  }
                ],
                "description": "",
                "name": "a50be1a4_runbook",
                "main_task_local_reference": {
                  "kind": "app_task",
                  "name": "96686e17_dag"
                },
                "variable_list": []
              },
              "name": "action_restart"
            },
            {
              "description": "",
              "type": "user",
              "critical": false,
              "runbook": {
                "task_definition_list": [
                  {
                    "retries": "0",
                    "description": "",
                    "inherit_target": false,
                    "child_tasks_local_reference_list": [
                      "@{kind=app_task; name=VeeamLogin}",
                      "@{kind=app_task; name=VeeamGetHierarchyRoots}",
                      "@{kind=app_task; name=VeeamGetRepository}",
                      "@{kind=app_task; name=VeeamGetTemplateJob}",
                      "@{kind=app_task; name=VeeamCloneJob}",
                      "@{kind=app_task; name=VeeamGetJob}",
                      "@{kind=app_task; name=VeeamEditJob}",
                      "@{kind=app_task; name=VeeamLogout}"
                    ],
                    "name": "0364a5af_dag",
                    "attrs": {
                      "edges": "      ",
                      "type": ""
                    },
                    "timeout_secs": "0",
                    "type": "DAG",
                    "variable_list": []
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_service",
                      "name": "PCsvc"
                    },
                    "retries": "0",
                    "description": "",
                    "inherit_target": false,
                    "child_tasks_local_reference_list": [],
                    "name": "VeeamLogin",
                    "attrs": {
                      "exit_status": "",
                      "script": "# region headers\n# * author:     igor.zecevic@nutanix.com\n# * version:    v1.0 - initial version\n# * date:       11/03/2020\n# task_name:    VeeamLogin\n# description:  Login to the Veeam API\n#               Retreives a X-RestSvcSessionId session\n# input vars:   username, password, api_server\n# output vars:  veeam_session_id, veeam_session_cookie\n# endregion\n\n# region capture Calm variables\nusername = \"@@{veeam.username}@@\"\npassword = \"@@{veeam.secret}@@\"\napi_server = \"@@{veeam_endpoint}@@\"\n# endregion\n\n# region prepare api call\napi_server_port = \"9398\"\napi_server_endpoint = \"/api/sessionMngr/?v=latest\"\nmethod = \"POST\"\nurl = \"https://{}:{}{}\".format(api_server, api_server_port, api_server_endpoint)\nheaders = {'Content-Type': 'application/json', 'Accept': 'application/json'}\n# endregion\n\n# region API call function\ndef process_request(url, method, headers, payload=None):\n    if (payload is not None):\n        payload = json.dumps(payload)\n    r = urlreq(url, verb=method, auth='BASIC', user=username, passwd=password, params=payload, verify=False, headers=headers)\n    if r.ok:\n        print(\"Request was successful\")\n        print(\"Status code: {}\".format(r.status_code))\n       # print('Response: {}'.format(json.dumps(json.loads(r.content), indent=2)))\n    else:\n        print(\"Request failed\")\n        print('Status code: {}'.format(r.status_code))\n        print(\"Headers: {}\".format(headers))\n        print(\"Payload: {}\".format(json.dumps(payload)))\n        print('Response: {}'.format(json.dumps(json.loads(r.content), indent=4)))\n        exit(1)\n    return r\n# endregion\n\n# region login\nprint(\"Making a {} API call to {}\".format(method, url))\nresp = process_request(url, method, headers)\n# endregion\n\n# pass the session_cookie and session_id so that it may be captured by Calm.\nresp_parse = json.loads(resp.content)\nsession_cookie = resp.headers.get('X-RestSvcSessionId')\nsession_id = resp_parse['SessionId']\nprint (\"veeam_session_id={}\".format(session_id))\nprint (\"veeam_session_cookie={}\".format(session_cookie))\nexit(0)",
                      "eval_variables": "veeam_session_id veeam_session_cookie",
                      "eval_scope": "local",
                      "type": "",
                      "script_type": "static"
                    },
                    "timeout_secs": "0",
                    "type": "SET_VARIABLE",
                    "variable_list": []
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_service",
                      "name": "PCsvc"
                    },
                    "retries": "0",
                    "description": "",
                    "inherit_target": false,
                    "child_tasks_local_reference_list": [],
                    "name": "VeeamGetHierarchyRoots",
                    "attrs": {
                      "exit_status": "",
                      "script": "# region headers\n# * author:     igor.zecevic@nutanix.com\n# * version:    v1.0 - initial version\n# * date:       11/03/2020\n# task_name:    VeeamGetHierarchyRoots\n# description:  Get the hierarchyRoot UID\n#               The script retreives the hierarchyRoots UID\n# input vars:   veeam_session_cookie, vc_server, api_server\n# output vars:  veeam_hierarchyRoot_uid\n# endregion\n\n# region capture Calm variables\nveeam_session_cookie = \"@@{veeam_session_cookie}@@\"\napi_server = \"@@{veeam_endpoint}@@\"\nvc_server = \"@@{vc_endpoint}@@\"\n# endregion\n\n# region prepare api call\napi_server_port = \"9398\"\napi_server_endpoint = \"/api/hierarchyRoots\"\nmethod = \"GET\"\nurl = \"https://{}:{}{}\".format(api_server, api_server_port, api_server_endpoint)\nheaders = {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-RestSvcSessionId': veeam_session_cookie}\n# endregion\n\n# region API call function\ndef process_request(url, method, headers, payload=None):\n    if (payload is not None):\n        payload = json.dumps(payload)\n    r = urlreq(url, verb=method, params=payload, verify=False, headers=headers)\n    if r.ok:\n        print(\"Request was successful\")\n        print(\"Status code: {}\".format(r.status_code))\n    else:\n        print(\"Request failed\")\n        print('Status code: {}'.format(r.status_code))\n        print(\"Headers: {}\".format(headers))\n        print(\"Payload: {}\".format(json.dumps(payload)))\n        print('Response: {}'.format(json.dumps(json.loads(r.content), indent=4)))\n        exit(1)\n    return r\n# endregion\n\n# region login\nprint(\"Making a {} API call to {}\".format(method, url))\nresp = process_request(url, method, headers)\n# endregion\n\n# pass the repo_uid so that it may be captured by Calm.\nobj_uid = \"\"\nresp_parse = json.loads(resp.content)\nfor obj in resp_parse['Refs']:\n    if obj['Name'] == vc_server:\n                obj_uid = obj['UID']               \nif obj_uid:\n    print (\"veeam_hierarchyroot_uid={}\".format(obj_uid.rsplit(':', 1)[1]))\n    exit(0)\nelse:\n    print(\"Error: Managed Server \"+vc_server+\" doesn't is not present ..\")\n    exit(1)",
                      "eval_variables": "veeam_hierarchyroot_uid",
                      "eval_scope": "local",
                      "type": "",
                      "script_type": "static"
                    },
                    "timeout_secs": "0",
                    "type": "SET_VARIABLE",
                    "variable_list": []
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_service",
                      "name": "PCsvc"
                    },
                    "retries": "0",
                    "description": "",
                    "inherit_target": false,
                    "child_tasks_local_reference_list": [],
                    "name": "VeeamGetRepository",
                    "attrs": {
                      "exit_status": "",
                      "script": "# region headers\n# * author:     igor.zecevic@nutanix.com\n# * version:    v1.0 - initial version\n# * date:       11/03/2020\n# task_name:    VeeamGetRepository\n# description:  Get Repository UID\n#               The script retreives the repository uid\n#               based on the provided repository's name\n# input vars:   veeam_session_cookie, veeam_job_name,\n#               veeam_repo_name, api_server\n# output vars:  veeam_repo_uid\n# endregion\n\n# region capture Calm variables\nveeam_session_cookie = \"@@{veeam_session_cookie}@@\"\nveeam_repo_name = \"@@{veeam_repo_name}@@\"\napi_server = \"@@{veeam_endpoint}@@\"\n# endregion\n\n# region prepare api call\napi_server_port = \"9398\"\napi_server_endpoint = \"/api/repositories\"\nmethod = \"GET\"\nurl = \"https://{}:{}{}\".format(api_server, api_server_port, api_server_endpoint)\nheaders = {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-RestSvcSessionId': veeam_session_cookie}\n# endregion\n\n# region API call function\ndef process_request(url, method, headers, payload=None):\n    if (payload is not None):\n        payload = json.dumps(payload)\n    r = urlreq(url, verb=method, params=payload, verify=False, headers=headers)\n    if r.ok:\n        print(\"Request was successful\")\n        print(\"Status code: {}\".format(r.status_code))\n    else:\n        print(\"Request failed\")\n        print('Status code: {}'.format(r.status_code))\n        print(\"Headers: {}\".format(headers))\n        print(\"Payload: {}\".format(json.dumps(payload)))\n        print('Response: {}'.format(json.dumps(json.loads(r.content), indent=4)))\n        exit(1)\n    return r\n# endregion\n\n# region login\nprint(\"Making a {} API call to {}\".format(method, url))\nresp = process_request(url, method, headers)\n# endregion\n\n# pass the repo_uid so that it may be captured by Calm.\nrepo_uid = \"\"\nresp_parse = json.loads(resp.content)\nfor repo in resp_parse['Refs']:\n    if repo['Name'] == veeam_repo_name:\n                repo_uid = repo['UID']\n                \nif repo_uid:\n    print (\"veeam_repo_uid={}\".format(repo_uid))\n    exit(0)\nelse:\n    print(\"Error: Repository \"+veeam_repo_name+\" doesn't is not present ..\")\n    exit(1)",
                      "eval_variables": "veeam_repo_uid",
                      "eval_scope": "local",
                      "type": "",
                      "script_type": "static"
                    },
                    "timeout_secs": "0",
                    "type": "SET_VARIABLE",
                    "variable_list": []
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_service",
                      "name": "PCsvc"
                    },
                    "retries": "0",
                    "description": "",
                    "inherit_target": false,
                    "child_tasks_local_reference_list": [],
                    "name": "VeeamGetTemplateJob",
                    "attrs": {
                      "exit_status": "",
                      "script": "# region headers\n# * author:     igor.zecevic@nutanix.com\n# * version:    v1.0 - initial version\n# * date:       11/03/2020\n# task_name:    VeeamGetJob\n# description:  Get Job's url\n#               The script retreives a specific job\n#               url based on the provided job's name\n# input vars:   veeam_session_cookie, veeam_job_name, api_server\n# output vars:  veeam_job_url\n# endregion\n\n# region capture Calm variables\nveeam_session_cookie = \"@@{veeam_session_cookie}@@\"\n#veeam_job_name = \"@@{calm_application_name}@@\"  # getting the calm apps job\nveeam_job_name = \"@@{veeam_job_template_name}@@\" # getting the template job on veeam\napi_server = \"@@{veeam_endpoint}@@\"\n\n# endregion\n\n# region prepare api call\napi_server_port = \"9398\"\napi_server_endpoint = \"/api/jobs\"\nmethod = \"GET\"\nurl = \"https://{}:{}{}\".format(api_server, api_server_port, api_server_endpoint)\nheaders = {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-RestSvcSessionId': veeam_session_cookie}\n# endregion\n\n# region API call function\ndef process_request(url, method, headers, payload=None):\n    if (payload is not None):\n        payload = json.dumps(payload)\n    r = urlreq(url, verb=method, params=payload, verify=False, headers=headers)\n    if r.ok:\n        print(\"Request was successful\")\n        print(\"Status code: {}\".format(r.status_code))\n    else:\n        print(\"Request failed\")\n        print('Status code: {}'.format(r.status_code))\n        print(\"Headers: {}\".format(headers))\n        print(\"Payload: {}\".format(json.dumps(payload)))\n        print('Response: {}'.format(json.dumps(json.loads(r.content), indent=4)))\n        exit(1)\n    return r\n# endregion\n\n# region login\nprint(\"Making a {} API call to {}\".format(method, url))\nresp = process_request(url, method, headers)\n# endregion\n\n# pass the cookie job_url so that it may be captured by Calm.\njob_url = \"\"\nresp_parse = json.loads(resp.content)\nfor job in resp_parse['Refs']:\n    if job['Name'] == veeam_job_name:\n        job_url = job['Href']\n                \nif job_url:\n    print (\"veeam_job_url={}\".format(job_url.rsplit('/', 1)[1])) #get only the last occurence\n    exit(0)\nelse:\n    print(\"Error: Backup Job \"+veeam_job_name+\" doesn't is not present ..\")\n    exit(1)",
                      "eval_variables": "veeam_job_url",
                      "eval_scope": "local",
                      "type": "",
                      "script_type": "static"
                    },
                    "timeout_secs": "0",
                    "type": "SET_VARIABLE",
                    "variable_list": []
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_service",
                      "name": "PCsvc"
                    },
                    "retries": "0",
                    "description": "",
                    "inherit_target": false,
                    "child_tasks_local_reference_list": [],
                    "name": "VeeamCloneJob",
                    "attrs": {
                      "exit_status": "",
                      "script": "# region headers\n# * author:     igor.zecevic@nutanix.com\n# * version:    v1.0 - initial version\n# * date:       11/03/2020\n# task_name:    VeeamCloneJob\n# description:  Clone a Veeam Job\n#               The script clones a Veeam Job using the \n#               the veeam_job_url and veeam_repo_uid found\n#               on the VeeamGetJob and VeeamGetRepository\n# input vars:   veeam_session_cookie, veeam_job_url\n#               veeam_job_name, veeam_repo_uid, api_server\n# output vars:  none\n# endregion\n\n# region capture Calm variables\nveeam_session_cookie = \"@@{veeam_session_cookie}@@\"\nveeam_job_url = \"@@{veeam_job_url}@@\"\nveeam_repo_uid = \"@@{veeam_repo_uid}@@\"\nveeam_job_name = \"@@{calm_application_name}@@\"\napi_server = \"@@{veeam_endpoint}@@\"\n# endregion\n\n# region prepare api call\napi_server_port = \"9398\"\napi_server_endpoint = \"/api/jobs\"\nmethod = \"POST\"\nbase_url = \"https://{}:{}{}\".format(api_server, api_server_port, api_server_endpoint)\nheaders = {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-RestSvcSessionId': veeam_session_cookie}\n# endregion\n\n# region API call function\ndef process_request(url, method, headers, payload=None):\n    if (payload is not None):\n        payload = json.dumps(payload)\n    r = urlreq(url, verb=method, params=payload, verify=False, headers=headers)\n    if r.ok:\n        print(\"Request was successful\")\n        print(\"Status code: {}\".format(r.status_code))\n    else:\n        print(\"Request failed\")\n        print('Status code: {}'.format(r.status_code))\n        print(\"Headers: {}\".format(headers))\n        print(\"Payload: {}\".format(json.dumps(payload)))\n        print('Response: {}'.format(json.dumps(json.loads(r.content), indent=4)))\n        exit(1)\n    return r\n# endregion\n\n# region login\npayload = {\n   \"BackupJobCloneInfo\": {\n      \"JobName\": veeam_job_name,\n      \"FolderName\": veeam_job_name,\n      \"RepositoryUid\": veeam_repo_uid,\n      \"Description\": \"This job was created by CALM\"\n   }\n}\nurl = \"{0}/{1}?action=clone\".format(base_url, veeam_job_url)\nprint(\"Making a {} API call to {}\".format(method, url))\nresp = process_request(url, method, headers, payload)\n# endregion\n\n# pass the task_id so that it may be captured by Calm.\nresp_parse = json.loads(resp.content)\ntask_id = resp_parse['TaskId']\nprint (\"veeam_task_id={}\".format(task_id))\nexit(0)",
                      "eval_variables": "veeam_task_id",
                      "eval_scope": "local",
                      "type": "",
                      "script_type": "static"
                    },
                    "timeout_secs": "0",
                    "type": "SET_VARIABLE",
                    "variable_list": []
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_service",
                      "name": "PCsvc"
                    },
                    "retries": "0",
                    "description": "",
                    "inherit_target": false,
                    "child_tasks_local_reference_list": [],
                    "name": "VeeamGetJob",
                    "attrs": {
                      "exit_status": "",
                      "script": "# region headers\n# * author:     igor.zecevic@nutanix.com\n# * version:    v1.0 - initial version\n# * date:       11/03/2020\n# task_name:    VeeamGetJob\n# description:  Get Job's url\n#               The script retreives a specific job\n#               url based on the provided job's name\n# input vars:   veeam_session_cookie, veeam_job_name, api_server\n# output vars:  veeam_job_url\n# endregion\n\n# region capture Calm variables\nveeam_session_cookie = \"@@{veeam_session_cookie}@@\"\nveeam_job_name = \"@@{calm_application_name}@@\"  # getting the calm apps job\n#veeam_job_name = \"@@{veeam_job_template_name}@@\" # getting the template job on veeam\napi_server = \"@@{veeam_endpoint}@@\"\n\n# endregion\n\n# region prepare api call\napi_server_port = \"9398\"\napi_server_endpoint = \"/api/jobs\"\nmethod = \"GET\"\nurl = \"https://{}:{}{}\".format(api_server, api_server_port, api_server_endpoint)\nheaders = {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-RestSvcSessionId': veeam_session_cookie}\n# endregion\n\n# region API call function\ndef process_request(url, method, headers, payload=None):\n    if (payload is not None):\n        payload = json.dumps(payload)\n    r = urlreq(url, verb=method, params=payload, verify=False, headers=headers)\n    if r.ok:\n        print(\"Request was successful\")\n        print(\"Status code: {}\".format(r.status_code))\n    else:\n        print(\"Request failed\")\n        print('Status code: {}'.format(r.status_code))\n        print(\"Headers: {}\".format(headers))\n        print(\"Payload: {}\".format(json.dumps(payload)))\n        print('Response: {}'.format(json.dumps(json.loads(r.content), indent=4)))\n        exit(1)\n    return r\n# endregion\n\n# region login\nprint(\"Making a {} API call to {}\".format(method, url))\nresp = process_request(url, method, headers)\n# endregion\n\n# pass the cookie job_url so that it may be captured by Calm.\njob_url = \"\"\nresp_parse = json.loads(resp.content)\nfor job in resp_parse['Refs']:\n    if job['Name'] == veeam_job_name:\n        job_url = job['Href']\n                \nif job_url:\n    print (\"veeam_job_url={}\".format(job_url.rsplit('/', 1)[1])) #get only the last occurence\n    exit(0)\nelse:\n    print(\"Error: Backup Job \"+veeam_job_name+\" doesn't is not present ..\")\n    exit(1)",
                      "eval_variables": "veeam_job_url",
                      "eval_scope": "local",
                      "type": "",
                      "script_type": "static"
                    },
                    "timeout_secs": "0",
                    "type": "SET_VARIABLE",
                    "variable_list": []
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_service",
                      "name": "PCsvc"
                    },
                    "retries": "0",
                    "description": "",
                    "inherit_target": false,
                    "child_tasks_local_reference_list": [],
                    "name": "VeeamEditJob",
                    "attrs": {
                      "exit_status": "",
                      "script": "# region headers\n# * author:     igor.zecevic@nutanix.com\n# * version:    v1.0 - initial version\n# * date:       11/03/2020\n# task_name:    VeeamEditJob\n# description:  Edit a Veeam Job\n#               The script edits a Veeam Job using the \n#               the veeam_job_url found on VeeamGetJob\n#               and attach a category_id found on \n#               VcRestGetCategory\n# input vars:   veeam_session_cookie, veeam_start_url,\n#               veeam_job_name, vc_category_name,\n# #             vc_category_id, api_server\n# output vars:  none\n# endregion\n\n# region capture Calm variables\nveeam_session_cookie = \"@@{veeam_session_cookie}@@\"\nveeam_job_url = \"@@{veeam_job_url}@@\"\nveeam_hierarchyroot_uid = \"@@{veeam_hierarchyroot_uid}@@\"\nveeam_job_daily_schedule = \"@@{veeam_job_daily_schedule}@@\"\nvc_category_id = \"@@{vc_category_id}@@\"\nvc_category_name = \"@@{calm_application_name}@@\"\napi_server = \"@@{veeam_endpoint}@@\"\n# endregion\n\n# region prepare api call\napi_server_port = \"9398\"\napi_server_endpoint = \"/api/jobs\"\nmethod = \"PUT\"\nbase_url = \"https://{}:{}{}\".format(api_server, api_server_port, api_server_endpoint)\nheaders = {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-RestSvcSessionId': veeam_session_cookie}\n# endregion\n\n# region API call function\ndef process_request(url, method, headers, payload=None):\n    if (payload is not None):\n        payload = json.dumps(payload)\n    r = urlreq(url, verb=method, params=payload, verify=False, headers=headers)\n    if r.ok:\n        print(\"Request was successful\")\n        print(\"Status code: {}\".format(r.status_code))\n        print('Response: {}'.format(json.dumps(json.loads(r.content), indent=2)))\n    else:\n        print(\"Request failed\")\n        print('Status code: {}'.format(r.status_code))\n        print(\"Headers: {}\".format(headers))\n        print(\"Payload: {}\".format(json.dumps(payload)))\n        print('Response: {}'.format(json.dumps(json.loads(r.content), indent=4)))\n        exit(1)\n    return r\n# endregion\n\n# region login\npayload = {\n    \"ScheduleConfigured\": True,\n    \"ScheduleEnabled\": True,\n    \"JobScheduleOptions\": { \n      \"Standart\": {\n          \"OptionsDaily\": {\n              \"Kind\": \"Everyday\",\n              \"Time\": veeam_job_daily_schedule,\n              \"Enabled\": True\n          },\n          \"OptionsMonthly\": {\n              \"Enabled\": False\n            }\n        }\n    },\n    \"JobInfo\": {\n      \"BackupJobInfo\": {\n        \"Includes\": {\n            \"ObjectInJobs\": [\n              {\n                \"HierarchyObjRef\": \"urn:VMware:Category:\"+veeam_hierarchyroot_uid+'.'+vc_category_id,\n                    \"Name\": vc_category_name,\n                    \"DisplayName\": vc_category_name,\n                    \"Type\": \"ObjectInJob\"\n                  }\n              ]\n          }\n      }\n  }\n}\n\nurl = \"{0}/{1}?action=edit\".format(base_url, veeam_job_url)\nprint(\"Making a {} API call to {}\".format(method, url))\nresp = process_request(url, method, headers, payload)\n# endregion\n\n# pass the task_id so that it may be captured by Calm.\nresp_parse = json.loads(resp.content)\ntask_id = resp_parse['TaskId']\nprint (\"veeam_task_id={}\".format(task_id))\nexit(0)",
                      "eval_variables": "veeam_task_id",
                      "eval_scope": "local",
                      "type": "",
                      "script_type": "static"
                    },
                    "timeout_secs": "0",
                    "type": "SET_VARIABLE",
                    "variable_list": []
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_service",
                      "name": "PCsvc"
                    },
                    "retries": "0",
                    "description": "",
                    "inherit_target": false,
                    "child_tasks_local_reference_list": [],
                    "name": "VeeamLogout",
                    "attrs": {
                      "script": "# region headers\n# * author:     igor.zecevic@nutanix.com\n# * version:    v1.0 - initial version\n# * date:       11/03/2020\n# task_name:    VeeamLogout\n# description:  Logout from the Veeam API\n#               veeam_session_cookie: retreived from VeeamLogin\n#               vmware_session_id: retreived from VeeamLogin\n#               none that the LogonSessionId can also be \n#               retreived using /api/logonSessions url\n# input vars:   veeam_session_cookie, veeam_session_id, api_server\n# output vars:  none\n# endregion\n\n# region capture Calm variables\nveeam_session_cookie = \"@@{veeam_session_cookie}@@\"\nveeam_session_id = \"@@{veeam_session_id}@@\"\napi_server = \"@@{veeam_endpoint}@@\"\n# endregion\n\n# region prepare api call\napi_server_port = \"9398\"\napi_server_endpoint = \"/api/logonSessions\"\nmethod = \"DELETE\"\nbase_url = \"https://{}:{}{}\".format(api_server, api_server_port, api_server_endpoint)\nheaders = {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-RestSvcSessionId': veeam_session_cookie}\n# endregion\n\n# region API call function\ndef process_request(url, method, headers, payload=None):\n    if (payload is not None):\n        payload = json.dumps(payload)\n    r = urlreq(url, verb=method, params=payload, verify=False, headers=headers)\n    if r.ok:\n        print(\"Request was successful\")\n        print(\"Status code: {}\".format(r.status_code))\n    else:\n        print(\"Request failed\")\n        print('Status code: {}'.format(r.status_code))\n        print(\"Headers: {}\".format(headers))\n        print(\"Payload: {}\".format(json.dumps(payload)))\n        print('Response: {}'.format(json.dumps(json.loads(r.content), indent=4)))\n        exit(1)\n    return r\n# endregion\n\n# region Logout\nurl = \"{0}/{1}\".format(base_url, veeam_session_id)\nprint(\"Making a {} API call to {}\".format(method, url))\nresp = process_request(url, method, headers)\n# endregion\n\nexit(0)",
                      "type": "",
                      "command_line_args": "",
                      "exit_status": "",
                      "script_type": "static"
                    },
                    "timeout_secs": "0",
                    "type": "EXEC",
                    "variable_list": []
                  }
                ],
                "description": "",
                "name": "05b24d0c_runbook",
                "main_task_local_reference": {
                  "kind": "app_task",
                  "name": "0364a5af_dag"
                },
                "variable_list": []
              },
              "name": "VeeamCreateBackup"
            },
            {
              "description": "",
              "type": "user",
              "critical": false,
              "runbook": {
                "task_definition_list": [
                  {
                    "retries": "0",
                    "description": "",
                    "inherit_target": false,
                    "child_tasks_local_reference_list": [
                      "@{kind=app_task; name=VcRestLogin}",
                      "@{kind=app_task; name=VcRestGetCategory}",
                      "@{kind=app_task; name=VcRestLogout}"
                    ],
                    "name": "7c0db8ac_dag",
                    "attrs": {
                      "edges": " ",
                      "type": ""
                    },
                    "timeout_secs": "0",
                    "type": "DAG",
                    "variable_list": []
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_service",
                      "name": "PCsvc"
                    },
                    "retries": "0",
                    "description": "",
                    "inherit_target": false,
                    "child_tasks_local_reference_list": [],
                    "name": "VcRestLogin",
                    "attrs": {
                      "exit_status": "",
                      "script": "# region headers\n# * author:     igor.zecevic@nutanix.com\n# * version:    v1.0 - initial version\n# * date:       10/03/2020\n# task_name:    VcRestLogin\n# description:  Authenticate to the vCenter Rest API\n#               Retreives a cookie session\n# input vars:   username, password, api_server\n# output vars:  vc_api_session\n# endregion\n\n# region capture Calm variables\nusername = \"@@{vc.username}@@\"\npassword = \"@@{vc.secret}@@\"\napi_server = \"@@{vc_endpoint}@@\"\n# endregion\n\n# region prepare api call\napi_server_port = \"443\"\napi_server_endpoint = \"/rest/com/vmware/cis/session\"\nmethod = \"POST\"\nurl = \"https://{}:{}{}\".format(api_server, api_server_port, api_server_endpoint)\nheaders = {'Content-Type': 'application/json', 'Accept': 'application/json'}\n# endregion\n\n# region API call function\ndef process_request(url, method, headers, payload=None):\n    if (payload is not None):\n        payload = json.dumps(payload)\n    r = urlreq(url, verb=method, auth='BASIC', user=username, passwd=password, params=payload, verify=False, headers=headers)\n    if r.ok:\n        print(\"Request was successful\")\n        print(\"Status code: {}\".format(r.status_code))\n        print('Response: {}'.format(json.dumps(json.loads(r.content), indent=4)))\n    else:\n        print(\"Request failed\")\n        print('Status code: {}'.format(r.status_code))\n        print(\"Headers: {}\".format(headers))\n        print(\"Payload: {}\".format(json.dumps(payload)))\n        print('Response: {}'.format(json.dumps(json.loads(r.content), indent=4)))\n        exit(1)\n    return r\n# endregion\n\n# region login\nprint(\"Making a {} API call to {}\".format(method, url))\nresp = process_request(url, method, headers)\n# endregion\n\n# pass the cookie in vc_soap_session so that it may be captured by Calm.\ncookie = resp.headers.get('Set-Cookie').split(\";\")[0]\nprint (\"vc_api_session={}\".format(cookie))\nexit(0)",
                      "eval_variables": "vc_api_session",
                      "eval_scope": "local",
                      "type": "",
                      "script_type": "static"
                    },
                    "timeout_secs": "0",
                    "type": "SET_VARIABLE",
                    "variable_list": []
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_service",
                      "name": "PCsvc"
                    },
                    "retries": "0",
                    "description": "",
                    "inherit_target": false,
                    "child_tasks_local_reference_list": [],
                    "name": "VcRestGetCategory",
                    "attrs": {
                      "exit_status": "",
                      "script": "# region headers\n# * author:     igor.zecevic@nutanix.com\n# * version:    v1.0 - initial version\n# * date:       10/03/2020\n# task_name:    VcRestGetCategory\n# description:  Retreives a specific category id based on the category's name\n#               The scripts list all categories and filter\n# input vars:   vc_cookie, api_server, vc_category_name\n# output vars:  vc_category_id\n# endregion\n\n# region capture Calm variables\nvc_cookie = \"@@{vc_api_session}@@\" # retreived from VcRestLogin\napi_server = \"@@{vc_endpoint}@@\"\nvc_category_name = \"@@{calm_application_name}@@\"\n# endregion\n\n# region prepare api call\napi_server_port = \"443\"\napi_server_endpoint = \"/rest/com/vmware/cis/tagging/category\"\nmethod = \"GET\"\nbase_url = \"https://{}:{}{}\".format(api_server, api_server_port, api_server_endpoint)\nheaders = {'Content-Type': 'application/json', 'Accept': 'application/json', 'Cookie': vc_cookie}\n# endregion\n\n# region API call function\ndef process_request(url, method, headers, payload=None):\n    if (payload is not None):\n        payload = json.dumps(payload)\n    r = urlreq(url, verb=method, params=payload, verify=False, headers=headers)\n    if r.ok:\n        print(\"Request was successful\")\n        print(\"Status code: {}\".format(r.status_code))\n        print('Response: {}'.format(json.dumps(json.loads(r.content), indent=4)))\n    else:\n        print(\"Request failed\")\n        print('Status code: {}'.format(r.status_code))\n        print(\"Headers: {}\".format(headers))\n        print(\"Payload: {}\".format(json.dumps(payload)))\n        print('Response: {}'.format(json.dumps(json.loads(r.content), indent=4)))\n        exit(1)\n    return r\n# endregion\n\n# region get category id\n# get all categories\nurl = format(base_url)\nprint(\"Making a {} API call to {}\".format(method, url))\nall_categories = process_request(base_url, method, headers)\n\n# get specific category\nall_categories_parsed = json.loads(all_categories.content)\ncategory_id = \"\"\nfor category in all_categories_parsed['value']:\n    url = \"\"+base_url+\"/id:\"+category+\"\"\n    print(\"Making a {} API call to {}\".format(method, url))\n    category = process_request(url, method, headers)\n    category_parse = json.loads(category.content)\n    if category_parse['value']['name'] == vc_category_name:\n        category_id = category_parse['value']['id']\n        break\n# endregion\n\n# pass the specific founded category in vc_category_id so that it may be captured by Calm.\nif not category_id:\n    print(\"Error : category not present\")\n    exit (1)\nelif category_id:\n    print(\"vc_category_id={}\".format(category_id))\n    exit(0)\n# endregion",
                      "eval_variables": "vc_category_id",
                      "eval_scope": "local",
                      "type": "",
                      "script_type": "static"
                    },
                    "timeout_secs": "0",
                    "type": "SET_VARIABLE",
                    "variable_list": []
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_service",
                      "name": "PCsvc"
                    },
                    "retries": "0",
                    "description": "",
                    "inherit_target": false,
                    "child_tasks_local_reference_list": [],
                    "name": "VcRestLogout",
                    "attrs": {
                      "script": "# region headers\n# * author:     igor.zecevic@nutanix.com\n# * version:    v1.0 - initial version\n# * date:       10/03/2020\n# task_name:    VcRestLogout\n# description:  Logout form the vCenter Rest API\n# input vars:   vc_cookie, api_server\n# output vars:  none\n# endregion\n\n# region capture Calm variables\nvc_cookie = \"@@{vc_api_session}@@\" #retreived from VcRestLogin\napi_server = \"@@{vc_endpoint}@@\"\n# endregion\n\n# region prepare api call\napi_server_port = \"443\"\napi_server_endpoint = \"/rest/com/vmware/cis/session\"\nmethod = \"DELETE\"\nurl = \"https://{}:{}{}\".format(api_server, api_server_port, api_server_endpoint)\nheaders = {'Content-Type': 'application/json', 'Accept': 'application/json', 'Cookie': vc_cookie}\n# endregion\n\n# region API call function\ndef process_request(url, method, headers, payload=None):\n    if (payload is not None):\n        payload = json.dumps(payload)\n    r = urlreq(url, verb=method, params=payload, verify=False, headers=headers)\n    if r.ok:\n        print(\"Request was successful\")\n        print(\"Status code: {}\".format(r.status_code))\n    else:\n        print(\"Request failed\")\n        print('Status code: {}'.format(r.status_code))\n        print(\"Headers: {}\".format(headers))\n        print(\"Payload: {}\".format(json.dumps(payload)))\n        print('Response: {}'.format(json.dumps(json.loads(r.content), indent=4)))\n        exit(1)\n    return r\n# endregion\n\n# region logout\nprint(\"Making a {} API call to {}\".format(method, url))\nresp = process_request(url, method, headers)\n# endregion",
                      "type": "",
                      "command_line_args": "",
                      "exit_status": "",
                      "script_type": "static"
                    },
                    "timeout_secs": "0",
                    "type": "EXEC",
                    "variable_list": []
                  }
                ],
                "description": "",
                "name": "2cd32961_runbook",
                "main_task_local_reference": {
                  "kind": "app_task",
                  "name": "7c0db8ac_dag"
                },
                "variable_list": []
              },
              "name": "VcGetCategory"
            },
            {
              "description": "",
              "type": "user",
              "critical": false,
              "runbook": {
                "task_definition_list": [
                  {
                    "retries": "0",
                    "description": "",
                    "inherit_target": false,
                    "child_tasks_local_reference_list": [
                      "@{kind=app_task; name=VeeamLogin}",
                      "@{kind=app_task; name=VeeamStartJob}",
                      "@{kind=app_task; name=VeeamLogout}"
                    ],
                    "name": "0364a5af_dag_cloned_1",
                    "attrs": {
                      "edges": " ",
                      "type": ""
                    },
                    "timeout_secs": "0",
                    "type": "DAG",
                    "variable_list": []
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_service",
                      "name": "PCsvc"
                    },
                    "retries": "0",
                    "description": "",
                    "inherit_target": false,
                    "child_tasks_local_reference_list": [],
                    "name": "VeeamLogin",
                    "attrs": {
                      "exit_status": "",
                      "script": "# region headers\n# * author:     igor.zecevic@nutanix.com\n# * version:    v1.0 - initial version\n# * date:       11/03/2020\n# task_name:    VeeamLogin\n# description:  Login to the Veeam API\n#               Retreives a X-RestSvcSessionId session\n# input vars:   username, password, api_server\n# output vars:  veeam_session_id, veeam_session_cookie\n# endregion\n\n# region capture Calm variables\nusername = \"@@{veeam.username}@@\"\npassword = \"@@{veeam.secret}@@\"\napi_server = \"@@{veeam_endpoint}@@\"\n# endregion\n\n# region prepare api call\napi_server_port = \"9398\"\napi_server_endpoint = \"/api/sessionMngr/?v=latest\"\nmethod = \"POST\"\nurl = \"https://{}:{}{}\".format(api_server, api_server_port, api_server_endpoint)\nheaders = {'Content-Type': 'application/json', 'Accept': 'application/json'}\n# endregion\n\n# region API call function\ndef process_request(url, method, headers, payload=None):\n    if (payload is not None):\n        payload = json.dumps(payload)\n    r = urlreq(url, verb=method, auth='BASIC', user=username, passwd=password, params=payload, verify=False, headers=headers)\n    if r.ok:\n        print(\"Request was successful\")\n        print(\"Status code: {}\".format(r.status_code))\n       # print('Response: {}'.format(json.dumps(json.loads(r.content), indent=2)))\n    else:\n        print(\"Request failed\")\n        print('Status code: {}'.format(r.status_code))\n        print(\"Headers: {}\".format(headers))\n        print(\"Payload: {}\".format(json.dumps(payload)))\n        print('Response: {}'.format(json.dumps(json.loads(r.content), indent=4)))\n        exit(1)\n    return r\n# endregion\n\n# region login\nprint(\"Making a {} API call to {}\".format(method, url))\nresp = process_request(url, method, headers)\n# endregion\n\n# pass the session_cookie and session_id so that it may be captured by Calm.\nresp_parse = json.loads(resp.content)\nsession_cookie = resp.headers.get('X-RestSvcSessionId')\nsession_id = resp_parse['SessionId']\nprint (\"veeam_session_id={}\".format(session_id))\nprint (\"veeam_session_cookie={}\".format(session_cookie))\nexit(0)",
                      "eval_variables": "veeam_session_id veeam_session_cookie",
                      "eval_scope": "local",
                      "type": "",
                      "script_type": "static"
                    },
                    "timeout_secs": "0",
                    "type": "SET_VARIABLE",
                    "variable_list": []
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_service",
                      "name": "PCsvc"
                    },
                    "retries": "0",
                    "description": "",
                    "inherit_target": false,
                    "child_tasks_local_reference_list": [],
                    "name": "VeeamStartJob",
                    "attrs": {
                      "exit_status": "",
                      "script": "# region headers\n# * author:     igor.zecevic@nutanix.com\n# * version:    v1.0 - initial version\n# * date:       11/03/2020\n# task_name:    VeeamStartJob\n# description:  Starts a Veeam Job\n#               The script starts a Veeam Job using the \n#               the veeam_job_url on VeeamGetJob\n# input vars:   veeam_session_cookie, veeam_job_start_url, api_server\n# output vars:  none\n# endregion\n\n# region capture Calm variables\nveeam_session_cookie = \"@@{veeam_session_cookie}@@\"\nveeam_job_url = \"@@{veeam_job_url}@@\"\napi_server = \"@@{veeam_endpoint}@@\"\n# endregion\n\n# region prepare api call\napi_server_port = \"9398\"\napi_server_endpoint = \"/api/jobs\"\nmethod = \"POST\"\nbase_url = \"https://{}:{}{}\".format(api_server, api_server_port, api_server_endpoint)\nheaders = {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-RestSvcSessionId': veeam_session_cookie}\n# endregion\n\n# region API call function\ndef process_request(url, method, headers, payload=None):\n    if (payload is not None):\n        payload = json.dumps(payload)\n    r = urlreq(url, verb=method, params=payload, verify=False, headers=headers)\n    if r.ok:\n        print(\"Request was successful\")\n        print(\"Status code: {}\".format(r.status_code))\n    else:\n        print(\"Request failed\")\n        print('Status code: {}'.format(r.status_code))\n        print(\"Headers: {}\".format(headers))\n        print(\"Payload: {}\".format(json.dumps(payload)))\n        print('Response: {}'.format(json.dumps(json.loads(r.content), indent=4)))\n        exit(1)\n    return r\n# endregion\n\n# region login\nurl = \"{0}/{1}?action=start\".format(base_url, veeam_job_url)\nprint(\"Making a {} API call to {}\".format(method, url))\nresp = process_request(url, method, headers)\n# endregion\n\n# pass the task_id so that it may be captured by Calm.\nresp_parse = json.loads(resp.content)\ntask_id = resp_parse['TaskId']\nprint (\"veeam_task_id={}\".format(task_id))\nexit(0)",
                      "eval_variables": "veeam_task_id",
                      "eval_scope": "local",
                      "type": "",
                      "script_type": "static"
                    },
                    "timeout_secs": "0",
                    "type": "SET_VARIABLE",
                    "variable_list": []
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_service",
                      "name": "PCsvc"
                    },
                    "retries": "0",
                    "description": "",
                    "inherit_target": false,
                    "child_tasks_local_reference_list": [],
                    "name": "VeeamLogout",
                    "attrs": {
                      "script": "# region headers\n# * author:     igor.zecevic@nutanix.com\n# * version:    v1.0 - initial version\n# * date:       11/03/2020\n# task_name:    VeeamLogout\n# description:  Logout from the Veeam API\n#               veeam_session_cookie: retreived from VeeamLogin\n#               vmware_session_id: retreived from VeeamLogin\n#               none that the LogonSessionId can also be \n#               retreived using /api/logonSessions url\n# input vars:   veeam_session_cookie, veeam_session_id, api_server\n# output vars:  none\n# endregion\n\n# region capture Calm variables\nveeam_session_cookie = \"@@{veeam_session_cookie}@@\"\nveeam_session_id = \"@@{veeam_session_id}@@\"\napi_server = \"@@{veeam_endpoint}@@\"\n# endregion\n\n# region prepare api call\napi_server_port = \"9398\"\napi_server_endpoint = \"/api/logonSessions\"\nmethod = \"DELETE\"\nbase_url = \"https://{}:{}{}\".format(api_server, api_server_port, api_server_endpoint)\nheaders = {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-RestSvcSessionId': veeam_session_cookie}\n# endregion\n\n# region API call function\ndef process_request(url, method, headers, payload=None):\n    if (payload is not None):\n        payload = json.dumps(payload)\n    r = urlreq(url, verb=method, params=payload, verify=False, headers=headers)\n    if r.ok:\n        print(\"Request was successful\")\n        print(\"Status code: {}\".format(r.status_code))\n    else:\n        print(\"Request failed\")\n        print('Status code: {}'.format(r.status_code))\n        print(\"Headers: {}\".format(headers))\n        print(\"Payload: {}\".format(json.dumps(payload)))\n        print('Response: {}'.format(json.dumps(json.loads(r.content), indent=4)))\n        exit(1)\n    return r\n# endregion\n\n# region Logout\nurl = \"{0}/{1}\".format(base_url, veeam_session_id)\nprint(\"Making a {} API call to {}\".format(method, url))\nresp = process_request(url, method, headers)\n# endregion\n\nexit(0)",
                      "type": "",
                      "command_line_args": "",
                      "exit_status": "",
                      "script_type": "static"
                    },
                    "timeout_secs": "0",
                    "type": "EXEC",
                    "variable_list": []
                  }
                ],
                "description": "",
                "name": "05b24d0c_runbook_cloned_0",
                "main_task_local_reference": {
                  "kind": "app_task",
                  "name": "0364a5af_dag_cloned_1"
                },
                "variable_list": []
              },
              "name": "VeeamAppBackup"
            }
          ],
          "depends_on_list": [],
          "name": "PCsvc",
          "port_list": [],
          "tier": "",
          "variable_list": [
            {
              "val_type": "STRING",
              "is_mandatory": false,
              "description": "",
              "data_type": "BASE",
              "type": "LOCAL",
              "name": "veeam_job_daily_schedule",
              "value": "22:00",
              "label": "",
              "attrs": {
                "type": ""
              },
              "is_hidden": false,
              "options": {
                "type": "PREDEFINED",
                "choices": []
              }
            },
            {
              "val_type": "STRING",
              "is_mandatory": false,
              "description": "",
              "data_type": "BASE",
              "type": "LOCAL",
              "name": "veeam_repo_name",
              "value": "Backups",
              "label": "",
              "attrs": {
                "type": ""
              },
              "is_hidden": false,
              "options": {
                "type": "PREDEFINED",
                "choices": []
              }
            },
            {
              "val_type": "STRING",
              "is_mandatory": false,
              "description": "",
              "data_type": "BASE",
              "type": "LOCAL",
              "name": "veeam_hierarchyroot_uid",
              "value": "",
              "label": "",
              "attrs": {
                "type": ""
              },
              "editables": {
                "value": false
              },
              "is_hidden": false,
              "options": {
                "type": "PREDEFINED",
                "choices": []
              }
            },
            {
              "val_type": "STRING",
              "is_mandatory": false,
              "description": "",
              "data_type": "BASE",
              "type": "LOCAL",
              "name": "vc_category_id",
              "value": "",
              "label": "",
              "attrs": {
                "type": ""
              },
              "is_hidden": false,
              "options": {
                "type": "PREDEFINED",
                "choices": []
              }
            },
            {
              "val_type": "STRING",
              "is_mandatory": false,
              "description": "",
              "data_type": "BASE",
              "type": "LOCAL",
              "name": "veeam_task_id",
              "value": "",
              "label": "",
              "attrs": {
                "type": ""
              },
              "is_hidden": false,
              "options": {
                "type": "PREDEFINED",
                "choices": []
              }
            },
            {
              "val_type": "STRING",
              "is_mandatory": false,
              "description": "",
              "data_type": "BASE",
              "type": "LOCAL",
              "name": "vc_endpoint",
              "value": "10.68.98.10",
              "label": "",
              "attrs": {
                "type": ""
              },
              "editables": {
                "value": false
              },
              "is_hidden": true,
              "options": {
                "type": "PREDEFINED",
                "choices": []
              }
            },
            {
              "val_type": "STRING",
              "is_mandatory": false,
              "description": "",
              "data_type": "BASE",
              "type": "LOCAL",
              "name": "vc_api_session",
              "value": "",
              "label": "",
              "attrs": {
                "type": ""
              },
              "is_hidden": false,
              "options": {
                "type": "PREDEFINED",
                "choices": []
              }
            },
            {
              "val_type": "STRING",
              "is_mandatory": false,
              "description": "",
              "data_type": "BASE",
              "type": "LOCAL",
              "name": "veeam_job_url",
              "value": "",
              "label": "",
              "attrs": {
                "type": ""
              },
              "is_hidden": false,
              "options": {
                "type": "PREDEFINED",
                "choices": []
              }
            },
            {
              "val_type": "STRING",
              "is_mandatory": false,
              "description": "",
              "data_type": "BASE",
              "type": "LOCAL",
              "name": "veeam_job_template_name",
              "value": "TEMPLATE-JOB-FOR-CALM",
              "label": "",
              "attrs": {
                "type": "LOCAL"
              },
              "editables": {
                "value": false
              },
              "is_hidden": true,
              "options": {
                "type": "PREDEFINED",
                "choices": []
              }
            },
            {
              "val_type": "STRING",
              "is_mandatory": false,
              "description": "",
              "data_type": "BASE",
              "type": "LOCAL",
              "name": "veeam_endpoint",
              "value": "10.68.99.161",
              "label": "",
              "attrs": {
                "type": ""
              },
              "is_hidden": false,
              "options": {
                "type": "PREDEFINED",
                "choices": []
              }
            },
            {
              "val_type": "STRING",
              "is_mandatory": false,
              "description": "",
              "data_type": "BASE",
              "type": "LOCAL",
              "name": "veeam_repo_uid",
              "value": "",
              "label": "",
              "attrs": {
                "type": ""
              },
              "is_hidden": false,
              "options": {
                "type": "PREDEFINED",
                "choices": []
              }
            },
            {
              "val_type": "STRING",
              "is_mandatory": false,
              "description": "",
              "data_type": "BASE",
              "type": "LOCAL",
              "name": "veeam_session_cookie",
              "value": "",
              "label": "",
              "attrs": {
                "type": ""
              },
              "is_hidden": false,
              "options": {
                "type": "PREDEFINED",
                "choices": []
              }
            },
            {
              "val_type": "STRING",
              "is_mandatory": false,
              "description": "",
              "data_type": "BASE",
              "type": "LOCAL",
              "name": "veeam_session_id",
              "value": "",
              "label": "",
              "attrs": {
                "type": ""
              },
              "is_hidden": false,
              "options": {
                "type": "PREDEFINED",
                "choices": []
              }
            }
          ],
          "description": ""
        }
      ],
      "substrate_definition_list": [
        {
          "description": "",
          "action_list": [],
          "type": "EXISTING_VM",
          "name": "PCVm",
          "readiness_probe": {
            "connection_type": "SSH",
            "retries": "5",
            "connection_protocol": "",
            "connection_port": 22,
            "address": "@@{ip_address}@@",
            "delay_secs": "60",
            "disable_readiness_probe": true,
            "login_credential_local_reference": {
              "kind": "app_credential",
              "name": "PC"
            }
          },
          "os_type": "Linux",
          "create_spec": {
            "type": "PROVISION_EXISTING_MACHINE",
            "address": "10.68.97.150"
          },
          "variable_list": []
        }
      ],
      "endpoint_definition_list": [],
      "credential_definition_list": [
        {
          "username": "nutanix",
          "description": "",
          "type": "PASSWORD",
          "secret": {
            "attrs": {
              "is_secret_modified": false,
              "secret_reference": {}
            }
          },
          "name": "PC",
          "cred_class": "static"
        },
        {
          "username": "administrator",
          "description": "",
          "type": "PASSWORD",
          "secret": {
            "attrs": {
              "is_secret_modified": false,
              "secret_reference": {}
            }
          },
          "name": "veeam",
          "cred_class": "static"
        },
        {
          "username": "administrator@vsphere.local",
          "description": "",
          "type": "PASSWORD",
          "secret": {
            "attrs": {
              "is_secret_modified": false,
              "secret_reference": {}
            }
          },
          "name": "vc",
          "cred_class": "static"
        }
      ],
      "package_definition_list": [
        {
          "description": "",
          "action_list": [],
          "type": "DEB",
          "service_local_reference_list": [
            {
              "kind": "app_service",
              "name": "PCsvc"
            }
          ],
          "name": "Package1",
          "version": "",
          "options": {
            "install_runbook": {
              "task_definition_list": [
                {
                  "target_any_local_reference": {
                    "kind": "app_package",
                    "name": "Package1"
                  },
                  "retries": "0",
                  "description": "",
                  "inherit_target": false,
                  "child_tasks_local_reference_list": [
                    {
                      "kind": "app_task",
                      "name": "VcGetCategory"
                    },
                    {
                      "kind": "app_task",
                      "name": "VeeamCreateBackup"
                    }
                  ],
                  "name": "e4ced877_dag",
                  "attrs": {
                    "edges": [
                      "@{from_task_reference=; edge_type=user_defined; type=; to_task_reference=}"
                    ],
                    "type": ""
                  },
                  "timeout_secs": "0",
                  "type": "DAG",
                  "variable_list": []
                },
                {
                  "target_any_local_reference": {
                    "kind": "app_service",
                    "name": "PCsvc"
                  },
                  "retries": "0",
                  "description": "",
                  "inherit_target": false,
                  "child_tasks_local_reference_list": [],
                  "name": "VcGetCategory",
                  "attrs": {
                    "type": "CALL_RUNBOOK",
                    "inarg_list": [],
                    "runbook_reference": {
                      "kind": "app_runbook",
                      "name": "2cd32961_runbook"
                    }
                  },
                  "timeout_secs": "0",
                  "type": "CALL_RUNBOOK",
                  "variable_list": []
                },
                {
                  "target_any_local_reference": {
                    "kind": "app_service",
                    "name": "PCsvc"
                  },
                  "retries": "0",
                  "description": "",
                  "inherit_target": false,
                  "child_tasks_local_reference_list": [],
                  "name": "VeeamCreateBackup",
                  "attrs": {
                    "type": "CALL_RUNBOOK",
                    "inarg_list": [],
                    "runbook_reference": {
                      "kind": "app_runbook",
                      "name": "05b24d0c_runbook"
                    }
                  },
                  "timeout_secs": "0",
                  "type": "CALL_RUNBOOK",
                  "variable_list": []
                }
              ],
              "description": "",
              "name": "df4bb6e1_runbook",
              "main_task_local_reference": {
                "kind": "app_task",
                "name": "e4ced877_dag"
              },
              "variable_list": []
            },
            "type": "",
            "uninstall_runbook": {
              "task_definition_list": [
                {
                  "target_any_local_reference": {
                    "kind": "app_package",
                    "name": "Package1"
                  },
                  "retries": "0",
                  "description": "",
                  "inherit_target": false,
                  "child_tasks_local_reference_list": [],
                  "name": "7b3790a3_dag",
                  "attrs": {
                    "edges": [],
                    "type": ""
                  },
                  "timeout_secs": "0",
                  "type": "DAG",
                  "variable_list": []
                }
              ],
              "description": "",
              "name": "61c8be49_runbook",
              "main_task_local_reference": {
                "kind": "app_task",
                "name": "7b3790a3_dag"
              },
              "variable_list": []
            },
            "upgrade_runbook": {}
          },
          "variable_list": []
        }
      ],
      "app_profile_list": [
        {
          "deployment_create_list": [
            {
              "type": "GREENFIELD",
              "action_list": [],
              "name": "b81c1fcf_deployment",
              "min_replicas": "1",
              "default_replicas": "1",
              "depends_on_list": [],
              "published_service_local_reference_list": [],
              "max_replicas": "1",
              "package_local_reference_list": [
                {
                  "kind": "app_package",
                  "name": "Package1"
                }
              ],
              "substrate_local_reference": {
                "kind": "app_substrate",
                "name": "PCVm"
              },
              "variable_list": [],
              "description": ""
            }
          ],
          "environment_reference_list": [],
          "application_url": "",
          "description": "",
          "action_list": [
            {
              "description": "",
              "type": "user",
              "critical": false,
              "runbook": {
                "task_definition_list": [
                  {
                    "retries": "0",
                    "description": "",
                    "inherit_target": false,
                    "child_tasks_local_reference_list": [
                      "@{kind=app_task; name=VeeamAppBackup}"
                    ],
                    "name": "8c61ff45_dag",
                    "attrs": {
                      "edges": "",
                      "type": ""
                    },
                    "timeout_secs": "0",
                    "type": "DAG",
                    "variable_list": []
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_service",
                      "name": "PCsvc"
                    },
                    "retries": "0",
                    "description": "",
                    "inherit_target": false,
                    "child_tasks_local_reference_list": [],
                    "name": "VeeamAppBackup",
                    "attrs": {
                      "type": "CALL_RUNBOOK",
                      "inarg_list": "",
                      "runbook_reference": "@{kind=app_runbook; name=05b24d0c_runbook_cloned_0}"
                    },
                    "timeout_secs": "0",
                    "type": "CALL_RUNBOOK",
                    "variable_list": []
                  }
                ],
                "description": "",
                "name": "78f7a259_runbook",
                "main_task_local_reference": {
                  "kind": "app_task",
                  "name": "8c61ff45_dag"
                },
                "variable_list": []
              },
              "name": "VeeamAppBackup"
            }
          ],
          "name": "Default",
          "restore_config_list": [],
          "snapshot_config_list": [],
          "patch_list": [],
          "variable_list": []
        }
      ],
      "published_service_definition_list": [],
      "default_credential_local_reference": {
        "kind": "app_credential",
        "name": "PC"
      },
      "type": "USER"
    },
    "name": "igor-veeam-testing"
  },
  "api_version": "3.0",
  "metadata": {
    "last_update_time": "1620237440360884",
    "kind": "blueprint",
    "spec_version": 64,
    "creation_time": "1584009953368217",
    "name": "igor-veeam-testing"
  }
}
