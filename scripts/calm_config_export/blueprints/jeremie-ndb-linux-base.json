{
  "status": {
    "description": "Prepared customized blueprint for Oracle 12c\nBased OS : \nLinux RHEL 7x , OEL 7x and Centos 7x\nLinux RHEL 8x, OEL 8x\nDHCP based configuration",
    "state": "DRAFT",
    "message_list": [],
    "resources": {
      "service_definition_list": [
        {
          "port_list": [],
          "description": "",
          "action_list": [
            {
              "description": "System action for creating an application",
              "message_list": [],
              "uuid": "3dee8138-1b2d-4053-848e-24335747aa38",
              "name": "action_create",
              "state": "ACTIVE",
              "critical": false,
              "attrs": {},
              "type": "system",
              "runbook": {
                "task_definition_list": [
                  {
                    "target_any_local_reference": {
                      "kind": "app_service",
                      "name": "DATABASE_MOTOR_VERSION",
                      "uuid": "dfbd64fa-e945-4304-b977-522594ec351d"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "DAG",
                    "uuid": "ebd60b2d-c025-4cb8-a98a-7db07c4354d6",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "edges": "",
                      "type": ""
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "a0a21fa6_dag"
                  }
                ],
                "description": "",
                "message_list": [],
                "uuid": "f01431ca-6e69-4ac2-a985-bdaaec491a06",
                "state": "ACTIVE",
                "variable_list": [],
                "main_task_local_reference": {
                  "kind": "app_task",
                  "name": "a0a21fa6_dag",
                  "uuid": "ebd60b2d-c025-4cb8-a98a-7db07c4354d6"
                },
                "name": "7c38ee45_runbook"
              }
            },
            {
              "description": "System action for deleting an application. Deletes created VMs as well",
              "message_list": [],
              "uuid": "e894f40b-61c8-46c6-be1f-d24a55e5838b",
              "name": "action_delete",
              "state": "ACTIVE",
              "critical": false,
              "attrs": {},
              "type": "system",
              "runbook": {
                "task_definition_list": [
                  {
                    "target_any_local_reference": {
                      "kind": "app_service",
                      "name": "DATABASE_MOTOR_VERSION",
                      "uuid": "dfbd64fa-e945-4304-b977-522594ec351d"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "DAG",
                    "uuid": "1bcb8b8a-c3c3-48e0-9093-edb89a3aea51",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "edges": "",
                      "type": ""
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "b8bd6f25_dag"
                  }
                ],
                "description": "",
                "message_list": [],
                "uuid": "5115c273-34c8-48b3-932e-6aacc5242dd7",
                "state": "ACTIVE",
                "variable_list": [],
                "main_task_local_reference": {
                  "kind": "app_task",
                  "name": "b8bd6f25_dag",
                  "uuid": "1bcb8b8a-c3c3-48e0-9093-edb89a3aea51"
                },
                "name": "30639720_runbook"
              }
            },
            {
              "description": "System action for starting an application",
              "message_list": [],
              "uuid": "348eb924-daf6-4f80-86ae-8291e654369a",
              "name": "action_start",
              "state": "ACTIVE",
              "critical": false,
              "attrs": {},
              "type": "system",
              "runbook": {
                "task_definition_list": [
                  {
                    "target_any_local_reference": {
                      "kind": "app_service",
                      "name": "DATABASE_MOTOR_VERSION",
                      "uuid": "dfbd64fa-e945-4304-b977-522594ec351d"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "DAG",
                    "uuid": "d34cc5fa-7ef7-4155-b176-353c384b3388",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "edges": "",
                      "type": ""
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "c76a4c77_dag"
                  }
                ],
                "description": "",
                "message_list": [],
                "uuid": "fd9aa323-4d77-4c06-a0b9-4a9584ba6f89",
                "state": "ACTIVE",
                "variable_list": [],
                "main_task_local_reference": {
                  "kind": "app_task",
                  "name": "c76a4c77_dag",
                  "uuid": "d34cc5fa-7ef7-4155-b176-353c384b3388"
                },
                "name": "f16764b5_runbook"
              }
            },
            {
              "description": "System action for stopping an application",
              "message_list": [],
              "uuid": "993d6842-b741-45a6-9068-cf667ce5a648",
              "name": "action_stop",
              "state": "ACTIVE",
              "critical": false,
              "attrs": {},
              "type": "system",
              "runbook": {
                "task_definition_list": [
                  {
                    "target_any_local_reference": {
                      "kind": "app_service",
                      "name": "DATABASE_MOTOR_VERSION",
                      "uuid": "dfbd64fa-e945-4304-b977-522594ec351d"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "DAG",
                    "uuid": "6fec00c9-1ce0-400c-abbc-00e2026439d3",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "edges": "",
                      "type": ""
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "48f17257_dag"
                  }
                ],
                "description": "",
                "message_list": [],
                "uuid": "453232c8-6be9-4fae-83be-284f8d3b5a7e",
                "state": "ACTIVE",
                "variable_list": [],
                "main_task_local_reference": {
                  "kind": "app_task",
                  "name": "48f17257_dag",
                  "uuid": "6fec00c9-1ce0-400c-abbc-00e2026439d3"
                },
                "name": "6d6010ef_runbook"
              }
            },
            {
              "description": "System action for restarting an application",
              "message_list": [],
              "uuid": "df157409-78fb-40ac-8da2-9d7327da8a6e",
              "name": "action_restart",
              "state": "ACTIVE",
              "critical": false,
              "attrs": {},
              "type": "system",
              "runbook": {
                "task_definition_list": [
                  {
                    "target_any_local_reference": {
                      "kind": "app_service",
                      "name": "DATABASE_MOTOR_VERSION",
                      "uuid": "dfbd64fa-e945-4304-b977-522594ec351d"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "DAG",
                    "uuid": "f98afd6c-ffa0-48b7-9f26-8aba0017b680",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "edges": "",
                      "type": ""
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "3b9e9095_dag"
                  }
                ],
                "description": "",
                "message_list": [],
                "uuid": "7649ae0d-540a-409c-96ea-463559b2fc94",
                "state": "ACTIVE",
                "variable_list": [],
                "main_task_local_reference": {
                  "kind": "app_task",
                  "name": "3b9e9095_dag",
                  "uuid": "f98afd6c-ffa0-48b7-9f26-8aba0017b680"
                },
                "name": "87a6cdee_runbook"
              }
            },
            {
              "description": "",
              "message_list": [],
              "uuid": "95a40b50-7598-4500-be66-545ca79c0646",
              "name": "GUEST_OS_CONFIGURATION",
              "state": "ACTIVE",
              "critical": false,
              "attrs": {},
              "type": "user",
              "runbook": {
                "task_definition_list": [
                  {
                    "retries": "0",
                    "description": "",
                    "type": "DAG",
                    "uuid": "086ac751-991b-4feb-93c4-c6c075f41979",
                    "child_tasks_local_reference_list": [
                      "@{kind=app_task; name=SET_CUSTOM_VARS; uuid=6d2bdabf-416c-4f75-ac0b-a466e958396f}",
                      "@{kind=app_task; name=OS_Configuration; uuid=464c63b9-6143-424a-8184-d1036e61a61f}",
                      "@{kind=app_task; name=APP_Users and Groups; uuid=1ae6e3f2-eeea-43eb-b7b8-d103a164ea63}",
                      "@{kind=app_task; name=PRE_Packages Install; uuid=3e98a540-1c86-4161-9b7f-32031ec85d6c}",
                      "@{kind=app_task; name=APP_Drives Configuration; uuid=6d52671f-eb97-44be-a483-bc455b65330e}",
                      "@{kind=app_task; name=DB_Deployment; uuid=06d1f0bd-5eed-47ba-93a5-480d32d02bc0}",
                      "@{kind=app_task; name=CHECK_PREPARATION; uuid=3015d5d5-acdc-4b34-bad7-b439f885ffcc}"
                    ],
                    "state": "ACTIVE",
                    "attrs": {
                      "edges": "     ",
                      "type": ""
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "1c9d5fd8_dag"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_service",
                      "name": "DATABASE_MOTOR_VERSION",
                      "uuid": "dfbd64fa-e945-4304-b977-522594ec351d"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "SET_VARIABLE",
                    "uuid": "6d2bdabf-416c-4f75-ac0b-a466e958396f",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "exit_status": "",
                      "script": "db_motor= \"@@{database_motor}@@\"\ndb_version= str(\"@@{database_version}@@\")\nif db_motor == \"Oracle\":\n  print(\"12.1.0,12.2.0,18.0.0,19.0.0\")\nelif db_motor == \"Postgresql\":\n  maj_version = db_version[:2]\n  app_path = \"/usr/pgsql-\"+ maj_version\n  print('app_dir_path = '+ app_path +'')\n\nelif db_motor == \"MySQL\":\n  app_path = \"/software/mysql-\"+ db_version\n  print('app_dir_path = '+ app_path +'')\n\nelif db_motor == \"MongoDB\":\n  app_path = \"/software/mysql-\"+ db_version\n  print('app_dir_path = '+ app_path +'')\n\nelse:\n  print(\"error\")",
                      "eval_variables": "app_dir_path",
                      "eval_scope": "local",
                      "type": "",
                      "script_type": "static"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SET_CUSTOM_VARS"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_service",
                      "name": "DATABASE_MOTOR_VERSION",
                      "uuid": "dfbd64fa-e945-4304-b977-522594ec351d"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "EXEC",
                    "uuid": "464c63b9-6143-424a-8184-d1036e61a61f",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "exit_status": "",
                      "script": "#! /bin/bash\n\n\nf_linux_8()\n{\n\t#unregister\n    echo \"---------------------------------------------------------------------\"\n\techo \"              Function Config config RHEL / OEL / RLINUX v8          \"\n\techo \"---------------------------------------------------------------------\"\n\n    echo \"---------------------------------------------------------------------\"\n\techo \"                    set firewall-> disabled                          \"\n\techo \"---------------------------------------------------------------------\"\n\nsystemctl stop firewalld\nsystemctl disable firewalld\n\n}\n\n\nf_linux_7()\n{\n\t#unregister\n    echo \"---------------------------------------------------------------------\"\n\techo \"             Function Config RHEL / OEL / RLINUX  v7                 \"\n\techo \"---------------------------------------------------------------------\"\n\n    echo \"---------------------------------------------------------------------\"\n\techo \"                    set firewall-> disabled                          \"\n\techo \"---------------------------------------------------------------------\"\n\nsystemctl stop firewalld\nsystemctl disable firewalld\n\n}\n\nf_linux_common()\n{\n\n#Disable selinux\n    echo \"---------------------------------------------------------------------\"\n\techo \"                    set Selinux -> disabled                          \"\n\techo \"---------------------------------------------------------------------\"\n\nsudo sed -i 's/SELINUX=enforcing/SELINUX=disabled/g' /etc/selinux/config\nsetenforce 0\n\n#Disable AVAHI\n    echo \"---------------------------------------------------------------------\"\n\techo \"                        Disable AVAHI                                \"\n\techo \"---------------------------------------------------------------------\"\nsudo systemctl stop avahi-daemon\nsudo systemctl disable avahi-daemon\n\n#Configure Hostname\n    echo \"---------------------------------------------------------------------\"\n\techo \"                   Config   hostname/hostfile                        \"\n\techo \"---------------------------------------------------------------------\"\n\necho \"ORACLE 12CR2 : CONFIGURE HOSTNAME\"\nhostnamectl set-hostname '@@{name}@@'\necho '@@{address}@@  @@{name}@@  @@{name}@@.@@{domain_name}@@' > /etc/hosts\necho \"Configuration host file : \" >> /tmp/install_log.txt\necho \"    hostname and host file configured\" >> /tmp/install_log.txt\n\n#Configure Hostname\n    echo \"---------------------------------------------------------------------\"\n\techo \"                   Config   PE SIZE TO 1024.                         \"\n\techo \"---------------------------------------------------------------------\"\n\nsed -i 's/# physical_extent_size = 4096/physical_extent_size = 1024/' /etc/lvm/lvm.conf\n\n\nf_specific_oracle_params()\n{\n#configure oracle systcl.conf params\necho \"---------------------------------------------------------------------\"\necho \"           Config   SYSCTL.conf  @@{database_motor}@@                \"\necho \"---------------------------------------------------------------------\"\n\necho '# sysctl settings are defined through files in\n# /usr/lib/sysctl.d/, /run/sysctl.d/, and /etc/sysctl.d/.\n#\n# Vendors settings live in /usr/lib/sysctl.d/.\n# To override a whole file, create a new file with the same in\n# /etc/sysctl.d/ and put new settings there. To override\n# only specific settings, add a file with a lexically later\n# name in /etc/sysctl.d/ and put new settings there.\n#\n# For more information, see sysctl.conf(5) and sysctl.d(5).\n\n# oracle-database-server-12cR2-preinstall setting for fs.file-max is 6815744\nfs.file-max = 6815744\n\n# oracle-database-server-12cR2-preinstall setting for kernel.sem is '250 32000 100 128'\nkernel.sem = 250 32000 100 128\n\n# oracle-database-server-12cR2-preinstall setting for kernel.shmmni is 4096\nkernel.shmmni = 4096\n\n# oracle-database-server-12cR2-preinstall setting for kernel.shmall is 1073741824 on x86_64\nkernel.shmall = 1073741824\n\n# oracle-database-server-12cR2-preinstall setting for kernel.shmmax is 4398046511104 on x86_64\nkernel.shmmax = 4398046511104\n\n# oracle-database-server-12cR2-preinstall setting for kernel.panic_on_oops is 1 per Orabug 19212317\nkernel.panic_on_oops = 1\n\n# oracle-database-server-12cR2-preinstall setting for net.core.rmem_default is 262144\nnet.core.rmem_default = 262144\n\n# oracle-database-server-12cR2-preinstall setting for net.core.rmem_max is 4194304 changed to 536870912\nnet.core.rmem_max = 536870912\n\n# oracle-database-server-12cR2-preinstall setting for net.core.wmem_default is 262144 changed to 536870912\nnet.core.wmem_default = 536870912\n\n# oracle-database-server-12cR2-preinstall setting for net.core.wmem_max is 1048576\nnet.core.wmem_max = 1048576\n\n# oracle-database-server-12cR2-preinstall setting for net.ipv4.conf.all.rp_filter is 2\nnet.ipv4.conf.all.rp_filter = 2\n\n# oracle-database-server-12cR2-preinstall setting for net.ipv4.conf.default.rp_filter is 2\nnet.ipv4.conf.default.rp_filter = 2\n\n# oracle-database-server-12cR2-preinstall setting for fs.aio-max-nr is 1048576\nfs.aio-max-nr = 1048576\n\n# oracle-database-server-12cR2-preinstall setting for net.ipv4.ip_local_port_range is 9000 65500\nnet.ipv4.ip_local_port_range = 9000 65500\n\nvm.swappiness = 0\nvm.overcommit_memory = 1\nvm.dirty_background_ratio = 5\nvm.dirty_ratio = 15\nvm.dirty_expire_centisecs = 500\nvm.dirty_writeback_centisecs = 100\nnet.ipv4.tcp_mtu_probing = 1\nnet.ipv4.tcp_rmem = 4096 87380 536870912\nnet.core.netdev_max_backlog = 250000\nnet.ipv4.tcp_congestion_control = htcp\nnet.core.somaxconn = 65535\nnet.ipv4.tcp_keepalive_intvl = 15\nnet.ipv4.tcp_fin_timeout = 15\nnet.ipv4.tcp_keepalive_probes = 5\nnet.ipv4.tcp_tw_reuse = 1\nnet.ipv4.tcp_max_syn_backlog = 65535\nnet.ipv4.tcp_wmem = 4096 65536 536870912' | sudo tee /etc/sysctl.conf\nsudo sysctl -p\n\n#configure limits.conf\n    echo \"---------------------------------------------------------------------\"\n\techo \"                      Config   LIMITS.conf                           \"\n\techo \"---------------------------------------------------------------------\"\n\nsudo sed -i '/# End of file/i \\\ngrid soft nofile  131072\\\ngrid hard nofile  131072\\\ngrid soft nproc   131072\\\ngrid hard nproc   131072\\\noracle soft nofile  131072\\\noracle hard nofile  131072\\\noracle soft nproc   131072\\\noracle hard nproc   131072\\\noracle soft core  unlimited\\\noracle hard core    unlimited\\\noracle soft memlock 50000000\\\noracle hard memlock 50000000\\\noracle soft stack    10240\\\noracle hard stack    32768' /etc/security/limits.conf\n}\n\nf_specific_postgres_params()\n{\necho \"---------------------------------------------------------------------\"\necho \"           Config   SYSCTL.conf  @@{database_motor}@@                \"\necho \"---------------------------------------------------------------------\"\necho 'vm.swappiness=0\nvm.overcommit_memory = 1\nvm.nr_hugepages=0\nvm.dirty_background_ratio = 5\nvm.dirty_ratio = 15\nvm.dirty_expire_centisecs = 500\nvm.dirty_writeback_centisecs=100' | sudo tee /etc/sysctl.d/97-pgsql-database-sysctl.conf\nsudo sysctl -p /etc/sysctl.d/97-pgsql-database-sysctl.conf\n\necho 'net.ipv4.conf.all.accept_redirects=0\nnet.ipv4.conf.ens3.accept_redirects=0' | sudo tee /etc/sysctl.d/96-disable-icmpv4.conf\nsudo sysctl -p /etc/sysctl.d/96-disable-icmpv4.conf\n\necho 'net.ipv6.conf.all.disable_ipv6 = 1\nnet.ipv6.conf.default.disable_ipv6 = 1' | sudo tee /etc/sysctl.d/95-disable-ipv6.conf\nsudo sysctl -p /etc/sysctl.d/95-disable-ipv6.conf\n\n\necho \"---------------------------------------------------------------------\"\necho \"           Config   UDEV RULES  @@{database_motor}@@                 \"\necho \"---------------------------------------------------------------------\"\necho '\nACTION==\"add|change\", SUBSYSTEM==\"block\", RUN+=\"/bin/sh -c '/bin/echo 1024 > /sys%p/queue/max_sectors_kb'\"'| sudo tee /etc/udev/rules.d/71-block-max-sectors.rules\n}\n\n}\nmain()\n{\necho \"--------------------------------------------\"\necho \"      It is set ..@@{app_dir_path}@@   \"\necho \"--------------------------------------------\"\nPRODUCT_MINOR_VERSION=$(egrep '^(VERSION)=' /etc/os-release | sed 's/.*=//' | sed 's/\"//g')\nPRODUCT_MAJOR_VERSION=${PRODUCT_MINOR_VERSION::1}\necho \"The product version is \" $PRODUCT_MINOR_VERSION\necho \"The major version is \" $PRODUCT_MAJOR_VERSION\nPRODUCT_NAME=$(egrep '^(NAME)=' /etc/os-release | sed 's/.*=//' | sed 's/\"//g')\necho \"The linux os used is \" $PRODUCT_NAME\n\nif [[ $PRODUCT_NAME =~ \"Red\" ]]; then\n        case $PRODUCT_MAJOR_VERSION in\n                7)\n                echo \"Version is 7 we will use yum\"\n                f_linux_common\n                f_linux_7\n                ;;\n\n                8)\n                echo \"Version is 8 we will use dnf\"\n                f_linux_common\n                f_linux_8\n                ;;\n\n                *)\n                echo \"....I do not  ..know\"\n                ;;\n        esac\n\nelif [[ $PRODUCT_NAME =~ \"Oracle\" ]]; then\n        case $PRODUCT_MAJOR_VERSION in\n                7)\n                echo \"Version is 7 we will use yum\"\n                f_linux_common\n                f_linux_7\n                ;;\n\t\t\t\n                8)\n                echo \"Version is 8 we will use dnf\"\n\t\t\t\tf_linux_common\n                f_linux_8\n                ;;\n                \n                *)\n                echo \"....I do not know\"\n                ;;\n        esac\nelse\n   echo \"the version is not supported by era\"\n   exit\nfi\n\nif [[ $PRODUCT_NAME =~ \"Oracle\" ]]; then\n   \t\tf_specific_oracle_param\n\nelif [[ $PRODUCT_NAME =~ \"Postgres\" ]]; then\n        f_specific_postgres_params\nelse\n   echo \"the version is not supported by era\"\n   exit\nfi\n\n}\n\nmain\n\nexit",
                      "script_type": "sh",
                      "type": "",
                      "command_line_args": "",
                      "login_credential_local_reference": "@{kind=app_credential; name=cred_root; uuid=255d2590-be05-40bd-a657-0619a47ddece}"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "OS_Configuration"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_service",
                      "name": "DATABASE_MOTOR_VERSION",
                      "uuid": "dfbd64fa-e945-4304-b977-522594ec351d"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "EXEC",
                    "uuid": "1ae6e3f2-eeea-43eb-b7b8-d103a164ea63",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "exit_status": "",
                      "script": "#!/bin/bash\n\nf_create_def_users_profile()\n{\n    #Configure Users Profile\n    echo \"-----------------------------------------------------------------------\"\n    echo \"                        Configure User Profile                         \"\n    echo \"-----------------------------------------------------------------------\"\n\n\n    echo 'if [ $USER = \"oracle\" ] || [ $USER = \"grid\" ] ; then\n    if [ $SHELL = \"/bin/ksh\" ]; then             \n    ulimit -p 16384             \n    ulimit -n 65536             \n    else             \n         ulimit -u 16384 -n 65536             \n    fi             \n    fi' | sudo tee -a /etc/profile\n\n    echo \"@@{database_motor}@@-@@{database_version}@@ : CONFIGURE ORACLE GROUP\"\n}\n\nf_create_def_group()\n{\nif [[ $env_type =~ \"Oracle\" ]]; then\necho \"----------------------------------------------------------------------------\"\necho \"         @@{database_motor}@@ @@{database_version}@@ : ORACLE GROUPS        \"\necho \"----------------------------------------------------------------------------\"\n\n    groupadd -g 54321 oinstall\n    groupadd -g 54322 dba\n    groupadd -g 54323 oper\n    groupadd -g 54324 backupdba\n    groupadd -g 54325 dgdba\n    groupadd -g 54326 kmdba\n    groupadd -g 54327 racdba\n    groupadd -g 54328 asmadmin\n    groupadd -g 54329 asmdba\n    groupadd -g 54330 asmoper\n\nelif [[ $env_type =~ \"Postgresql\" ]]; then\necho \"----------------------------------------------------------------------------\"\necho \"         @@{database_motor}@@ @@{database_version}@@ : POSTGRES GROUP       \"\necho \"----------------------------------------------------------------------------\"\n\tgroupadd -g 54321 postgres\n    \nelif [[ $env_type =~ \"MySQL\" ]]; then\necho \"----------------------------------------------------------------------------\"\necho \"         @@{database_motor}@@ @@{database_version}@@ : MYSQL GROUP          \"\necho \"----------------------------------------------------------------------------\"\n\tgroupadd -g 54321 mysql\n    \nelif [[ $env_type =~ \"MongoDB\" ]]; then\necho \"----------------------------------------------------------------------------\"\necho \"         @@{database_motor}@@ @@{database_version}@@ : MongoDB GROUP          \"\necho \"----------------------------------------------------------------------------\"\n\tgroupadd -g 54321 mongodb\n    \nelse\n   echo \"the version is not supported by era\"\n   exit\nfi\n}\n\n\nf_create_def_oracle()\n{\necho \"----------------------------------------------------------------------------\"\necho \"         @@{database_motor}@@ @@{database_version}@@ : ORACLE USER          \"\necho \"----------------------------------------------------------------------------\"\n\n    useradd -u 1001 -g oinstall -G dba,oper,backupdba,dgdba,kmdba,racdba,asmdba -d /home/'@@{cred_oracle.username}@@' -s /bin/bash '@@{cred_oracle.username}@@'\n    echo \"@@{cred_oracle.username}@@:@@{cred_oracle.secret}@@\" | chpasswd\n    echo \"#ORACLE CONFIG SUDOERS\" >> /etc/sudoers\n    echo \"@@{cred_oracle.username}@@   ALL=(ALL) NOPASSWD:ALL\" >> /etc/sudoers\n\n\n    #Configure \n    echo '# .bash_profile\n    # Get the aliases and functions\n    if [ -f ~/.bashrc ]; then\n        . ~/.bashrc\n    fi\n\n    # User specific environment and startup programs\n\n    PATH=$PATH:$HOME/.local/bin:$HOME/bin\n    ORACLE_BASE=/u02/app/oracle\n    export ORACLE_BASE\n    ORACLE_HOME=$ORACLE_BASE/product/'@@{database_version}@@'/dbhome_1\n    ORACLE_SID=orcl;export ORACLE_SID\n    PATH=$PATH:$HOME/.local/bin:$HOME/bin:$ORACLE_HOME/bin\n    export ORACLE_SID ORACLE_HOME\n    export PATH' | sudo tee /home/'@@{cred_oracle.username}@@'/.bash_profile\n\n    sudo chown @@{cred_oracle.username}@@:oinstall /home/'@@{cred_oracle.username}@@'/.bash_profile\n}\n\nf_create_def_grid()\n{\necho \"----------------------------------------------------------------------------\"\necho \"         @@{database_motor}@@ @@{database_version}@@ : ORACLE GRID          \"\necho \"----------------------------------------------------------------------------\"\n\n    useradd -u 1002 -g oinstall -G dba,asmdba,asmoper,asmadmin,racdba -d /home/grid -s /bin/bash grid\n    echo \"@@{cred_grid.username}@@:@@{cred_grid.secret}@@\" | chpasswd\n    echo \"#GRID CONFIG SUDOERS\" >> /etc/sudoers\n    echo \"grid   ALL=(ALL) NOPASSWD:ALL\" >> /etc/sudoers\n\n    #Configure Grid Profile\n    echo '# .bash_profile\n    # Get the aliases and functions\n    if [ -f ~/.bashrc ]; then\n        . ~/.bashrc\n    fi\n\n    # User specific environment and startup programs\n\n    export ORACLE_SID=+ASM\n    export ORACLE_BASE=/u01/app/grid\n    export ORACLE_HOME=/u01/app/grid/@@{database_version}@@/GI_home\n    ORA_INVENTORY=/u01/app/oraInventory\n    export PATH=$ORACLE_HOME/bin:$PATH\n    export DISPLAY=localhost:0.0\n    CVUQDISK_GRP=oinstall; export CVUQDISK_GRP\n    alias sqlplus=\"rlwrap sqlplus\"\n    alias asmcmd=\"rlwrap asmcmd\"\n    alias adrci=\"rlwrap adrci\"' | sudo tee /home/grid/.bash_profile\n\n    chown grid:oinstall /home/grid/.bash_profile\n}\n\nf_create_def_postgres()\n{\necho \"----------------------------------------------------------------------------\"\necho \"       @@{database_motor}@@ @@{database_version}@@ : POSTGRES USER          \"\necho \"----------------------------------------------------------------------------\"\nuseradd -u 1001 -g postgres -d /home/'@@{cred_postgres.username}@@' -s /bin/bash '@@{cred_postgres.username}@@'\n\necho \"@@{cred_postgres.username}@@:@@{cred_postgres.secret}@@\" | chpasswd\necho \"#POSTGRES CONFIG SUDOERS\" >> /etc/sudoers\necho \"@@{cred_postgres.username}@@   ALL=(ALL) NOPASSWD:ALL\" >> /etc/sudoers\n\necho '# .bashrc\n# User specific aliases and functions\nLC_ALL=\"en_US.UTF-8\"\nLC_CTYPE=\"en_US.UTF-8\"\nexport LC_ALL\nexport LC_CTYPE\nexport PGHOST=localhost' | sudo tee /home/'@@{cred_postgres.username}@@'/.bashrc\n}\n\nf_create_def_mysql()\n{\necho \"----------------------------------------------------------------------------\"\necho \"       @@{database_motor}@@ @@{database_version}@@ : MySQL USER          \"\necho \"----------------------------------------------------------------------------\"\nuseradd -u 1002 -g @@{cred_mysql.username}@@ -d /home/'@@{cred_mysql.username}@@' -s /bin/bash '@@{cred_mysql.username}@@'\n\necho \"@@{cred_mysql.username}@@:@@{cred_mysql.secret}@@\" | chpasswd\necho \"#MySQL CONFIG SUDOERS\" >> /etc/sudoers\necho \"@@{cred_mysql.username}@@   ALL=(ALL) NOPASSWD:ALL\" >> /etc/sudoers\n\necho '# .bashrc\n# User specific aliases and functions\nLC_ALL=\"en_US.UTF-8\"\nLC_CTYPE=\"en_US.UTF-8\"\nexport LC_ALL\nexport LC_CTYPE\numask 022' | sudo tee /home/'@@{cred_mysql.username}@@'/.bashrc\n}\n\nf_create_def_appuser()\n{\necho \"----------------------------------------------------------------------------\"\necho \"       @@{database_motor}@@ @@{database_version}@@ : APP USER               \"\necho \"----------------------------------------------------------------------------\"\nuseradd -u 1001 -g @@{cred_mongod.username}@@ -d /home/'@@{cred_appuser.username}@@' -s /bin/bash '@@{cred_appuser.username}@@'\n\necho \"@@{cred_appuser.username}@@:@@{cred_appuser.secret}@@\" | chpasswd\necho \"#POSTGRES CONFIG SUDOERS\" >> /etc/sudoers\necho \"@@{cred_appuser.username}@@   ALL=(ALL) NOPASSWD:ALL\" >> /etc/sudoers\n\necho '# .bashrc\n# User specific aliases and functions\nLC_ALL=\"en_US.UTF-8\"\nLC_CTYPE=\"en_US.UTF-8\"\nexport LC_ALL\nexport LC_CTYPE\nexport APPHOST=' | sudo tee /home/'@@{cred_appuser.username}@@'/.bashrc\n}\n\nf_create_def_mongodb()\n{\necho \"----------------------------------------------------------------------------\"\necho \"       @@{database_motor}@@ @@{database_version}@@ : MONGODB USER           \"\necho \"----------------------------------------------------------------------------\"\n\nuseradd -u 1002 -g @@{cred_mongod.username}@@ -d /home/'@@{cred_mongod.username}@@' -s /bin/bash '@@{cred_mongod.username}@@'\n\nchown -R @@{cred_mongod.username}@@:@@{cred_mongod.username}@@ /home/'@@{cred_mongod.username}@@'\n\necho \"@@{cred_mongod.username}@@:@@{cred_mongod.secret}@@\" | chpasswd\necho \"#MONGODB CONFIG SUDOERS\" >> /etc/sudoers\necho \"@@{cred_mongod.username}@@   ALL=(ALL) NOPASSWD:ALL\" >> /etc/sudoers\n\necho \"\"\necho \"MONGODB GROUP CONFIGURATION\"\necho \"\"\n\necho '# .bashrc\n# User specific aliases and functions\nLC_ALL=\"en_US.UTF-8\"\nLC_CTYPE=\"en_US.UTF-8\"\nexport LC_ALL\nexport LC_CTYPE' | sudo tee /home/'@@{cred_mongod.username}@@'/.bashrc\n}\n\nf_create_def_era()\n{\necho \"----------------------------------------------------------------------------\"\necho \"     @@{database_motor}@@ @@{database_version}@@ : ERA ADMIN GROUP          \"\necho \"----------------------------------------------------------------------------\"\n\n    groupadd -g 54331 @@{cred_era_admin.username}@@\n\necho \"----------------------------------------------------------------------------\"\necho \"           @@{database_motor}@@ @@{database_version}@@ : ERA USER           \"\necho \"----------------------------------------------------------------------------\"\n\n\n    useradd -u 1003 -g @@{cred_era_admin.username}@@ -d  /home/'@@{cred_era_admin.username}@@' -s /bin/bash '@@{cred_era_admin.username}@@'\n    echo \"@@{cred_era_admin.username}@@\":\"Nutanix.1\" | chpasswd\n    echo \"#ERA CONFIG SUDOERS\" >> /etc/sudoers\n    echo \"@@{cred_era_admin.username}@@  ALL=(ALL) NOPASSWD:ALL\" >> /etc/sudoers\n\n    mkdir /home/'@@{cred_era_admin.username}@@'/.ssh/\n    echo '@@{era_PublicKey}@@' >> /home/'@@{cred_era_admin.username}@@'/.ssh/authorized_keys\n\n    chmod 700  /home/'@@{cred_era_admin.username}@@'/.ssh\n    chmod 600 /home/'@@{cred_era_admin.username}@@'/.ssh/authorized_keys\n    chown -R '@@{cred_era_admin.username}@@':'@@{cred_era_admin.username}@@' /home/'@@{cred_era_admin.username}@@'/.ssh\n    \n    \n    \n    if [[ $env_type =~ \"Oracle\" ]]; then\n    echo \"-----------------------------------------------------------------------\"\n    echo \"                      ERA User Profile For Oracle                      \"\n    echo \"-----------------------------------------------------------------------\"\n\techo '# .bash_profile\n    # Get the aliases and functions\n    if [ -f ~/.bashrc ]; then\n        . ~/.bashrc\n    fi\n\n    # User specific environment and startup programs\n\n    PATH=$PATH:$HOME/.local/bin:$HOME/bin\n    ORACLE_BASE=/u02/app/oracle\n    export ORACLE_BASE\n    ORACLE_HOME=$ORACLE_BASE/product/'@@{database_version}@@'/dbhome_1\n    ORACLE_SID=orcl;export ORACLE_SID\n    PATH=$PATH:$HOME/.local/bin:$HOME/bin:$ORACLE_HOME/bin\n    export ORACLE_SID ORACLE_HOME\n    export PATH' | sudo tee /home/'@@{cred_oracle.username}@@'/.bash_profile\n\n\n\telif [[ $env_type =~ \"Postgresql\" ]]; then\n    echo \"-----------------------------------------------------------------------\"\n    echo \"                      ERA User Profile For Postgres                    \"\n    echo \"-----------------------------------------------------------------------\"\n\techo '# .bashrc\n    # User specific aliases and functions\n    LC_ALL=\"en_US.UTF-8\"\n    LC_CTYPE=\"en_US.UTF-8\"\n    export LC_ALL\n    export LC_CTYPE\n    export PGHOST=localhost' | sudo tee /home/'@@{cred_era_admin.username}@@'/.bashrc\n    \n    elif [[ $env_type =~ \"MySQL\" ]]; then\n    echo \"-----------------------------------------------------------------------\"\n    echo \"                      ERA User Profile For MySQL                       \"\n    echo \"-----------------------------------------------------------------------\"\n\techo '# .bashrc\n\t# User specific aliases and functions\n\tLC_ALL=\"en_US.UTF-8\"\n\tLC_CTYPE=\"en_US.UTF-8\"\n\texport LC_ALL\n\texport LC_CTYPE\n    umask 022' | sudo tee /home/'@@{cred_era_admin.username}@@'/.bashrc\nelse\n   echo \"the version is not supported by era\"\n   exit\nfi\n}\n\nf_config_oralInst()\n{\n    echo \"-----------------------------------------------------------------------\"\n    echo \"                      CONFIGURE GRID oraInst.loc                       \"\n    echo \"-----------------------------------------------------------------------\"\n    echo '\n    inventory_loc=/u01/app/oraInventory\n    inst_group=oinstall' | sudo tee /etc/oraInst.loc\n    chown oracle:oinstall /etc/oraInst.loc\n    chmod 0664 /etc/oraInst.loc\n}\n\nmain()\n{\nenv_type=@@{database_motor}@@\narch_type=@@{architecture}@@\nversion=@@{database_version}@@\n\nf_create_def_group\n\n\nif [[ $env_type =~ \"Oracle\" ]]; then\n        case $arch_type in\n        \t\t#0 = single_instance\n                0)\n                f_create_def_oracle\n                f_create_def_era\n                f_create_def_users_profile\n                ;;\n\t\t\t\t#1 = grid_instance\n                1)\n                f_create_def_oracle\n\t\t\t\tf_create_def_grid\n\t\t\t\tf_create_def_era\n                f_create_def_users_profile\n                f_config_oralInst\n                ;;\n\t\t\t\t\n                *)\n                echo \"....I do not  ...  know\"\n                ;;\n        esac\n\nelif [[ $env_type =~ \"Postgresql\" ]]; then\n\tf_create_def_postgres\n        f_create_def_era\n\nelif [[ $env_type =~ \"MySQL\" ]]; then\n\tf_create_def_mysql\n        f_create_def_era\n\nelif [[ $env_type =~ \"MongoDB\" ]]; then\n\tf_create_def_mongodb\n        f_create_def_era\n    \nelse\n   echo \"the version is not supported by era\"\nfi\n}\n\nmain\n\nexit",
                      "script_type": "sh",
                      "type": "",
                      "command_line_args": "",
                      "login_credential_local_reference": "@{kind=app_credential; name=cred_root; uuid=255d2590-be05-40bd-a657-0619a47ddece}"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "APP_Users and Groups"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_service",
                      "name": "DATABASE_MOTOR_VERSION",
                      "uuid": "dfbd64fa-e945-4304-b977-522594ec351d"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "EXEC",
                    "uuid": "3e98a540-1c86-4161-9b7f-32031ec85d6c",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "exit_status": "",
                      "script": "#! /bin/bash\n\n#Define Product Version\n\nf_rhel_initialize()\n{\n\t#Configure rhel settings\n    #register\n    #repository ...here\necho \"---------------------------------------------------------------------\"\necho \"                    function intialize rhel                          \"\necho \"---------------------------------------------------------------------\"\nsubscription-manager register --username=\"@@{cred_rhel_username}@@\" --password=\"@@{cred_rhel_password}@@\" --force\nsubscription-manager attach --pool=\"@@{rhel_subscription}@@\"\n\necho \"exclude=redhat-release*\" >> /etc/yum.conf   \n}\n\nf_rhel_terminate()\n{\n\t#unregister\necho \"---------------------------------------------------------------------\"\necho \"                    function terminate rhel                          \"\necho \"---------------------------------------------------------------------\"\nsubscription-manager unregister\n}\n\nf_oracle_initialize()\n{\n#Enable Epel\necho \"---------------------------------------------------------------------\"\necho \"                    Enable EPEL Repository                           \"\necho \"---------------------------------------------------------------------\"\n\necho \"[ol7_developer_EPEL]\nname=Oracle Linux $releasever Developement Packages ($basearch)\nbaseurl=http://yum.oracle.com/repo/OracleLinux/OL7/developer_EPEL/$basearch/\ngpgkey=file:///etc/pki/rpm-gpg/RPM-GPG-KEY-oracle\ngpgcheck=1\nenabled=1\" | tee /etc/yum.repos.d/epel-yum-ol7.repo\n}\n\nf_oracle_terminate()\n{\n    echo \"---------------------------------------------------------------------\"\n\techo \"                    function terminate Oracle                        \"\n\techo \"---------------------------------------------------------------------\"\t\n}\n\nf_yum_package_oracle_install()\n{\n\tyum install deltarpm -y\n\tyum install libxcb-1* -y\n\tyum install libXau-1* -y\n\tyum install libXtst-1* -y\n\tyum install libXrender* -y\n\tyum install libXrender-devel* -y\n\tyum install make-3* -y\n\tyum install smartmontools -y\n\tyum install nfs-utils -y\n\tyum install net-tools-2* -y\n\tyum install smartmontools -y\n\tyum install libXi-1* -y\n\tyum install libX11-1* -y\n\tyum install compat-db* -y\n\tyum install binutils -y\n\tyum install ksh -y \n\tyum install libaio-devel -y\n\tyum install sysstat -y \n\tyum install unixODBC -y\n\tyum install sysfsutils -y\n\tyum install sg3_utils -y\n\tyum install lsscsi -y\n\tyum install zlib-devel -y\n\tyum install libXp-devel -y\n\tyum install libXScrnSaver -y\n\tyum install compat-libstdc++-33* -y\n\tyum install compat-libcap -y\n\tyum install glibc-2* -y\n\tyum install glibc-devel-2* -y\n\tyum install ksh -y\n\tyum install libaio-0* -y\n\tyum install libaio-devel-0* -y\n\tyum install libgcc-4* -y\n\tyum install libstdc++-4* -y\n\tyum install libstdc++-devel-4* -y\n\tyum install oracleasm-support -y\n\tyum install bc -y\n\tyum install unzip -y\n\tyum install lvm2 -y\n\tyum install wget -y\n\tyum install gcc -y\n\tyum install rsync -y\n\tyum install zip -y\n\tyum install sshpass -y\n\tyum install rlwrap -y\n}\n\nf_dnf_package_oracle_install()\n{\necho \"----------------------------------------------------------------------------\"\necho \"      @@{database_motor}@@ @@{database_version}@@ : INSTALL CONF REPO        \"\necho \"----------------------------------------------------------------------------\"\ndnf install https://dl.fedoraproject.org/pub/epel/epel-release-latest-8.noarch.rpm -y\ncurl -o oracle-database-preinstall-19c-1.0-2.el8.x86_64.rpm https://public-yum.oracle.com/repo/OracleLinux/OL8/appstream/x86_64/getPackage/oracle-database-preinstall-19c-1.0-2.el8.x86_64.rpm\nyum -y localinstall oracle-database-preinstall-19c-1.0-2.el8.x86_64.rpm\n\necho \"----------------------------------------------------------------------------\"\necho \"         @@{database_motor}@@ @@{database_version}@@ : INSTALL RPM           \"\necho \"----------------------------------------------------------------------------\"\n\ndnf install bc -y\ndnf install binutils -y\ndnf install elfutils-libelf -y\ndnf install elfutils-libelf-devel -y\ndnf install fontconfig-devel -y\ndnf install glibc -y\ndnf install glibc.i686 -y\ndnf install glibc-devel -y\ndnf install glibc-devel.i686 -y\ndnf install ksh -y\ndnf install libaio -y\ndnf install libaio.i686 -y\ndnf install libaio-devel -y\ndnf install libaio-devel.i686 -y\ndnf install libX11 -y\ndnf install libX11.i686 -y\ndnf install libXau -y\ndnf install libXau.i686 -y\ndnf install libXi -y\ndnf install libXi.i686 -y\ndnf install libXtst -y\ndnf install libXtst.i686 -y\ndnf install libgcc -y\ndnf install libgcc.i686 -y\ndnf install libnsl -y\ndnf install libnsl.i686 -y\ndnf install librdmacm -y\ndnf install librdmacm.i686 -y\ndnf install libstdc++ -y\ndnf install libstdc++.i686 -y\ndnf install libstdc++-devel -y\ndnf install libstdc++-devel.i686 -y\ndnf install libxcb -y\ndnf install libxcb.i686 -y\ndnf install libibverbs -y\ndnf install libibverbs.i686 -y\ndnf install make -y\ndnf install policycoreutils -y\ndns install policycoreutils-python-utils -y\ndnf install smartmontools -y\nyum install sysstat -y\ndnf install nfs-utils -y\ndnf install net-tools -y\ndnf install tar -y\ndnf install network-scripts -y\ndnf install unixODBC -y\ndnf install unixODBC-devel -y\ndnf install sysfsutils -y\ndnf install sg3_utils -y\ndnf install lsscsi -y\ndnf install zlib-devel -y\ndnf install libXp-devel -y\ndnf install libXScrnSaver -y\ndnf install xorg-x11-server-utils -y\ndnf install xorg-x11-server-Xorg -y\ndnf install xorg-x11-xauth -y\ndnf install xorg-x11-apps -y\ndnf install xhost -y\ndnf install xterm -y\ndnf install xauth -y\ndnf install psmisc -y\ndnf install gcc-c++ -y\ndnf install chrony -y\ndnf install iscsi-initiator-utils -y\n\n\n#ASM LIB CONFIGURATION\necho \"----------------------------------------------------------------------------\"\necho \"         @@{database_motor}@@ @@{database_version}@@ : DEPLOY ASMLIB        \"\necho \"----------------------------------------------------------------------------\"\nrpm -ivh https://yum.oracle.com/repo/OracleLinux/OL8/addons/x86_64/getPackage/oracleasm-support-2.1.12-1.el8.x86_64.rpm\nyum install kmod-oracleasm -y\nrpm -ivh https://download.oracle.com/otn_software/asmlib/oracleasmlib-2.0.17-1.el8.x86_64.rpm\n\n\n#Package for Nutanix\necho \"----------------------------------------------------------------------------\"\necho \"     @@{database_motor}@@ @@{database_version}@@ : DEPLOY SPEC PACKAGES     \"\necho \"----------------------------------------------------------------------------\"\n\ndnf install unzip -y\ndnf install wget -y\ndnf install gcc -y\ndnf install rsync -y\ndnf install zip -y\ndnf install bind-utils -y\ndnf install xauth -y\ndnf install vim-enhanced -y\ndnf install lsof -y\ndnf install rlwrap -y\ndnf install sshpass -y\n\n#Configure Install Deprecated Package\nwget http://mirror.centos.org/centos/7/os/x86_64/Packages/compat-libstdc++-33-3.2.3-72.el7.x86_64.rpm\nwget http://mirror.centos.org/centos/7/os/x86_64/Packages/compat-libcap1-1.10-7.el7.x86_64.rpm\nyum localinstall compat-libstdc++-33-3.2.3-72.el7.x86_64.rpm -y\nyum localinstall compat-libcap1-1.10-7.el7.x86_64.rpm -y\nrm compat-libstdc++-33-3.2.3-72.el7.x86_64.rpm -y\nrm compat-libcap1-1.10-7.el7.x86_64.rpm -y\n\n}\n\nf_dnf_package_mysql_install()\n{\n\tdnf install network-scripts -y\n\tdnf install sshpass -y\n    \n    dnf install -y wget\n\n    #management\n    dnf install -y net-tools\n\n    #third options\n    dnf install -y git\n\n\n    #nutanix era\n    dnf install -y sshpass\n    dnf install -y unzip\n    dnf install -y zip\n    dnf install -y rsync\n    dnf install -y python3\n    dnf install -y python36\n    dnf install -y python3-pip\n    dnf install -y nfs-utils\n    dnf install -y lsof\n    dnf install -y ncurses-devel \n    dnf install -y ncurses-compat-libs\n    dnf install -y ksh\n    dnf install -y bc\n    dnf install -y tar\n    dnf install -y gcc\n    dnf install -y gcc-c++\n    dnf install -y make\n    \n    #rsyslog\n\tcd /etc/yum.repos.d/ || exit\n\twget http://rpms.adiscon.com/v8-stable/rsyslog.repo\n\tyum install rsyslog -y\n\n\t#Addons\n\tdnf install nc -y\n\tdnf install mlocate -y\n}\n\nf_yum_package_mysql_install()\n{\n\techo \"test\"\n}\n\nf_yum_package_postgresql_install()\n{\necho \"----------------------------------------------------------------------------------\"\necho \"   @@{database_motor}@@ @@{database_version}@@ : DEPLOY YUM POSTGRESQL PACKAGES   \"\necho \"----------------------------------------------------------------------------------\"\n}\n\nf_dnf_package_postgresql_install()\n{\necho \"----------------------------------------------------------------------------------\"\necho \"   @@{database_motor}@@ @@{database_version}@@ : DEPLOY DNF POSTGRESQL PACKAGES   \"\necho \"----------------------------------------------------------------------------------\"\n\n    dnf install https://dl.fedoraproject.org/pub/epel/epel-release-latest-8.noarch.rpm -y\n\n    #Mandatory to avoid Module Yaml Error Message\n    dnf upgrade -y libmodulemd\n\n\t#postgresql\n    dnf install -y wget\n\n    #management\n    dnf install -y net-tools\n    dnf install -y network-scripts\n\n    #third party solutions options\n    dnf install -y git\n\t\n\n    #nutanix era\n    dnf install -y sshpass\n    dnf install -y wget\n    dnf install -y tar\n    dnf install -y unzip\n    dnf install -y zip\n    dnf install -y rsync\n    dnf install -y python36\n    dnf install -y python36-devel\n    dnf install -y python3-pip\n    dnf install -y nfs-utils\n    dnf install -y lsof\n    dnf install -y ncurses-devel\n    dnf install -y iptables-services\n    dnf install -y curl\n    dnf install -y readline-devel \n    dnf install -y zlib-devel\n    dnf install -y rpcbind\n    dnf install -y showmount\n    dnf install -y ncurses-compat-libs\n    dnf install -y bc\n    dnf install -y nfs-utils\n    dnf install -y net-snmp\n    dnf install -y iscsi-initiator-utils\n    \n    \n    #rsyslog\n\tcd /etc/dnf.repos.d/ || exit\n\twget http://rpms.adiscon.com/v8-stable/rsyslog.repo\n\tdnf install rsyslog -y\n\n\t#Addons\n\tdnf install nc -y\n\tdnf install mlocate -y\n\n#postgresql compile library\nif [[ @@{dep_type}@@ =~ \"COMPILE\" ]]; then\n\t\t\n      echo \"----------------------------------------------------------------------------------\"\n\t  echo \" @@{database_motor}@@ @@{database_version}@@ : DEPLOY DNF HA POSTGRESQL PACKAGES  \"\n      echo \"----------------------------------------------------------------------------------\"\n\t\t\n      dnf install -y gcc\n      dnf install -y gcc-c++\n      dnf install -y make\n      dnf install -y libxml2-devel\n      dnf install -y openldap-devel\n      dnf install -y readline-devel\n      dnf install -y zlib-devel\n      dnf install -y systemd-devel\n      dnf install -y openssl-devel\n      dnf install -y pam-devel\n      dnf install -y python3-devel\n      dnf install -y libicu-devel\n      dnf install -y tcl-devel\n      #Issue with LLVM with RHEL 8.4 and LLVM 13 - llvm-config not present\n      dnf install -y llvm\n      dnf install -y llvm-devel\n      dnf install -y clang\n      dnf install -y llvm-toolset \nfi\n}\n\n\nmain()\n\n{\nenv_type=@@{database_motor}@@\narch_type=@@{architecture}@@\nversion=@@{database_version}@@\n\nPRODUCT_MINOR_VERSION=$(grep -E '^(VERSION)=' /etc/os-release | sed 's/.*=//' | sed 's/\"//g')\nPRODUCT_MAJOR_VERSION=${PRODUCT_MINOR_VERSION::1}\necho \"The product version is \" \"$PRODUCT_MINOR_VERSION\"\necho \"The major version is \" \"$PRODUCT_MAJOR_VERSION\"\nPRODUCT_NAME=$(grep -E '^(NAME)=' /etc/os-release | sed 's/.*=//' | sed 's/\"//g')\necho \"The linux os used is \" \"$PRODUCT_NAME\"\n\n\nif [[ $env_type =~ \"Oracle\" ]]; then\n\tif [[ $PRODUCT_NAME =~ \"Red\" ]]; then\n                case $PRODUCT_MAJOR_VERSION in\n                        7)\n                        echo \"Version is 7 we will use yum\"\n                        f_rhel_initialize\n                        f_yum_package_oracle_install\n                        f_rhel_terminate\n                        ;;\n\n                        8)\n                        echo \"Version is 8 we will use dnf\"\n                        f_rhel_initialize\n                        f_dnf_package_oracle_install\n                        f_rhel_terminate\n                        ;;\n\n                        *)\n                        echo \"....I do not  ..know\"\n                        ;;\n        \tesac\n\n\telif [[ $PRODUCT_NAME =~ \"Oracle\" ]]; then\n                 case $PRODUCT_MAJOR_VERSION in\n                        7)\n                        echo \"Version is 7 we will use yum\"\n                        f_oracle_initialize\n                        f_yum_package_oracle_install\n                        f_oracle_terminate\n                ;;\n\t\t\t\n                8)\n                        echo \"Version is 8 we will use dnf\"\n        \t\t\t\tf_oracle_initialize\n                        f_dnf_package_oracle_install\n                        f_oracle_terminate\n                        ;;\n                        \n                        *)\n                        echo \"....I do not know\"\n                        ;;\n        \tesac\n\telse\n    \techo \"the version is not supported by era\"\n        fi\n   \t\t     \nelif [[ $env_type =~ \"Postgresql\" ]]; then\n\tif [[ $PRODUCT_NAME =~ \"Red\" ]]; then\n    \t\tcase $PRODUCT_MAJOR_VERSION in\n                        7)\n                                echo \"Version is 7 we will use yum\"\n                                f_rhel_initialize\n                                f_yum_package_postgres_install\n                                f_rhel_terminate\n                                ;;\n\n                        8)\n                                echo \"Version is 8 we will use dnf\"\n                                f_rhel_initialize\n                                f_dnf_package_postgresql_install\n                                f_rhel_terminate\n                                ;;\n\n                        *)\n                                echo \"....I do not  ..know\"\n                                ;;\n        \tesac\n\n\telif [[ $PRODUCT_NAME =~ \"Oracle\" ]]; then\n        \tcase $PRODUCT_MAJOR_VERSION in\n                        7)\n                                echo \"Version is 7 we will use yum\"\n                                f_oracle_initialize\n                                f_yum_package_postgres_install\n                                f_oracle_terminate\n                                ;;\n\t\t\t\n                        8)\n                                echo \"Version is 8 we will use dnf\"\n                                f_oracle_initialize\n                                f_dnf_package_postgresql_install\n                                f_oracle_terminate\n                                ;;\n                \n                        *)\n                        echo \"....I do not know\"\n                        ;;\n        \tesac\n        fi\n\nelif [[ $env_type =~ \"MySQL\" ]]; then\n\tif [[ $PRODUCT_NAME =~ \"Red\" ]]; then\n    \t\tcase $PRODUCT_MAJOR_VERSION in\n                        7)\n                              echo \"Version is 7 we will use yum\"\n                              f_rhel_initialize\n                              f_yum_package_mysql_install\n                              f_rhel_terminate\n                              ;;\n\n                        8)\n                              echo \"Version is 8 we will use dnf\"\n                              f_rhel_initialize\n                              f_dnf_package_mysql_install\n                              f_rhel_terminate\n                              ;;\n\n                        *)\n                              echo \"....I do not  ..know\"\n                              ;;\n                  esac\n    fi\n\nelif [[ $env_type =~ \"MySQL\" ]]; then\n\tif [[ $PRODUCT_NAME =~ \"Red\" ]]; then\n    \t\tcase $PRODUCT_MAJOR_VERSION in\n                \t\t7)\n                              echo \"Version is 7 we will use yum\"\n                              f_rhel_initialize\n                              f_yum_package_mysql_install\n                              f_rhel_terminate\n                              ;;\n\n                \t\t8)\n                              echo \"Version is 8 we will use dnf\"\n                              f_rhel_initialize\n                              f_dnf_package_mysql_install\n                              f_rhel_terminate\n                              ;;\n\n                \t\t*)\n                              echo \"....I do not  ..know\"\n                              ;;\n        \tesac\n    fi\nfi\n}\n\nmain\n\n\nexit",
                      "script_type": "sh",
                      "type": "",
                      "command_line_args": "",
                      "login_credential_local_reference": "@{kind=app_credential; name=cred_root; uuid=255d2590-be05-40bd-a657-0619a47ddece}"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "PRE_Packages Install"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_service",
                      "name": "DATABASE_MOTOR_VERSION",
                      "uuid": "dfbd64fa-e945-4304-b977-522594ec351d"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "EXEC",
                    "uuid": "6d52671f-eb97-44be-a483-bc455b65330e",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "exit_status": "",
                      "script": "#!/bin/bash\n\necho \"------------------------------------------------------------------------------\"\necho \"   @@{database_motor}@@ - @@{database_version}@@ : FORMAT AND CONFIG DRIVE    \"\necho \"------------------------------------------------------------------------------\"\n\nf_create_oracle_appdisk()\n{\necho \"-------------------------------------------------\"\necho \"$1\"\necho \"$2\"\necho \"$3\"\necho \"$4\"\necho \"$5\"\necho \"-------------------------------------------------\"\n\nif [[ $3 =~ \"oracle\" ]]; then\n\necho \"------------------------------------------------------------------------------\"\necho \"                Oracle ($3) - $version : FORMAT $1 $2                       \"\necho \"------------------------------------------------------------------------------\"\n#$1 - drive\n#$2 - mount point\n#$3 - owner\n#$4 - group\n    pvcreate /dev/\"$1\"\n    \n    #create VG on secondary disk\n    vgcreate vg_\"$2\" /dev/\"$1\"\n    lvcreate -n lv_\"$2\" -l 100%FREE vg_\"$2\"\n\n    #format partition in ext4\n    mkfs.xfs /dev/vg_\"$2\"/lv_\"$2\"\n\n    #Configure automount in fstab using UUID\n    uuid=$(blkid /dev/vg_\"$2\"/lv_\"$2\"| sed -n 's/.*UUID=\\\"\\([^\\\"]*\\)\\\".*/\\1/p')\n    echo \"UUID=$uuid  /$2/app xfs defaults 0 0\" >> /etc/fstab\n    mkdir -p /\"$2\"/app\n    mount -a\n\n    #create and assign folder permission for oracle user\n    \n    #create and assign folder permission for oracle user\n\tmkdir -p /\"$2\"/app/oracle/product/\"$5\"/dbhome_1/\n    chmod -R 775 /\"$2\"\n\tchown -R \"$3\":\"$4\" /\"$2\"\n\nelif [[ $3 =~ \"grid\" ]]; then\n\necho \"------------------------------------------------------------------------------\"\necho \"                 Oracle ($3) - $version : FORMAT $1 $2                        \"\necho \"------------------------------------------------------------------------------\"\n#$1 - drive\n#$2 - mount point\n#$3 - owner\n#$4 - group\n#$5 - db_version\n    pvcreate /dev/\"$1\"\n    \n    #create VG on secondary disk\n    vgcreate vg_\"$2\" /dev/\"$1\"\n    lvcreate -n lv_\"$2\" -l 100%FREE vg_\"$2\"\n\n    #format partition in ext4\n    mkfs.xfs /dev/vg_\"$2\"/lv_\"$2\"\n\n    #Configure automount in fstab using UUID\n    uuid=$(blkid /dev/vg_\"$2\"/lv_\"$2\"| sed -n 's/.*UUID=\\\"\\([^\\\"]*\\)\\\".*/\\1/p')\n    echo \"UUID=$uuid  /$2/app xfs defaults 0 0\" >> /etc/fstab\n    mkdir -p /\"$2\"/app\n    mount -a\n\n    #create and assign folder permission for oracle user\n    chown -R \"$3\":\"$4\" /\"$2\"\n    \n    #create and assign folder permission for oracle user\n    mkdir -p /\"$2\"/app/grid/\"$5\"/GI_home\n\tchmod -R 775 /\"$2\"\n\tchown -R \"$3\":\"$4\" /\"$2\"\n    \nelse \n\techo \"I do not know ...\"\nfi\n}\n\nf_create_oracle_ocrdisk()\n{\necho \"------------------------------------------------------------------------------\"\necho \"                  Oracle - $version : FORMAT $1 - OCRDSK                      \"\necho \"------------------------------------------------------------------------------\"\n#\n#chown grid:asmadmin /dev/$1\necho \"$1\"1\n#/usr/sbin/oracleasm createdisk OCRDSK /dev/\"$1\"1\n#chown -R grid:asmadmin /dev/oracleasm/*\n#/usr/sbin/oracleasm listdisks\n#/usr/sbin/oracleasm configure\n}\n\nf_create_appdisk()\n{\npvcreate /dev/\"$1\"\n#create VG on secondary disk\nvgcreate vg_\"$2\" /dev/\"$1\"\nlvcreate -n lv_\"$2\" -l 100%FREE vg_\"$2\"\n\n#format partition in xfs\nmkfs.xfs /dev/vg_\"$2\"/lv_\"$2\"\n\nif [[ $env_type =~ \"Postgresql\" ]]; then\n\necho \"------------------------------------------------------------------------------\"\necho \"                   POSTGRESQL - $version : FORMAT $1                          \"\necho \"------------------------------------------------------------------------------\"\n\n    mkdir /usr/local/pgsql\n    chown postgres:postgres /usr/local/pgsql\n\n    MyPostgresqlMajorVersion=$(echo @@{database_version}@@ | head -c 2)  \n    echo \"My Pgsql Major version is :\" \"$MyPostgresqlMajorVersion\"\n    uuid=$(blkid /dev/vg_\"$2\"/lv_\"$2\" | sed -n 's/.*UUID=\\\"\\([^\\\"]*\\)\\\".*/\\1/p')\n    echo \"/dev/mapper/vg_$2-lv_$2 /usr/pgsql-$MyPostgresqlMajorVersion xfs defaults 0 0\" >> /etc/fstab\n    mkdir -p /usr/pgsql-\"$MyPostgresqlMajorVersion\"\n    mount -a\n    chown -R \"$3\":\"$3\" /usr/pgsql-\"$MyPostgresqlMajorVersion\"\n    chmod -R 775 /usr/pgsql-\"$MyPostgresqlMajorVersion\"\n    \nelif [[ $env_type =~ \"MySQL\" ]]; then\n\necho \"------------------------------------------------------------------------------\"\necho \"                     MYSQL - $version : FORMAT $2                             \"\necho \"------------------------------------------------------------------------------\"\n\n\tpvcreate /dev/\"$1\"\n    #create VG on secondary disk\n    vgcreate vg_\"$2\" /dev/\"$1\"\n    lvcreate -n lv_\"$2\" -l 100%FREE vg_\"$2\"\n\n    #format partition in xfs\n    mkfs.xfs /dev/vg_\"$2\"/lv_\"$2\"\n\n    #Configure automount in fstab using UUID\n    uuid=$(blkid /dev/vg_MySql/lv_MySql | sed -n 's/.*UUID=\\\"\\([^\\\"]*\\)\\\".*/\\1/p')\n    echo \"/dev/mapper/vg_$2-lv_$2  /software xfs defaults 0 0\" >> /etc/fstab\n    mkdir -p /software\n    mount -a\n    chown -R mysql:mysql /software   \n   \t\n    else \n    echo \"do nothing\"\nfi\n}\n\nmain()\n{\nenv_type=@@{database_motor}@@\narch_type=@@{architecture}@@\nversion=@@{database_version}@@\n\nif [[ $env_type =~ \"Oracle\" ]]; then\n        case $arch_type in\n        \t#0 = single_instance\n                0)\n               \t\tf_create_oracle_appdisk sdb u02 oracle oinstall $version\n                        ;;\n\t\t#1 = grid_instance\n                1)\n                \tf_create_oracle_appdisk sdb u02 oracle oinstall $version\n                \tf_create_oracle_appdisk sdc u01 grid oinstall $version\n                \tf_create_oracle_ocrdisk sdd\n                        ;;\n                *)\n                        echo \"....I do not  ...  know\"\n                        ;;\n        esac\n        \nelif [[ $env_type =~ \"Postgresql\" ]]; then\n\n        f_create_appdisk sdb app_pgsql postgres $version\n        \nelif [[ $env_type =~ \"MySQL\" ]]; then\n\n        f_create_appdisk sdb app_mysql mysql $version\n\nelif [[ $env_type =~ \"MongoDB\" ]]; then\n\n        f_create_appdisk sdb app_mongodb mongodb $version\n\nelse\n   echo \"the version is not supported by era\"\n   exit\nfi\n}\n\nmain\n\nexit",
                      "script_type": "sh",
                      "type": "",
                      "command_line_args": "",
                      "login_credential_local_reference": "@{kind=app_credential; name=cred_root; uuid=255d2590-be05-40bd-a657-0619a47ddece}"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "APP_Drives Configuration"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_service",
                      "name": "DATABASE_MOTOR_VERSION",
                      "uuid": "dfbd64fa-e945-4304-b977-522594ec351d"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "EXEC",
                    "uuid": "06d1f0bd-5eed-47ba-93a5-480d32d02bc0",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "exit_status": "",
                      "script": "#!/bin/bash\n\nf_set_path()\n{\n  echo \"app_path=/software/mysql-$2\"\n}\n\nf_rhel_initialize()\n{\n\t#Configure rhel settings\n    #register\n    #repository ...here\necho \"---------------------------------------------------------------------\"\necho \"                    function intialize rhel                          \"\necho \"---------------------------------------------------------------------\"\nsubscription-manager register --username=\"@@{cred_rhel_username}@@\" --password=\"@@{cred_rhel_password}@@\" --force\nsubscription-manager attach --pool=\"@@{rhel_subscription}@@\"\n}\n\nf_rhel_terminate()\n{\n\t#unregister\necho \"---------------------------------------------------------------------\"\necho \"                    function terminate rhel                          \"\necho \"---------------------------------------------------------------------\"\nsubscription-manager unregister\n}\n\n\nf_deploy_database()\n{\necho \"---------------------------------------------------------------------\"\necho \"                     DEPLOY DATABASE $1                          \"\necho \"---------------------------------------------------------------------\"\n}\n\nf_deploy_mysql()\n{\necho \"---------------------------------------------------------------------\"\necho \"                       DEPLOY MYSQL $1                               \"\necho \"---------------------------------------------------------------------\"\n\ncd /software\nwget https://downloads.mysql.com/archives/get/p/23/file/mysql-$1-el7-x86_64.tar\ntar -xvf mysql-$1-el7-x86_64.tar\ntar -xvzf mysql-$1-el7-x86_64.tar.gz\nmv mysql-$1-el7-x86_64 mysql-$1\nrm mysql-$1-el7-x86_64.tar\nrm mysql-$1-el7-x86_64.tar.gz\nrm mysql-router-$1-el7-x86_64.tar.gz\nrm mysql-test-$1-el7-x86_64.tar.gz\ncd /software/mysql-$1/bin\n./mysqld --initialize --user=mysql\n\necho \"mysql init done !\"\npath=\"/software/mysql-$1\"\n}\n\nf_deploy_mongodb()\n{\necho \"---------------------------------------------------------------------\"\necho \"                       DEPLOY MONGODB $1                             \"\necho \"---------------------------------------------------------------------\"\n}\n\nf_deploy_pgsql()\n{\nMyPostgresqlMajorVersion=$(echo $1 | head -c 2)        \n\necho \"---------------------------------------------------------------------\"\necho \"                     DEPLOY POSTGRESQL $2                            \"\necho \"---------------------------------------------------------------------\"\n\n\nif [[ @@{dep_type}@@ =~ \"RPM\" ]]; then\n        dnf install -y https://download.postgresql.org/pub/repos/yum/reporpms/EL-8-x86_64/pgdg-redhat-repo-latest.noarch.rpm\n        dnf module disable postgresql -y\n        sudo yum install -y postgresql$MyPostgresqlMajorVersion-server*$1*\n        sudo yum install -y postgresql$MyPostgresqlMajorVersion-contrib*$1*\n        sudo yum install -y postgresql$MyPostgresqlMajorVersion-libs*$1*\n        sudo yum install -y postgresql$MyPostgresqlMajorVersion-devel*$1*\n        sudo yum install -y postgresql$MyPostgresqlMajorVersion-llvmjit*$1*\n        echo \"exclude=postgresql*\" >> /etc/yum.conf\n        chown -R postgres:postgres /usr/pgsql-*\n        \n    \techo \"rpm deployment ok\"\n        \nelif [[ @@{dep_type}@@ =~ \"COMPILE\" ]]; then\n        \n        #su - postgres -c \"mkdir /usr/pgsql-'$MyPostgresqlMajorVersion'\"\n        llvmpath=$(which llvm-config-64)\n        cd /tmp\n        \n        #Download Version based on selected version in BP\n\t\twget https://ftp.postgresql.org/pub/source/v@@{database_version}@@/postgresql-@@{database_version}@@.tar.gz -P /tmp --no-check-certificate\n\n\t\t#Configure and Install PostgresQL\n        su postgres -c \"tar -xvzf postgresql-$1.tar.gz\"\n        cd /tmp/postgresql-@@{database_version}@@\n        su postgres -c \"/tmp/postgresql-@@{database_version}@@/configure --prefix=/usr/pgsql-'$MyPostgresqlMajorVersion' --with-openssl --with-ldap --with-systemd --with-libxml --enable-nls --with-system-tzdata=/usr/share/zoneinfo --with-pam --with-python --with-icu --with-tcl --with-gssapi --with-llvm LLVM_CONFIG='$llvmpath'\"\n        su postgres -c \"make\"\n        su postgres -c \"make install\"\n        su postgres -c \"make install-docs\"\n        su postgres -c \"make install-world\"\n        \n        chown -R postgres:postgres /usr/pgsql-$MyPostgresqlMajorVersion\n        \n        echo \"sources deployment ok\"\nelse \necho \"a Nuxpresso ?\"\nfi\n\nif [[ $2 =~ \"HA\" ]]; then\n\necho \"---------------------------------------------------------------------\"\necho \"                         ADD  $2  COMPONENTS                         \"\necho \"---------------------------------------------------------------------\"\n\n        wget https://www.rpmfind.net/linux/centos/7.9.2009/extras/x86_64/Packages/etcd-3.3.11-2.el7.centos.x86_64.rpm\n        yum localinstall etcd-3.3.11-2.el7.centos.x86_64.rpm -y\n        \n        dnf install -y haproxy\n    \t#this is needed when using haproxy version > 1.5.x\n    \tsudo ln -s /usr/sbin/haproxy  /usr/local/sbin/\n        \n        yum install keepalived -y \n        \n\n        pip3 install --upgrade pip\n        pip3 install -U setuptools\n        pip3 install urllib3==1.24.2\n        pip3 install patroni[etcd]==2.1.1\n        pip3 install grpcio==1.26.0\n        pip3 install etcd3==0.10.0\n        pip3 install psycopg2-binary==2.8.6 \n\n\n        ln -s /usr/local/bin/patroni /usr/bin/patroni\n        ln -s /usr/local/bin/patronictl /usr/bin/patronictl\n\n        patroni --version\n\n        #clean etc default config\n        rm -rf /var/lib/etcd/*\n        rm -rf /etc/etcd/etcd.yml\n        systemctl disable etcd\n\n        #enable iptables-services (mandatory for keepalive)\n\n        sudo keepalived --version\nfi\n}\n\nmain()\n{\nenv_type=@@{database_motor}@@\narch_type=@@{architecture}@@\nversion=@@{database_version}@@\n\nif [[ $env_type =~ \"Oracle\" ]]; then\n        case $arch_type in\n        \t\t#0 = single_instance\n                0)\n               \t\tf_create_oracle_deployment sdb u02 oracle oinstall $version\n                ;;\n\t\t\t\t#1 = grid_instance\n                1)\n                \tf_create_oracle_deployment sdb u02 oracle oinstall $version\n                \tf_create_grid_deployment sdc u01 grid oinstall $version\n                ;;\n                *)\n                echo \"....I do not  ...  know\"\n                ;;\n        esac        \nelif [[ $env_type =~ \"Postgresql\" ]]; then\n        f_rhel_initialize\n        f_deploy_pgsql $version $arch_type\n        f_rhel_terminate\n        \nelif [[ $env_type =~ \"MySQL\" ]]; then\n\t\tf_deploy_mysql $version\n        f_set_path $env_type $version\n        \n        \nelif [[ $env_type =~ \"MongoDB\" ]]; then\n\n\t\tf_deploy_mongodb $env_type $version\nelse\n   echo \"the version is not supported by era\"\nfi\n}\nmain\n\nexit ",
                      "script_type": "sh",
                      "type": "",
                      "command_line_args": "",
                      "login_credential_local_reference": "@{kind=app_credential; name=cred_root; uuid=255d2590-be05-40bd-a657-0619a47ddece}"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "DB_Deployment"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_service",
                      "name": "DATABASE_MOTOR_VERSION",
                      "uuid": "dfbd64fa-e945-4304-b977-522594ec351d"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "EXEC",
                    "uuid": "3015d5d5-acdc-4b34-bad7-b439f885ffcc",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "exit_status": "",
                      "script": "#!/bin/bash\n\nf_check_dbrms()\n{\n\techo \"--------------------------------------------\"\n    echo \"        check if partition is created       \"\n    echo \"--------------------------------------------\"\n\techo \"DBRMS partition is created\"\n\tmount | grep /u02\n}\n\nf_check_grid()\n{\n\techo \"--------------------------------------------\"\n    echo \"        check if partition is created       \"\n    echo \"--------------------------------------------\"\n\techo \"GRID partition is created\"\n\tmount | grep /u01\n}\n\nf_check_app_content()\n{\n\techo \"--------------------------------------------\"\n    echo \"        Check if app binary exists          \"\n    echo \"--------------------------------------------\"\n    ls -arlt @@{app_dir_path}@@\n}\n\nmain()\n{\n\narch_type=@@{architecture}@@\nenv_type=@@{database_motor}@@\n\nif [[ $env_type =~ \"Oracle\" ]]; then\n        case $arch_type in\n        \t\t#0 = single_instance\n                0)\n                f_check_dbrms\n                ;;\n\t\t\t\t#1 = grid_instance\n                1)\n                f_check_dbrms\n                f_check_grid\n                ;;\n\t\t\t\t\n                *)\n                echo \"....I do not  ...  know\"\n                ;;\n        esac\nelif [[ $env_type =~ \"MySQL\" ]]; then\n\nf_check_app_content\n\nelse\n   echo \"seems there is a 'kind of' issue\"\n   exit\nfi\n}\n\nmain\n\nexit",
                      "script_type": "sh",
                      "type": "",
                      "command_line_args": "",
                      "login_credential_local_reference": "@{kind=app_credential; name=cred_root; uuid=255d2590-be05-40bd-a657-0619a47ddece}"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "CHECK_PREPARATION"
                  }
                ],
                "description": "",
                "message_list": [],
                "uuid": "e329e6c1-dec7-47f8-b1ce-b95060fa63de",
                "state": "ACTIVE",
                "variable_list": [],
                "main_task_local_reference": {
                  "kind": "app_task",
                  "name": "1c9d5fd8_dag",
                  "uuid": "086ac751-991b-4feb-93c4-c6c075f41979"
                },
                "name": "e5e2c02a_runbook"
              }
            },
            {
              "description": "Remove files / garbage / tmp etc ",
              "message_list": [],
              "uuid": "95151141-dfcd-446e-9959-d7b05690601d",
              "name": "CLEAN",
              "state": "ACTIVE",
              "critical": false,
              "attrs": {},
              "type": "user",
              "runbook": {
                "task_definition_list": [
                  {
                    "retries": "0",
                    "description": "",
                    "type": "DAG",
                    "uuid": "3085968f-2f4f-4caf-889b-670b5582f382",
                    "child_tasks_local_reference_list": [
                      "@{kind=app_task; name=CLEAN; uuid=e64c27da-d9ef-47ac-a664-80068f73c459}"
                    ],
                    "state": "ACTIVE",
                    "attrs": {
                      "edges": "",
                      "type": ""
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "d0db438a_dag"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_service",
                      "name": "DATABASE_MOTOR_VERSION",
                      "uuid": "dfbd64fa-e945-4304-b977-522594ec351d"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "EXEC",
                    "uuid": "e64c27da-d9ef-47ac-a664-80068f73c459",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "exit_status": "",
                      "script": "#Enabled Services\nsudo systemctl enable chronyd\n\n#delete  tmp\nrm -rf /tmp/*\nls -arlt /tmp\n\n#Remove History\nhistory -c\nexit",
                      "script_type": "sh",
                      "type": "",
                      "command_line_args": "",
                      "login_credential_local_reference": "@{kind=app_credential; name=cred_root; uuid=255d2590-be05-40bd-a657-0619a47ddece}"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "CLEAN"
                  }
                ],
                "description": "",
                "message_list": [],
                "uuid": "687ae83c-e99f-413a-a7c8-aa5839f06b2b",
                "state": "ACTIVE",
                "variable_list": [],
                "main_task_local_reference": {
                  "kind": "app_task",
                  "name": "d0db438a_dag",
                  "uuid": "3085968f-2f4f-4caf-889b-670b5582f382"
                },
                "name": "ac22b2b9_runbook"
              }
            },
            {
              "description": "",
              "message_list": [],
              "uuid": "668e1ab6-18e6-49eb-8fef-44967858ace6",
              "name": "RegisterDbServerToEra",
              "state": "ACTIVE",
              "critical": false,
              "attrs": {},
              "type": "user",
              "runbook": {
                "task_definition_list": [
                  {
                    "retries": "0",
                    "description": "",
                    "type": "DAG",
                    "uuid": "78a456df-758d-409f-900b-186e1210caab",
                    "child_tasks_local_reference_list": [
                      "@{kind=app_task; name=GetEraDetails; uuid=7ecfe8ba-6a97-4695-9173-151d12f37bf1}",
                      "@{kind=app_task; name=Register Golden Image; uuid=1995aa30-0a35-4265-92a2-4f2def18c328}",
                      "@{kind=app_task; name=MonitorRegisterDBVM; uuid=7ea91514-9091-4dcb-b971-32f08a5c2677}",
                      "@{kind=app_task; name=CreateSoftwareProfile; uuid=85c8bbe2-a430-4819-99e7-8eda4155fcf3}",
                      "@{kind=app_task; name=MonitorCreateProfile; uuid=1fd355ae-b1bd-44b7-90b1-cb5e35a3adf5}"
                    ],
                    "state": "ACTIVE",
                    "attrs": {
                      "edges": "   ",
                      "type": ""
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "5f3d4b1c_dag"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_service",
                      "name": "DATABASE_MOTOR_VERSION",
                      "uuid": "dfbd64fa-e945-4304-b977-522594ec351d"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "SET_VARIABLE",
                    "uuid": "7ecfe8ba-6a97-4695-9173-151d12f37bf1",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "exit_status": "",
                      "script": "# Set creds and headers\nera_user = \"@@{cred_era_admin_password.username}@@\"\nera_pass = \"@@{cred_era_admin_password.secret}@@\"\nheaders = {\"Content-Type\": \"application/json\", \"Accept\": \"application/json\"}\n\n# Get Cluster ID\nurl = \"https://@@{era_ip}@@/era/v0.9/clusters\"\nresp = urlreq(url, verb=\"GET\", auth=\"BASIC\", user=era_user, passwd=era_pass, headers=headers)\n\nif resp.ok:\n    print(\"CLUSTER_ID={0}\".format(json.loads(resp.content)[0][\"id\"]))\nelse:\n    print(\"Get Cluster ID request failed\", json.dumps(json.loads(resp.content), indent=4))\n    exit(1)",
                      "eval_variables": "CLUSTER_ID",
                      "eval_scope": "local",
                      "type": "",
                      "script_type": "static"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "GetEraDetails"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_service",
                      "name": "DATABASE_MOTOR_VERSION",
                      "uuid": "dfbd64fa-e945-4304-b977-522594ec351d"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "SET_VARIABLE",
                    "uuid": "1995aa30-0a35-4265-92a2-4f2def18c328",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "exit_status": "",
                      "script": "# Set creds and headers\nera_user = \"@@{cred_era_admin_password.username}@@\"\ndb_type = \"@@{database_motor}@@\"\nversion = \"@@{database_version}@@\"\nera_app_reg_path = \"@@{app_dir_path}@@\"\nera_pass = \"@@{cred_era_admin_password.secret}@@\"\nheaders = {\"Content-Type\": \"application/json\", \"Accept\": \"application/json\"}\nprint \"Monitoring Register DatabaseVM Operation...\"\nurl = \"https://@@{era_ip}@@/era/v0.9/dbservers/register\"\n\n\nif db_type == \"MySQL\":\n    # Set the URL and payload\n    payload = {\n        \"actionArguments\": [\n            {\n            \t\"name\": \"listener_port\",\n                \"value\": \"3306\"\n            },\n            {\n            \t\"name\": \"software_home\",\n                \"value\": '\"'+ era_app_reg_path +'\"'\n            }\n        ],\n        \"vmIp\": \"@@{address}@@\",\n        \"nxClusterUuid\": \"@@{CLUSTER_ID}@@\",\n        \"databaseType\": \"mysql_database\",\n        \"forcedInstall\": \"true\",\n        \"workingDirectory\": \"/tmp\",\n        \"username\": \"@@{cred_era_admin.username}@@\",\n        \"password\": \"@@{cred_era_admin.secret}@@\",\n    }\n\nelif db_type == \"Postgresql\":\n    maj_version = version[:2]\n    payload = {\n        \"actionArguments\": [\n           {\n            \t\"name\": \"listener_port\",\n                \"value\": \"5432\"\n            },\n            {\n            \t\"name\": \"software_home\",\n                \"value\": '\"'+ era_app_reg_path +'\"'\n            }\n        ],\n        \"vmIp\": \"@@{address}@@\",\n        \"nxClusterUuid\": \"@@{CLUSTER_ID}@@\",\n        \"databaseType\": \"postgres_database\",\n        \"forcedInstall\": \"true\",\n        \"workingDirectory\": \"/tmp\",\n        \"username\": \"@@{cred_era_admin.username}@@\",\n        \"password\": \"@@{cred_era_admin.secret}@@\",\n    }\n\n# Make the call and set the response operation ID to the variable\nresp = urlreq(\n    url,\n    verb=\"POST\",\n    auth=\"BASIC\",\n    user=era_user,\n    passwd=era_pass,\n    params=json.dumps(payload),\n    headers=headers,\n)\nif resp.ok:\n    print(\"REGISTER_OPERATION_ID={0}\".format(json.loads(resp.content)[\"operationId\"]))\nelse:\n    print(\"Database VM Register failed\", json.dumps(json.loads(resp.content), indent=4))\n    exit(1)\n",
                      "eval_variables": "REGISTER_OPERATION_ID",
                      "eval_scope": "local",
                      "type": "",
                      "script_type": "static"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "Register Golden Image"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_service",
                      "name": "DATABASE_MOTOR_VERSION",
                      "uuid": "dfbd64fa-e945-4304-b977-522594ec351d"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "SET_VARIABLE",
                    "uuid": "7ea91514-9091-4dcb-b971-32f08a5c2677",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "exit_status": "",
                      "script": "# Set creds, headers, and URL\nera_user = \"@@{cred_era_admin_password.username}@@\"\nera_pass = \"@@{cred_era_admin_password.secret}@@\"\nheaders = {\"Content-Type\": \"application/json\", \"Accept\": \"application/json\"}\nurl = \"https://@@{era_ip}@@/era/v0.9/operations/@@{REGISTER_OPERATION_ID}@@\"\n\n# Monitor the operation\nfor x in range(20):\n\n    print \"Sleeping for 20 seconds.\"\n    sleep(5)\n    resp = urlreq(\n        url, verb=\"GET\", auth=\"BASIC\", user=era_user, passwd=era_pass, headers=headers\n    )\n    print \"Percentage Complete: {0}\".format(\n        json.loads(resp.content)[\"percentageComplete\"]\n    )\n\n    # If complete, break out of loop\n    if json.loads(resp.content)[\"percentageComplete\"] == \"100\":\n        break\n\n# If the operation did not complete within 20 minutes, assume it's not successful and error out\nif json.loads(resp.content)[\"percentageComplete\"] != \"100\":\n    print \"Get Operation ID timed out\", json.dumps(json.loads(resp.content), indent=4)\n    exit(1)\n\n# Get the newly provision DB Entity Name and set it to a variable\nprint \"SOURCE_DBSERVER_ID={0}\".format(json.loads(resp.content)[\"entityId\"])",
                      "eval_variables": "SOURCE_DBSERVER_ID",
                      "eval_scope": "local",
                      "type": "",
                      "script_type": "static"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "MonitorRegisterDBVM"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_service",
                      "name": "DATABASE_MOTOR_VERSION",
                      "uuid": "dfbd64fa-e945-4304-b977-522594ec351d"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "SET_VARIABLE",
                    "uuid": "85c8bbe2-a430-4819-99e7-8eda4155fcf3",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "exit_status": "",
                      "script": "# Set creds and headers\n\nera_user = \"@@{cred_era_admin_password.username}@@\"\ndb_type = \"@@{database_motor}@@\"\nversion = \"@@{database_version}@@\"\nera_pass = \"@@{cred_era_admin_password.secret}@@\"\nheaders = {\"Content-Type\": \"application/json\", \"Accept\": \"application/json\"}\nprint \"Monitoring Register DatabaseVM Operation...\"\n\nif db_type == \"MySQL\":\n    # Set the URL and payload\n    url = \"https://@@{era_ip}@@/era/v0.9/profiles\"\n    payload = {\n        \"engineType\": \"mysql_database\",\n        \"type\": \"Software\",\n        \"topology\": \"single\",\n        \"dbVersion\": \"ALL\",\n        \"systemProfile\": \"false\",\n        \"properties\": [\n            {\n                \"name\": \"SOURCE_DBSERVER_ID\",\n                \"value\": \"@@{SOURCE_DBSERVER_ID}@@\",\n                \"secure\": \"false\",\n                \"description\": \"ID of the database server that should be used as a reference to create the software profile\",\n            },\n            {\n                \"name\": \"BASE_PROFILE_VERSION_NAME\",\n                \"value\": \"MYSQL $version by Calm Blueprint\",\n                \"secure\": \"false\",\n                \"description\": \"Name of the base profile version.\",\n            },\n            {\n                \"name\": \"BASE_PROFILE_VERSION_DESCRIPTION\",\n                \"value\": \"Deployed by Calm @@{calm_application_name}@@\",\n                \"secure\": \"false\",\n                \"description\": \"Description of the base profile version.\",\n            },\n            {\n                \"name\": \"OS_NOTES\",\n                \"value\": \"\",\n                \"secure\": \"false\",\n                \"description\": \"Notes or description for the Operating System.\",\n            },\n            {\n                \"name\": \"DB_SOFTWARE_NOTES\",\n                \"value\": \"\",\n                \"secure\": \"false\",\n                \"description\": \"Description of the Postgres database software.\",\n            },\n        ],\n        \"availableClusterIds\": [\"@@{CLUSTER_ID}@@\"],\n        \"name\": \"@@{calm_application_name}@@\",\n    }\n\nelif db_type == \"Postgresql\":\n    # Set the URL and payload\n    url = \"https://@@{era_ip}@@/era/v0.9/profiles\"\n    payload = {\n        \"engineType\": \"postgres_database\",\n        \"type\": \"Software\",\n        \"topology\": \"single\",\n        \"dbVersion\": \"ALL\",\n        \"systemProfile\": \"false\",\n        \"properties\": [\n            {\n                \"name\": \"SOURCE_DBSERVER_ID\",\n                \"value\": \"@@{SOURCE_DBSERVER_ID}@@\",\n                \"secure\": \"false\",\n                \"description\": \"ID of the database server that should be used as a reference to create the software profile\",\n            },\n            {\n                \"name\": \"BASE_PROFILE_VERSION_NAME\",\n                \"value\": \"POSTGRESQL $version by Calm Blueprint\",\n                \"secure\": \"false\",\n                \"description\": \"Name of the base profile version.\",\n            },\n            {\n                \"name\": \"BASE_PROFILE_VERSION_DESCRIPTION\",\n                \"value\": \"Deployed by Calm @@{calm_application_name}@@\",\n                \"secure\": \"false\",\n                \"description\": \"Description of the base profile version.\",\n            },\n            {\n                \"name\": \"OS_NOTES\",\n                \"value\": \"\",\n                \"secure\": \"false\",\n                \"description\": \"Notes or description for the Operating System.\",\n            },\n            {\n                \"name\": \"DB_SOFTWARE_NOTES\",\n                \"value\": \"\",\n                \"secure\": \"false\",\n                \"description\": \"Description of the Postgres database software.\",\n            },\n        ],\n        \"availableClusterIds\": [\"@@{CLUSTER_ID}@@\"],\n        \"name\": \"@@{calm_application_name}@@\",\n    }\n\n# Make the call and set the response operation ID to the variable\nresp = urlreq(\n    url,\n    verb=\"POST\",\n    auth=\"BASIC\",\n    user=era_user,\n    passwd=era_pass,\n    params=json.dumps(payload),\n    headers=headers,\n)\nif resp.ok:\n    print \"CREATEPROFILE_OPERATION_ID={0}\".format(\n        json.loads(resp.content)[\"operationId\"]\n    )\nelse:\n    print \"Create Profile failed\", json.dumps(json.loads(resp.content), indent=4)\n    exit(1)",
                      "eval_variables": "CREATEPROFILE_OPERATION_ID",
                      "eval_scope": "local",
                      "type": "",
                      "script_type": "static"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "CreateSoftwareProfile"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_service",
                      "name": "DATABASE_MOTOR_VERSION",
                      "uuid": "dfbd64fa-e945-4304-b977-522594ec351d"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "EXEC",
                    "uuid": "1fd355ae-b1bd-44b7-90b1-cb5e35a3adf5",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "script_type": "static",
                      "type": "",
                      "command_line_args": "",
                      "exit_status": "",
                      "script": "# Set creds, headers, and URL\nera_user = \"@@{cred_era_admin_password.username}@@\"\nera_pass = \"@@{cred_era_admin_password.secret}@@\"\nheaders = {\"Content-Type\": \"application/json\", \"Accept\": \"application/json\"}\nurl = \"https://@@{era_ip}@@:8443/era/v0.8/operations/@@{CREATEPROFILE_OPERATION_ID}@@\"\n\n# Monitor the operation\nfor x in range(20):\n\n    print \"Sleeping for 60 seconds.\"\n    sleep(60)\n    resp = urlreq(\n        url, verb=\"GET\", auth=\"BASIC\", user=era_user, passwd=era_pass, headers=headers\n    )\n    print \"Percentage Complete: {0}\".format(\n        json.loads(resp.content)[\"percentageComplete\"]\n    )\n\n    # If complete, break out of loop\n    if json.loads(resp.content)[\"percentageComplete\"] == \"100\":\n        break\n\n# If the operation did not complete within 20 minutes, assume it's not successful and error out\nif json.loads(resp.content)[\"percentageComplete\"] != \"100\":\n    print \"Get Operation ID timed out\", json.dumps(json.loads(resp.content), indent=4)\n    exit(1)\n\n# Get the newly provision DB Entity Name and set it to a variable\n# print \"CLONE_ENTITY_NAME={0}\".format(json.loads(resp.content)['entityName'])"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "MonitorCreateProfile"
                  }
                ],
                "description": "",
                "message_list": [],
                "uuid": "0e8d2fce-5a18-4ba3-a7ae-c4f60f569caa",
                "state": "ACTIVE",
                "variable_list": [],
                "main_task_local_reference": {
                  "kind": "app_task",
                  "name": "5f3d4b1c_dag",
                  "uuid": "78a456df-758d-409f-900b-186e1210caab"
                },
                "name": "6da83e51_runbook"
              }
            },
            {
              "description": "System action for deleting an application. Does not delete created VMs",
              "message_list": [],
              "uuid": "9df141eb-2c32-4105-af64-e0819e7ac42a",
              "name": "action_soft_delete",
              "state": "ACTIVE",
              "critical": true,
              "attrs": {},
              "type": "system",
              "runbook": {
                "task_definition_list": [
                  {
                    "target_any_local_reference": {
                      "kind": "app_service",
                      "name": "DATABASE_MOTOR_VERSION",
                      "uuid": "dfbd64fa-e945-4304-b977-522594ec351d"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "DAG",
                    "uuid": "6d695e45-3e0c-4ce0-a7d0-2c412ceec2e0",
                    "child_tasks_local_reference_list": [
                      "@{kind=app_task; name=SYS_GEN__Service_Element_Delete_dfbd64fa_e945_4304_b977_522594ec351d; uuid=61de0a3e-380a-49eb-b395-365c5e986736}"
                    ],
                    "state": "ACTIVE",
                    "attrs": {
                      "edges": "",
                      "type": "DAG"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__DAG_Service_dfbd64fa_e945_4304_b977_522594ec351d"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_service",
                      "name": "DATABASE_MOTOR_VERSION",
                      "uuid": "dfbd64fa-e945-4304-b977-522594ec351d"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "SOFT_DELETE_ELEMENT",
                    "uuid": "61de0a3e-380a-49eb-b395-365c5e986736",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "type": ""
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__Service_Element_Delete_dfbd64fa_e945_4304_b977_522594ec351d"
                  }
                ],
                "description": "",
                "message_list": [],
                "uuid": "051e1a4f-eab1-4dfc-9054-6b82c6c4cef0",
                "state": "ACTIVE",
                "variable_list": [],
                "main_task_local_reference": {
                  "kind": "app_task",
                  "name": "SYS_GEN__DAG_Service_dfbd64fa_e945_4304_b977_522594ec351d",
                  "uuid": "6d695e45-3e0c-4ce0-a7d0-2c412ceec2e0"
                },
                "name": "SYS_GEN__Runbook_Service_dfbd64fa_e945_4304_b977_522594ec351d"
              }
            }
          ],
          "message_list": [],
          "uuid": "dfbd64fa-e945-4304-b977-522594ec351d",
          "state": "ACTIVE",
          "depends_on_list": [],
          "editables": {},
          "tier": "",
          "singleton": false,
          "variable_list": [
            {
              "regex": {},
              "val_type": "STRING",
              "is_mandatory": false,
              "description": "",
              "data_type": "BASE",
              "message_list": [],
              "uuid": "0b4bf4eb-55a6-481c-869f-db1c3abb8a18",
              "value": "",
              "label": "",
              "state": "ACTIVE",
              "attrs": {
                "type": ""
              },
              "editables": {},
              "is_hidden": false,
              "type": "LOCAL",
              "options": {
                "type": "PREDEFINED",
                "choices": []
              },
              "name": "CLUSTER_ID"
            },
            {
              "regex": {},
              "val_type": "STRING",
              "is_mandatory": false,
              "description": "",
              "data_type": "BASE",
              "message_list": [],
              "uuid": "04b8ddc6-fae6-4355-9efc-16ae7f063ab0",
              "value": "",
              "label": "",
              "state": "ACTIVE",
              "attrs": {
                "type": ""
              },
              "editables": {},
              "is_hidden": false,
              "type": "LOCAL",
              "options": {
                "type": "PREDEFINED",
                "choices": []
              },
              "name": "REGISTER_OPERATION_ID"
            },
            {
              "regex": {},
              "val_type": "STRING",
              "is_mandatory": false,
              "description": "",
              "data_type": "BASE",
              "message_list": [],
              "uuid": "cd24e5d4-19fd-4edd-a96d-311c63a7f2a9",
              "value": "",
              "label": "",
              "state": "ACTIVE",
              "attrs": {
                "type": ""
              },
              "editables": {},
              "is_hidden": false,
              "type": "LOCAL",
              "options": {
                "type": "PREDEFINED",
                "choices": []
              },
              "name": "SOURCE_DBSERVER_ID"
            },
            {
              "regex": {},
              "val_type": "STRING",
              "is_mandatory": false,
              "description": "",
              "data_type": "BASE",
              "message_list": [],
              "uuid": "c22bd39e-f71a-49f3-a5aa-ef19bd70fbb6",
              "value": "",
              "label": "",
              "state": "ACTIVE",
              "attrs": {
                "type": ""
              },
              "editables": {},
              "is_hidden": false,
              "type": "LOCAL",
              "options": {
                "type": "PREDEFINED",
                "choices": []
              },
              "name": "CREATEPROFILE_OPERATION_ID"
            },
            {
              "regex": {},
              "val_type": "STRING",
              "is_mandatory": false,
              "description": "",
              "data_type": "BASE",
              "message_list": [],
              "uuid": "266a8b10-da83-40b1-a579-bb16edc2f5d2",
              "value": "10.38.210.8",
              "label": "",
              "state": "ACTIVE",
              "attrs": {
                "type": ""
              },
              "editables": {
                "value": true
              },
              "is_hidden": false,
              "type": "LOCAL",
              "options": {
                "type": "PREDEFINED",
                "choices": []
              },
              "name": "era_ip"
            },
            {
              "regex": {},
              "val_type": "STRING",
              "is_mandatory": false,
              "description": "",
              "data_type": "BASE",
              "message_list": [],
              "uuid": "799085ae-c16c-4a0f-9087-6d418a63fb5c",
              "value": "",
              "label": "",
              "state": "ACTIVE",
              "attrs": {
                "type": ""
              },
              "editables": {},
              "is_hidden": false,
              "type": "LOCAL",
              "options": {
                "type": "PREDEFINED",
                "choices": []
              },
              "name": "app_dir_path"
            },
            {
              "regex": {},
              "val_type": "STRING",
              "is_mandatory": false,
              "description": "",
              "data_type": "BASE",
              "message_list": [],
              "uuid": "9f88d2d9-3275-494e-8bf6-5af3f1bb51ac",
              "value": "",
              "label": "",
              "state": "ACTIVE",
              "attrs": {
                "type": ""
              },
              "editables": {},
              "is_hidden": false,
              "type": "LOCAL",
              "options": {
                "type": "PREDEFINED",
                "choices": []
              },
              "name": "my_var"
            }
          ],
          "name": "DATABASE_MOTOR_VERSION"
        }
      ],
      "substrate_definition_list": [
        {
          "description": "",
          "action_list": [
            {
              "description": "Set - PGSQL 12  varialbes",
              "message_list": [],
              "uuid": "ed0ada6f-70e1-48c8-a187-5c575673d3f3",
              "name": "pre_action_create",
              "state": "ACTIVE",
              "critical": false,
              "attrs": {},
              "type": "fragment",
              "runbook": {
                "task_definition_list": [
                  {
                    "target_any_local_reference": {
                      "kind": "app_substrate",
                      "name": "database_motor_version",
                      "uuid": "7814dfbd-e501-455a-b272-372c139e85bf"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "DAG",
                    "uuid": "17093cba-87d9-4ca9-ac97-9e60563f86c1",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "edges": "",
                      "type": ""
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "872ac1d5_dag"
                  }
                ],
                "description": "",
                "message_list": [],
                "uuid": "dc40732e-5f8e-467c-abe9-0c2af0c64490",
                "state": "ACTIVE",
                "variable_list": [
                  {
                    "regex": {},
                    "val_type": "STRING",
                    "is_mandatory": false,
                    "description": "",
                    "data_type": "BASE",
                    "message_list": [],
                    "uuid": "b5ee657e-b627-4e18-bd93-156b0de7a961",
                    "value": "Postgresql-12",
                    "label": "",
                    "state": "ACTIVE",
                    "attrs": {
                      "type": ""
                    },
                    "editables": {},
                    "is_hidden": false,
                    "type": "LOCAL",
                    "options": {
                      "type": "PREDEFINED",
                      "choices": ""
                    },
                    "name": "MyPgsql12Version"
                  }
                ],
                "main_task_local_reference": {
                  "kind": "app_task",
                  "name": "872ac1d5_dag",
                  "uuid": "17093cba-87d9-4ca9-ac97-9e60563f86c1"
                },
                "name": "cdcc60b3_runbook"
              }
            },
            {
              "description": "",
              "message_list": [],
              "uuid": "ad17ca1c-770f-4eb5-9ea7-999819381947",
              "name": "post_action_delete",
              "state": "ACTIVE",
              "critical": false,
              "attrs": {},
              "type": "fragment",
              "runbook": {
                "task_definition_list": [
                  {
                    "target_any_local_reference": {
                      "kind": "app_substrate",
                      "name": "database_motor_version",
                      "uuid": "7814dfbd-e501-455a-b272-372c139e85bf"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "DAG",
                    "uuid": "b8c51204-6a6e-4517-bf4c-b495217fd175",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "edges": "",
                      "type": ""
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "094a4d34_dag"
                  }
                ],
                "description": "",
                "message_list": [],
                "uuid": "8eb0d60e-1a8c-4fd0-bc97-6611f202ca2a",
                "state": "ACTIVE",
                "variable_list": [],
                "main_task_local_reference": {
                  "kind": "app_task",
                  "name": "094a4d34_dag",
                  "uuid": "b8c51204-6a6e-4517-bf4c-b495217fd175"
                },
                "name": "f57eafe6_runbook"
              }
            },
            {
              "description": "System action for creating an application",
              "message_list": [],
              "uuid": "34f895e1-8763-4603-87a5-4385c84653a0",
              "name": "action_create",
              "state": "ACTIVE",
              "critical": true,
              "attrs": {},
              "type": "system",
              "runbook": {
                "task_definition_list": [
                  {
                    "target_any_local_reference": {
                      "kind": "app_substrate",
                      "name": "database_motor_version",
                      "uuid": "7814dfbd-e501-455a-b272-372c139e85bf"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "DAG",
                    "uuid": "5bf4ebdf-2777-4aea-a6d1-c4f4beae8d17",
                    "child_tasks_local_reference_list": [
                      "@{kind=app_task; name=SYS_GEN__Nutanix_Provision_7814dfbd_e501_455a_b272_372c139e85bf; uuid=d649ec2f-feae-4f5a-8bdd-b03ce6db8bc8}",
                      "@{kind=app_task; name=SYS_GEN__check_login_for_database_motor_version_7814dfbd_e501_455a_b272_372c139e85bf; uuid=186d1f8b-1e27-48c1-b3f6-c228ed1a1acd}"
                    ],
                    "state": "ACTIVE",
                    "attrs": {
                      "edges": "",
                      "type": "DAG"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__DAG_Substrate_7814dfbd_e501_455a_b272_372c139e85bf"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_substrate",
                      "name": "database_motor_version",
                      "uuid": "7814dfbd-e501-455a-b272-372c139e85bf"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "PROVISION_NUTANIX",
                    "uuid": "d649ec2f-feae-4f5a-8bdd-b03ce6db8bc8",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "name": "gi-os_dbmotor_dbversion",
                      "categories": "",
                      "availability_zone_reference": null,
                      "backup_policy": null,
                      "type": "",
                      "cluster_reference": "@{kind=cluster; type=; name=PHX-POC210; uuid=0005e2bb-6b53-70e8-4c05-ac1f6b3b9a8c}",
                      "resources": "@{nic_list=System.Object[]; parent_reference=; guest_tools=; num_vcpus_per_socket=1; num_sockets=2; serial_port_list=System.Object[]; gpu_list=System.Object[]; memory_size_mib=16384; power_state=ON; hardware_clock_timezone=; guest_customization=; type=; account_uuid=28b0cf0a-59e5-4d3e-bef1-80bca0b8e4ff; boot_config=; disk_list=System.Object[]}"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__Nutanix_Provision_7814dfbd_e501_455a_b272_372c139e85bf"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_substrate",
                      "name": "database_motor_version",
                      "uuid": "7814dfbd-e501-455a-b272-372c139e85bf"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "CHECK_LOGIN",
                    "uuid": "186d1f8b-1e27-48c1-b3f6-c228ed1a1acd",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "retries": "5",
                      "dial_timeout": "",
                      "timeout": "60",
                      "address": "@@{platform.status.resources.nic_list[0].ip_endpoint_list[0].ip}@@",
                      "type": "CHECK_LOGIN",
                      "sleep_time": ""
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__check_login_for_database_motor_version_7814dfbd_e501_455a_b272_372c139e85bf"
                  }
                ],
                "description": "",
                "message_list": [],
                "uuid": "ac527b3f-fd71-4818-adb7-80815b7f223a",
                "state": "ACTIVE",
                "variable_list": [],
                "main_task_local_reference": {
                  "kind": "app_task",
                  "name": "SYS_GEN__DAG_Substrate_7814dfbd_e501_455a_b272_372c139e85bf",
                  "uuid": "5bf4ebdf-2777-4aea-a6d1-c4f4beae8d17"
                },
                "name": "SYS_GEN__Runbook_Substrate_7814dfbd_e501_455a_b272_372c139e85bf"
              }
            },
            {
              "description": "System action for powering on an application",
              "message_list": [],
              "uuid": "46c345c4-e9f7-4ff9-8e53-6fda81eb97e5",
              "name": "action_poweron",
              "state": "ACTIVE",
              "critical": true,
              "attrs": {},
              "type": "system",
              "runbook": {
                "task_definition_list": [
                  {
                    "target_any_local_reference": {
                      "kind": "app_substrate",
                      "name": "database_motor_version",
                      "uuid": "7814dfbd-e501-455a-b272-372c139e85bf"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "DAG",
                    "uuid": "d2dbefa0-47b1-4db4-b9d5-2fcb275f4a01",
                    "child_tasks_local_reference_list": [
                      "@{kind=app_task; name=SYS_GEN__Nutanix_Operation_PowerOn_7814dfbd_e501_455a_b272_372c139e85bf; uuid=87726716-46f6-4825-840a-14e50078592a}",
                      "@{kind=app_task; name=SYS_GEN__check_login_for_database_motor_version_7814dfbd_e501_455a_b272_372c139e85bf; uuid=6b35c045-e926-4927-9d3a-bb5cdb03a1b7}"
                    ],
                    "state": "ACTIVE",
                    "attrs": {
                      "edges": "",
                      "type": "DAG"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__DAG_Substrate_7814dfbd_e501_455a_b272_372c139e85bf"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_substrate",
                      "name": "database_motor_version",
                      "uuid": "7814dfbd-e501-455a-b272-372c139e85bf"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "VMOPERATION_NUTANIX",
                    "uuid": "87726716-46f6-4825-840a-14e50078592a",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "operation_type": "action_poweron",
                      "type": "GENERIC_OPERATION"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__Nutanix_Operation_PowerOn_7814dfbd_e501_455a_b272_372c139e85bf"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_substrate",
                      "name": "database_motor_version",
                      "uuid": "7814dfbd-e501-455a-b272-372c139e85bf"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "CHECK_LOGIN",
                    "uuid": "6b35c045-e926-4927-9d3a-bb5cdb03a1b7",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "retries": "5",
                      "dial_timeout": "",
                      "timeout": "60",
                      "address": "@@{platform.status.resources.nic_list[0].ip_endpoint_list[0].ip}@@",
                      "type": "CHECK_LOGIN",
                      "sleep_time": ""
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__check_login_for_database_motor_version_7814dfbd_e501_455a_b272_372c139e85bf"
                  }
                ],
                "description": "",
                "message_list": [],
                "uuid": "b41953fd-c34a-48d0-8c94-d75dc4172b72",
                "state": "ACTIVE",
                "variable_list": [],
                "main_task_local_reference": {
                  "kind": "app_task",
                  "name": "SYS_GEN__DAG_Substrate_7814dfbd_e501_455a_b272_372c139e85bf",
                  "uuid": "d2dbefa0-47b1-4db4-b9d5-2fcb275f4a01"
                },
                "name": "SYS_GEN__Runbook_Substrate_7814dfbd_e501_455a_b272_372c139e85bf"
              }
            },
            {
              "description": "System action for restarting an application",
              "message_list": [],
              "uuid": "6ac07bcb-098a-4d15-bcab-ecb0b47974e2",
              "name": "action_restart",
              "state": "ACTIVE",
              "critical": true,
              "attrs": {},
              "type": "system",
              "runbook": {
                "task_definition_list": [
                  {
                    "target_any_local_reference": {
                      "kind": "app_substrate",
                      "name": "database_motor_version",
                      "uuid": "7814dfbd-e501-455a-b272-372c139e85bf"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "DAG",
                    "uuid": "66523268-bd4c-4d52-b345-30057820c4cb",
                    "child_tasks_local_reference_list": [
                      "@{kind=app_task; name=SYS_GEN__Nutanix_Operation_Restart_7814dfbd_e501_455a_b272_372c139e85bf; uuid=dd3aa63d-b9a7-4631-aa4e-747ac50c0eb9}",
                      "@{kind=app_task; name=SYS_GEN__check_login_for_database_motor_version_7814dfbd_e501_455a_b272_372c139e85bf; uuid=e56e707d-b2e1-4c5e-9461-9ab987b24ab2}"
                    ],
                    "state": "ACTIVE",
                    "attrs": {
                      "edges": "",
                      "type": "DAG"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__DAG_Substrate_7814dfbd_e501_455a_b272_372c139e85bf"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_substrate",
                      "name": "database_motor_version",
                      "uuid": "7814dfbd-e501-455a-b272-372c139e85bf"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "VMOPERATION_NUTANIX",
                    "uuid": "dd3aa63d-b9a7-4631-aa4e-747ac50c0eb9",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "operation_type": "action_restart",
                      "type": "GENERIC_OPERATION"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__Nutanix_Operation_Restart_7814dfbd_e501_455a_b272_372c139e85bf"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_substrate",
                      "name": "database_motor_version",
                      "uuid": "7814dfbd-e501-455a-b272-372c139e85bf"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "CHECK_LOGIN",
                    "uuid": "e56e707d-b2e1-4c5e-9461-9ab987b24ab2",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "retries": "5",
                      "dial_timeout": "",
                      "timeout": "60",
                      "address": "@@{platform.status.resources.nic_list[0].ip_endpoint_list[0].ip}@@",
                      "type": "CHECK_LOGIN",
                      "sleep_time": ""
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__check_login_for_database_motor_version_7814dfbd_e501_455a_b272_372c139e85bf"
                  }
                ],
                "description": "",
                "message_list": [],
                "uuid": "07dbc448-7ba7-49da-9ea9-9ebbe37dbeba",
                "state": "ACTIVE",
                "variable_list": [],
                "main_task_local_reference": {
                  "kind": "app_task",
                  "name": "SYS_GEN__DAG_Substrate_7814dfbd_e501_455a_b272_372c139e85bf",
                  "uuid": "66523268-bd4c-4d52-b345-30057820c4cb"
                },
                "name": "SYS_GEN__Runbook_Substrate_7814dfbd_e501_455a_b272_372c139e85bf"
              }
            },
            {
              "description": "System action for suspending an application",
              "message_list": [],
              "uuid": "f2e83412-07e3-4fb7-bd24-e687f07cdc48",
              "name": "action_suspend",
              "state": "ACTIVE",
              "critical": true,
              "attrs": {},
              "type": "system",
              "runbook": {
                "task_definition_list": [
                  {
                    "target_any_local_reference": {
                      "kind": "app_substrate",
                      "name": "database_motor_version",
                      "uuid": "7814dfbd-e501-455a-b272-372c139e85bf"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "DAG",
                    "uuid": "ec6180e3-0330-4488-8a3a-ba878b82c74c",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "edges": "",
                      "type": "DAG"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__DAG_Substrate_7814dfbd_e501_455a_b272_372c139e85bf"
                  }
                ],
                "description": "",
                "message_list": [],
                "uuid": "a9e7c97e-d4c6-4438-894b-b38b25ccf9af",
                "state": "ACTIVE",
                "variable_list": [],
                "main_task_local_reference": {
                  "kind": "app_task",
                  "name": "SYS_GEN__DAG_Substrate_7814dfbd_e501_455a_b272_372c139e85bf",
                  "uuid": "ec6180e3-0330-4488-8a3a-ba878b82c74c"
                },
                "name": "SYS_GEN__Runbook_Substrate_7814dfbd_e501_455a_b272_372c139e85bf"
              }
            },
            {
              "description": "System action for modifying an application",
              "message_list": [],
              "uuid": "da8cec7c-6ee2-4540-9c43-e74c477ea73b",
              "name": "action_modify",
              "state": "ACTIVE",
              "critical": true,
              "attrs": {},
              "type": "system",
              "runbook": {
                "task_definition_list": [
                  {
                    "target_any_local_reference": {
                      "kind": "app_substrate",
                      "name": "database_motor_version",
                      "uuid": "7814dfbd-e501-455a-b272-372c139e85bf"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "DAG",
                    "uuid": "1be9c03c-dc3c-4da4-ad77-9c6d9ece804a",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "edges": "",
                      "type": "DAG"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__DAG_Substrate_7814dfbd_e501_455a_b272_372c139e85bf"
                  }
                ],
                "description": "",
                "message_list": [],
                "uuid": "b28cfa06-f5d6-4926-a668-060ea64e7a37",
                "state": "ACTIVE",
                "variable_list": [],
                "main_task_local_reference": {
                  "kind": "app_task",
                  "name": "SYS_GEN__DAG_Substrate_7814dfbd_e501_455a_b272_372c139e85bf",
                  "uuid": "1be9c03c-dc3c-4da4-ad77-9c6d9ece804a"
                },
                "name": "SYS_GEN__Runbook_Substrate_7814dfbd_e501_455a_b272_372c139e85bf"
              }
            },
            {
              "description": "System action for powering off an application",
              "message_list": [],
              "uuid": "0409be40-b154-43ae-ae73-8ff04e87c453",
              "name": "action_poweroff",
              "state": "ACTIVE",
              "critical": true,
              "attrs": {},
              "type": "system",
              "runbook": {
                "task_definition_list": [
                  {
                    "target_any_local_reference": {
                      "kind": "app_substrate",
                      "name": "database_motor_version",
                      "uuid": "7814dfbd-e501-455a-b272-372c139e85bf"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "DAG",
                    "uuid": "2b97819f-733a-489c-872b-ffae38840625",
                    "child_tasks_local_reference_list": [
                      "@{kind=app_task; name=SYS_GEN__Nutanix_Operation_PowerOff_7814dfbd_e501_455a_b272_372c139e85bf; uuid=a9639489-ce34-4ade-a5e4-57a2acd1520f}"
                    ],
                    "state": "ACTIVE",
                    "attrs": {
                      "edges": "",
                      "type": "DAG"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__DAG_Substrate_7814dfbd_e501_455a_b272_372c139e85bf"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_substrate",
                      "name": "database_motor_version",
                      "uuid": "7814dfbd-e501-455a-b272-372c139e85bf"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "VMOPERATION_NUTANIX",
                    "uuid": "a9639489-ce34-4ade-a5e4-57a2acd1520f",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "operation_type": "action_poweroff",
                      "type": "GENERIC_OPERATION"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__Nutanix_Operation_PowerOff_7814dfbd_e501_455a_b272_372c139e85bf"
                  }
                ],
                "description": "",
                "message_list": [],
                "uuid": "54de6815-560e-429f-8d45-82dbbdf4162e",
                "state": "ACTIVE",
                "variable_list": [],
                "main_task_local_reference": {
                  "kind": "app_task",
                  "name": "SYS_GEN__DAG_Substrate_7814dfbd_e501_455a_b272_372c139e85bf",
                  "uuid": "2b97819f-733a-489c-872b-ffae38840625"
                },
                "name": "SYS_GEN__Runbook_Substrate_7814dfbd_e501_455a_b272_372c139e85bf"
              }
            },
            {
              "description": "System action for deleting an application. Deletes created VMs as well",
              "message_list": [],
              "uuid": "5e957809-418e-4066-9305-e60bb63b6695",
              "name": "action_delete",
              "state": "ACTIVE",
              "critical": true,
              "attrs": {},
              "type": "system",
              "runbook": {
                "task_definition_list": [
                  {
                    "target_any_local_reference": {
                      "kind": "app_substrate",
                      "name": "database_motor_version",
                      "uuid": "7814dfbd-e501-455a-b272-372c139e85bf"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "DAG",
                    "uuid": "69a1213b-e109-4a74-8a37-c4109b5e9f5c",
                    "child_tasks_local_reference_list": [
                      "@{kind=app_task; name=SYS_GEN__Nutanix_Delete_7814dfbd_e501_455a_b272_372c139e85bf; uuid=86c867ea-d5f1-4e19-ac50-8ba89d02015a}"
                    ],
                    "state": "ACTIVE",
                    "attrs": {
                      "edges": "",
                      "type": "DAG"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__DAG_Substrate_7814dfbd_e501_455a_b272_372c139e85bf"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_substrate",
                      "name": "database_motor_version",
                      "uuid": "7814dfbd-e501-455a-b272-372c139e85bf"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "DELETE_NUTANIX",
                    "uuid": "86c867ea-d5f1-4e19-ac50-8ba89d02015a",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "type": ""
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__Nutanix_Delete_7814dfbd_e501_455a_b272_372c139e85bf"
                  }
                ],
                "description": "",
                "message_list": [],
                "uuid": "2557d472-f335-4016-8b06-0cd238f9d29c",
                "state": "ACTIVE",
                "variable_list": [],
                "main_task_local_reference": {
                  "kind": "app_task",
                  "name": "SYS_GEN__DAG_Substrate_7814dfbd_e501_455a_b272_372c139e85bf",
                  "uuid": "69a1213b-e109-4a74-8a37-c4109b5e9f5c"
                },
                "name": "SYS_GEN__Runbook_Substrate_7814dfbd_e501_455a_b272_372c139e85bf"
              }
            },
            {
              "description": "System action for deleting an application. Does not delete created VMs",
              "message_list": [],
              "uuid": "d9d555d4-99d2-42a1-beca-624983c6b434",
              "name": "action_soft_delete",
              "state": "ACTIVE",
              "critical": true,
              "attrs": {},
              "type": "system",
              "runbook": {
                "task_definition_list": [
                  {
                    "target_any_local_reference": {
                      "kind": "app_substrate",
                      "name": "database_motor_version",
                      "uuid": "7814dfbd-e501-455a-b272-372c139e85bf"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "DAG",
                    "uuid": "8a0bf785-76e2-4a73-9816-b2fe44ce10d2",
                    "child_tasks_local_reference_list": [
                      "@{kind=app_task; name=SYS_GEN__Nutanix_Soft_Delete_7814dfbd_e501_455a_b272_372c139e85bf; uuid=a9bf907b-34b5-43b2-9197-618b7a43bfca}"
                    ],
                    "state": "ACTIVE",
                    "attrs": {
                      "edges": "",
                      "type": "DAG"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__DAG_Substrate_7814dfbd_e501_455a_b272_372c139e85bf"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_substrate",
                      "name": "database_motor_version",
                      "uuid": "7814dfbd-e501-455a-b272-372c139e85bf"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "SOFT_DELETE_NUTANIX",
                    "uuid": "a9bf907b-34b5-43b2-9197-618b7a43bfca",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "type": ""
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__Nutanix_Soft_Delete_7814dfbd_e501_455a_b272_372c139e85bf"
                  }
                ],
                "description": "",
                "message_list": [],
                "uuid": "9b71595c-0d51-47b2-9b64-230ee0eed95b",
                "state": "ACTIVE",
                "variable_list": [],
                "main_task_local_reference": {
                  "kind": "app_task",
                  "name": "SYS_GEN__DAG_Substrate_7814dfbd_e501_455a_b272_372c139e85bf",
                  "uuid": "8a0bf785-76e2-4a73-9816-b2fe44ce10d2"
                },
                "name": "SYS_GEN__Runbook_Substrate_7814dfbd_e501_455a_b272_372c139e85bf"
              }
            },
            {
              "description": "System action for snapshot deletion",
              "message_list": [],
              "uuid": "5cb03c3a-6e71-4724-9348-43b9b375da35",
              "name": "action_snapshot_delete",
              "state": "ACTIVE",
              "critical": true,
              "attrs": {},
              "type": "system",
              "runbook": {
                "task_definition_list": [
                  {
                    "target_any_local_reference": {
                      "kind": "app_substrate",
                      "name": "database_motor_version",
                      "uuid": "7814dfbd-e501-455a-b272-372c139e85bf"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "DAG",
                    "uuid": "5e3079c9-ad67-4567-bbb8-59dc9ea56754",
                    "child_tasks_local_reference_list": [
                      "@{kind=app_task; name=SYS_GEN__Nutanix_Snapshot_Delete_7814dfbd_e501_455a_b272_372c139e85bf; uuid=6f4122cb-07ef-40ca-a4ea-9b4df9e4b3c5}"
                    ],
                    "state": "ACTIVE",
                    "attrs": {
                      "edges": "",
                      "type": "DAG"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__DAG_Substrate_7814dfbd_e501_455a_b272_372c139e85bf"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_substrate",
                      "name": "database_motor_version",
                      "uuid": "7814dfbd-e501-455a-b272-372c139e85bf"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "VM_SNAPSHOT_DELETE_NUTANIX",
                    "uuid": "6f4122cb-07ef-40ca-a4ea-9b4df9e4b3c5",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "operation_type": "action_snapshot_delete",
                      "type": "GENERIC_OPERATION"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__Nutanix_Snapshot_Delete_7814dfbd_e501_455a_b272_372c139e85bf"
                  }
                ],
                "description": "",
                "message_list": [],
                "uuid": "8f4f9ddf-17f4-4c22-ae8d-41b618e886a9",
                "state": "ACTIVE",
                "variable_list": [
                  {
                    "regex": {},
                    "val_type": "STRING",
                    "is_mandatory": false,
                    "description": "",
                    "data_type": "BASE",
                    "message_list": [],
                    "uuid": "c9abc67e-24f2-4f1c-a718-a0b75093e21a",
                    "value": "",
                    "label": "",
                    "state": "NOT_VALIDATED",
                    "attrs": {},
                    "editables": {
                      "value": true
                    },
                    "is_hidden": false,
                    "type": "LOCAL",
                    "options": {},
                    "name": "snapshot_id"
                  },
                  {
                    "regex": {},
                    "val_type": "STRING",
                    "is_mandatory": false,
                    "description": "",
                    "data_type": "BASE",
                    "message_list": [],
                    "uuid": "44c457b8-e462-40e9-8d86-a3e6f6d08538",
                    "value": "",
                    "label": "",
                    "state": "NOT_VALIDATED",
                    "attrs": {},
                    "editables": {
                      "value": true
                    },
                    "is_hidden": false,
                    "type": "LOCAL",
                    "options": {},
                    "name": "snapshot_group_id"
                  }
                ],
                "main_task_local_reference": {
                  "kind": "app_task",
                  "name": "SYS_GEN__DAG_Substrate_7814dfbd_e501_455a_b272_372c139e85bf",
                  "uuid": "5e3079c9-ad67-4567-bbb8-59dc9ea56754"
                },
                "name": "SYS_GEN__Runbook_Substrate_7814dfbd_e501_455a_b272_372c139e85bf"
              }
            }
          ],
          "message_list": [],
          "uuid": "7814dfbd-e501-455a-b272-372c139e85bf",
          "state": "ACTIVE",
          "readiness_probe": {
            "connection_type": "SSH",
            "retries": "5",
            "connection_protocol": "",
            "disable_readiness_probe": false,
            "address": "@@{platform.status.resources.nic_list[0].ip_endpoint_list[0].ip}@@",
            "delay_secs": "60",
            "connection_port": 22,
            "login_credential_local_reference": {
              "kind": "app_credential",
              "name": "cred_root",
              "uuid": "255d2590-be05-40bd-a657-0619a47ddece"
            }
          },
          "editables": {
            "create_spec": {
              "name": true,
              "resources": {
                "guest_customization": true,
                "num_vcpus_per_socket": true,
                "memory_size_mib": true,
                "boot_config": {
                  "boot_device": {
                    "disk_address": {
                      "adapter_type": true
                    }
                  },
                  "boot_type": true
                },
                "disk_list": true
              }
            }
          },
          "os_type": "Linux",
          "type": "AHV_VM",
          "create_spec": {
            "name": "gi-os_dbmotor_dbversion",
            "categories": {},
            "availability_zone_reference": null,
            "backup_policy": null,
            "type": "",
            "cluster_reference": {
              "kind": "cluster",
              "type": "",
              "name": "PHX-POC210",
              "uuid": "0005e2bb-6b53-70e8-4c05-ac1f6b3b9a8c"
            },
            "resources": {
              "nic_list": [
                {
                  "nic_type": "NORMAL_NIC",
                  "vpc_reference": null,
                  "ip_endpoint_list": [],
                  "network_function_chain_reference": null,
                  "network_function_nic_type": "INGRESS",
                  "mac_address": "",
                  "subnet_reference": {
                    "kind": "subnet",
                    "type": "",
                    "name": "",
                    "uuid": "5329d9db-cbb5-4e35-8c1d-878837143566"
                  },
                  "type": ""
                }
              ],
              "parent_reference": null,
              "guest_tools": null,
              "num_vcpus_per_socket": 1,
              "num_sockets": 2,
              "serial_port_list": [],
              "gpu_list": [],
              "memory_size_mib": 16384,
              "power_state": "ON",
              "hardware_clock_timezone": "",
              "guest_customization": null,
              "type": "",
              "account_uuid": "28b0cf0a-59e5-4d3e-bef1-80bca0b8e4ff",
              "boot_config": {
                "boot_device": {
                  "type": "",
                  "disk_address": {
                    "adapter_type": "SCSI",
                    "device_index": 0,
                    "type": ""
                  }
                },
                "type": "",
                "boot_type": "",
                "mac_address": ""
              },
              "disk_list": [
                {
                  "data_source_reference": {
                    "kind": "image",
                    "type": "",
                    "name": "GI-RHEL84",
                    "uuid": "efaf8b3f-2ce2-4ab4-9ba7-f1e595b87e7d"
                  },
                  "type": "",
                  "disk_size_mib": 0,
                  "volume_group_reference": null,
                  "device_properties": {
                    "type": "",
                    "device_type": "DISK",
                    "disk_address": {
                      "adapter_type": "SCSI",
                      "device_index": 0,
                      "type": ""
                    }
                  }
                },
                {
                  "data_source_reference": {
                    "kind": "image",
                    "type": "",
                    "name": "80GIB_RAW",
                    "uuid": "4426b059-b1ad-4c5c-99da-1d8cef30446a"
                  },
                  "type": "",
                  "disk_size_mib": 0,
                  "volume_group_reference": null,
                  "device_properties": {
                    "type": "",
                    "device_type": "DISK",
                    "disk_address": {
                      "adapter_type": "SCSI",
                      "device_index": 1,
                      "type": ""
                    }
                  }
                },
                {
                  "data_source_reference": {
                    "kind": "image",
                    "type": "",
                    "name": "80GIB_RAW",
                    "uuid": "4426b059-b1ad-4c5c-99da-1d8cef30446a"
                  },
                  "type": "",
                  "disk_size_mib": 0,
                  "volume_group_reference": null,
                  "device_properties": {
                    "type": "",
                    "device_type": "DISK",
                    "disk_address": {
                      "adapter_type": "SCSI",
                      "device_index": 2,
                      "type": ""
                    }
                  }
                },
                {
                  "data_source_reference": {
                    "kind": "image",
                    "type": "",
                    "name": "30GIB_RAW",
                    "uuid": "9b43edc5-7222-4b83-84bd-63a00fcac055"
                  },
                  "type": "",
                  "disk_size_mib": 0,
                  "volume_group_reference": null,
                  "device_properties": {
                    "type": "",
                    "device_type": "DISK",
                    "disk_address": {
                      "adapter_type": "SCSI",
                      "device_index": 3,
                      "type": ""
                    }
                  }
                }
              ]
            }
          },
          "variable_list": [],
          "name": "database_motor_version"
        }
      ],
      "credential_definition_list": [
        {
          "username": "root",
          "description": "",
          "state": "ACTIVE",
          "uuid": "255d2590-be05-40bd-a657-0619a47ddece",
          "secret": {
            "attrs": {
              "is_secret_modified": false,
              "secret_reference": {}
            }
          },
          "editables": {},
          "cred_class": "static",
          "type": "PASSWORD",
          "name": "cred_root"
        },
        {
          "username": "node_exporter",
          "description": "",
          "state": "ACTIVE",
          "uuid": "75d630b4-9de2-4331-abb6-6f7b8af23b32",
          "secret": {
            "attrs": {
              "is_secret_modified": false,
              "secret_reference": {}
            }
          },
          "editables": {},
          "cred_class": "static",
          "type": "PASSWORD",
          "name": "cred_node_exporter"
        },
        {
          "username": "oracle",
          "description": "",
          "state": "ACTIVE",
          "uuid": "8fda6e5d-7c9a-4bba-982f-968fa967aed2",
          "secret": {
            "attrs": {
              "is_secret_modified": false,
              "secret_reference": {}
            }
          },
          "editables": {
            "secret": true
          },
          "cred_class": "static",
          "type": "PASSWORD",
          "name": "cred_oracle"
        },
        {
          "username": "era-admin",
          "description": "",
          "state": "ACTIVE",
          "uuid": "60fb3f58-71ed-480f-a310-5ec122af0208",
          "secret": {
            "attrs": {
              "is_secret_modified": false,
              "secret_reference": {}
            }
          },
          "editables": {
            "secret": true
          },
          "cred_class": "static",
          "type": "PASSWORD",
          "name": "cred_era_admin"
        },
        {
          "username": "grid",
          "description": "",
          "state": "ACTIVE",
          "uuid": "55716997-0641-4066-a502-6ccc12b2eeb4",
          "secret": {
            "attrs": {
              "is_secret_modified": false,
              "secret_reference": {}
            }
          },
          "editables": {},
          "cred_class": "static",
          "type": "PASSWORD",
          "name": "cred_grid"
        },
        {
          "username": "postgres",
          "description": "",
          "state": "ACTIVE",
          "uuid": "0c8bd7f9-7be9-452c-930f-157561db2164",
          "secret": {
            "attrs": {
              "is_secret_modified": false,
              "secret_reference": {}
            }
          },
          "editables": {},
          "cred_class": "static",
          "type": "PASSWORD",
          "name": "cred_postgres"
        },
        {
          "username": "appuser",
          "description": "",
          "state": "ACTIVE",
          "uuid": "d9e038c5-fde7-4134-93af-4e3bc5060d8b",
          "secret": {
            "attrs": {
              "is_secret_modified": false,
              "secret_reference": {}
            }
          },
          "editables": {},
          "cred_class": "static",
          "type": "PASSWORD",
          "name": "cred_appuser"
        },
        {
          "username": "mysql",
          "description": "",
          "state": "ACTIVE",
          "uuid": "846a5d0f-c2bf-4b6e-9322-1120de401244",
          "secret": {
            "attrs": {
              "is_secret_modified": false,
              "secret_reference": {}
            }
          },
          "editables": {},
          "cred_class": "static",
          "type": "PASSWORD",
          "name": "cred_mysql"
        },
        {
          "username": "mongod",
          "description": "",
          "state": "ACTIVE",
          "uuid": "f7c46e19-90f0-4b0e-95a0-3f4095e0ec66",
          "secret": {
            "attrs": {
              "is_secret_modified": false,
              "secret_reference": {}
            }
          },
          "editables": {},
          "cred_class": "static",
          "type": "PASSWORD",
          "name": "cred_mongod"
        },
        {
          "username": "admin",
          "description": "",
          "state": "ACTIVE",
          "uuid": "1fc90a27-a014-43fd-91bc-9e02b779c30e",
          "secret": {
            "attrs": {
              "is_secret_modified": false,
              "secret_reference": {}
            }
          },
          "editables": {},
          "cred_class": "static",
          "type": "PASSWORD",
          "name": "cred_era_admin_password"
        }
      ],
      "type": "USER",
      "app_profile_list": [
        {
          "deployment_create_list": [
            {
              "description": "",
              "action_list": [
                {
                  "description": "System action for creating an application",
                  "message_list": [],
                  "uuid": "302767b6-aa48-4121-9ea8-2b0e6513aa9a",
                  "name": "action_create",
                  "state": "ACTIVE",
                  "critical": true,
                  "attrs": {},
                  "type": "system",
                  "runbook": {
                    "task_definition_list": [
                      "@{target_any_local_reference=; retries=0; description=; type=DAG; uuid=12863c77-7f76-4cb7-a4a3-0efbd5b3b68c; child_tasks_local_reference_list=System.Object[]; state=ACTIVE; attrs=; timeout_secs=0; inherit_target=False; message_list=System.Object[]; variable_list=System.Object[]; name=SYS_GEN__Composite_DAG_Deployment_2e6c95bd_ff55_41b9_bf29_3b6b64997995}",
                      "@{target_any_local_reference=; retries=0; description=; type=CREATE_DEPLOYMENT_ELEMENT; uuid=bb6e1ff2-6cf6-472a-986e-690afde23ae6; child_tasks_local_reference_list=System.Object[]; state=ACTIVE; attrs=; timeout_secs=0; inherit_target=False; message_list=System.Object[]; variable_list=System.Object[]; name=SYS_GEN__DE_Provision_2e6c95bd_ff55_41b9_bf29_3b6b64997995}",
                      "@{target_any_local_reference=; retries=0; description=; type=CALL_RUNBOOK; uuid=3751c174-1c82-4f0a-9ca0-1dd10a5d3a09; child_tasks_local_reference_list=System.Object[]; state=ACTIVE; attrs=; timeout_secs=0; inherit_target=False; message_list=System.Object[]; variable_list=System.Object[]; name=SYS_GEN__pre_create_CRb_Substrate_7814dfbd_e501_455a_b272_372c139e85bf}",
                      "@{target_any_local_reference=; retries=0; description=; type=CALL_RUNBOOK; uuid=63fe258b-7408-4059-b899-cd8b24b3f83d; child_tasks_local_reference_list=System.Object[]; state=ACTIVE; attrs=; timeout_secs=0; inherit_target=False; message_list=System.Object[]; variable_list=System.Object[]; name=SYS_GEN__create_CRb_Substrate_7814dfbd_e501_455a_b272_372c139e85bf}",
                      "@{target_any_local_reference=; retries=0; description=; type=CALL_RUNBOOK; uuid=e2a32666-d65f-4f4e-8d4b-c7c960512a5a; child_tasks_local_reference_list=System.Object[]; state=ACTIVE; attrs=; timeout_secs=0; inherit_target=False; message_list=System.Object[]; variable_list=System.Object[]; name=SYS_GEN__install_CRb_Package_5ed15478_2c4f_4eca_99b5_9d39391e5800}",
                      "@{target_any_local_reference=; retries=0; description=; type=CALL_RUNBOOK; uuid=f370af42-2d92-48b5-bc81-ee8716bdc3f3; child_tasks_local_reference_list=System.Object[]; state=ACTIVE; attrs=; timeout_secs=0; inherit_target=False; message_list=System.Object[]; variable_list=System.Object[]; name=SYS_GEN__create_CRb_Service_dfbd64fa_e945_4304_b977_522594ec351d}",
                      "@{target_any_local_reference=; retries=0; description=; type=CALL_RUNBOOK; uuid=1a51f0d5-8cae-4f66-97e6-35f07e4ce2a8; child_tasks_local_reference_list=System.Object[]; state=ACTIVE; attrs=; timeout_secs=0; inherit_target=False; message_list=System.Object[]; variable_list=System.Object[]; name=SYS_GEN__start_CRb_Service_dfbd64fa_e945_4304_b977_522594ec351d}"
                    ],
                    "description": "",
                    "message_list": [],
                    "uuid": "5f548b52-d85d-4b23-b89b-b98532448b32",
                    "state": "ACTIVE",
                    "variable_list": [],
                    "main_task_local_reference": {
                      "kind": "app_task",
                      "name": "SYS_GEN__Composite_DAG_Deployment_2e6c95bd_ff55_41b9_bf29_3b6b64997995",
                      "uuid": "12863c77-7f76-4cb7-a4a3-0efbd5b3b68c"
                    },
                    "name": "SYS_GEN__Runbook_Deployment_2e6c95bd_ff55_41b9_bf29_3b6b64997995"
                  }
                },
                {
                  "description": "System action for starting an application",
                  "message_list": [],
                  "uuid": "bbf8a5b0-e872-458c-9a74-46c04017ef93",
                  "name": "action_start",
                  "state": "ACTIVE",
                  "critical": true,
                  "attrs": {},
                  "type": "system",
                  "runbook": {
                    "task_definition_list": [
                      "@{target_any_local_reference=; retries=0; description=; type=DAG; uuid=cd513dae-c288-4c12-88a9-f0468b21cb3a; child_tasks_local_reference_list=System.Object[]; state=ACTIVE; attrs=; timeout_secs=0; inherit_target=False; message_list=System.Object[]; variable_list=System.Object[]; name=SYS_GEN__Composite_DAG_Deployment_2e6c95bd_ff55_41b9_bf29_3b6b64997995}",
                      "@{target_any_local_reference=; retries=0; description=; type=CALL_RUNBOOK; uuid=1c65f141-ca1c-43dc-8d90-c3fe176cc303; child_tasks_local_reference_list=System.Object[]; state=ACTIVE; attrs=; timeout_secs=0; inherit_target=False; message_list=System.Object[]; variable_list=System.Object[]; name=SYS_GEN__start_CRb_Substrate_7814dfbd_e501_455a_b272_372c139e85bf}",
                      "@{target_any_local_reference=; retries=0; description=; type=CALL_RUNBOOK; uuid=d004b58f-722d-4ec2-9c8d-692b3958ffbe; child_tasks_local_reference_list=System.Object[]; state=ACTIVE; attrs=; timeout_secs=0; inherit_target=False; message_list=System.Object[]; variable_list=System.Object[]; name=SYS_GEN__start_CRb_Service_dfbd64fa_e945_4304_b977_522594ec351d}"
                    ],
                    "description": "",
                    "message_list": [],
                    "uuid": "98f1dee7-d49a-450e-b7ba-b22e52ee355b",
                    "state": "ACTIVE",
                    "variable_list": [],
                    "main_task_local_reference": {
                      "kind": "app_task",
                      "name": "SYS_GEN__Composite_DAG_Deployment_2e6c95bd_ff55_41b9_bf29_3b6b64997995",
                      "uuid": "cd513dae-c288-4c12-88a9-f0468b21cb3a"
                    },
                    "name": "SYS_GEN__Runbook_Deployment_2e6c95bd_ff55_41b9_bf29_3b6b64997995"
                  }
                },
                {
                  "description": "System action for restarting an application",
                  "message_list": [],
                  "uuid": "9e1d8df3-b404-4c4c-8e11-3ae63a671f69",
                  "name": "action_restart",
                  "state": "ACTIVE",
                  "critical": true,
                  "attrs": {},
                  "type": "system",
                  "runbook": {
                    "task_definition_list": [
                      "@{target_any_local_reference=; retries=0; description=; type=DAG; uuid=8dd6026d-7971-49f1-9f00-652f55a2c951; child_tasks_local_reference_list=System.Object[]; state=ACTIVE; attrs=; timeout_secs=0; inherit_target=False; message_list=System.Object[]; variable_list=System.Object[]; name=SYS_GEN__Composite_DAG_Deployment_2e6c95bd_ff55_41b9_bf29_3b6b64997995}",
                      "@{target_any_local_reference=; retries=0; description=; type=CALL_RUNBOOK; uuid=71a73b10-51c6-448e-a9bd-0ea0d340314c; child_tasks_local_reference_list=System.Object[]; state=ACTIVE; attrs=; timeout_secs=0; inherit_target=False; message_list=System.Object[]; variable_list=System.Object[]; name=SYS_GEN__restart_CRb_Substrate_7814dfbd_e501_455a_b272_372c139e85bf}",
                      "@{target_any_local_reference=; retries=0; description=; type=CALL_RUNBOOK; uuid=a900113a-169f-4e1b-931c-adaaecf4a973; child_tasks_local_reference_list=System.Object[]; state=ACTIVE; attrs=; timeout_secs=0; inherit_target=False; message_list=System.Object[]; variable_list=System.Object[]; name=SYS_GEN__restart_CRb_Service_dfbd64fa_e945_4304_b977_522594ec351d}"
                    ],
                    "description": "",
                    "message_list": [],
                    "uuid": "4baf7dcc-2b02-46b9-a52b-4532f96216c3",
                    "state": "ACTIVE",
                    "variable_list": [],
                    "main_task_local_reference": {
                      "kind": "app_task",
                      "name": "SYS_GEN__Composite_DAG_Deployment_2e6c95bd_ff55_41b9_bf29_3b6b64997995",
                      "uuid": "8dd6026d-7971-49f1-9f00-652f55a2c951"
                    },
                    "name": "SYS_GEN__Runbook_Deployment_2e6c95bd_ff55_41b9_bf29_3b6b64997995"
                  }
                },
                {
                  "description": "System action for stopping an application",
                  "message_list": [],
                  "uuid": "485b5586-d275-4874-b1f7-9931d7008cf5",
                  "name": "action_stop",
                  "state": "ACTIVE",
                  "critical": true,
                  "attrs": {},
                  "type": "system",
                  "runbook": {
                    "task_definition_list": [
                      "@{target_any_local_reference=; retries=0; description=; type=DAG; uuid=2fe7fe50-9955-423b-8605-a18353097a53; child_tasks_local_reference_list=System.Object[]; state=ACTIVE; attrs=; timeout_secs=0; inherit_target=False; message_list=System.Object[]; variable_list=System.Object[]; name=SYS_GEN__Composite_DAG_Deployment_2e6c95bd_ff55_41b9_bf29_3b6b64997995}",
                      "@{target_any_local_reference=; retries=0; description=; type=CALL_RUNBOOK; uuid=77b85d06-5e53-4f3a-9e7b-f8ca604d124b; child_tasks_local_reference_list=System.Object[]; state=ACTIVE; attrs=; timeout_secs=0; inherit_target=False; message_list=System.Object[]; variable_list=System.Object[]; name=SYS_GEN__stop_CRb_Service_dfbd64fa_e945_4304_b977_522594ec351d}",
                      "@{target_any_local_reference=; retries=0; description=; type=CALL_RUNBOOK; uuid=c7d456c2-1f59-4529-b3e8-634da97a939e; child_tasks_local_reference_list=System.Object[]; state=ACTIVE; attrs=; timeout_secs=0; inherit_target=False; message_list=System.Object[]; variable_list=System.Object[]; name=SYS_GEN__stop_CRb_Substrate_7814dfbd_e501_455a_b272_372c139e85bf}"
                    ],
                    "description": "",
                    "message_list": [],
                    "uuid": "aa90dc6c-9e24-4af7-ab89-fa531c5a0574",
                    "state": "ACTIVE",
                    "variable_list": [],
                    "main_task_local_reference": {
                      "kind": "app_task",
                      "name": "SYS_GEN__Composite_DAG_Deployment_2e6c95bd_ff55_41b9_bf29_3b6b64997995",
                      "uuid": "2fe7fe50-9955-423b-8605-a18353097a53"
                    },
                    "name": "SYS_GEN__Runbook_Deployment_2e6c95bd_ff55_41b9_bf29_3b6b64997995"
                  }
                },
                {
                  "description": "System action for deleting an application. Deletes created VMs as well",
                  "message_list": [],
                  "uuid": "63abe9c7-c606-495b-8a93-37940ae8056f",
                  "name": "action_delete",
                  "state": "ACTIVE",
                  "critical": true,
                  "attrs": {},
                  "type": "system",
                  "runbook": {
                    "task_definition_list": [
                      "@{target_any_local_reference=; retries=0; description=; type=DAG; uuid=2fa2931c-455c-4e3d-afca-d31f6fb8284c; child_tasks_local_reference_list=System.Object[]; state=ACTIVE; attrs=; timeout_secs=0; inherit_target=False; message_list=System.Object[]; variable_list=System.Object[]; name=SYS_GEN__Composite_DAG_Deployment_2e6c95bd_ff55_41b9_bf29_3b6b64997995}",
                      "@{target_any_local_reference=; retries=0; description=; type=CALL_RUNBOOK; uuid=415b1c9d-dcb3-4efb-abf7-8ce17d3d2843; child_tasks_local_reference_list=System.Object[]; state=ACTIVE; attrs=; timeout_secs=0; inherit_target=False; message_list=System.Object[]; variable_list=System.Object[]; name=SYS_GEN__stop_CRb_Service_dfbd64fa_e945_4304_b977_522594ec351d}",
                      "@{target_any_local_reference=; retries=0; description=; type=CALL_RUNBOOK; uuid=5ddc7f44-812f-42a6-aa7c-d39d85b74a8a; child_tasks_local_reference_list=System.Object[]; state=ACTIVE; attrs=; timeout_secs=0; inherit_target=False; message_list=System.Object[]; variable_list=System.Object[]; name=SYS_GEN__delete_CRb_Service_dfbd64fa_e945_4304_b977_522594ec351d}",
                      "@{target_any_local_reference=; retries=0; description=; type=CALL_RUNBOOK; uuid=f76d49c0-4fee-470b-b75d-6721b842e160; child_tasks_local_reference_list=System.Object[]; state=ACTIVE; attrs=; timeout_secs=0; inherit_target=False; message_list=System.Object[]; variable_list=System.Object[]; name=SYS_GEN__uninstall_CRb_Package_5ed15478_2c4f_4eca_99b5_9d39391e5800}",
                      "@{target_any_local_reference=; retries=0; description=; type=CALL_RUNBOOK; uuid=08351a14-dc45-451c-bc17-c9054877973c; child_tasks_local_reference_list=System.Object[]; state=ACTIVE; attrs=; timeout_secs=0; inherit_target=False; message_list=System.Object[]; variable_list=System.Object[]; name=SYS_GEN__delete_CRb_Substrate_7814dfbd_e501_455a_b272_372c139e85bf}",
                      "@{target_any_local_reference=; retries=0; description=; type=CALL_RUNBOOK; uuid=dda932e6-ea4c-46fe-a134-28f5e448c8c6; child_tasks_local_reference_list=System.Object[]; state=ACTIVE; attrs=; timeout_secs=0; inherit_target=False; message_list=System.Object[]; variable_list=System.Object[]; name=SYS_GEN__post_delete_CRb_Substrate_7814dfbd_e501_455a_b272_372c139e85bf}",
                      "@{target_any_local_reference=; retries=0; description=; type=DELETE_DEPLOYMENT_ELEMENT; uuid=2ffa1a36-d0be-4f58-9a2e-db122b806db2; child_tasks_local_reference_list=System.Object[]; state=ACTIVE; attrs=; timeout_secs=0; inherit_target=False; message_list=System.Object[]; variable_list=System.Object[]; name=SYS_GEN__DE_Delete_2e6c95bd_ff55_41b9_bf29_3b6b64997995}"
                    ],
                    "description": "",
                    "message_list": [],
                    "uuid": "ae269e38-8f02-400b-8d31-2e5adfe32c04",
                    "state": "ACTIVE",
                    "variable_list": [],
                    "main_task_local_reference": {
                      "kind": "app_task",
                      "name": "SYS_GEN__Composite_DAG_Deployment_2e6c95bd_ff55_41b9_bf29_3b6b64997995",
                      "uuid": "2fa2931c-455c-4e3d-afca-d31f6fb8284c"
                    },
                    "name": "SYS_GEN__Runbook_Deployment_2e6c95bd_ff55_41b9_bf29_3b6b64997995"
                  }
                },
                {
                  "description": "System action for scaleout",
                  "message_list": [],
                  "uuid": "896637ed-964c-4ca6-a05f-5920568190b7",
                  "name": "action_scaleout",
                  "state": "ACTIVE",
                  "critical": true,
                  "attrs": {},
                  "type": "system",
                  "runbook": {
                    "task_definition_list": [
                      "@{target_any_local_reference=; retries=0; description=; type=DAG; uuid=99c693af-d488-4951-bf80-ff22f9f09497; child_tasks_local_reference_list=System.Object[]; state=ACTIVE; attrs=; timeout_secs=0; inherit_target=False; message_list=System.Object[]; variable_list=System.Object[]; name=SYS_GEN__Composite_DAG_Deployment_2e6c95bd_ff55_41b9_bf29_3b6b64997995}",
                      "@{target_any_local_reference=; retries=0; description=; type=SCALING; uuid=775a4077-75b0-4730-bd76-cfad3b3b5d50; child_tasks_local_reference_list=System.Object[]; state=ACTIVE; attrs=; timeout_secs=0; inherit_target=False; message_list=System.Object[]; variable_list=System.Object[]; name=SYS_GEN__Deployment_Scaleout_2e6c95bd_ff55_41b9_bf29_3b6b64997995}"
                    ],
                    "description": "",
                    "message_list": [],
                    "uuid": "4d602fa0-18ed-4567-a00c-00fb4b929d3c",
                    "state": "ACTIVE",
                    "variable_list": [
                      "@{regex=; val_type=STRING; is_mandatory=False; description=; data_type=BASE; message_list=System.Object[]; uuid=b3043044-cd76-48fa-bebf-f55894e602d6; value=0; label=; state=NOT_VALIDATED; attrs=; editables=; is_hidden=False; type=LOCAL; options=; name=scaling_count}"
                    ],
                    "main_task_local_reference": {
                      "kind": "app_task",
                      "name": "SYS_GEN__Composite_DAG_Deployment_2e6c95bd_ff55_41b9_bf29_3b6b64997995",
                      "uuid": "99c693af-d488-4951-bf80-ff22f9f09497"
                    },
                    "name": "SYS_GEN__Runbook_Deployment_2e6c95bd_ff55_41b9_bf29_3b6b64997995"
                  }
                },
                {
                  "description": "System action for scalein",
                  "message_list": [],
                  "uuid": "2288c07e-be81-46f7-a238-1336d9bf9518",
                  "name": "action_scalein",
                  "state": "ACTIVE",
                  "critical": true,
                  "attrs": {},
                  "type": "system",
                  "runbook": {
                    "task_definition_list": [
                      "@{target_any_local_reference=; retries=0; description=; type=DAG; uuid=565f9e3b-d300-4a04-9480-60d89b28cb97; child_tasks_local_reference_list=System.Object[]; state=ACTIVE; attrs=; timeout_secs=0; inherit_target=False; message_list=System.Object[]; variable_list=System.Object[]; name=SYS_GEN__Composite_DAG_Deployment_2e6c95bd_ff55_41b9_bf29_3b6b64997995}",
                      "@{target_any_local_reference=; retries=0; description=; type=SCALING; uuid=1590a4d0-e85d-4d41-811a-9c30b0229c1a; child_tasks_local_reference_list=System.Object[]; state=ACTIVE; attrs=; timeout_secs=0; inherit_target=False; message_list=System.Object[]; variable_list=System.Object[]; name=SYS_GEN__Deployment_Scalein_2e6c95bd_ff55_41b9_bf29_3b6b64997995}"
                    ],
                    "description": "",
                    "message_list": [],
                    "uuid": "671abdc7-3fc9-483a-96f1-ceb59dca8ef1",
                    "state": "ACTIVE",
                    "variable_list": [
                      "@{regex=; val_type=STRING; is_mandatory=False; description=; data_type=BASE; message_list=System.Object[]; uuid=ec7842ce-f360-420d-9d30-0f628f5f89ae; value=0; label=; state=NOT_VALIDATED; attrs=; editables=; is_hidden=False; type=LOCAL; options=; name=scaling_count}"
                    ],
                    "main_task_local_reference": {
                      "kind": "app_task",
                      "name": "SYS_GEN__Composite_DAG_Deployment_2e6c95bd_ff55_41b9_bf29_3b6b64997995",
                      "uuid": "565f9e3b-d300-4a04-9480-60d89b28cb97"
                    },
                    "name": "SYS_GEN__Runbook_Deployment_2e6c95bd_ff55_41b9_bf29_3b6b64997995"
                  }
                },
                {
                  "description": "System action for deleting an application. Does not delete created VMs",
                  "message_list": [],
                  "uuid": "75293e7f-cfae-4a2a-96d3-db2af180a7d7",
                  "name": "action_soft_delete",
                  "state": "ACTIVE",
                  "critical": true,
                  "attrs": {},
                  "type": "system",
                  "runbook": {
                    "task_definition_list": [
                      "@{target_any_local_reference=; retries=0; description=; type=DAG; uuid=7e36da44-aae0-4cab-9ca4-38302a4e7ed3; child_tasks_local_reference_list=System.Object[]; state=ACTIVE; attrs=; timeout_secs=0; inherit_target=False; message_list=System.Object[]; variable_list=System.Object[]; name=SYS_GEN__Composite_DAG_Deployment_2e6c95bd_ff55_41b9_bf29_3b6b64997995}",
                      "@{target_any_local_reference=; retries=0; description=; type=CALL_RUNBOOK; uuid=7b376395-21bc-43b2-919d-611540cdbe8a; child_tasks_local_reference_list=System.Object[]; state=ACTIVE; attrs=; timeout_secs=0; inherit_target=False; message_list=System.Object[]; variable_list=System.Object[]; name=SYS_GEN__soft_delete_CRb_Service_dfbd64fa_e945_4304_b977_522594ec351d}",
                      "@{target_any_local_reference=; retries=0; description=; type=SOFT_DELETE_ELEMENT; uuid=95e0936b-22ca-44e7-b881-b2ba3b690632; child_tasks_local_reference_list=System.Object[]; state=ACTIVE; attrs=; timeout_secs=0; inherit_target=False; message_list=System.Object[]; variable_list=System.Object[]; name=SYS_GEN__Package_Element_Delete_5ed15478_2c4f_4eca_99b5_9d39391e5800}",
                      "@{target_any_local_reference=; retries=0; description=; type=CALL_RUNBOOK; uuid=148305ba-a099-4b50-9e95-78ce8ab03790; child_tasks_local_reference_list=System.Object[]; state=ACTIVE; attrs=; timeout_secs=0; inherit_target=False; message_list=System.Object[]; variable_list=System.Object[]; name=SYS_GEN__soft_delete_CRb_Substrate_7814dfbd_e501_455a_b272_372c139e85bf}",
                      "@{target_any_local_reference=; retries=0; description=; type=SOFT_DELETE_DEPLOYMENT_ELEMENT; uuid=b65b0f63-5f66-4f84-8ab7-793e2df6cc0d; child_tasks_local_reference_list=System.Object[]; state=ACTIVE; attrs=; timeout_secs=0; inherit_target=False; message_list=System.Object[]; variable_list=System.Object[]; name=SYS_GEN__DE_Soft_Delete_2e6c95bd_ff55_41b9_bf29_3b6b64997995}"
                    ],
                    "description": "",
                    "message_list": [],
                    "uuid": "c7d93b3d-45a2-4014-853d-cb3e9098feac",
                    "state": "ACTIVE",
                    "variable_list": [],
                    "main_task_local_reference": {
                      "kind": "app_task",
                      "name": "SYS_GEN__Composite_DAG_Deployment_2e6c95bd_ff55_41b9_bf29_3b6b64997995",
                      "uuid": "7e36da44-aae0-4cab-9ca4-38302a4e7ed3"
                    },
                    "name": "SYS_GEN__Runbook_Deployment_2e6c95bd_ff55_41b9_bf29_3b6b64997995"
                  }
                },
                {
                  "description": "System action for snapshot deletion",
                  "message_list": [],
                  "uuid": "d996ee58-a0fb-4f2d-8a04-ab1ec7106423",
                  "name": "action_snapshot_delete",
                  "state": "ACTIVE",
                  "critical": true,
                  "attrs": {},
                  "type": "system",
                  "runbook": {
                    "task_definition_list": [
                      "@{target_any_local_reference=; retries=0; description=; type=DAG; uuid=5ebc2b11-6314-422c-92da-0497b7b121ef; child_tasks_local_reference_list=System.Object[]; state=ACTIVE; attrs=; timeout_secs=0; inherit_target=False; message_list=System.Object[]; variable_list=System.Object[]; name=SYS_GEN__Composite_DAG_Deployment_2e6c95bd_ff55_41b9_bf29_3b6b64997995}",
                      "@{target_any_local_reference=; retries=0; description=; type=CALL_RUNBOOK; uuid=c7c534e9-c0cf-4fbe-adc9-b2926b847551; child_tasks_local_reference_list=System.Object[]; state=ACTIVE; attrs=; timeout_secs=0; inherit_target=False; message_list=System.Object[]; variable_list=System.Object[]; name=SYS_GEN__snapshot_delete_CRb_Substrate_7814dfbd_e501_455a_b272_372c139e85bf}"
                    ],
                    "description": "",
                    "message_list": [],
                    "uuid": "307350fa-1aec-40fb-bdd0-2a3d2940f9d8",
                    "state": "ACTIVE",
                    "variable_list": [
                      "@{regex=; val_type=STRING; is_mandatory=False; description=; data_type=BASE; message_list=System.Object[]; uuid=51003e61-5b56-4b37-9609-6ad1abfeb581; value=; label=; state=NOT_VALIDATED; attrs=; editables=; is_hidden=False; type=LOCAL; options=; name=snapshot_id}",
                      "@{regex=; val_type=STRING; is_mandatory=False; description=; data_type=BASE; message_list=System.Object[]; uuid=0560ed59-ed0c-4888-a593-bfae0aef48c5; value=; label=; state=NOT_VALIDATED; attrs=; editables=; is_hidden=False; type=LOCAL; options=; name=snapshot_group_id}"
                    ],
                    "main_task_local_reference": {
                      "kind": "app_task",
                      "name": "SYS_GEN__Composite_DAG_Deployment_2e6c95bd_ff55_41b9_bf29_3b6b64997995",
                      "uuid": "5ebc2b11-6314-422c-92da-0497b7b121ef"
                    },
                    "name": "SYS_GEN__Runbook_Deployment_2e6c95bd_ff55_41b9_bf29_3b6b64997995"
                  }
                }
              ],
              "message_list": [],
              "published_service_local_reference_list": [],
              "uuid": "2e6c95bd-ff55-41b9-bf29-3b6b64997995",
              "default_replicas": "1",
              "min_replicas": "1",
              "state": "ACTIVE",
              "max_replicas": "1",
              "depends_on_list": [],
              "editables": {},
              "package_local_reference_list": [
                {
                  "kind": "app_package",
                  "name": "DATABASE_ENV_PREPARATION",
                  "uuid": "5ed15478-2c4f-4eca-99b5-9d39391e5800"
                }
              ],
              "substrate_local_reference": {
                "kind": "app_substrate",
                "name": "database_motor_version",
                "uuid": "7814dfbd-e501-455a-b272-372c139e85bf"
              },
              "type": "GREENFIELD",
              "options": {},
              "variable_list": [],
              "name": "943b25b7_deployment"
            }
          ],
          "environment_reference_list": [],
          "application_url": "",
          "description": "",
          "action_list": [
            {
              "description": "Define Customer Specific Configurations",
              "message_list": [],
              "uuid": "07f842cc-4c1f-465a-85a1-fab651ff6bc1",
              "name": "CustomerOperations",
              "state": "ACTIVE",
              "critical": false,
              "attrs": {},
              "type": "user",
              "runbook": {
                "task_definition_list": [
                  {
                    "retries": "0",
                    "description": "",
                    "type": "DAG",
                    "uuid": "d0298bfe-f5ae-409e-bb6b-f712de8cf8bb",
                    "child_tasks_local_reference_list": [
                      "@{kind=app_task; name=ClientCustom; uuid=6b2ee1fb-158a-4e1b-9a8d-43a96a74a8c3}"
                    ],
                    "state": "ACTIVE",
                    "attrs": {
                      "edges": "",
                      "type": ""
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "faee1b47_dag"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_service",
                      "name": "DATABASE_MOTOR_VERSION",
                      "uuid": "dfbd64fa-e945-4304-b977-522594ec351d"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "EXEC",
                    "uuid": "6b2ee1fb-158a-4e1b-9a8d-43a96a74a8c3",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "exit_status": "",
                      "script": "#!/bin/bash\n\nsudo mkdir -p /tools/add-security/{bin,etc,log}\nsudo chown -R era:era /tools\n\necho \"\"\necho \"@@{database_motor}@@ - @@{database_version}@@ : INSTALL CUSTOMER SPECIFICS\"\necho \"\"\nsubscription-manager register --username=\"@@{cred_rhel_username}@@\" --password=\"@@{cred_rhel_password}@@\" --force\nsubscription-manager attach --pool=\"@@{rhel_subscription}@@\"\n\n\n#Pre-reqs app1\nsudo yum install -y ksh\nsudo yum install -y sssd\n\n#Customer Specific Parameters\necho 'export TMOUT=300' | sudo tee /etc/profile.d/tmout.sh\necho 'setenv TMOUT 300' | sudo tee /etc/profile.d/tmout.csh\n\n#Enable And Configure Motd\necho '\n\n ▄▄▄▄▄▄▄▄▄▄▄  ▄▄▄▄▄▄▄▄▄▄▄  ▄▄▄▄▄▄▄▄▄▄▄  ▄▄▄▄▄▄▄▄▄▄▄  ▄            ▄▄▄▄▄▄▄▄▄▄▄          ▄▄▄▄      ▄▄▄▄▄▄▄▄▄▄▄  ▄▄▄▄▄▄▄▄▄▄▄                                                                                                                                                  \n▐░░░░░░░░░░░▌▐░░░░░░░░░░░▌▐░░░░░░░░░░░▌▐░░░░░░░░░░░▌▐░▌          ▐░░░░░░░░░░░▌       ▄█░░░░▌    ▐░░░░░░░░░░░▌▐░░░░░░░░░░░▌                                                                                                                                                 \n▐░█▀▀▀▀▀▀▀█░▌▐░█▀▀▀▀▀▀▀█░▌▐░█▀▀▀▀▀▀▀█░▌▐░█▀▀▀▀▀▀▀▀▀ ▐░▌          ▐░█▀▀▀▀▀▀▀▀▀       ▐░░▌▐░░▌     ▀▀▀▀▀▀▀▀▀█░▌▐░█▀▀▀▀▀▀▀▀▀                                                                                                                                                  \n▐░▌       ▐░▌▐░▌       ▐░▌▐░▌       ▐░▌▐░▌          ▐░▌          ▐░▌                 ▀▀ ▐░░▌              ▐░▌▐░▌                                                                                                                                                           \n▐░▌       ▐░▌▐░█▄▄▄▄▄▄▄█░▌▐░█▄▄▄▄▄▄▄█░▌▐░▌          ▐░▌          ▐░█▄▄▄▄▄▄▄▄▄           ▐░░▌              ▐░▌▐░▌                                                                                                                                                           \n▐░▌       ▐░▌▐░░░░░░░░░░░▌▐░░░░░░░░░░░▌▐░▌          ▐░▌          ▐░░░░░░░░░░░▌          ▐░░▌     ▄▄▄▄▄▄▄▄▄█░▌▐░▌                                                                                                                                                           \n▐░▌       ▐░▌▐░█▀▀▀▀█░█▀▀ ▐░█▀▀▀▀▀▀▀█░▌▐░▌          ▐░▌          ▐░█▀▀▀▀▀▀▀▀▀           ▐░░▌    ▐░░░░░░░░░░░▌▐░▌                                                                                                                                                           \n▐░▌       ▐░▌▐░▌     ▐░▌  ▐░▌       ▐░▌▐░▌          ▐░▌          ▐░▌                    ▐░░▌    ▐░█▀▀▀▀▀▀▀▀▀ ▐░▌                                                                                                                                                           \n▐░█▄▄▄▄▄▄▄█░▌▐░▌      ▐░▌ ▐░▌       ▐░▌▐░█▄▄▄▄▄▄▄▄▄ ▐░█▄▄▄▄▄▄▄▄▄ ▐░█▄▄▄▄▄▄▄▄▄       ▄▄▄▄█░░█▄▄▄ ▐░█▄▄▄▄▄▄▄▄▄ ▐░█▄▄▄▄▄▄▄▄▄                                                                                                                                                  \n▐░░░░░░░░░░░▌▐░▌       ▐░▌▐░▌       ▐░▌▐░░░░░░░░░░░▌▐░░░░░░░░░░░▌▐░░░░░░░░░░░▌     ▐░░░░░░░░░░░▌▐░░░░░░░░░░░▌▐░░░░░░░░░░░▌                                                                                                                                                 \n ▀▀▀▀▀▀▀▀▀▀▀  ▀         ▀  ▀         ▀  ▀▀▀▀▀▀▀▀▀▀▀  ▀▀▀▀▀▀▀▀▀▀▀  ▀▀▀▀▀▀▀▀▀▀▀       ▀▀▀▀▀▀▀▀▀▀▀  ▀▀▀▀▀▀▀▀▀▀▀  ▀▀▀▀▀▀▀▀▀▀▀                                                                                                                                                  \n                                                                                                                                                                                                                                                                           \n                                              ▄▄▄▄▄▄▄▄▄▄▄  ▄▄▄▄▄▄▄▄▄▄▄                                                                                                                                                                                                     \n                                             ▐░░░░░░░░░░░▌▐░░░░░░░░░░░▌                                                                                                                                                                                                    \n                                             ▐░█▀▀▀▀▀▀▀▀▀  ▀▀▀▀█░█▀▀▀▀                                                                                                                                                                                                     \n                                             ▐░▌               ▐░▌                                                                                                                                                                                                         \n                                             ▐░█▄▄▄▄▄▄▄▄▄      ▐░▌                                                                                                                                                                                                         \n                                             ▐░░░░░░░░░░░▌     ▐░▌                                                                                                                                                                                                         \n                                              ▀▀▀▀▀▀▀▀▀█░▌     ▐░▌                                                                                                                                                                                                         \n                                                       ▐░▌     ▐░▌                                                                                                                                                                                                         \n                                              ▄▄▄▄▄▄▄▄▄█░▌ ▄▄▄▄█░█▄▄▄▄                                                                                                                                                                                                     \n                                             ▐░░░░░░░░░░░▌▐░░░░░░░░░░░▌                                                                                                                                                                                                    \n                                              ▀▀▀▀▀▀▀▀▀▀▀  ▀▀▀▀▀▀▀▀▀▀▀                                                                                                                                                                                                     \n                                                                                                                                                                                                                                                                           \n                                         ▄▄▄▄▄▄▄▄▄▄▄  ▄▄▄▄▄▄▄▄▄▄▄  ▄▄▄▄▄▄▄▄▄▄▄                                                                                                                                                                                             \n                                        ▐░░░░░░░░░░░▌▐░░░░░░░░░░░▌▐░░░░░░░░░░░▌                                                                                                                                                                                            \n                                        ▐░█▀▀▀▀▀▀▀▀▀ ▐░█▀▀▀▀▀▀▀█░▌▐░█▀▀▀▀▀▀▀█░▌                                                                                                                                                                                            \n                                        ▐░▌          ▐░▌       ▐░▌▐░▌       ▐░▌                                                                                                                                                                                            \n                                        ▐░█▄▄▄▄▄▄▄▄▄ ▐░█▄▄▄▄▄▄▄█░▌▐░█▄▄▄▄▄▄▄█░▌                                                                                                                                                                                            \n                                        ▐░░░░░░░░░░░▌▐░░░░░░░░░░░▌▐░░░░░░░░░░░▌                                                                                                                                                                                            \n                                        ▐░█▀▀▀▀▀▀▀▀▀ ▐░█▀▀▀▀█░█▀▀ ▐░█▀▀▀▀▀▀▀█░▌                                                                                                                                                                                            \n                                        ▐░▌          ▐░▌     ▐░▌  ▐░▌       ▐░▌                                                                                                                                                                                            \n                                        ▐░█▄▄▄▄▄▄▄▄▄ ▐░▌      ▐░▌ ▐░▌       ▐░▌                                                                                                                                                                                            \n                                        ▐░░░░░░░░░░░▌▐░▌       ▐░▌▐░▌       ▐░▌                                                                                                                                                                                            \n                                         ▀▀▀▀▀▀▀▀▀▀▀  ▀         ▀  ▀         ▀                                                                                                                                                                                             \n                                                                                          \n                                                                                                                                                                                                                                                                \n                                                                                                                                                                                                 \n                                                                                                                                  \n ' | sudo tee /etc/motd   \n \n subscription-manager unregister\n                                                                                                                                                                                                                \n\nexit ",
                      "script_type": "sh",
                      "type": "",
                      "command_line_args": "",
                      "login_credential_local_reference": "@{kind=app_credential; name=cred_root; uuid=255d2590-be05-40bd-a657-0619a47ddece}"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "ClientCustom"
                  }
                ],
                "description": "",
                "message_list": [],
                "uuid": "f039460f-1d33-4ed6-a3fd-5ca52622a216",
                "state": "ACTIVE",
                "variable_list": [],
                "main_task_local_reference": {
                  "kind": "app_task",
                  "name": "faee1b47_dag",
                  "uuid": "d0298bfe-f5ae-409e-bb6b-f712de8cf8bb"
                },
                "name": "a7dc4155_runbook"
              }
            },
            {
              "description": "Automatic Replacement Based On Customer Requirement",
              "message_list": [],
              "uuid": "21ea3a5b-aa98-4ab6-964b-e5ee556c292d",
              "name": "ReplaceNtpDns",
              "state": "ACTIVE",
              "critical": false,
              "attrs": {},
              "type": "user",
              "runbook": {
                "task_definition_list": [
                  {
                    "retries": "0",
                    "description": "",
                    "type": "DAG",
                    "uuid": "d7cfac17-edbf-495d-a945-fb2c8c72f09f",
                    "child_tasks_local_reference_list": [
                      "@{kind=app_task; name=ScriptPostInfraFilesCustomisation; uuid=db75fce3-dbe7-4299-b709-9ad6b44a2bf0}"
                    ],
                    "state": "ACTIVE",
                    "attrs": {
                      "edges": "",
                      "type": ""
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "672ab0f8_dag"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_service",
                      "name": "DATABASE_MOTOR_VERSION",
                      "uuid": "dfbd64fa-e945-4304-b977-522594ec351d"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "EXEC",
                    "uuid": "db75fce3-dbe7-4299-b709-9ad6b44a2bf0",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "script_type": "sh",
                      "type": "",
                      "command_line_args": "",
                      "exit_status": "",
                      "script": "#!/bin/bash\n\nsudo rm /etc/chrony.conf\n\necho '\n# Initial chrony.conf Calm Automation Configuration\nserver @@{SrvNtp1}@@ iburst\nserver @@{SrvNtp2}@@ iburst\n\n\n# Record the rate at which the system clock gains/losses time.\ndriftfile /var/lib/chrony/drift\n\n# Allow the system clock to be stepped in the first three updates\n# if its offset is larger than 1 second.\nmakestep 1.0 3\n\n# Enable kernel synchronization of the real-time clock (RTC).\nrtcsync\n\n# Increase the minimum number of selectable sources required to adjust\n# the system clock.\nminsources 2\n\n# Specify directory for log files.\nlogdir /var/log/chrony ' | sudo tee /etc/chrony.conf\n\nsudo rm /etc/resolv.conf\necho '\n# Initial resolv.conf Calm Automation Configuration\nsearch @@{DnsSearchList}@@\nnameserver @@{SrvDns1}@@\nnameserver @@{SrvDns2}@@\n' | sudo tee /etc/resolv.conf\n\nexit 0"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "ScriptPostInfraFilesCustomisation"
                  }
                ],
                "description": "",
                "message_list": [],
                "uuid": "e7e0ac4f-c516-4720-887c-cf13773ea3b8",
                "state": "ACTIVE",
                "variable_list": [
                  {
                    "regex": {},
                    "val_type": "STRING",
                    "is_mandatory": false,
                    "description": "",
                    "data_type": "BASE",
                    "message_list": [],
                    "uuid": "ce5d1339-8d69-468d-86ca-1331eb622665",
                    "value": "1.pool.ntp.org",
                    "label": "",
                    "state": "ACTIVE",
                    "attrs": {
                      "type": ""
                    },
                    "editables": {
                      "value": true
                    },
                    "is_hidden": false,
                    "type": "LOCAL",
                    "options": {
                      "type": "PREDEFINED",
                      "choices": ""
                    },
                    "name": "SrvNtp2"
                  },
                  {
                    "regex": {},
                    "val_type": "STRING",
                    "is_mandatory": false,
                    "description": "",
                    "data_type": "BASE",
                    "message_list": [],
                    "uuid": "802e3ec3-d740-4d20-80d0-98f15ea8755f",
                    "value": "0.pool.ntp.org",
                    "label": "",
                    "state": "ACTIVE",
                    "attrs": {
                      "type": ""
                    },
                    "editables": {
                      "value": true
                    },
                    "is_hidden": false,
                    "type": "LOCAL",
                    "options": {
                      "type": "PREDEFINED",
                      "choices": ""
                    },
                    "name": "SrvNtp1"
                  },
                  {
                    "regex": {},
                    "val_type": "STRING",
                    "is_mandatory": false,
                    "description": "",
                    "data_type": "BASE",
                    "message_list": [],
                    "uuid": "5188b956-3d48-4919-a618-11c9fdcc3755",
                    "value": "8.8.8.8",
                    "label": "",
                    "state": "ACTIVE",
                    "attrs": {
                      "type": ""
                    },
                    "editables": {
                      "value": true
                    },
                    "is_hidden": false,
                    "type": "LOCAL",
                    "options": {
                      "type": "PREDEFINED",
                      "choices": ""
                    },
                    "name": "SrvDns2"
                  },
                  {
                    "regex": {},
                    "val_type": "STRING",
                    "is_mandatory": false,
                    "description": "",
                    "data_type": "BASE",
                    "message_list": [],
                    "uuid": "57c8fd6b-1252-4253-b2d4-b42928e36361",
                    "value": "1.1.1.1",
                    "label": "",
                    "state": "ACTIVE",
                    "attrs": {
                      "type": ""
                    },
                    "editables": {
                      "value": true
                    },
                    "is_hidden": false,
                    "type": "LOCAL",
                    "options": {
                      "type": "PREDEFINED",
                      "choices": ""
                    },
                    "name": "SrvDns1"
                  },
                  {
                    "regex": {},
                    "val_type": "STRING",
                    "is_mandatory": false,
                    "description": "",
                    "data_type": "BASE",
                    "message_list": [],
                    "uuid": "ce95b951-ae7f-42f2-a251-d6b868f64c88",
                    "value": "mydns.com",
                    "label": "",
                    "state": "ACTIVE",
                    "attrs": {
                      "type": ""
                    },
                    "editables": {
                      "value": true
                    },
                    "is_hidden": false,
                    "type": "LOCAL",
                    "options": {
                      "type": "PREDEFINED",
                      "choices": ""
                    },
                    "name": "DnsSearchList"
                  }
                ],
                "main_task_local_reference": {
                  "kind": "app_task",
                  "name": "672ab0f8_dag",
                  "uuid": "d7cfac17-edbf-495d-a945-fb2c8c72f09f"
                },
                "name": "a5aa6653_runbook"
              }
            },
            {
              "description": "",
              "message_list": [],
              "uuid": "76fbca7c-717b-4f4c-8840-83a248aaf211",
              "name": "Hardening_NV",
              "state": "ACTIVE",
              "critical": false,
              "attrs": {},
              "type": "user",
              "runbook": {
                "task_definition_list": [
                  {
                    "retries": "0",
                    "description": "",
                    "type": "DAG",
                    "uuid": "974125ce-4451-4d87-a68a-ef66b9d9a133",
                    "child_tasks_local_reference_list": [
                      "@{kind=app_task; name=DisabledSshRootLogin; uuid=e651404f-5227-41d6-be11-8e1b8748fba1}"
                    ],
                    "state": "ACTIVE",
                    "attrs": {
                      "edges": "",
                      "type": ""
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "2ad70c93_dag"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_service",
                      "name": "DATABASE_MOTOR_VERSION",
                      "uuid": "dfbd64fa-e945-4304-b977-522594ec351d"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "EXEC",
                    "uuid": "e651404f-5227-41d6-be11-8e1b8748fba1",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "exit_status": "",
                      "script": "#!/bin/bash\n\necho \"------------------------------------------------------------------------------\"\necho \"   @@{database_motor}@@ - @@{database_version}@@ : DISABLE SSH ACCESS ROOT    \"\necho \"------------------------------------------------------------------------------\"\nsudo sed -i 's/PermitRootLogin yes/PermitRootLogin no/g' /etc/ssh/sshd_config\n\nexit",
                      "script_type": "sh",
                      "type": "",
                      "command_line_args": "",
                      "login_credential_local_reference": "@{kind=app_credential; name=cred_root; uuid=255d2590-be05-40bd-a657-0619a47ddece}"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "DisabledSshRootLogin"
                  }
                ],
                "description": "",
                "message_list": [],
                "uuid": "4b21c4a5-45ce-43de-a0b2-926881d52112",
                "state": "ACTIVE",
                "variable_list": [],
                "main_task_local_reference": {
                  "kind": "app_task",
                  "name": "2ad70c93_dag",
                  "uuid": "974125ce-4451-4d87-a68a-ef66b9d9a133"
                },
                "name": "6321e28b_runbook"
              }
            },
            {
              "description": "",
              "message_list": [],
              "uuid": "45f41a44-c3c8-4087-ac55-03289fafe04f",
              "name": "RegisterToNbd",
              "state": "ACTIVE",
              "critical": false,
              "attrs": {},
              "type": "user",
              "runbook": {
                "task_definition_list": [
                  {
                    "retries": "0",
                    "description": "",
                    "type": "DAG",
                    "uuid": "df834149-7b89-4365-a9b3-c6d5d2e52070",
                    "child_tasks_local_reference_list": [
                      "@{kind=app_task; name=RegisterDbServerToEra; uuid=194966f4-26d1-4caa-83d3-5f94b1bc84df}"
                    ],
                    "state": "ACTIVE",
                    "attrs": {
                      "edges": "",
                      "type": ""
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "1b5f6fb9_dag"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_service",
                      "name": "DATABASE_MOTOR_VERSION",
                      "uuid": "dfbd64fa-e945-4304-b977-522594ec351d"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "CALL_RUNBOOK",
                    "uuid": "194966f4-26d1-4caa-83d3-5f94b1bc84df",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "inarg_list": "",
                      "type": "CALL_RUNBOOK",
                      "runbook_reference": "@{kind=app_runbook; name=6da83e51_runbook; uuid=0e8d2fce-5a18-4ba3-a7ae-c4f60f569caa}"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "RegisterDbServerToEra"
                  }
                ],
                "description": "",
                "message_list": [],
                "uuid": "f54f99bd-9db0-47e5-8461-34465c895cac",
                "state": "ACTIVE",
                "variable_list": [],
                "main_task_local_reference": {
                  "kind": "app_task",
                  "name": "1b5f6fb9_dag",
                  "uuid": "df834149-7b89-4365-a9b3-c6d5d2e52070"
                },
                "name": "703863fe_runbook"
              }
            },
            {
              "description": "System action for creating an application",
              "message_list": [],
              "uuid": "bdf3d0ef-1a59-4687-b64b-7ced897be3bb",
              "name": "action_create",
              "state": "ACTIVE",
              "critical": true,
              "attrs": {},
              "type": "system",
              "runbook": {
                "task_definition_list": [
                  {
                    "target_any_local_reference": {
                      "kind": "app_profile",
                      "name": "NUTANIX",
                      "uuid": "f8f089a4-f820-4a49-aaa1-98b8df19c4f5"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "DAG",
                    "uuid": "696daa7c-22a9-4208-8303-5e4694af4a3a",
                    "child_tasks_local_reference_list": [
                      "@{kind=app_task; name=SYS_GEN__DE_Provision_2e6c95bd_ff55_41b9_bf29_3b6b64997995; uuid=5736704d-33d9-4987-bf8e-ea314d95f977}",
                      "@{kind=app_task; name=SYS_GEN__pre_create_CRb_Substrate_7814dfbd_e501_455a_b272_372c139e85bf; uuid=98dec8d1-f21d-4ce2-9a4c-776effc5d055}",
                      "@{kind=app_task; name=SYS_GEN__create_CRb_Substrate_7814dfbd_e501_455a_b272_372c139e85bf; uuid=64822112-5184-4f7a-ae8d-594b309032e6}",
                      "@{kind=app_task; name=SYS_GEN__install_CRb_Package_5ed15478_2c4f_4eca_99b5_9d39391e5800; uuid=4152d0b9-09db-498c-b31c-48150b54c5eb}",
                      "@{kind=app_task; name=SYS_GEN__create_CRb_Service_dfbd64fa_e945_4304_b977_522594ec351d; uuid=22b77a65-99b8-40cc-8b51-1e181f7d3114}",
                      "@{kind=app_task; name=SYS_GEN__start_CRb_Service_dfbd64fa_e945_4304_b977_522594ec351d; uuid=cad6fb03-f194-4083-84cb-382e700b62ed}"
                    ],
                    "state": "ACTIVE",
                    "attrs": {
                      "edges": "    ",
                      "type": "DAG"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__Composite_DAG_Application_f8f089a4_f820_4a49_aaa1_98b8df19c4f5"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_blueprint_deployment",
                      "name": "943b25b7_deployment",
                      "uuid": "2e6c95bd-ff55-41b9-bf29-3b6b64997995"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "CREATE_DEPLOYMENT_ELEMENT",
                    "uuid": "5736704d-33d9-4987-bf8e-ea314d95f977",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "type": ""
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__DE_Provision_2e6c95bd_ff55_41b9_bf29_3b6b64997995"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_substrate",
                      "name": "database_motor_version",
                      "uuid": "7814dfbd-e501-455a-b272-372c139e85bf"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "CALL_RUNBOOK",
                    "uuid": "98dec8d1-f21d-4ce2-9a4c-776effc5d055",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "inarg_list": "",
                      "deployment_reference": "@{kind=app_blueprint_deployment; name=943b25b7_deployment; uuid=2e6c95bd-ff55-41b9-bf29-3b6b64997995}",
                      "type": "CALL_RUNBOOK",
                      "runbook_reference": "@{kind=app_runbook; name=cdcc60b3_runbook; uuid=dc40732e-5f8e-467c-abe9-0c2af0c64490}"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__pre_create_CRb_Substrate_7814dfbd_e501_455a_b272_372c139e85bf"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_substrate",
                      "name": "database_motor_version",
                      "uuid": "7814dfbd-e501-455a-b272-372c139e85bf"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "CALL_RUNBOOK",
                    "uuid": "64822112-5184-4f7a-ae8d-594b309032e6",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "inarg_list": "",
                      "deployment_reference": "@{kind=app_blueprint_deployment; name=943b25b7_deployment; uuid=2e6c95bd-ff55-41b9-bf29-3b6b64997995}",
                      "type": "CALL_RUNBOOK",
                      "runbook_reference": "@{kind=app_runbook; name=SYS_GEN__Runbook_Substrate_7814dfbd_e501_455a_b272_372c139e85bf; uuid=ac527b3f-fd71-4818-adb7-80815b7f223a}"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__create_CRb_Substrate_7814dfbd_e501_455a_b272_372c139e85bf"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_package",
                      "name": "DATABASE_ENV_PREPARATION",
                      "uuid": "5ed15478-2c4f-4eca-99b5-9d39391e5800"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "CALL_RUNBOOK",
                    "uuid": "4152d0b9-09db-498c-b31c-48150b54c5eb",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "inarg_list": "",
                      "deployment_reference": "@{kind=app_blueprint_deployment; name=943b25b7_deployment; uuid=2e6c95bd-ff55-41b9-bf29-3b6b64997995}",
                      "type": "CALL_RUNBOOK",
                      "runbook_reference": "@{kind=app_runbook; name=SYS_GEN__Runbook_Package_5ed15478_2c4f_4eca_99b5_9d39391e5800; uuid=1d94550a-64bd-40f5-bfb0-1ad41356f08d}"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__install_CRb_Package_5ed15478_2c4f_4eca_99b5_9d39391e5800"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_service",
                      "name": "DATABASE_MOTOR_VERSION",
                      "uuid": "dfbd64fa-e945-4304-b977-522594ec351d"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "CALL_RUNBOOK",
                    "uuid": "22b77a65-99b8-40cc-8b51-1e181f7d3114",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "inarg_list": "",
                      "deployment_reference": "@{kind=app_blueprint_deployment; name=943b25b7_deployment; uuid=2e6c95bd-ff55-41b9-bf29-3b6b64997995}",
                      "type": "CALL_RUNBOOK",
                      "runbook_reference": "@{kind=app_runbook; name=7c38ee45_runbook; uuid=f01431ca-6e69-4ac2-a985-bdaaec491a06}"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__create_CRb_Service_dfbd64fa_e945_4304_b977_522594ec351d"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_service",
                      "name": "DATABASE_MOTOR_VERSION",
                      "uuid": "dfbd64fa-e945-4304-b977-522594ec351d"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "CALL_RUNBOOK",
                    "uuid": "cad6fb03-f194-4083-84cb-382e700b62ed",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "inarg_list": "",
                      "deployment_reference": "@{kind=app_blueprint_deployment; name=943b25b7_deployment; uuid=2e6c95bd-ff55-41b9-bf29-3b6b64997995}",
                      "type": "CALL_RUNBOOK",
                      "runbook_reference": "@{kind=app_runbook; name=f16764b5_runbook; uuid=fd9aa323-4d77-4c06-a0b9-4a9584ba6f89}"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__start_CRb_Service_dfbd64fa_e945_4304_b977_522594ec351d"
                  }
                ],
                "description": "",
                "message_list": [],
                "uuid": "816b8841-1b2a-42aa-81c1-c76a71c32aac",
                "state": "ACTIVE",
                "variable_list": [],
                "main_task_local_reference": {
                  "kind": "app_task",
                  "name": "SYS_GEN__Composite_DAG_Application_f8f089a4_f820_4a49_aaa1_98b8df19c4f5",
                  "uuid": "696daa7c-22a9-4208-8303-5e4694af4a3a"
                },
                "name": "SYS_GEN__Runbook_Application_f8f089a4_f820_4a49_aaa1_98b8df19c4f5"
              }
            },
            {
              "description": "System action for starting an application",
              "message_list": [],
              "uuid": "95234064-e30f-4119-ab62-846698dd0a83",
              "name": "action_start",
              "state": "ACTIVE",
              "critical": true,
              "attrs": {},
              "type": "system",
              "runbook": {
                "task_definition_list": [
                  {
                    "target_any_local_reference": {
                      "kind": "app_profile",
                      "name": "NUTANIX",
                      "uuid": "f8f089a4-f820-4a49-aaa1-98b8df19c4f5"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "DAG",
                    "uuid": "f89f4d00-68a1-4c30-ae73-75c87f4288b8",
                    "child_tasks_local_reference_list": [
                      "@{kind=app_task; name=SYS_GEN__start_CRb_Substrate_7814dfbd_e501_455a_b272_372c139e85bf; uuid=9286f14a-44a2-46cd-a761-ca1a16258689}",
                      "@{kind=app_task; name=SYS_GEN__start_CRb_Service_dfbd64fa_e945_4304_b977_522594ec351d; uuid=44c81618-3ae3-4eab-aefc-9a1defb5a35e}"
                    ],
                    "state": "ACTIVE",
                    "attrs": {
                      "edges": "",
                      "type": "DAG"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__Composite_DAG_Application_f8f089a4_f820_4a49_aaa1_98b8df19c4f5"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_substrate",
                      "name": "database_motor_version",
                      "uuid": "7814dfbd-e501-455a-b272-372c139e85bf"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "CALL_RUNBOOK",
                    "uuid": "9286f14a-44a2-46cd-a761-ca1a16258689",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "inarg_list": "",
                      "deployment_reference": "@{kind=app_blueprint_deployment; name=943b25b7_deployment; uuid=2e6c95bd-ff55-41b9-bf29-3b6b64997995}",
                      "type": "CALL_RUNBOOK",
                      "runbook_reference": "@{kind=app_runbook; name=SYS_GEN__Runbook_Substrate_7814dfbd_e501_455a_b272_372c139e85bf; uuid=b41953fd-c34a-48d0-8c94-d75dc4172b72}"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__start_CRb_Substrate_7814dfbd_e501_455a_b272_372c139e85bf"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_service",
                      "name": "DATABASE_MOTOR_VERSION",
                      "uuid": "dfbd64fa-e945-4304-b977-522594ec351d"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "CALL_RUNBOOK",
                    "uuid": "44c81618-3ae3-4eab-aefc-9a1defb5a35e",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "inarg_list": "",
                      "deployment_reference": "@{kind=app_blueprint_deployment; name=943b25b7_deployment; uuid=2e6c95bd-ff55-41b9-bf29-3b6b64997995}",
                      "type": "CALL_RUNBOOK",
                      "runbook_reference": "@{kind=app_runbook; name=f16764b5_runbook; uuid=fd9aa323-4d77-4c06-a0b9-4a9584ba6f89}"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__start_CRb_Service_dfbd64fa_e945_4304_b977_522594ec351d"
                  }
                ],
                "description": "",
                "message_list": [],
                "uuid": "479f7aad-632d-4d91-b66c-7fcb8d105b3e",
                "state": "ACTIVE",
                "variable_list": [],
                "main_task_local_reference": {
                  "kind": "app_task",
                  "name": "SYS_GEN__Composite_DAG_Application_f8f089a4_f820_4a49_aaa1_98b8df19c4f5",
                  "uuid": "f89f4d00-68a1-4c30-ae73-75c87f4288b8"
                },
                "name": "SYS_GEN__Runbook_Application_f8f089a4_f820_4a49_aaa1_98b8df19c4f5"
              }
            },
            {
              "description": "System action for restarting an application",
              "message_list": [],
              "uuid": "c962d4e3-1a2a-4226-9411-cfd44f103e9d",
              "name": "action_restart",
              "state": "ACTIVE",
              "critical": true,
              "attrs": {},
              "type": "system",
              "runbook": {
                "task_definition_list": [
                  {
                    "target_any_local_reference": {
                      "kind": "app_profile",
                      "name": "NUTANIX",
                      "uuid": "f8f089a4-f820-4a49-aaa1-98b8df19c4f5"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "DAG",
                    "uuid": "3fecf16d-5743-4a1e-be42-9981e6d07a15",
                    "child_tasks_local_reference_list": [
                      "@{kind=app_task; name=SYS_GEN__restart_CRb_Substrate_7814dfbd_e501_455a_b272_372c139e85bf; uuid=2b6d9c27-97fc-4de5-939f-66c4a31cbd23}",
                      "@{kind=app_task; name=SYS_GEN__restart_CRb_Service_dfbd64fa_e945_4304_b977_522594ec351d; uuid=e8b9467f-abf3-438e-861d-de07d64043f8}"
                    ],
                    "state": "ACTIVE",
                    "attrs": {
                      "edges": "",
                      "type": "DAG"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__Composite_DAG_Application_f8f089a4_f820_4a49_aaa1_98b8df19c4f5"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_substrate",
                      "name": "database_motor_version",
                      "uuid": "7814dfbd-e501-455a-b272-372c139e85bf"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "CALL_RUNBOOK",
                    "uuid": "2b6d9c27-97fc-4de5-939f-66c4a31cbd23",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "inarg_list": "",
                      "deployment_reference": "@{kind=app_blueprint_deployment; name=943b25b7_deployment; uuid=2e6c95bd-ff55-41b9-bf29-3b6b64997995}",
                      "type": "CALL_RUNBOOK",
                      "runbook_reference": "@{kind=app_runbook; name=SYS_GEN__Runbook_Substrate_7814dfbd_e501_455a_b272_372c139e85bf; uuid=07dbc448-7ba7-49da-9ea9-9ebbe37dbeba}"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__restart_CRb_Substrate_7814dfbd_e501_455a_b272_372c139e85bf"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_service",
                      "name": "DATABASE_MOTOR_VERSION",
                      "uuid": "dfbd64fa-e945-4304-b977-522594ec351d"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "CALL_RUNBOOK",
                    "uuid": "e8b9467f-abf3-438e-861d-de07d64043f8",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "inarg_list": "",
                      "deployment_reference": "@{kind=app_blueprint_deployment; name=943b25b7_deployment; uuid=2e6c95bd-ff55-41b9-bf29-3b6b64997995}",
                      "type": "CALL_RUNBOOK",
                      "runbook_reference": "@{kind=app_runbook; name=87a6cdee_runbook; uuid=7649ae0d-540a-409c-96ea-463559b2fc94}"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__restart_CRb_Service_dfbd64fa_e945_4304_b977_522594ec351d"
                  }
                ],
                "description": "",
                "message_list": [],
                "uuid": "cccd20df-a2b1-44c8-9207-4e80218fec58",
                "state": "ACTIVE",
                "variable_list": [],
                "main_task_local_reference": {
                  "kind": "app_task",
                  "name": "SYS_GEN__Composite_DAG_Application_f8f089a4_f820_4a49_aaa1_98b8df19c4f5",
                  "uuid": "3fecf16d-5743-4a1e-be42-9981e6d07a15"
                },
                "name": "SYS_GEN__Runbook_Application_f8f089a4_f820_4a49_aaa1_98b8df19c4f5"
              }
            },
            {
              "description": "System action for stopping an application",
              "message_list": [],
              "uuid": "b66e3126-49d7-4545-b5bb-1db1aa4b5265",
              "name": "action_stop",
              "state": "ACTIVE",
              "critical": true,
              "attrs": {},
              "type": "system",
              "runbook": {
                "task_definition_list": [
                  {
                    "target_any_local_reference": {
                      "kind": "app_profile",
                      "name": "NUTANIX",
                      "uuid": "f8f089a4-f820-4a49-aaa1-98b8df19c4f5"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "DAG",
                    "uuid": "0f1a635f-ef20-4a8a-a161-2121639f3afc",
                    "child_tasks_local_reference_list": [
                      "@{kind=app_task; name=SYS_GEN__stop_CRb_Service_dfbd64fa_e945_4304_b977_522594ec351d; uuid=b419be27-0c9c-444a-9683-6d5cb7978fd3}",
                      "@{kind=app_task; name=SYS_GEN__stop_CRb_Substrate_7814dfbd_e501_455a_b272_372c139e85bf; uuid=2d955f9d-650c-4071-86ee-24fb4b0ba907}"
                    ],
                    "state": "ACTIVE",
                    "attrs": {
                      "edges": "",
                      "type": "DAG"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__Composite_DAG_Application_f8f089a4_f820_4a49_aaa1_98b8df19c4f5"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_service",
                      "name": "DATABASE_MOTOR_VERSION",
                      "uuid": "dfbd64fa-e945-4304-b977-522594ec351d"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "CALL_RUNBOOK",
                    "uuid": "b419be27-0c9c-444a-9683-6d5cb7978fd3",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "inarg_list": "",
                      "deployment_reference": "@{kind=app_blueprint_deployment; name=943b25b7_deployment; uuid=2e6c95bd-ff55-41b9-bf29-3b6b64997995}",
                      "type": "CALL_RUNBOOK",
                      "runbook_reference": "@{kind=app_runbook; name=6d6010ef_runbook; uuid=453232c8-6be9-4fae-83be-284f8d3b5a7e}"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__stop_CRb_Service_dfbd64fa_e945_4304_b977_522594ec351d"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_substrate",
                      "name": "database_motor_version",
                      "uuid": "7814dfbd-e501-455a-b272-372c139e85bf"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "CALL_RUNBOOK",
                    "uuid": "2d955f9d-650c-4071-86ee-24fb4b0ba907",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "inarg_list": "",
                      "deployment_reference": "@{kind=app_blueprint_deployment; name=943b25b7_deployment; uuid=2e6c95bd-ff55-41b9-bf29-3b6b64997995}",
                      "type": "CALL_RUNBOOK",
                      "runbook_reference": "@{kind=app_runbook; name=SYS_GEN__Runbook_Substrate_7814dfbd_e501_455a_b272_372c139e85bf; uuid=54de6815-560e-429f-8d45-82dbbdf4162e}"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__stop_CRb_Substrate_7814dfbd_e501_455a_b272_372c139e85bf"
                  }
                ],
                "description": "",
                "message_list": [],
                "uuid": "c5644d22-80b8-4e8e-9a3b-85f41121e0c2",
                "state": "ACTIVE",
                "variable_list": [],
                "main_task_local_reference": {
                  "kind": "app_task",
                  "name": "SYS_GEN__Composite_DAG_Application_f8f089a4_f820_4a49_aaa1_98b8df19c4f5",
                  "uuid": "0f1a635f-ef20-4a8a-a161-2121639f3afc"
                },
                "name": "SYS_GEN__Runbook_Application_f8f089a4_f820_4a49_aaa1_98b8df19c4f5"
              }
            },
            {
              "description": "System action for deleting an application. Deletes created VMs as well",
              "message_list": [],
              "uuid": "a7e763f2-c544-46c5-bc54-daabfe16d5ae",
              "name": "action_delete",
              "state": "ACTIVE",
              "critical": true,
              "attrs": {},
              "type": "system",
              "runbook": {
                "task_definition_list": [
                  {
                    "target_any_local_reference": {
                      "kind": "app_profile",
                      "name": "NUTANIX",
                      "uuid": "f8f089a4-f820-4a49-aaa1-98b8df19c4f5"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "DAG",
                    "uuid": "cc683017-1139-4003-8002-01ce2e8a20af",
                    "child_tasks_local_reference_list": [
                      "@{kind=app_task; name=SYS_GEN__stop_CRb_Service_dfbd64fa_e945_4304_b977_522594ec351d; uuid=f3fe7d68-0bd3-4e3e-a792-05d4e0f014d7}",
                      "@{kind=app_task; name=SYS_GEN__delete_CRb_Service_dfbd64fa_e945_4304_b977_522594ec351d; uuid=0ca58aff-1ac3-4dbf-b771-f357b48233bd}",
                      "@{kind=app_task; name=SYS_GEN__uninstall_CRb_Package_5ed15478_2c4f_4eca_99b5_9d39391e5800; uuid=7e412e65-8176-442c-9b3b-c664dbbaa5b6}",
                      "@{kind=app_task; name=SYS_GEN__delete_CRb_Substrate_7814dfbd_e501_455a_b272_372c139e85bf; uuid=246b766b-b399-487c-930a-679bcdf67f87}",
                      "@{kind=app_task; name=SYS_GEN__post_delete_CRb_Substrate_7814dfbd_e501_455a_b272_372c139e85bf; uuid=6d4cd492-4e63-4cc7-8f63-2f55c816062a}",
                      "@{kind=app_task; name=SYS_GEN__DE_Delete_2e6c95bd_ff55_41b9_bf29_3b6b64997995; uuid=71c1c657-5fb8-43f7-9c9e-e0d5abe01e37}"
                    ],
                    "state": "ACTIVE",
                    "attrs": {
                      "edges": "    ",
                      "type": "DAG"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__Composite_DAG_Application_f8f089a4_f820_4a49_aaa1_98b8df19c4f5"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_service",
                      "name": "DATABASE_MOTOR_VERSION",
                      "uuid": "dfbd64fa-e945-4304-b977-522594ec351d"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "CALL_RUNBOOK",
                    "uuid": "f3fe7d68-0bd3-4e3e-a792-05d4e0f014d7",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "inarg_list": "",
                      "deployment_reference": "@{kind=app_blueprint_deployment; name=943b25b7_deployment; uuid=2e6c95bd-ff55-41b9-bf29-3b6b64997995}",
                      "type": "CALL_RUNBOOK",
                      "runbook_reference": "@{kind=app_runbook; name=6d6010ef_runbook; uuid=453232c8-6be9-4fae-83be-284f8d3b5a7e}"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__stop_CRb_Service_dfbd64fa_e945_4304_b977_522594ec351d"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_service",
                      "name": "DATABASE_MOTOR_VERSION",
                      "uuid": "dfbd64fa-e945-4304-b977-522594ec351d"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "CALL_RUNBOOK",
                    "uuid": "0ca58aff-1ac3-4dbf-b771-f357b48233bd",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "inarg_list": "",
                      "deployment_reference": "@{kind=app_blueprint_deployment; name=943b25b7_deployment; uuid=2e6c95bd-ff55-41b9-bf29-3b6b64997995}",
                      "type": "CALL_RUNBOOK",
                      "runbook_reference": "@{kind=app_runbook; name=30639720_runbook; uuid=5115c273-34c8-48b3-932e-6aacc5242dd7}"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__delete_CRb_Service_dfbd64fa_e945_4304_b977_522594ec351d"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_package",
                      "name": "DATABASE_ENV_PREPARATION",
                      "uuid": "5ed15478-2c4f-4eca-99b5-9d39391e5800"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "CALL_RUNBOOK",
                    "uuid": "7e412e65-8176-442c-9b3b-c664dbbaa5b6",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "inarg_list": "",
                      "deployment_reference": "@{kind=app_blueprint_deployment; name=943b25b7_deployment; uuid=2e6c95bd-ff55-41b9-bf29-3b6b64997995}",
                      "type": "CALL_RUNBOOK",
                      "runbook_reference": "@{kind=app_runbook; name=SYS_GEN__Runbook_Package_5ed15478_2c4f_4eca_99b5_9d39391e5800; uuid=bd9e4460-c43c-4951-84d2-877de18b32e1}"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__uninstall_CRb_Package_5ed15478_2c4f_4eca_99b5_9d39391e5800"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_substrate",
                      "name": "database_motor_version",
                      "uuid": "7814dfbd-e501-455a-b272-372c139e85bf"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "CALL_RUNBOOK",
                    "uuid": "246b766b-b399-487c-930a-679bcdf67f87",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "inarg_list": "",
                      "deployment_reference": "@{kind=app_blueprint_deployment; name=943b25b7_deployment; uuid=2e6c95bd-ff55-41b9-bf29-3b6b64997995}",
                      "type": "CALL_RUNBOOK",
                      "runbook_reference": "@{kind=app_runbook; name=SYS_GEN__Runbook_Substrate_7814dfbd_e501_455a_b272_372c139e85bf; uuid=2557d472-f335-4016-8b06-0cd238f9d29c}"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__delete_CRb_Substrate_7814dfbd_e501_455a_b272_372c139e85bf"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_substrate",
                      "name": "database_motor_version",
                      "uuid": "7814dfbd-e501-455a-b272-372c139e85bf"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "CALL_RUNBOOK",
                    "uuid": "6d4cd492-4e63-4cc7-8f63-2f55c816062a",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "inarg_list": "",
                      "deployment_reference": "@{kind=app_blueprint_deployment; name=943b25b7_deployment; uuid=2e6c95bd-ff55-41b9-bf29-3b6b64997995}",
                      "type": "CALL_RUNBOOK",
                      "runbook_reference": "@{kind=app_runbook; name=f57eafe6_runbook; uuid=8eb0d60e-1a8c-4fd0-bc97-6611f202ca2a}"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__post_delete_CRb_Substrate_7814dfbd_e501_455a_b272_372c139e85bf"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_blueprint_deployment",
                      "name": "943b25b7_deployment",
                      "uuid": "2e6c95bd-ff55-41b9-bf29-3b6b64997995"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "DELETE_DEPLOYMENT_ELEMENT",
                    "uuid": "71c1c657-5fb8-43f7-9c9e-e0d5abe01e37",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "type": ""
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__DE_Delete_2e6c95bd_ff55_41b9_bf29_3b6b64997995"
                  }
                ],
                "description": "",
                "message_list": [],
                "uuid": "595d7061-96f6-404f-a44b-b4167410e71e",
                "state": "ACTIVE",
                "variable_list": [],
                "main_task_local_reference": {
                  "kind": "app_task",
                  "name": "SYS_GEN__Composite_DAG_Application_f8f089a4_f820_4a49_aaa1_98b8df19c4f5",
                  "uuid": "cc683017-1139-4003-8002-01ce2e8a20af"
                },
                "name": "SYS_GEN__Runbook_Application_f8f089a4_f820_4a49_aaa1_98b8df19c4f5"
              }
            },
            {
              "description": "System action for deleting an application. Does not delete created VMs",
              "message_list": [],
              "uuid": "082c1c16-abd3-420d-96e6-816f3eee9033",
              "name": "action_soft_delete",
              "state": "ACTIVE",
              "critical": true,
              "attrs": {},
              "type": "system",
              "runbook": {
                "task_definition_list": [
                  {
                    "target_any_local_reference": {
                      "kind": "app_profile",
                      "name": "NUTANIX",
                      "uuid": "f8f089a4-f820-4a49-aaa1-98b8df19c4f5"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "DAG",
                    "uuid": "2bd5153c-939b-4af3-a504-ff2a4a3c9a82",
                    "child_tasks_local_reference_list": [
                      "@{kind=app_task; name=SYS_GEN__soft_delete_CRb_Service_dfbd64fa_e945_4304_b977_522594ec351d; uuid=ba884ab5-6c32-4af4-99e5-ffc2d4d18017}",
                      "@{kind=app_task; name=SYS_GEN__Package_Element_Delete_5ed15478_2c4f_4eca_99b5_9d39391e5800; uuid=6a23bbf4-567d-424c-bff3-8d0031c011d6}",
                      "@{kind=app_task; name=SYS_GEN__soft_delete_CRb_Substrate_7814dfbd_e501_455a_b272_372c139e85bf; uuid=df98967e-95b4-4396-8c8e-c132d87382f8}",
                      "@{kind=app_task; name=SYS_GEN__DE_Soft_Delete_2e6c95bd_ff55_41b9_bf29_3b6b64997995; uuid=0897b8d4-d780-4e59-a105-90c763ba00d2}"
                    ],
                    "state": "ACTIVE",
                    "attrs": {
                      "edges": "  ",
                      "type": "DAG"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__Composite_DAG_Application_f8f089a4_f820_4a49_aaa1_98b8df19c4f5"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_service",
                      "name": "DATABASE_MOTOR_VERSION",
                      "uuid": "dfbd64fa-e945-4304-b977-522594ec351d"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "CALL_RUNBOOK",
                    "uuid": "ba884ab5-6c32-4af4-99e5-ffc2d4d18017",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "inarg_list": "",
                      "deployment_reference": "@{kind=app_blueprint_deployment; name=943b25b7_deployment; uuid=2e6c95bd-ff55-41b9-bf29-3b6b64997995}",
                      "type": "CALL_RUNBOOK",
                      "runbook_reference": "@{kind=app_runbook; name=SYS_GEN__Runbook_Service_dfbd64fa_e945_4304_b977_522594ec351d; uuid=051e1a4f-eab1-4dfc-9054-6b82c6c4cef0}"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__soft_delete_CRb_Service_dfbd64fa_e945_4304_b977_522594ec351d"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_package",
                      "name": "DATABASE_ENV_PREPARATION",
                      "uuid": "5ed15478-2c4f-4eca-99b5-9d39391e5800"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "SOFT_DELETE_ELEMENT",
                    "uuid": "6a23bbf4-567d-424c-bff3-8d0031c011d6",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "type": ""
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__Package_Element_Delete_5ed15478_2c4f_4eca_99b5_9d39391e5800"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_substrate",
                      "name": "database_motor_version",
                      "uuid": "7814dfbd-e501-455a-b272-372c139e85bf"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "CALL_RUNBOOK",
                    "uuid": "df98967e-95b4-4396-8c8e-c132d87382f8",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "inarg_list": "",
                      "deployment_reference": "@{kind=app_blueprint_deployment; name=943b25b7_deployment; uuid=2e6c95bd-ff55-41b9-bf29-3b6b64997995}",
                      "type": "CALL_RUNBOOK",
                      "runbook_reference": "@{kind=app_runbook; name=SYS_GEN__Runbook_Substrate_7814dfbd_e501_455a_b272_372c139e85bf; uuid=9b71595c-0d51-47b2-9b64-230ee0eed95b}"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__soft_delete_CRb_Substrate_7814dfbd_e501_455a_b272_372c139e85bf"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_blueprint_deployment",
                      "name": "943b25b7_deployment",
                      "uuid": "2e6c95bd-ff55-41b9-bf29-3b6b64997995"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "SOFT_DELETE_DEPLOYMENT_ELEMENT",
                    "uuid": "0897b8d4-d780-4e59-a105-90c763ba00d2",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "type": ""
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__DE_Soft_Delete_2e6c95bd_ff55_41b9_bf29_3b6b64997995"
                  }
                ],
                "description": "",
                "message_list": [],
                "uuid": "6d8bc6d5-06d9-4b47-9393-ed4613b484a8",
                "state": "ACTIVE",
                "variable_list": [],
                "main_task_local_reference": {
                  "kind": "app_task",
                  "name": "SYS_GEN__Composite_DAG_Application_f8f089a4_f820_4a49_aaa1_98b8df19c4f5",
                  "uuid": "2bd5153c-939b-4af3-a504-ff2a4a3c9a82"
                },
                "name": "SYS_GEN__Runbook_Application_f8f089a4_f820_4a49_aaa1_98b8df19c4f5"
              }
            },
            {
              "description": "System action for snapshot deletion",
              "message_list": [],
              "uuid": "e9847885-0b3f-4d0d-b142-a8d3eab7a9e7",
              "name": "action_snapshot_delete",
              "state": "ACTIVE",
              "critical": true,
              "attrs": {},
              "type": "system",
              "runbook": {
                "task_definition_list": [
                  {
                    "target_any_local_reference": {
                      "kind": "app_profile",
                      "name": "NUTANIX",
                      "uuid": "f8f089a4-f820-4a49-aaa1-98b8df19c4f5"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "DAG",
                    "uuid": "8e06fb64-b5c3-4c54-80ad-15e6656d3df6",
                    "child_tasks_local_reference_list": [
                      "@{kind=app_task; name=SYS_GEN__snapshot_delete_CRb_Substrate_7814dfbd_e501_455a_b272_372c139e85bf; uuid=f0712a02-e22f-4c8b-ae89-69edcd64cf11}"
                    ],
                    "state": "ACTIVE",
                    "attrs": {
                      "edges": "",
                      "type": "DAG"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__Composite_DAG_Application_f8f089a4_f820_4a49_aaa1_98b8df19c4f5"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_substrate",
                      "name": "database_motor_version",
                      "uuid": "7814dfbd-e501-455a-b272-372c139e85bf"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "CALL_RUNBOOK",
                    "uuid": "f0712a02-e22f-4c8b-ae89-69edcd64cf11",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "inarg_list": "",
                      "deployment_reference": "@{kind=app_blueprint_deployment; name=943b25b7_deployment; uuid=2e6c95bd-ff55-41b9-bf29-3b6b64997995}",
                      "type": "CALL_RUNBOOK",
                      "runbook_reference": "@{kind=app_runbook; name=SYS_GEN__Runbook_Substrate_7814dfbd_e501_455a_b272_372c139e85bf; uuid=8f4f9ddf-17f4-4c22-ae8d-41b618e886a9}"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__snapshot_delete_CRb_Substrate_7814dfbd_e501_455a_b272_372c139e85bf"
                  }
                ],
                "description": "",
                "message_list": [],
                "uuid": "5d0e842d-abfc-47c4-851b-19c32daa8b59",
                "state": "ACTIVE",
                "variable_list": [
                  {
                    "regex": {},
                    "val_type": "STRING",
                    "is_mandatory": false,
                    "description": "",
                    "data_type": "BASE",
                    "message_list": [],
                    "uuid": "a66d633d-a913-4b54-b970-261fb6678070",
                    "value": "",
                    "label": "",
                    "state": "NOT_VALIDATED",
                    "attrs": {},
                    "editables": {
                      "value": true
                    },
                    "is_hidden": false,
                    "type": "LOCAL",
                    "options": {},
                    "name": "snapshot_id"
                  },
                  {
                    "regex": {},
                    "val_type": "STRING",
                    "is_mandatory": false,
                    "description": "",
                    "data_type": "BASE",
                    "message_list": [],
                    "uuid": "e830c557-ba30-497f-82ba-46a8f9789f48",
                    "value": "",
                    "label": "",
                    "state": "NOT_VALIDATED",
                    "attrs": {},
                    "editables": {
                      "value": true
                    },
                    "is_hidden": false,
                    "type": "LOCAL",
                    "options": {},
                    "name": "snapshot_group_id"
                  }
                ],
                "main_task_local_reference": {
                  "kind": "app_task",
                  "name": "SYS_GEN__Composite_DAG_Application_f8f089a4_f820_4a49_aaa1_98b8df19c4f5",
                  "uuid": "8e06fb64-b5c3-4c54-80ad-15e6656d3df6"
                },
                "name": "SYS_GEN__Runbook_Application_f8f089a4_f820_4a49_aaa1_98b8df19c4f5"
              }
            }
          ],
          "message_list": [],
          "uuid": "f8f089a4-f820-4a49-aaa1-98b8df19c4f5",
          "dependency_list": [],
          "snapshot_config_list": [],
          "state": "ACTIVE",
          "patch_list": [],
          "restore_config_list": [],
          "variable_list": [
            {
              "regex": {},
              "val_type": "STRING",
              "is_mandatory": false,
              "description": "",
              "data_type": "BASE",
              "message_list": [],
              "uuid": "fb416a0f-3d25-4429-bcbf-c7d9433bce69",
              "value": "",
              "label": "",
              "state": "ACTIVE",
              "attrs": {
                "is_secret_modified": false,
                "secret_reference": {
                  "uuid": "4fd89821-b2b6-492a-834d-a0332d40184c"
                },
                "type": "SECRET"
              },
              "editables": {
                "value": true
              },
              "is_hidden": false,
              "type": "SECRET",
              "options": {
                "type": "PREDEFINED",
                "choices": []
              },
              "name": "rhel_subscription"
            },
            {
              "regex": {},
              "val_type": "STRING",
              "is_mandatory": false,
              "description": "",
              "data_type": "BASE",
              "message_list": [],
              "uuid": "cc4fb600-aae7-430c-b760-52d7ebba6d4d",
              "value": "",
              "label": "",
              "state": "ACTIVE",
              "attrs": {
                "is_secret_modified": false,
                "secret_reference": {
                  "uuid": "4eef2bd6-0f4f-43ab-9278-219064696167"
                },
                "type": "SECRET"
              },
              "editables": {
                "value": true
              },
              "is_hidden": false,
              "type": "SECRET",
              "options": {
                "type": "PREDEFINED",
                "choices": []
              },
              "name": "cred_rhel_username"
            },
            {
              "regex": {
                "should_validate": false,
                "value": "^.*$"
              },
              "val_type": "STRING",
              "is_mandatory": false,
              "description": "",
              "data_type": "BASE",
              "message_list": [],
              "uuid": "b947c397-b479-4c70-b80c-965c0f7c3f3b",
              "value": "",
              "label": "",
              "state": "ACTIVE",
              "attrs": {
                "is_secret_modified": false,
                "secret_reference": {
                  "uuid": "e1580a56-2ea3-4ce0-acc6-8fecf8039dc5"
                },
                "type": "SECRET"
              },
              "editables": {
                "value": true
              },
              "is_hidden": false,
              "type": "SECRET",
              "options": {
                "type": "PREDEFINED",
                "choices": []
              },
              "name": "cred_rhel_password"
            },
            {
              "regex": {
                "should_validate": false,
                "value": "^.*$"
              },
              "val_type": "STRING",
              "is_mandatory": false,
              "description": "",
              "data_type": "LIST",
              "message_list": [],
              "uuid": "f53bfff4-8922-42de-8fbf-898e3fcb0183",
              "value": "",
              "label": "",
              "state": "ACTIVE",
              "attrs": {
                "type": ""
              },
              "editables": {
                "value": true
              },
              "is_hidden": false,
              "type": "EXEC_LOCAL",
              "options": {
                "type": "EXEC",
                "attrs": {
                  "script_type": "static",
                  "type": "EXEC",
                  "command_line_args": "",
                  "exit_status": [],
                  "script": "if \"@@{database_motor}@@\" == \"Oracle\":\n  print(\"12.1.0,12.2.0,18.0.0,19.0.0\")\nelif \"@@{database_motor}@@\" == \"Postgresql\":\n  print(\"14.4,14.3,14.2,13.7,13.6,13.5,12.11,12.10,12.9,11.16,11.15,11.14\")\nelif \"@@{database_motor}@@\" == \"MySQL\":\n  print(\"8.0.27,8.0.26,8.0.25\")\nelif \"@@{database_motor}@@\" == \"MongoDB\":\n  print(\"14.4,14.3,14.2,13.7,13.6,13.5,12.11,12.10,12.9,11.16,11.15,11.14\")\nelse:\n  print(\"choose a value\")"
                }
              },
              "name": "database_version"
            },
            {
              "regex": {
                "should_validate": false,
                "value": "^.*$"
              },
              "val_type": "STRING",
              "is_mandatory": false,
              "description": "",
              "data_type": "BASE",
              "message_list": [],
              "uuid": "d6ffc1e3-f5ab-41d7-bba3-eab2e8fbb6b3",
              "value": "",
              "label": "",
              "state": "ACTIVE",
              "attrs": {
                "type": ""
              },
              "editables": {
                "value": true
              },
              "is_hidden": false,
              "type": "EXEC_LOCAL",
              "options": {
                "type": "EXEC",
                "attrs": {
                  "script_type": "static",
                  "type": "EXEC",
                  "command_line_args": "",
                  "exit_status": [],
                  "script": "if \"@@{database_motor}@@\" == \"Oracle\":\n  print(\"oracle dbrms binaries\")\nelif \"@@{database_motor}@@\" == \"Postgresql\":\n  print(\"RPM,COMPILE\")\nelif \"@@{database_motor}@@\" == \"MySQL\":\n  print(\"NUXPRESSO\")\nelif \"@@{database_motor}@@\" == \"MongoDB\":\n  print(\"NUXPRESSO\")\nelif \"@@{database_motor}@@\" == \"MariaDB\":\n  print(\"NUXPRESSO\")\nelse:\n  print(\"NUXPRESSO\")"
                }
              },
              "name": "dep_type"
            },
            {
              "regex": {},
              "val_type": "STRING",
              "is_mandatory": false,
              "description": "",
              "data_type": "BASE",
              "message_list": [],
              "uuid": "e845fc49-904e-484e-aceb-b7557eaec1ff",
              "value": "",
              "label": "",
              "state": "ACTIVE",
              "attrs": {
                "type": ""
              },
              "editables": {
                "value": true
              },
              "is_hidden": false,
              "type": "EXEC_LOCAL",
              "options": {
                "type": "EXEC",
                "attrs": {
                  "script_type": "static",
                  "type": "EXEC",
                  "command_line_args": "",
                  "exit_status": [],
                  "script": "if \"@@{database_motor}@@\" == \"Oracle\":\n  print(\"SI,SIHA\")\nelif \"@@{database_motor}@@\" == \"Postgresql\":\n  print(\"STD,HA\")\nelse:\n  print(\"NUXPRESSO\")"
                }
              },
              "name": "architecture"
            },
            {
              "regex": {},
              "val_type": "STRING",
              "is_mandatory": false,
              "description": "",
              "data_type": "LIST",
              "message_list": [],
              "uuid": "2c4764fe-b30f-4e1f-b1c0-21c7598b9ef2",
              "value": "",
              "label": "",
              "state": "ACTIVE",
              "attrs": {
                "type": "LOCAL"
              },
              "editables": {
                "value": true
              },
              "is_hidden": false,
              "type": "LOCAL",
              "options": {
                "type": "PREDEFINED",
                "choices": [
                  "Oracle",
                  "Postgresql",
                  "MySQL",
                  "MariaDB",
                  "MongoDB"
                ]
              },
              "name": "database_motor"
            },
            {
              "regex": {
                "should_validate": false,
                "value": "^.*$"
              },
              "val_type": "STRING",
              "is_mandatory": false,
              "description": "",
              "data_type": "BASE",
              "message_list": [],
              "uuid": "5f1be894-2276-4226-96b0-998fc3d5d9a2",
              "value": "",
              "label": "",
              "state": "ACTIVE",
              "attrs": {
                "is_secret_modified": false,
                "secret_reference": {
                  "uuid": "22f9a83a-125d-4001-9548-3dd3c8ac1a5d"
                },
                "type": "SECRET"
              },
              "editables": {
                "value": true
              },
              "is_hidden": false,
              "type": "SECRET",
              "options": {
                "type": "PREDEFINED",
                "choices": []
              },
              "name": "era_PublicKey"
            },
            {
              "regex": {},
              "val_type": "STRING",
              "is_mandatory": false,
              "description": "",
              "data_type": "BASE",
              "message_list": [],
              "uuid": "6093b635-098c-4a4a-87f6-2cd991aa38a3",
              "value": "nutasog.lab",
              "label": "",
              "state": "ACTIVE",
              "attrs": {
                "type": ""
              },
              "editables": {
                "value": true
              },
              "is_hidden": false,
              "type": "LOCAL",
              "options": {
                "type": "PREDEFINED",
                "choices": []
              },
              "name": "domain_name"
            },
            {
              "regex": {},
              "val_type": "STRING",
              "is_mandatory": false,
              "description": "",
              "data_type": "BASE",
              "message_list": [],
              "uuid": "a367e25e-e5f4-47e7-be66-6337cb44741f",
              "value": "",
              "label": "",
              "state": "ACTIVE",
              "attrs": {
                "type": ""
              },
              "editables": {},
              "is_hidden": false,
              "type": "LOCAL",
              "options": {
                "type": "PREDEFINED",
                "choices": []
              },
              "name": "CLUSTER_ID"
            }
          ],
          "name": "NUTANIX"
        }
      ],
      "published_service_definition_list": [],
      "default_credential_local_reference": {
        "kind": "app_credential",
        "name": "cred_root",
        "uuid": "255d2590-be05-40bd-a657-0619a47ddece"
      },
      "package_definition_list": [
        {
          "description": "",
          "action_list": [
            {
              "description": "System action for installing an application",
              "message_list": [],
              "uuid": "83fcaede-382d-4250-8f80-bdbabdaabc38",
              "name": "action_install",
              "state": "ACTIVE",
              "critical": true,
              "attrs": {},
              "type": "system",
              "runbook": {
                "task_definition_list": [
                  {
                    "target_any_local_reference": {
                      "kind": "app_package",
                      "name": "DATABASE_ENV_PREPARATION",
                      "uuid": "5ed15478-2c4f-4eca-99b5-9d39391e5800"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "DAG",
                    "uuid": "31c96bfe-c0ee-4916-aaa5-72a37d5019cb",
                    "child_tasks_local_reference_list": [
                      "@{kind=app_task; name=SYS_GEN__Install_Crb_5ed15478_2c4f_4eca_99b5_9d39391e5800; uuid=6cb08ff1-a139-4bbd-a83e-46b3b2678614}"
                    ],
                    "state": "ACTIVE",
                    "attrs": {
                      "edges": "",
                      "type": "DAG"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__DAG_Package_5ed15478_2c4f_4eca_99b5_9d39391e5800"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_package",
                      "name": "DATABASE_ENV_PREPARATION",
                      "uuid": "5ed15478-2c4f-4eca-99b5-9d39391e5800"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "CUSTOM_PACKAGE_INSTALL",
                    "uuid": "6cb08ff1-a139-4bbd-a83e-46b3b2678614",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "install_runbook": "@{task_definition_list=System.Object[]; description=; message_list=System.Object[]; uuid=b23d03ed-0aa7-4197-abca-13d622794630; state=ACTIVE; variable_list=System.Object[]; main_task_local_reference=; name=f6662b47_runbook}",
                      "type": "",
                      "upgrade_runbook": "",
                      "uninstall_runbook": "@{task_definition_list=System.Object[]; description=; message_list=System.Object[]; uuid=0a5ac870-bc2d-4f95-bf50-0fc0e8633df0; state=ACTIVE; variable_list=System.Object[]; main_task_local_reference=; name=215048ed_runbook}"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__Install_Crb_5ed15478_2c4f_4eca_99b5_9d39391e5800"
                  }
                ],
                "description": "",
                "message_list": [],
                "uuid": "1d94550a-64bd-40f5-bfb0-1ad41356f08d",
                "state": "ACTIVE",
                "variable_list": [],
                "main_task_local_reference": {
                  "kind": "app_task",
                  "name": "SYS_GEN__DAG_Package_5ed15478_2c4f_4eca_99b5_9d39391e5800",
                  "uuid": "31c96bfe-c0ee-4916-aaa5-72a37d5019cb"
                },
                "name": "SYS_GEN__Runbook_Package_5ed15478_2c4f_4eca_99b5_9d39391e5800"
              }
            },
            {
              "description": "System action for creating an application",
              "message_list": [],
              "uuid": "3ee54a0c-7a7e-499d-92ab-767cb480a0c1",
              "name": "action_create",
              "state": "ACTIVE",
              "critical": true,
              "attrs": {},
              "type": "system",
              "runbook": {
                "task_definition_list": [
                  {
                    "target_any_local_reference": {
                      "kind": "app_package",
                      "name": "DATABASE_ENV_PREPARATION",
                      "uuid": "5ed15478-2c4f-4eca-99b5-9d39391e5800"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "DAG",
                    "uuid": "cc4d48f6-e362-4de1-b904-ff0b9d36ab0f",
                    "child_tasks_local_reference_list": [
                      "@{kind=app_task; name=SYS_GEN__install_CRb_Package_5ed15478_2c4f_4eca_99b5_9d39391e5800; uuid=55cbf6d9-9d8a-4dab-a6d7-59b94812c0bf}",
                      "@{kind=app_task; name=SYS_GEN__create_CRb_Service_dfbd64fa_e945_4304_b977_522594ec351d; uuid=02db7e27-9acd-497c-baf3-9e9e8a3233a8}",
                      "@{kind=app_task; name=SYS_GEN__start_CRb_Service_dfbd64fa_e945_4304_b977_522594ec351d; uuid=3431f1e8-aa58-4c5b-937e-572a04e3b641}"
                    ],
                    "state": "ACTIVE",
                    "attrs": {
                      "edges": " ",
                      "type": "DAG"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__Composite_DAG_Package_5ed15478_2c4f_4eca_99b5_9d39391e5800"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_package",
                      "name": "DATABASE_ENV_PREPARATION",
                      "uuid": "5ed15478-2c4f-4eca-99b5-9d39391e5800"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "CALL_RUNBOOK",
                    "uuid": "55cbf6d9-9d8a-4dab-a6d7-59b94812c0bf",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "inarg_list": "",
                      "type": "CALL_RUNBOOK",
                      "runbook_reference": "@{kind=app_runbook; name=SYS_GEN__Runbook_Package_5ed15478_2c4f_4eca_99b5_9d39391e5800; uuid=1d94550a-64bd-40f5-bfb0-1ad41356f08d}"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__install_CRb_Package_5ed15478_2c4f_4eca_99b5_9d39391e5800"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_service",
                      "name": "DATABASE_MOTOR_VERSION",
                      "uuid": "dfbd64fa-e945-4304-b977-522594ec351d"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "CALL_RUNBOOK",
                    "uuid": "02db7e27-9acd-497c-baf3-9e9e8a3233a8",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "inarg_list": "",
                      "type": "CALL_RUNBOOK",
                      "runbook_reference": "@{kind=app_runbook; name=7c38ee45_runbook; uuid=f01431ca-6e69-4ac2-a985-bdaaec491a06}"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__create_CRb_Service_dfbd64fa_e945_4304_b977_522594ec351d"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_service",
                      "name": "DATABASE_MOTOR_VERSION",
                      "uuid": "dfbd64fa-e945-4304-b977-522594ec351d"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "CALL_RUNBOOK",
                    "uuid": "3431f1e8-aa58-4c5b-937e-572a04e3b641",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "inarg_list": "",
                      "type": "CALL_RUNBOOK",
                      "runbook_reference": "@{kind=app_runbook; name=f16764b5_runbook; uuid=fd9aa323-4d77-4c06-a0b9-4a9584ba6f89}"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__start_CRb_Service_dfbd64fa_e945_4304_b977_522594ec351d"
                  }
                ],
                "description": "",
                "message_list": [],
                "uuid": "c8b8e2d1-a63e-4fc5-aa84-d800909bb49b",
                "state": "ACTIVE",
                "variable_list": [],
                "main_task_local_reference": {
                  "kind": "app_task",
                  "name": "SYS_GEN__Composite_DAG_Package_5ed15478_2c4f_4eca_99b5_9d39391e5800",
                  "uuid": "cc4d48f6-e362-4de1-b904-ff0b9d36ab0f"
                },
                "name": "SYS_GEN__Runbook_Package_5ed15478_2c4f_4eca_99b5_9d39391e5800"
              }
            },
            {
              "description": "System action for uninstalling an application",
              "message_list": [],
              "uuid": "147e9e20-c014-4f11-9b94-cd46e5e0cc55",
              "name": "action_uninstall",
              "state": "ACTIVE",
              "critical": true,
              "attrs": {},
              "type": "system",
              "runbook": {
                "task_definition_list": [
                  {
                    "target_any_local_reference": {
                      "kind": "app_package",
                      "name": "DATABASE_ENV_PREPARATION",
                      "uuid": "5ed15478-2c4f-4eca-99b5-9d39391e5800"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "DAG",
                    "uuid": "29765fea-05f3-485b-b8ac-b6cc4fbf4030",
                    "child_tasks_local_reference_list": [
                      "@{kind=app_task; name=SYS_GEN__Uninstall_Crb_5ed15478_2c4f_4eca_99b5_9d39391e5800; uuid=29b2dcb2-cb6c-4485-a5c2-e656ad150f2b}"
                    ],
                    "state": "ACTIVE",
                    "attrs": {
                      "edges": "",
                      "type": "DAG"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__DAG_Package_5ed15478_2c4f_4eca_99b5_9d39391e5800"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_package",
                      "name": "DATABASE_ENV_PREPARATION",
                      "uuid": "5ed15478-2c4f-4eca-99b5-9d39391e5800"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "CUSTOM_PACKAGE_UNINSTALL",
                    "uuid": "29b2dcb2-cb6c-4485-a5c2-e656ad150f2b",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "install_runbook": "@{task_definition_list=System.Object[]; description=; message_list=System.Object[]; uuid=b23d03ed-0aa7-4197-abca-13d622794630; state=ACTIVE; variable_list=System.Object[]; main_task_local_reference=; name=f6662b47_runbook}",
                      "type": "",
                      "upgrade_runbook": "",
                      "uninstall_runbook": "@{task_definition_list=System.Object[]; description=; message_list=System.Object[]; uuid=0a5ac870-bc2d-4f95-bf50-0fc0e8633df0; state=ACTIVE; variable_list=System.Object[]; main_task_local_reference=; name=215048ed_runbook}"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__Uninstall_Crb_5ed15478_2c4f_4eca_99b5_9d39391e5800"
                  }
                ],
                "description": "",
                "message_list": [],
                "uuid": "bd9e4460-c43c-4951-84d2-877de18b32e1",
                "state": "ACTIVE",
                "variable_list": [],
                "main_task_local_reference": {
                  "kind": "app_task",
                  "name": "SYS_GEN__DAG_Package_5ed15478_2c4f_4eca_99b5_9d39391e5800",
                  "uuid": "29765fea-05f3-485b-b8ac-b6cc4fbf4030"
                },
                "name": "SYS_GEN__Runbook_Package_5ed15478_2c4f_4eca_99b5_9d39391e5800"
              }
            },
            {
              "description": "System action for deleting an application. Deletes created VMs as well",
              "message_list": [],
              "uuid": "89ca0f17-ccae-4e3e-8994-f6d29c6d84a4",
              "name": "action_delete",
              "state": "ACTIVE",
              "critical": true,
              "attrs": {},
              "type": "system",
              "runbook": {
                "task_definition_list": [
                  {
                    "target_any_local_reference": {
                      "kind": "app_package",
                      "name": "DATABASE_ENV_PREPARATION",
                      "uuid": "5ed15478-2c4f-4eca-99b5-9d39391e5800"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "DAG",
                    "uuid": "cf61b06f-9060-4908-8d14-90f7bee1dd24",
                    "child_tasks_local_reference_list": [
                      "@{kind=app_task; name=SYS_GEN__stop_CRb_Service_dfbd64fa_e945_4304_b977_522594ec351d; uuid=d8f731bd-c002-4437-b50c-fc272cbb1e51}",
                      "@{kind=app_task; name=SYS_GEN__delete_CRb_Service_dfbd64fa_e945_4304_b977_522594ec351d; uuid=43bd7450-3625-4b7c-9cf9-6cdbf5fa5b8c}",
                      "@{kind=app_task; name=SYS_GEN__uninstall_CRb_Package_5ed15478_2c4f_4eca_99b5_9d39391e5800; uuid=40631bab-4a8d-453e-88f1-c40da87fd643}"
                    ],
                    "state": "ACTIVE",
                    "attrs": {
                      "edges": " ",
                      "type": "DAG"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__Composite_DAG_Package_5ed15478_2c4f_4eca_99b5_9d39391e5800"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_service",
                      "name": "DATABASE_MOTOR_VERSION",
                      "uuid": "dfbd64fa-e945-4304-b977-522594ec351d"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "CALL_RUNBOOK",
                    "uuid": "d8f731bd-c002-4437-b50c-fc272cbb1e51",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "inarg_list": "",
                      "type": "CALL_RUNBOOK",
                      "runbook_reference": "@{kind=app_runbook; name=6d6010ef_runbook; uuid=453232c8-6be9-4fae-83be-284f8d3b5a7e}"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__stop_CRb_Service_dfbd64fa_e945_4304_b977_522594ec351d"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_service",
                      "name": "DATABASE_MOTOR_VERSION",
                      "uuid": "dfbd64fa-e945-4304-b977-522594ec351d"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "CALL_RUNBOOK",
                    "uuid": "43bd7450-3625-4b7c-9cf9-6cdbf5fa5b8c",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "inarg_list": "",
                      "type": "CALL_RUNBOOK",
                      "runbook_reference": "@{kind=app_runbook; name=30639720_runbook; uuid=5115c273-34c8-48b3-932e-6aacc5242dd7}"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__delete_CRb_Service_dfbd64fa_e945_4304_b977_522594ec351d"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_package",
                      "name": "DATABASE_ENV_PREPARATION",
                      "uuid": "5ed15478-2c4f-4eca-99b5-9d39391e5800"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "CALL_RUNBOOK",
                    "uuid": "40631bab-4a8d-453e-88f1-c40da87fd643",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "inarg_list": "",
                      "type": "CALL_RUNBOOK",
                      "runbook_reference": "@{kind=app_runbook; name=SYS_GEN__Runbook_Package_5ed15478_2c4f_4eca_99b5_9d39391e5800; uuid=bd9e4460-c43c-4951-84d2-877de18b32e1}"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__uninstall_CRb_Package_5ed15478_2c4f_4eca_99b5_9d39391e5800"
                  }
                ],
                "description": "",
                "message_list": [],
                "uuid": "d17c1b46-43ec-403d-a21c-69f58cbc8e53",
                "state": "ACTIVE",
                "variable_list": [],
                "main_task_local_reference": {
                  "kind": "app_task",
                  "name": "SYS_GEN__Composite_DAG_Package_5ed15478_2c4f_4eca_99b5_9d39391e5800",
                  "uuid": "cf61b06f-9060-4908-8d14-90f7bee1dd24"
                },
                "name": "SYS_GEN__Runbook_Package_5ed15478_2c4f_4eca_99b5_9d39391e5800"
              }
            },
            {
              "description": "System action for deleting an application. Does not delete created VMs",
              "message_list": [],
              "uuid": "78fa84e3-2ff8-475e-ae50-d7ed8efb35c3",
              "name": "action_soft_delete",
              "state": "ACTIVE",
              "critical": true,
              "attrs": {},
              "type": "system",
              "runbook": {
                "task_definition_list": [
                  {
                    "target_any_local_reference": {
                      "kind": "app_package",
                      "name": "DATABASE_ENV_PREPARATION",
                      "uuid": "5ed15478-2c4f-4eca-99b5-9d39391e5800"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "DAG",
                    "uuid": "3606a28c-33d0-4ea7-9550-df26cac5a38c",
                    "child_tasks_local_reference_list": [
                      "@{kind=app_task; name=SYS_GEN__soft_delete_CRb_Service_dfbd64fa_e945_4304_b977_522594ec351d; uuid=81186d8f-7277-47d3-8174-7ae9981b0b15}",
                      "@{kind=app_task; name=SYS_GEN__Package_Element_Delete_5ed15478_2c4f_4eca_99b5_9d39391e5800; uuid=1ec75521-06fb-43a6-a2e3-62d2f6cd7fdd}"
                    ],
                    "state": "ACTIVE",
                    "attrs": {
                      "edges": "",
                      "type": "DAG"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__Composite_DAG_Package_5ed15478_2c4f_4eca_99b5_9d39391e5800"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_service",
                      "name": "DATABASE_MOTOR_VERSION",
                      "uuid": "dfbd64fa-e945-4304-b977-522594ec351d"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "CALL_RUNBOOK",
                    "uuid": "81186d8f-7277-47d3-8174-7ae9981b0b15",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "inarg_list": "",
                      "type": "CALL_RUNBOOK",
                      "runbook_reference": "@{kind=app_runbook; name=SYS_GEN__Runbook_Service_dfbd64fa_e945_4304_b977_522594ec351d; uuid=051e1a4f-eab1-4dfc-9054-6b82c6c4cef0}"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__soft_delete_CRb_Service_dfbd64fa_e945_4304_b977_522594ec351d"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_package",
                      "name": "DATABASE_ENV_PREPARATION",
                      "uuid": "5ed15478-2c4f-4eca-99b5-9d39391e5800"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "SOFT_DELETE_ELEMENT",
                    "uuid": "1ec75521-06fb-43a6-a2e3-62d2f6cd7fdd",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "type": ""
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__Package_Element_Delete_5ed15478_2c4f_4eca_99b5_9d39391e5800"
                  }
                ],
                "description": "",
                "message_list": [],
                "uuid": "bb740a58-5779-4121-9934-41ac531d9a7f",
                "state": "ACTIVE",
                "variable_list": [],
                "main_task_local_reference": {
                  "kind": "app_task",
                  "name": "SYS_GEN__Composite_DAG_Package_5ed15478_2c4f_4eca_99b5_9d39391e5800",
                  "uuid": "3606a28c-33d0-4ea7-9550-df26cac5a38c"
                },
                "name": "SYS_GEN__Runbook_Package_5ed15478_2c4f_4eca_99b5_9d39391e5800"
              }
            },
            {
              "description": "System action for starting an application",
              "message_list": [],
              "uuid": "f72bdc5b-0b82-4aa6-921d-fd52968f6071",
              "name": "action_start",
              "state": "ACTIVE",
              "critical": true,
              "attrs": {},
              "type": "system",
              "runbook": {
                "task_definition_list": [
                  {
                    "target_any_local_reference": {
                      "kind": "app_package",
                      "name": "DATABASE_ENV_PREPARATION",
                      "uuid": "5ed15478-2c4f-4eca-99b5-9d39391e5800"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "DAG",
                    "uuid": "d2977bc8-e168-489f-ac76-067f1b44ab5a",
                    "child_tasks_local_reference_list": [
                      "@{kind=app_task; name=SYS_GEN__start_CRb_Service_dfbd64fa_e945_4304_b977_522594ec351d; uuid=252f4be6-be6d-4638-a8cc-43a7906479ad}"
                    ],
                    "state": "ACTIVE",
                    "attrs": {
                      "edges": "",
                      "type": "DAG"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__Composite_DAG_Package_5ed15478_2c4f_4eca_99b5_9d39391e5800"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_service",
                      "name": "DATABASE_MOTOR_VERSION",
                      "uuid": "dfbd64fa-e945-4304-b977-522594ec351d"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "CALL_RUNBOOK",
                    "uuid": "252f4be6-be6d-4638-a8cc-43a7906479ad",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "inarg_list": "",
                      "type": "CALL_RUNBOOK",
                      "runbook_reference": "@{kind=app_runbook; name=f16764b5_runbook; uuid=fd9aa323-4d77-4c06-a0b9-4a9584ba6f89}"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__start_CRb_Service_dfbd64fa_e945_4304_b977_522594ec351d"
                  }
                ],
                "description": "",
                "message_list": [],
                "uuid": "12ea90a4-ac3d-4676-9a9e-ebcc1bf84364",
                "state": "ACTIVE",
                "variable_list": [],
                "main_task_local_reference": {
                  "kind": "app_task",
                  "name": "SYS_GEN__Composite_DAG_Package_5ed15478_2c4f_4eca_99b5_9d39391e5800",
                  "uuid": "d2977bc8-e168-489f-ac76-067f1b44ab5a"
                },
                "name": "SYS_GEN__Runbook_Package_5ed15478_2c4f_4eca_99b5_9d39391e5800"
              }
            },
            {
              "description": "System action for restarting an application",
              "message_list": [],
              "uuid": "5e79f818-e42e-4200-a5a9-64121cc8e598",
              "name": "action_restart",
              "state": "ACTIVE",
              "critical": true,
              "attrs": {},
              "type": "system",
              "runbook": {
                "task_definition_list": [
                  {
                    "target_any_local_reference": {
                      "kind": "app_package",
                      "name": "DATABASE_ENV_PREPARATION",
                      "uuid": "5ed15478-2c4f-4eca-99b5-9d39391e5800"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "DAG",
                    "uuid": "e068aa30-22f5-4e6c-b47f-a5909e12a946",
                    "child_tasks_local_reference_list": [
                      "@{kind=app_task; name=SYS_GEN__restart_CRb_Service_dfbd64fa_e945_4304_b977_522594ec351d; uuid=212379f1-82b1-4383-9a90-26e1e9f01327}"
                    ],
                    "state": "ACTIVE",
                    "attrs": {
                      "edges": "",
                      "type": "DAG"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__Composite_DAG_Package_5ed15478_2c4f_4eca_99b5_9d39391e5800"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_service",
                      "name": "DATABASE_MOTOR_VERSION",
                      "uuid": "dfbd64fa-e945-4304-b977-522594ec351d"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "CALL_RUNBOOK",
                    "uuid": "212379f1-82b1-4383-9a90-26e1e9f01327",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "inarg_list": "",
                      "type": "CALL_RUNBOOK",
                      "runbook_reference": "@{kind=app_runbook; name=87a6cdee_runbook; uuid=7649ae0d-540a-409c-96ea-463559b2fc94}"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__restart_CRb_Service_dfbd64fa_e945_4304_b977_522594ec351d"
                  }
                ],
                "description": "",
                "message_list": [],
                "uuid": "70466087-04ed-46e8-86f6-daf665dbdbf3",
                "state": "ACTIVE",
                "variable_list": [],
                "main_task_local_reference": {
                  "kind": "app_task",
                  "name": "SYS_GEN__Composite_DAG_Package_5ed15478_2c4f_4eca_99b5_9d39391e5800",
                  "uuid": "e068aa30-22f5-4e6c-b47f-a5909e12a946"
                },
                "name": "SYS_GEN__Runbook_Package_5ed15478_2c4f_4eca_99b5_9d39391e5800"
              }
            },
            {
              "description": "System action for stopping an application",
              "message_list": [],
              "uuid": "f46fd140-c990-49ed-8280-8e313213f524",
              "name": "action_stop",
              "state": "ACTIVE",
              "critical": true,
              "attrs": {},
              "type": "system",
              "runbook": {
                "task_definition_list": [
                  {
                    "target_any_local_reference": {
                      "kind": "app_package",
                      "name": "DATABASE_ENV_PREPARATION",
                      "uuid": "5ed15478-2c4f-4eca-99b5-9d39391e5800"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "DAG",
                    "uuid": "69a7ada0-ae27-43eb-be91-93e2e2f93196",
                    "child_tasks_local_reference_list": [
                      "@{kind=app_task; name=SYS_GEN__stop_CRb_Service_dfbd64fa_e945_4304_b977_522594ec351d; uuid=e864f979-c625-4594-8435-4f7121505d43}"
                    ],
                    "state": "ACTIVE",
                    "attrs": {
                      "edges": "",
                      "type": "DAG"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__Composite_DAG_Package_5ed15478_2c4f_4eca_99b5_9d39391e5800"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_service",
                      "name": "DATABASE_MOTOR_VERSION",
                      "uuid": "dfbd64fa-e945-4304-b977-522594ec351d"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "CALL_RUNBOOK",
                    "uuid": "e864f979-c625-4594-8435-4f7121505d43",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "inarg_list": "",
                      "type": "CALL_RUNBOOK",
                      "runbook_reference": "@{kind=app_runbook; name=6d6010ef_runbook; uuid=453232c8-6be9-4fae-83be-284f8d3b5a7e}"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__stop_CRb_Service_dfbd64fa_e945_4304_b977_522594ec351d"
                  }
                ],
                "description": "",
                "message_list": [],
                "uuid": "4d7b96b2-5738-4199-b9d2-834b84fe5947",
                "state": "ACTIVE",
                "variable_list": [],
                "main_task_local_reference": {
                  "kind": "app_task",
                  "name": "SYS_GEN__Composite_DAG_Package_5ed15478_2c4f_4eca_99b5_9d39391e5800",
                  "uuid": "69a7ada0-ae27-43eb-be91-93e2e2f93196"
                },
                "name": "SYS_GEN__Runbook_Package_5ed15478_2c4f_4eca_99b5_9d39391e5800"
              }
            }
          ],
          "message_list": [],
          "service_local_reference_list": [
            {
              "kind": "app_service",
              "name": "DATABASE_MOTOR_VERSION",
              "uuid": "dfbd64fa-e945-4304-b977-522594ec351d"
            }
          ],
          "uuid": "5ed15478-2c4f-4eca-99b5-9d39391e5800",
          "state": "ACTIVE",
          "version": "",
          "editables": {},
          "type": "DEB",
          "options": {
            "install_runbook": {
              "task_definition_list": [
                {
                  "target_any_local_reference": {
                    "kind": "app_package",
                    "name": "DATABASE_ENV_PREPARATION",
                    "uuid": "5ed15478-2c4f-4eca-99b5-9d39391e5800"
                  },
                  "retries": "0",
                  "description": "",
                  "type": "DAG",
                  "uuid": "04133b64-4378-4af3-87af-ff469f158174",
                  "child_tasks_local_reference_list": [
                    {
                      "kind": "app_task",
                      "name": "GUEST_OS_CONFIGURATION",
                      "uuid": "1654a0ea-5682-4d29-b76b-ae4fdbca3181"
                    }
                  ],
                  "state": "ACTIVE",
                  "attrs": {
                    "edges": [],
                    "type": ""
                  },
                  "timeout_secs": "0",
                  "inherit_target": false,
                  "message_list": [],
                  "variable_list": [],
                  "name": "5fd9359c_dag"
                },
                {
                  "target_any_local_reference": {
                    "kind": "app_service",
                    "name": "DATABASE_MOTOR_VERSION",
                    "uuid": "dfbd64fa-e945-4304-b977-522594ec351d"
                  },
                  "retries": "0",
                  "description": "",
                  "type": "CALL_RUNBOOK",
                  "uuid": "1654a0ea-5682-4d29-b76b-ae4fdbca3181",
                  "child_tasks_local_reference_list": [],
                  "state": "ACTIVE",
                  "attrs": {
                    "inarg_list": [],
                    "type": "CALL_RUNBOOK",
                    "runbook_reference": {
                      "kind": "app_runbook",
                      "name": "e5e2c02a_runbook",
                      "uuid": "e329e6c1-dec7-47f8-b1ce-b95060fa63de"
                    }
                  },
                  "timeout_secs": "0",
                  "inherit_target": false,
                  "message_list": [],
                  "variable_list": [],
                  "name": "GUEST_OS_CONFIGURATION"
                }
              ],
              "description": "",
              "message_list": [],
              "uuid": "b23d03ed-0aa7-4197-abca-13d622794630",
              "state": "ACTIVE",
              "variable_list": [],
              "main_task_local_reference": {
                "kind": "app_task",
                "name": "5fd9359c_dag",
                "uuid": "04133b64-4378-4af3-87af-ff469f158174"
              },
              "name": "f6662b47_runbook"
            },
            "type": "",
            "upgrade_runbook": {},
            "uninstall_runbook": {
              "task_definition_list": [
                {
                  "target_any_local_reference": {
                    "kind": "app_package",
                    "name": "DATABASE_ENV_PREPARATION",
                    "uuid": "5ed15478-2c4f-4eca-99b5-9d39391e5800"
                  },
                  "retries": "0",
                  "description": "",
                  "type": "DAG",
                  "uuid": "ec2c802a-cde3-4f2b-8610-7e1c889a6f19",
                  "child_tasks_local_reference_list": [],
                  "state": "ACTIVE",
                  "attrs": {
                    "edges": [],
                    "type": ""
                  },
                  "timeout_secs": "0",
                  "inherit_target": false,
                  "message_list": [],
                  "variable_list": [],
                  "name": "7cdabcef_dag"
                }
              ],
              "description": "",
              "message_list": [],
              "uuid": "0a5ac870-bc2d-4f95-bf50-0fc0e8633df0",
              "state": "ACTIVE",
              "variable_list": [],
              "main_task_local_reference": {
                "kind": "app_task",
                "name": "7cdabcef_dag",
                "uuid": "ec2c802a-cde3-4f2b-8610-7e1c889a6f19"
              },
              "name": "215048ed_runbook"
            }
          },
          "variable_list": [],
          "name": "DATABASE_ENV_PREPARATION"
        }
      ]
    },
    "name": "jeremie-ndb-linux-base"
  },
  "spec": {
    "description": "Prepared customized blueprint for Oracle 12c\nBased OS : \nLinux RHEL 7x , OEL 7x and Centos 7x\nLinux RHEL 8x, OEL 8x\nDHCP based configuration",
    "resources": {
      "client_attrs": {
        "None": {
          "y": -1029.7637786865,
          "x": -2136.6937255859
        },
        "943b25b7_deployment": {
          "y": -1149.2082320526,
          "x": -1897.4435769564
        }
      },
      "service_definition_list": [
        {
          "singleton": false,
          "action_list": [
            {
              "description": "System action for creating an application",
              "type": "system",
              "critical": false,
              "runbook": {
                "task_definition_list": [
                  {
                    "target_any_local_reference": {
                      "kind": "app_service",
                      "name": "DATABASE_MOTOR_VERSION"
                    },
                    "retries": "0",
                    "description": "",
                    "inherit_target": false,
                    "child_tasks_local_reference_list": [],
                    "name": "a0a21fa6_dag",
                    "attrs": {
                      "edges": "",
                      "type": ""
                    },
                    "timeout_secs": "0",
                    "type": "DAG",
                    "variable_list": []
                  }
                ],
                "description": "",
                "name": "7c38ee45_runbook",
                "main_task_local_reference": {
                  "kind": "app_task",
                  "name": "a0a21fa6_dag"
                },
                "variable_list": []
              },
              "name": "action_create"
            },
            {
              "description": "System action for deleting an application. Deletes created VMs as well",
              "type": "system",
              "critical": false,
              "runbook": {
                "task_definition_list": [
                  {
                    "target_any_local_reference": {
                      "kind": "app_service",
                      "name": "DATABASE_MOTOR_VERSION"
                    },
                    "retries": "0",
                    "description": "",
                    "inherit_target": false,
                    "child_tasks_local_reference_list": [],
                    "name": "b8bd6f25_dag",
                    "attrs": {
                      "edges": "",
                      "type": ""
                    },
                    "timeout_secs": "0",
                    "type": "DAG",
                    "variable_list": []
                  }
                ],
                "description": "",
                "name": "30639720_runbook",
                "main_task_local_reference": {
                  "kind": "app_task",
                  "name": "b8bd6f25_dag"
                },
                "variable_list": []
              },
              "name": "action_delete"
            },
            {
              "description": "System action for starting an application",
              "type": "system",
              "critical": false,
              "runbook": {
                "task_definition_list": [
                  {
                    "target_any_local_reference": {
                      "kind": "app_service",
                      "name": "DATABASE_MOTOR_VERSION"
                    },
                    "retries": "0",
                    "description": "",
                    "inherit_target": false,
                    "child_tasks_local_reference_list": [],
                    "name": "c76a4c77_dag",
                    "attrs": {
                      "edges": "",
                      "type": ""
                    },
                    "timeout_secs": "0",
                    "type": "DAG",
                    "variable_list": []
                  }
                ],
                "description": "",
                "name": "f16764b5_runbook",
                "main_task_local_reference": {
                  "kind": "app_task",
                  "name": "c76a4c77_dag"
                },
                "variable_list": []
              },
              "name": "action_start"
            },
            {
              "description": "System action for stopping an application",
              "type": "system",
              "critical": false,
              "runbook": {
                "task_definition_list": [
                  {
                    "target_any_local_reference": {
                      "kind": "app_service",
                      "name": "DATABASE_MOTOR_VERSION"
                    },
                    "retries": "0",
                    "description": "",
                    "inherit_target": false,
                    "child_tasks_local_reference_list": [],
                    "name": "48f17257_dag",
                    "attrs": {
                      "edges": "",
                      "type": ""
                    },
                    "timeout_secs": "0",
                    "type": "DAG",
                    "variable_list": []
                  }
                ],
                "description": "",
                "name": "6d6010ef_runbook",
                "main_task_local_reference": {
                  "kind": "app_task",
                  "name": "48f17257_dag"
                },
                "variable_list": []
              },
              "name": "action_stop"
            },
            {
              "description": "System action for restarting an application",
              "type": "system",
              "critical": false,
              "runbook": {
                "task_definition_list": [
                  {
                    "target_any_local_reference": {
                      "kind": "app_service",
                      "name": "DATABASE_MOTOR_VERSION"
                    },
                    "retries": "0",
                    "description": "",
                    "inherit_target": false,
                    "child_tasks_local_reference_list": [],
                    "name": "3b9e9095_dag",
                    "attrs": {
                      "edges": "",
                      "type": ""
                    },
                    "timeout_secs": "0",
                    "type": "DAG",
                    "variable_list": []
                  }
                ],
                "description": "",
                "name": "87a6cdee_runbook",
                "main_task_local_reference": {
                  "kind": "app_task",
                  "name": "3b9e9095_dag"
                },
                "variable_list": []
              },
              "name": "action_restart"
            },
            {
              "description": "",
              "type": "user",
              "critical": false,
              "runbook": {
                "task_definition_list": [
                  {
                    "retries": "0",
                    "description": "",
                    "inherit_target": false,
                    "child_tasks_local_reference_list": [
                      "@{kind=app_task; name=SET_CUSTOM_VARS}",
                      "@{kind=app_task; name=OS_Configuration}",
                      "@{kind=app_task; name=APP_Users and Groups}",
                      "@{kind=app_task; name=PRE_Packages Install}",
                      "@{kind=app_task; name=APP_Drives Configuration}",
                      "@{kind=app_task; name=DB_Deployment}",
                      "@{kind=app_task; name=CHECK_PREPARATION}"
                    ],
                    "name": "1c9d5fd8_dag",
                    "attrs": {
                      "edges": "     ",
                      "type": ""
                    },
                    "timeout_secs": "0",
                    "type": "DAG",
                    "variable_list": []
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_service",
                      "name": "DATABASE_MOTOR_VERSION"
                    },
                    "retries": "0",
                    "description": "",
                    "inherit_target": false,
                    "child_tasks_local_reference_list": [],
                    "name": "SET_CUSTOM_VARS",
                    "attrs": {
                      "exit_status": "",
                      "script": "db_motor= \"@@{database_motor}@@\"\ndb_version= str(\"@@{database_version}@@\")\nif db_motor == \"Oracle\":\n  print(\"12.1.0,12.2.0,18.0.0,19.0.0\")\nelif db_motor == \"Postgresql\":\n  maj_version = db_version[:2]\n  app_path = \"/usr/pgsql-\"+ maj_version\n  print('app_dir_path = '+ app_path +'')\n\nelif db_motor == \"MySQL\":\n  app_path = \"/software/mysql-\"+ db_version\n  print('app_dir_path = '+ app_path +'')\n\nelif db_motor == \"MongoDB\":\n  app_path = \"/software/mysql-\"+ db_version\n  print('app_dir_path = '+ app_path +'')\n\nelse:\n  print(\"error\")",
                      "eval_variables": "app_dir_path",
                      "eval_scope": "local",
                      "type": "",
                      "script_type": "static"
                    },
                    "timeout_secs": "0",
                    "type": "SET_VARIABLE",
                    "variable_list": []
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_service",
                      "name": "DATABASE_MOTOR_VERSION"
                    },
                    "retries": "0",
                    "description": "",
                    "inherit_target": false,
                    "child_tasks_local_reference_list": [],
                    "name": "OS_Configuration",
                    "attrs": {
                      "exit_status": "",
                      "script": "#! /bin/bash\n\n\nf_linux_8()\n{\n\t#unregister\n    echo \"---------------------------------------------------------------------\"\n\techo \"              Function Config config RHEL / OEL / RLINUX v8          \"\n\techo \"---------------------------------------------------------------------\"\n\n    echo \"---------------------------------------------------------------------\"\n\techo \"                    set firewall-> disabled                          \"\n\techo \"---------------------------------------------------------------------\"\n\nsystemctl stop firewalld\nsystemctl disable firewalld\n\n}\n\n\nf_linux_7()\n{\n\t#unregister\n    echo \"---------------------------------------------------------------------\"\n\techo \"             Function Config RHEL / OEL / RLINUX  v7                 \"\n\techo \"---------------------------------------------------------------------\"\n\n    echo \"---------------------------------------------------------------------\"\n\techo \"                    set firewall-> disabled                          \"\n\techo \"---------------------------------------------------------------------\"\n\nsystemctl stop firewalld\nsystemctl disable firewalld\n\n}\n\nf_linux_common()\n{\n\n#Disable selinux\n    echo \"---------------------------------------------------------------------\"\n\techo \"                    set Selinux -> disabled                          \"\n\techo \"---------------------------------------------------------------------\"\n\nsudo sed -i 's/SELINUX=enforcing/SELINUX=disabled/g' /etc/selinux/config\nsetenforce 0\n\n#Disable AVAHI\n    echo \"---------------------------------------------------------------------\"\n\techo \"                        Disable AVAHI                                \"\n\techo \"---------------------------------------------------------------------\"\nsudo systemctl stop avahi-daemon\nsudo systemctl disable avahi-daemon\n\n#Configure Hostname\n    echo \"---------------------------------------------------------------------\"\n\techo \"                   Config   hostname/hostfile                        \"\n\techo \"---------------------------------------------------------------------\"\n\necho \"ORACLE 12CR2 : CONFIGURE HOSTNAME\"\nhostnamectl set-hostname '@@{name}@@'\necho '@@{address}@@  @@{name}@@  @@{name}@@.@@{domain_name}@@' > /etc/hosts\necho \"Configuration host file : \" >> /tmp/install_log.txt\necho \"    hostname and host file configured\" >> /tmp/install_log.txt\n\n#Configure Hostname\n    echo \"---------------------------------------------------------------------\"\n\techo \"                   Config   PE SIZE TO 1024.                         \"\n\techo \"---------------------------------------------------------------------\"\n\nsed -i 's/# physical_extent_size = 4096/physical_extent_size = 1024/' /etc/lvm/lvm.conf\n\n\nf_specific_oracle_params()\n{\n#configure oracle systcl.conf params\necho \"---------------------------------------------------------------------\"\necho \"           Config   SYSCTL.conf  @@{database_motor}@@                \"\necho \"---------------------------------------------------------------------\"\n\necho '# sysctl settings are defined through files in\n# /usr/lib/sysctl.d/, /run/sysctl.d/, and /etc/sysctl.d/.\n#\n# Vendors settings live in /usr/lib/sysctl.d/.\n# To override a whole file, create a new file with the same in\n# /etc/sysctl.d/ and put new settings there. To override\n# only specific settings, add a file with a lexically later\n# name in /etc/sysctl.d/ and put new settings there.\n#\n# For more information, see sysctl.conf(5) and sysctl.d(5).\n\n# oracle-database-server-12cR2-preinstall setting for fs.file-max is 6815744\nfs.file-max = 6815744\n\n# oracle-database-server-12cR2-preinstall setting for kernel.sem is '250 32000 100 128'\nkernel.sem = 250 32000 100 128\n\n# oracle-database-server-12cR2-preinstall setting for kernel.shmmni is 4096\nkernel.shmmni = 4096\n\n# oracle-database-server-12cR2-preinstall setting for kernel.shmall is 1073741824 on x86_64\nkernel.shmall = 1073741824\n\n# oracle-database-server-12cR2-preinstall setting for kernel.shmmax is 4398046511104 on x86_64\nkernel.shmmax = 4398046511104\n\n# oracle-database-server-12cR2-preinstall setting for kernel.panic_on_oops is 1 per Orabug 19212317\nkernel.panic_on_oops = 1\n\n# oracle-database-server-12cR2-preinstall setting for net.core.rmem_default is 262144\nnet.core.rmem_default = 262144\n\n# oracle-database-server-12cR2-preinstall setting for net.core.rmem_max is 4194304 changed to 536870912\nnet.core.rmem_max = 536870912\n\n# oracle-database-server-12cR2-preinstall setting for net.core.wmem_default is 262144 changed to 536870912\nnet.core.wmem_default = 536870912\n\n# oracle-database-server-12cR2-preinstall setting for net.core.wmem_max is 1048576\nnet.core.wmem_max = 1048576\n\n# oracle-database-server-12cR2-preinstall setting for net.ipv4.conf.all.rp_filter is 2\nnet.ipv4.conf.all.rp_filter = 2\n\n# oracle-database-server-12cR2-preinstall setting for net.ipv4.conf.default.rp_filter is 2\nnet.ipv4.conf.default.rp_filter = 2\n\n# oracle-database-server-12cR2-preinstall setting for fs.aio-max-nr is 1048576\nfs.aio-max-nr = 1048576\n\n# oracle-database-server-12cR2-preinstall setting for net.ipv4.ip_local_port_range is 9000 65500\nnet.ipv4.ip_local_port_range = 9000 65500\n\nvm.swappiness = 0\nvm.overcommit_memory = 1\nvm.dirty_background_ratio = 5\nvm.dirty_ratio = 15\nvm.dirty_expire_centisecs = 500\nvm.dirty_writeback_centisecs = 100\nnet.ipv4.tcp_mtu_probing = 1\nnet.ipv4.tcp_rmem = 4096 87380 536870912\nnet.core.netdev_max_backlog = 250000\nnet.ipv4.tcp_congestion_control = htcp\nnet.core.somaxconn = 65535\nnet.ipv4.tcp_keepalive_intvl = 15\nnet.ipv4.tcp_fin_timeout = 15\nnet.ipv4.tcp_keepalive_probes = 5\nnet.ipv4.tcp_tw_reuse = 1\nnet.ipv4.tcp_max_syn_backlog = 65535\nnet.ipv4.tcp_wmem = 4096 65536 536870912' | sudo tee /etc/sysctl.conf\nsudo sysctl -p\n\n#configure limits.conf\n    echo \"---------------------------------------------------------------------\"\n\techo \"                      Config   LIMITS.conf                           \"\n\techo \"---------------------------------------------------------------------\"\n\nsudo sed -i '/# End of file/i \\\ngrid soft nofile  131072\\\ngrid hard nofile  131072\\\ngrid soft nproc   131072\\\ngrid hard nproc   131072\\\noracle soft nofile  131072\\\noracle hard nofile  131072\\\noracle soft nproc   131072\\\noracle hard nproc   131072\\\noracle soft core  unlimited\\\noracle hard core    unlimited\\\noracle soft memlock 50000000\\\noracle hard memlock 50000000\\\noracle soft stack    10240\\\noracle hard stack    32768' /etc/security/limits.conf\n}\n\nf_specific_postgres_params()\n{\necho \"---------------------------------------------------------------------\"\necho \"           Config   SYSCTL.conf  @@{database_motor}@@                \"\necho \"---------------------------------------------------------------------\"\necho 'vm.swappiness=0\nvm.overcommit_memory = 1\nvm.nr_hugepages=0\nvm.dirty_background_ratio = 5\nvm.dirty_ratio = 15\nvm.dirty_expire_centisecs = 500\nvm.dirty_writeback_centisecs=100' | sudo tee /etc/sysctl.d/97-pgsql-database-sysctl.conf\nsudo sysctl -p /etc/sysctl.d/97-pgsql-database-sysctl.conf\n\necho 'net.ipv4.conf.all.accept_redirects=0\nnet.ipv4.conf.ens3.accept_redirects=0' | sudo tee /etc/sysctl.d/96-disable-icmpv4.conf\nsudo sysctl -p /etc/sysctl.d/96-disable-icmpv4.conf\n\necho 'net.ipv6.conf.all.disable_ipv6 = 1\nnet.ipv6.conf.default.disable_ipv6 = 1' | sudo tee /etc/sysctl.d/95-disable-ipv6.conf\nsudo sysctl -p /etc/sysctl.d/95-disable-ipv6.conf\n\n\necho \"---------------------------------------------------------------------\"\necho \"           Config   UDEV RULES  @@{database_motor}@@                 \"\necho \"---------------------------------------------------------------------\"\necho '\nACTION==\"add|change\", SUBSYSTEM==\"block\", RUN+=\"/bin/sh -c '/bin/echo 1024 > /sys%p/queue/max_sectors_kb'\"'| sudo tee /etc/udev/rules.d/71-block-max-sectors.rules\n}\n\n}\nmain()\n{\necho \"--------------------------------------------\"\necho \"      It is set ..@@{app_dir_path}@@   \"\necho \"--------------------------------------------\"\nPRODUCT_MINOR_VERSION=$(egrep '^(VERSION)=' /etc/os-release | sed 's/.*=//' | sed 's/\"//g')\nPRODUCT_MAJOR_VERSION=${PRODUCT_MINOR_VERSION::1}\necho \"The product version is \" $PRODUCT_MINOR_VERSION\necho \"The major version is \" $PRODUCT_MAJOR_VERSION\nPRODUCT_NAME=$(egrep '^(NAME)=' /etc/os-release | sed 's/.*=//' | sed 's/\"//g')\necho \"The linux os used is \" $PRODUCT_NAME\n\nif [[ $PRODUCT_NAME =~ \"Red\" ]]; then\n        case $PRODUCT_MAJOR_VERSION in\n                7)\n                echo \"Version is 7 we will use yum\"\n                f_linux_common\n                f_linux_7\n                ;;\n\n                8)\n                echo \"Version is 8 we will use dnf\"\n                f_linux_common\n                f_linux_8\n                ;;\n\n                *)\n                echo \"....I do not  ..know\"\n                ;;\n        esac\n\nelif [[ $PRODUCT_NAME =~ \"Oracle\" ]]; then\n        case $PRODUCT_MAJOR_VERSION in\n                7)\n                echo \"Version is 7 we will use yum\"\n                f_linux_common\n                f_linux_7\n                ;;\n\t\t\t\n                8)\n                echo \"Version is 8 we will use dnf\"\n\t\t\t\tf_linux_common\n                f_linux_8\n                ;;\n                \n                *)\n                echo \"....I do not know\"\n                ;;\n        esac\nelse\n   echo \"the version is not supported by era\"\n   exit\nfi\n\nif [[ $PRODUCT_NAME =~ \"Oracle\" ]]; then\n   \t\tf_specific_oracle_param\n\nelif [[ $PRODUCT_NAME =~ \"Postgres\" ]]; then\n        f_specific_postgres_params\nelse\n   echo \"the version is not supported by era\"\n   exit\nfi\n\n}\n\nmain\n\nexit",
                      "script_type": "sh",
                      "type": "",
                      "command_line_args": "",
                      "login_credential_local_reference": "@{kind=app_credential; name=cred_root}"
                    },
                    "timeout_secs": "0",
                    "type": "EXEC",
                    "variable_list": []
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_service",
                      "name": "DATABASE_MOTOR_VERSION"
                    },
                    "retries": "0",
                    "description": "",
                    "inherit_target": false,
                    "child_tasks_local_reference_list": [],
                    "name": "APP_Users and Groups",
                    "attrs": {
                      "exit_status": "",
                      "script": "#!/bin/bash\n\nf_create_def_users_profile()\n{\n    #Configure Users Profile\n    echo \"-----------------------------------------------------------------------\"\n    echo \"                        Configure User Profile                         \"\n    echo \"-----------------------------------------------------------------------\"\n\n\n    echo 'if [ $USER = \"oracle\" ] || [ $USER = \"grid\" ] ; then\n    if [ $SHELL = \"/bin/ksh\" ]; then             \n    ulimit -p 16384             \n    ulimit -n 65536             \n    else             \n         ulimit -u 16384 -n 65536             \n    fi             \n    fi' | sudo tee -a /etc/profile\n\n    echo \"@@{database_motor}@@-@@{database_version}@@ : CONFIGURE ORACLE GROUP\"\n}\n\nf_create_def_group()\n{\nif [[ $env_type =~ \"Oracle\" ]]; then\necho \"----------------------------------------------------------------------------\"\necho \"         @@{database_motor}@@ @@{database_version}@@ : ORACLE GROUPS        \"\necho \"----------------------------------------------------------------------------\"\n\n    groupadd -g 54321 oinstall\n    groupadd -g 54322 dba\n    groupadd -g 54323 oper\n    groupadd -g 54324 backupdba\n    groupadd -g 54325 dgdba\n    groupadd -g 54326 kmdba\n    groupadd -g 54327 racdba\n    groupadd -g 54328 asmadmin\n    groupadd -g 54329 asmdba\n    groupadd -g 54330 asmoper\n\nelif [[ $env_type =~ \"Postgresql\" ]]; then\necho \"----------------------------------------------------------------------------\"\necho \"         @@{database_motor}@@ @@{database_version}@@ : POSTGRES GROUP       \"\necho \"----------------------------------------------------------------------------\"\n\tgroupadd -g 54321 postgres\n    \nelif [[ $env_type =~ \"MySQL\" ]]; then\necho \"----------------------------------------------------------------------------\"\necho \"         @@{database_motor}@@ @@{database_version}@@ : MYSQL GROUP          \"\necho \"----------------------------------------------------------------------------\"\n\tgroupadd -g 54321 mysql\n    \nelif [[ $env_type =~ \"MongoDB\" ]]; then\necho \"----------------------------------------------------------------------------\"\necho \"         @@{database_motor}@@ @@{database_version}@@ : MongoDB GROUP          \"\necho \"----------------------------------------------------------------------------\"\n\tgroupadd -g 54321 mongodb\n    \nelse\n   echo \"the version is not supported by era\"\n   exit\nfi\n}\n\n\nf_create_def_oracle()\n{\necho \"----------------------------------------------------------------------------\"\necho \"         @@{database_motor}@@ @@{database_version}@@ : ORACLE USER          \"\necho \"----------------------------------------------------------------------------\"\n\n    useradd -u 1001 -g oinstall -G dba,oper,backupdba,dgdba,kmdba,racdba,asmdba -d /home/'@@{cred_oracle.username}@@' -s /bin/bash '@@{cred_oracle.username}@@'\n    echo \"@@{cred_oracle.username}@@:@@{cred_oracle.secret}@@\" | chpasswd\n    echo \"#ORACLE CONFIG SUDOERS\" >> /etc/sudoers\n    echo \"@@{cred_oracle.username}@@   ALL=(ALL) NOPASSWD:ALL\" >> /etc/sudoers\n\n\n    #Configure \n    echo '# .bash_profile\n    # Get the aliases and functions\n    if [ -f ~/.bashrc ]; then\n        . ~/.bashrc\n    fi\n\n    # User specific environment and startup programs\n\n    PATH=$PATH:$HOME/.local/bin:$HOME/bin\n    ORACLE_BASE=/u02/app/oracle\n    export ORACLE_BASE\n    ORACLE_HOME=$ORACLE_BASE/product/'@@{database_version}@@'/dbhome_1\n    ORACLE_SID=orcl;export ORACLE_SID\n    PATH=$PATH:$HOME/.local/bin:$HOME/bin:$ORACLE_HOME/bin\n    export ORACLE_SID ORACLE_HOME\n    export PATH' | sudo tee /home/'@@{cred_oracle.username}@@'/.bash_profile\n\n    sudo chown @@{cred_oracle.username}@@:oinstall /home/'@@{cred_oracle.username}@@'/.bash_profile\n}\n\nf_create_def_grid()\n{\necho \"----------------------------------------------------------------------------\"\necho \"         @@{database_motor}@@ @@{database_version}@@ : ORACLE GRID          \"\necho \"----------------------------------------------------------------------------\"\n\n    useradd -u 1002 -g oinstall -G dba,asmdba,asmoper,asmadmin,racdba -d /home/grid -s /bin/bash grid\n    echo \"@@{cred_grid.username}@@:@@{cred_grid.secret}@@\" | chpasswd\n    echo \"#GRID CONFIG SUDOERS\" >> /etc/sudoers\n    echo \"grid   ALL=(ALL) NOPASSWD:ALL\" >> /etc/sudoers\n\n    #Configure Grid Profile\n    echo '# .bash_profile\n    # Get the aliases and functions\n    if [ -f ~/.bashrc ]; then\n        . ~/.bashrc\n    fi\n\n    # User specific environment and startup programs\n\n    export ORACLE_SID=+ASM\n    export ORACLE_BASE=/u01/app/grid\n    export ORACLE_HOME=/u01/app/grid/@@{database_version}@@/GI_home\n    ORA_INVENTORY=/u01/app/oraInventory\n    export PATH=$ORACLE_HOME/bin:$PATH\n    export DISPLAY=localhost:0.0\n    CVUQDISK_GRP=oinstall; export CVUQDISK_GRP\n    alias sqlplus=\"rlwrap sqlplus\"\n    alias asmcmd=\"rlwrap asmcmd\"\n    alias adrci=\"rlwrap adrci\"' | sudo tee /home/grid/.bash_profile\n\n    chown grid:oinstall /home/grid/.bash_profile\n}\n\nf_create_def_postgres()\n{\necho \"----------------------------------------------------------------------------\"\necho \"       @@{database_motor}@@ @@{database_version}@@ : POSTGRES USER          \"\necho \"----------------------------------------------------------------------------\"\nuseradd -u 1001 -g postgres -d /home/'@@{cred_postgres.username}@@' -s /bin/bash '@@{cred_postgres.username}@@'\n\necho \"@@{cred_postgres.username}@@:@@{cred_postgres.secret}@@\" | chpasswd\necho \"#POSTGRES CONFIG SUDOERS\" >> /etc/sudoers\necho \"@@{cred_postgres.username}@@   ALL=(ALL) NOPASSWD:ALL\" >> /etc/sudoers\n\necho '# .bashrc\n# User specific aliases and functions\nLC_ALL=\"en_US.UTF-8\"\nLC_CTYPE=\"en_US.UTF-8\"\nexport LC_ALL\nexport LC_CTYPE\nexport PGHOST=localhost' | sudo tee /home/'@@{cred_postgres.username}@@'/.bashrc\n}\n\nf_create_def_mysql()\n{\necho \"----------------------------------------------------------------------------\"\necho \"       @@{database_motor}@@ @@{database_version}@@ : MySQL USER          \"\necho \"----------------------------------------------------------------------------\"\nuseradd -u 1002 -g @@{cred_mysql.username}@@ -d /home/'@@{cred_mysql.username}@@' -s /bin/bash '@@{cred_mysql.username}@@'\n\necho \"@@{cred_mysql.username}@@:@@{cred_mysql.secret}@@\" | chpasswd\necho \"#MySQL CONFIG SUDOERS\" >> /etc/sudoers\necho \"@@{cred_mysql.username}@@   ALL=(ALL) NOPASSWD:ALL\" >> /etc/sudoers\n\necho '# .bashrc\n# User specific aliases and functions\nLC_ALL=\"en_US.UTF-8\"\nLC_CTYPE=\"en_US.UTF-8\"\nexport LC_ALL\nexport LC_CTYPE\numask 022' | sudo tee /home/'@@{cred_mysql.username}@@'/.bashrc\n}\n\nf_create_def_appuser()\n{\necho \"----------------------------------------------------------------------------\"\necho \"       @@{database_motor}@@ @@{database_version}@@ : APP USER               \"\necho \"----------------------------------------------------------------------------\"\nuseradd -u 1001 -g @@{cred_mongod.username}@@ -d /home/'@@{cred_appuser.username}@@' -s /bin/bash '@@{cred_appuser.username}@@'\n\necho \"@@{cred_appuser.username}@@:@@{cred_appuser.secret}@@\" | chpasswd\necho \"#POSTGRES CONFIG SUDOERS\" >> /etc/sudoers\necho \"@@{cred_appuser.username}@@   ALL=(ALL) NOPASSWD:ALL\" >> /etc/sudoers\n\necho '# .bashrc\n# User specific aliases and functions\nLC_ALL=\"en_US.UTF-8\"\nLC_CTYPE=\"en_US.UTF-8\"\nexport LC_ALL\nexport LC_CTYPE\nexport APPHOST=' | sudo tee /home/'@@{cred_appuser.username}@@'/.bashrc\n}\n\nf_create_def_mongodb()\n{\necho \"----------------------------------------------------------------------------\"\necho \"       @@{database_motor}@@ @@{database_version}@@ : MONGODB USER           \"\necho \"----------------------------------------------------------------------------\"\n\nuseradd -u 1002 -g @@{cred_mongod.username}@@ -d /home/'@@{cred_mongod.username}@@' -s /bin/bash '@@{cred_mongod.username}@@'\n\nchown -R @@{cred_mongod.username}@@:@@{cred_mongod.username}@@ /home/'@@{cred_mongod.username}@@'\n\necho \"@@{cred_mongod.username}@@:@@{cred_mongod.secret}@@\" | chpasswd\necho \"#MONGODB CONFIG SUDOERS\" >> /etc/sudoers\necho \"@@{cred_mongod.username}@@   ALL=(ALL) NOPASSWD:ALL\" >> /etc/sudoers\n\necho \"\"\necho \"MONGODB GROUP CONFIGURATION\"\necho \"\"\n\necho '# .bashrc\n# User specific aliases and functions\nLC_ALL=\"en_US.UTF-8\"\nLC_CTYPE=\"en_US.UTF-8\"\nexport LC_ALL\nexport LC_CTYPE' | sudo tee /home/'@@{cred_mongod.username}@@'/.bashrc\n}\n\nf_create_def_era()\n{\necho \"----------------------------------------------------------------------------\"\necho \"     @@{database_motor}@@ @@{database_version}@@ : ERA ADMIN GROUP          \"\necho \"----------------------------------------------------------------------------\"\n\n    groupadd -g 54331 @@{cred_era_admin.username}@@\n\necho \"----------------------------------------------------------------------------\"\necho \"           @@{database_motor}@@ @@{database_version}@@ : ERA USER           \"\necho \"----------------------------------------------------------------------------\"\n\n\n    useradd -u 1003 -g @@{cred_era_admin.username}@@ -d  /home/'@@{cred_era_admin.username}@@' -s /bin/bash '@@{cred_era_admin.username}@@'\n    echo \"@@{cred_era_admin.username}@@\":\"Nutanix.1\" | chpasswd\n    echo \"#ERA CONFIG SUDOERS\" >> /etc/sudoers\n    echo \"@@{cred_era_admin.username}@@  ALL=(ALL) NOPASSWD:ALL\" >> /etc/sudoers\n\n    mkdir /home/'@@{cred_era_admin.username}@@'/.ssh/\n    echo '@@{era_PublicKey}@@' >> /home/'@@{cred_era_admin.username}@@'/.ssh/authorized_keys\n\n    chmod 700  /home/'@@{cred_era_admin.username}@@'/.ssh\n    chmod 600 /home/'@@{cred_era_admin.username}@@'/.ssh/authorized_keys\n    chown -R '@@{cred_era_admin.username}@@':'@@{cred_era_admin.username}@@' /home/'@@{cred_era_admin.username}@@'/.ssh\n    \n    \n    \n    if [[ $env_type =~ \"Oracle\" ]]; then\n    echo \"-----------------------------------------------------------------------\"\n    echo \"                      ERA User Profile For Oracle                      \"\n    echo \"-----------------------------------------------------------------------\"\n\techo '# .bash_profile\n    # Get the aliases and functions\n    if [ -f ~/.bashrc ]; then\n        . ~/.bashrc\n    fi\n\n    # User specific environment and startup programs\n\n    PATH=$PATH:$HOME/.local/bin:$HOME/bin\n    ORACLE_BASE=/u02/app/oracle\n    export ORACLE_BASE\n    ORACLE_HOME=$ORACLE_BASE/product/'@@{database_version}@@'/dbhome_1\n    ORACLE_SID=orcl;export ORACLE_SID\n    PATH=$PATH:$HOME/.local/bin:$HOME/bin:$ORACLE_HOME/bin\n    export ORACLE_SID ORACLE_HOME\n    export PATH' | sudo tee /home/'@@{cred_oracle.username}@@'/.bash_profile\n\n\n\telif [[ $env_type =~ \"Postgresql\" ]]; then\n    echo \"-----------------------------------------------------------------------\"\n    echo \"                      ERA User Profile For Postgres                    \"\n    echo \"-----------------------------------------------------------------------\"\n\techo '# .bashrc\n    # User specific aliases and functions\n    LC_ALL=\"en_US.UTF-8\"\n    LC_CTYPE=\"en_US.UTF-8\"\n    export LC_ALL\n    export LC_CTYPE\n    export PGHOST=localhost' | sudo tee /home/'@@{cred_era_admin.username}@@'/.bashrc\n    \n    elif [[ $env_type =~ \"MySQL\" ]]; then\n    echo \"-----------------------------------------------------------------------\"\n    echo \"                      ERA User Profile For MySQL                       \"\n    echo \"-----------------------------------------------------------------------\"\n\techo '# .bashrc\n\t# User specific aliases and functions\n\tLC_ALL=\"en_US.UTF-8\"\n\tLC_CTYPE=\"en_US.UTF-8\"\n\texport LC_ALL\n\texport LC_CTYPE\n    umask 022' | sudo tee /home/'@@{cred_era_admin.username}@@'/.bashrc\nelse\n   echo \"the version is not supported by era\"\n   exit\nfi\n}\n\nf_config_oralInst()\n{\n    echo \"-----------------------------------------------------------------------\"\n    echo \"                      CONFIGURE GRID oraInst.loc                       \"\n    echo \"-----------------------------------------------------------------------\"\n    echo '\n    inventory_loc=/u01/app/oraInventory\n    inst_group=oinstall' | sudo tee /etc/oraInst.loc\n    chown oracle:oinstall /etc/oraInst.loc\n    chmod 0664 /etc/oraInst.loc\n}\n\nmain()\n{\nenv_type=@@{database_motor}@@\narch_type=@@{architecture}@@\nversion=@@{database_version}@@\n\nf_create_def_group\n\n\nif [[ $env_type =~ \"Oracle\" ]]; then\n        case $arch_type in\n        \t\t#0 = single_instance\n                0)\n                f_create_def_oracle\n                f_create_def_era\n                f_create_def_users_profile\n                ;;\n\t\t\t\t#1 = grid_instance\n                1)\n                f_create_def_oracle\n\t\t\t\tf_create_def_grid\n\t\t\t\tf_create_def_era\n                f_create_def_users_profile\n                f_config_oralInst\n                ;;\n\t\t\t\t\n                *)\n                echo \"....I do not  ...  know\"\n                ;;\n        esac\n\nelif [[ $env_type =~ \"Postgresql\" ]]; then\n\tf_create_def_postgres\n        f_create_def_era\n\nelif [[ $env_type =~ \"MySQL\" ]]; then\n\tf_create_def_mysql\n        f_create_def_era\n\nelif [[ $env_type =~ \"MongoDB\" ]]; then\n\tf_create_def_mongodb\n        f_create_def_era\n    \nelse\n   echo \"the version is not supported by era\"\nfi\n}\n\nmain\n\nexit",
                      "script_type": "sh",
                      "type": "",
                      "command_line_args": "",
                      "login_credential_local_reference": "@{kind=app_credential; name=cred_root}"
                    },
                    "timeout_secs": "0",
                    "type": "EXEC",
                    "variable_list": []
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_service",
                      "name": "DATABASE_MOTOR_VERSION"
                    },
                    "retries": "0",
                    "description": "",
                    "inherit_target": false,
                    "child_tasks_local_reference_list": [],
                    "name": "PRE_Packages Install",
                    "attrs": {
                      "exit_status": "",
                      "script": "#! /bin/bash\n\n#Define Product Version\n\nf_rhel_initialize()\n{\n\t#Configure rhel settings\n    #register\n    #repository ...here\necho \"---------------------------------------------------------------------\"\necho \"                    function intialize rhel                          \"\necho \"---------------------------------------------------------------------\"\nsubscription-manager register --username=\"@@{cred_rhel_username}@@\" --password=\"@@{cred_rhel_password}@@\" --force\nsubscription-manager attach --pool=\"@@{rhel_subscription}@@\"\n\necho \"exclude=redhat-release*\" >> /etc/yum.conf   \n}\n\nf_rhel_terminate()\n{\n\t#unregister\necho \"---------------------------------------------------------------------\"\necho \"                    function terminate rhel                          \"\necho \"---------------------------------------------------------------------\"\nsubscription-manager unregister\n}\n\nf_oracle_initialize()\n{\n#Enable Epel\necho \"---------------------------------------------------------------------\"\necho \"                    Enable EPEL Repository                           \"\necho \"---------------------------------------------------------------------\"\n\necho \"[ol7_developer_EPEL]\nname=Oracle Linux $releasever Developement Packages ($basearch)\nbaseurl=http://yum.oracle.com/repo/OracleLinux/OL7/developer_EPEL/$basearch/\ngpgkey=file:///etc/pki/rpm-gpg/RPM-GPG-KEY-oracle\ngpgcheck=1\nenabled=1\" | tee /etc/yum.repos.d/epel-yum-ol7.repo\n}\n\nf_oracle_terminate()\n{\n    echo \"---------------------------------------------------------------------\"\n\techo \"                    function terminate Oracle                        \"\n\techo \"---------------------------------------------------------------------\"\t\n}\n\nf_yum_package_oracle_install()\n{\n\tyum install deltarpm -y\n\tyum install libxcb-1* -y\n\tyum install libXau-1* -y\n\tyum install libXtst-1* -y\n\tyum install libXrender* -y\n\tyum install libXrender-devel* -y\n\tyum install make-3* -y\n\tyum install smartmontools -y\n\tyum install nfs-utils -y\n\tyum install net-tools-2* -y\n\tyum install smartmontools -y\n\tyum install libXi-1* -y\n\tyum install libX11-1* -y\n\tyum install compat-db* -y\n\tyum install binutils -y\n\tyum install ksh -y \n\tyum install libaio-devel -y\n\tyum install sysstat -y \n\tyum install unixODBC -y\n\tyum install sysfsutils -y\n\tyum install sg3_utils -y\n\tyum install lsscsi -y\n\tyum install zlib-devel -y\n\tyum install libXp-devel -y\n\tyum install libXScrnSaver -y\n\tyum install compat-libstdc++-33* -y\n\tyum install compat-libcap -y\n\tyum install glibc-2* -y\n\tyum install glibc-devel-2* -y\n\tyum install ksh -y\n\tyum install libaio-0* -y\n\tyum install libaio-devel-0* -y\n\tyum install libgcc-4* -y\n\tyum install libstdc++-4* -y\n\tyum install libstdc++-devel-4* -y\n\tyum install oracleasm-support -y\n\tyum install bc -y\n\tyum install unzip -y\n\tyum install lvm2 -y\n\tyum install wget -y\n\tyum install gcc -y\n\tyum install rsync -y\n\tyum install zip -y\n\tyum install sshpass -y\n\tyum install rlwrap -y\n}\n\nf_dnf_package_oracle_install()\n{\necho \"----------------------------------------------------------------------------\"\necho \"      @@{database_motor}@@ @@{database_version}@@ : INSTALL CONF REPO        \"\necho \"----------------------------------------------------------------------------\"\ndnf install https://dl.fedoraproject.org/pub/epel/epel-release-latest-8.noarch.rpm -y\ncurl -o oracle-database-preinstall-19c-1.0-2.el8.x86_64.rpm https://public-yum.oracle.com/repo/OracleLinux/OL8/appstream/x86_64/getPackage/oracle-database-preinstall-19c-1.0-2.el8.x86_64.rpm\nyum -y localinstall oracle-database-preinstall-19c-1.0-2.el8.x86_64.rpm\n\necho \"----------------------------------------------------------------------------\"\necho \"         @@{database_motor}@@ @@{database_version}@@ : INSTALL RPM           \"\necho \"----------------------------------------------------------------------------\"\n\ndnf install bc -y\ndnf install binutils -y\ndnf install elfutils-libelf -y\ndnf install elfutils-libelf-devel -y\ndnf install fontconfig-devel -y\ndnf install glibc -y\ndnf install glibc.i686 -y\ndnf install glibc-devel -y\ndnf install glibc-devel.i686 -y\ndnf install ksh -y\ndnf install libaio -y\ndnf install libaio.i686 -y\ndnf install libaio-devel -y\ndnf install libaio-devel.i686 -y\ndnf install libX11 -y\ndnf install libX11.i686 -y\ndnf install libXau -y\ndnf install libXau.i686 -y\ndnf install libXi -y\ndnf install libXi.i686 -y\ndnf install libXtst -y\ndnf install libXtst.i686 -y\ndnf install libgcc -y\ndnf install libgcc.i686 -y\ndnf install libnsl -y\ndnf install libnsl.i686 -y\ndnf install librdmacm -y\ndnf install librdmacm.i686 -y\ndnf install libstdc++ -y\ndnf install libstdc++.i686 -y\ndnf install libstdc++-devel -y\ndnf install libstdc++-devel.i686 -y\ndnf install libxcb -y\ndnf install libxcb.i686 -y\ndnf install libibverbs -y\ndnf install libibverbs.i686 -y\ndnf install make -y\ndnf install policycoreutils -y\ndns install policycoreutils-python-utils -y\ndnf install smartmontools -y\nyum install sysstat -y\ndnf install nfs-utils -y\ndnf install net-tools -y\ndnf install tar -y\ndnf install network-scripts -y\ndnf install unixODBC -y\ndnf install unixODBC-devel -y\ndnf install sysfsutils -y\ndnf install sg3_utils -y\ndnf install lsscsi -y\ndnf install zlib-devel -y\ndnf install libXp-devel -y\ndnf install libXScrnSaver -y\ndnf install xorg-x11-server-utils -y\ndnf install xorg-x11-server-Xorg -y\ndnf install xorg-x11-xauth -y\ndnf install xorg-x11-apps -y\ndnf install xhost -y\ndnf install xterm -y\ndnf install xauth -y\ndnf install psmisc -y\ndnf install gcc-c++ -y\ndnf install chrony -y\ndnf install iscsi-initiator-utils -y\n\n\n#ASM LIB CONFIGURATION\necho \"----------------------------------------------------------------------------\"\necho \"         @@{database_motor}@@ @@{database_version}@@ : DEPLOY ASMLIB        \"\necho \"----------------------------------------------------------------------------\"\nrpm -ivh https://yum.oracle.com/repo/OracleLinux/OL8/addons/x86_64/getPackage/oracleasm-support-2.1.12-1.el8.x86_64.rpm\nyum install kmod-oracleasm -y\nrpm -ivh https://download.oracle.com/otn_software/asmlib/oracleasmlib-2.0.17-1.el8.x86_64.rpm\n\n\n#Package for Nutanix\necho \"----------------------------------------------------------------------------\"\necho \"     @@{database_motor}@@ @@{database_version}@@ : DEPLOY SPEC PACKAGES     \"\necho \"----------------------------------------------------------------------------\"\n\ndnf install unzip -y\ndnf install wget -y\ndnf install gcc -y\ndnf install rsync -y\ndnf install zip -y\ndnf install bind-utils -y\ndnf install xauth -y\ndnf install vim-enhanced -y\ndnf install lsof -y\ndnf install rlwrap -y\ndnf install sshpass -y\n\n#Configure Install Deprecated Package\nwget http://mirror.centos.org/centos/7/os/x86_64/Packages/compat-libstdc++-33-3.2.3-72.el7.x86_64.rpm\nwget http://mirror.centos.org/centos/7/os/x86_64/Packages/compat-libcap1-1.10-7.el7.x86_64.rpm\nyum localinstall compat-libstdc++-33-3.2.3-72.el7.x86_64.rpm -y\nyum localinstall compat-libcap1-1.10-7.el7.x86_64.rpm -y\nrm compat-libstdc++-33-3.2.3-72.el7.x86_64.rpm -y\nrm compat-libcap1-1.10-7.el7.x86_64.rpm -y\n\n}\n\nf_dnf_package_mysql_install()\n{\n\tdnf install network-scripts -y\n\tdnf install sshpass -y\n    \n    dnf install -y wget\n\n    #management\n    dnf install -y net-tools\n\n    #third options\n    dnf install -y git\n\n\n    #nutanix era\n    dnf install -y sshpass\n    dnf install -y unzip\n    dnf install -y zip\n    dnf install -y rsync\n    dnf install -y python3\n    dnf install -y python36\n    dnf install -y python3-pip\n    dnf install -y nfs-utils\n    dnf install -y lsof\n    dnf install -y ncurses-devel \n    dnf install -y ncurses-compat-libs\n    dnf install -y ksh\n    dnf install -y bc\n    dnf install -y tar\n    dnf install -y gcc\n    dnf install -y gcc-c++\n    dnf install -y make\n    \n    #rsyslog\n\tcd /etc/yum.repos.d/ || exit\n\twget http://rpms.adiscon.com/v8-stable/rsyslog.repo\n\tyum install rsyslog -y\n\n\t#Addons\n\tdnf install nc -y\n\tdnf install mlocate -y\n}\n\nf_yum_package_mysql_install()\n{\n\techo \"test\"\n}\n\nf_yum_package_postgresql_install()\n{\necho \"----------------------------------------------------------------------------------\"\necho \"   @@{database_motor}@@ @@{database_version}@@ : DEPLOY YUM POSTGRESQL PACKAGES   \"\necho \"----------------------------------------------------------------------------------\"\n}\n\nf_dnf_package_postgresql_install()\n{\necho \"----------------------------------------------------------------------------------\"\necho \"   @@{database_motor}@@ @@{database_version}@@ : DEPLOY DNF POSTGRESQL PACKAGES   \"\necho \"----------------------------------------------------------------------------------\"\n\n    dnf install https://dl.fedoraproject.org/pub/epel/epel-release-latest-8.noarch.rpm -y\n\n    #Mandatory to avoid Module Yaml Error Message\n    dnf upgrade -y libmodulemd\n\n\t#postgresql\n    dnf install -y wget\n\n    #management\n    dnf install -y net-tools\n    dnf install -y network-scripts\n\n    #third party solutions options\n    dnf install -y git\n\t\n\n    #nutanix era\n    dnf install -y sshpass\n    dnf install -y wget\n    dnf install -y tar\n    dnf install -y unzip\n    dnf install -y zip\n    dnf install -y rsync\n    dnf install -y python36\n    dnf install -y python36-devel\n    dnf install -y python3-pip\n    dnf install -y nfs-utils\n    dnf install -y lsof\n    dnf install -y ncurses-devel\n    dnf install -y iptables-services\n    dnf install -y curl\n    dnf install -y readline-devel \n    dnf install -y zlib-devel\n    dnf install -y rpcbind\n    dnf install -y showmount\n    dnf install -y ncurses-compat-libs\n    dnf install -y bc\n    dnf install -y nfs-utils\n    dnf install -y net-snmp\n    dnf install -y iscsi-initiator-utils\n    \n    \n    #rsyslog\n\tcd /etc/dnf.repos.d/ || exit\n\twget http://rpms.adiscon.com/v8-stable/rsyslog.repo\n\tdnf install rsyslog -y\n\n\t#Addons\n\tdnf install nc -y\n\tdnf install mlocate -y\n\n#postgresql compile library\nif [[ @@{dep_type}@@ =~ \"COMPILE\" ]]; then\n\t\t\n      echo \"----------------------------------------------------------------------------------\"\n\t  echo \" @@{database_motor}@@ @@{database_version}@@ : DEPLOY DNF HA POSTGRESQL PACKAGES  \"\n      echo \"----------------------------------------------------------------------------------\"\n\t\t\n      dnf install -y gcc\n      dnf install -y gcc-c++\n      dnf install -y make\n      dnf install -y libxml2-devel\n      dnf install -y openldap-devel\n      dnf install -y readline-devel\n      dnf install -y zlib-devel\n      dnf install -y systemd-devel\n      dnf install -y openssl-devel\n      dnf install -y pam-devel\n      dnf install -y python3-devel\n      dnf install -y libicu-devel\n      dnf install -y tcl-devel\n      #Issue with LLVM with RHEL 8.4 and LLVM 13 - llvm-config not present\n      dnf install -y llvm\n      dnf install -y llvm-devel\n      dnf install -y clang\n      dnf install -y llvm-toolset \nfi\n}\n\n\nmain()\n\n{\nenv_type=@@{database_motor}@@\narch_type=@@{architecture}@@\nversion=@@{database_version}@@\n\nPRODUCT_MINOR_VERSION=$(grep -E '^(VERSION)=' /etc/os-release | sed 's/.*=//' | sed 's/\"//g')\nPRODUCT_MAJOR_VERSION=${PRODUCT_MINOR_VERSION::1}\necho \"The product version is \" \"$PRODUCT_MINOR_VERSION\"\necho \"The major version is \" \"$PRODUCT_MAJOR_VERSION\"\nPRODUCT_NAME=$(grep -E '^(NAME)=' /etc/os-release | sed 's/.*=//' | sed 's/\"//g')\necho \"The linux os used is \" \"$PRODUCT_NAME\"\n\n\nif [[ $env_type =~ \"Oracle\" ]]; then\n\tif [[ $PRODUCT_NAME =~ \"Red\" ]]; then\n                case $PRODUCT_MAJOR_VERSION in\n                        7)\n                        echo \"Version is 7 we will use yum\"\n                        f_rhel_initialize\n                        f_yum_package_oracle_install\n                        f_rhel_terminate\n                        ;;\n\n                        8)\n                        echo \"Version is 8 we will use dnf\"\n                        f_rhel_initialize\n                        f_dnf_package_oracle_install\n                        f_rhel_terminate\n                        ;;\n\n                        *)\n                        echo \"....I do not  ..know\"\n                        ;;\n        \tesac\n\n\telif [[ $PRODUCT_NAME =~ \"Oracle\" ]]; then\n                 case $PRODUCT_MAJOR_VERSION in\n                        7)\n                        echo \"Version is 7 we will use yum\"\n                        f_oracle_initialize\n                        f_yum_package_oracle_install\n                        f_oracle_terminate\n                ;;\n\t\t\t\n                8)\n                        echo \"Version is 8 we will use dnf\"\n        \t\t\t\tf_oracle_initialize\n                        f_dnf_package_oracle_install\n                        f_oracle_terminate\n                        ;;\n                        \n                        *)\n                        echo \"....I do not know\"\n                        ;;\n        \tesac\n\telse\n    \techo \"the version is not supported by era\"\n        fi\n   \t\t     \nelif [[ $env_type =~ \"Postgresql\" ]]; then\n\tif [[ $PRODUCT_NAME =~ \"Red\" ]]; then\n    \t\tcase $PRODUCT_MAJOR_VERSION in\n                        7)\n                                echo \"Version is 7 we will use yum\"\n                                f_rhel_initialize\n                                f_yum_package_postgres_install\n                                f_rhel_terminate\n                                ;;\n\n                        8)\n                                echo \"Version is 8 we will use dnf\"\n                                f_rhel_initialize\n                                f_dnf_package_postgresql_install\n                                f_rhel_terminate\n                                ;;\n\n                        *)\n                                echo \"....I do not  ..know\"\n                                ;;\n        \tesac\n\n\telif [[ $PRODUCT_NAME =~ \"Oracle\" ]]; then\n        \tcase $PRODUCT_MAJOR_VERSION in\n                        7)\n                                echo \"Version is 7 we will use yum\"\n                                f_oracle_initialize\n                                f_yum_package_postgres_install\n                                f_oracle_terminate\n                                ;;\n\t\t\t\n                        8)\n                                echo \"Version is 8 we will use dnf\"\n                                f_oracle_initialize\n                                f_dnf_package_postgresql_install\n                                f_oracle_terminate\n                                ;;\n                \n                        *)\n                        echo \"....I do not know\"\n                        ;;\n        \tesac\n        fi\n\nelif [[ $env_type =~ \"MySQL\" ]]; then\n\tif [[ $PRODUCT_NAME =~ \"Red\" ]]; then\n    \t\tcase $PRODUCT_MAJOR_VERSION in\n                        7)\n                              echo \"Version is 7 we will use yum\"\n                              f_rhel_initialize\n                              f_yum_package_mysql_install\n                              f_rhel_terminate\n                              ;;\n\n                        8)\n                              echo \"Version is 8 we will use dnf\"\n                              f_rhel_initialize\n                              f_dnf_package_mysql_install\n                              f_rhel_terminate\n                              ;;\n\n                        *)\n                              echo \"....I do not  ..know\"\n                              ;;\n                  esac\n    fi\n\nelif [[ $env_type =~ \"MySQL\" ]]; then\n\tif [[ $PRODUCT_NAME =~ \"Red\" ]]; then\n    \t\tcase $PRODUCT_MAJOR_VERSION in\n                \t\t7)\n                              echo \"Version is 7 we will use yum\"\n                              f_rhel_initialize\n                              f_yum_package_mysql_install\n                              f_rhel_terminate\n                              ;;\n\n                \t\t8)\n                              echo \"Version is 8 we will use dnf\"\n                              f_rhel_initialize\n                              f_dnf_package_mysql_install\n                              f_rhel_terminate\n                              ;;\n\n                \t\t*)\n                              echo \"....I do not  ..know\"\n                              ;;\n        \tesac\n    fi\nfi\n}\n\nmain\n\n\nexit",
                      "script_type": "sh",
                      "type": "",
                      "command_line_args": "",
                      "login_credential_local_reference": "@{kind=app_credential; name=cred_root}"
                    },
                    "timeout_secs": "0",
                    "type": "EXEC",
                    "variable_list": []
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_service",
                      "name": "DATABASE_MOTOR_VERSION"
                    },
                    "retries": "0",
                    "description": "",
                    "inherit_target": false,
                    "child_tasks_local_reference_list": [],
                    "name": "APP_Drives Configuration",
                    "attrs": {
                      "exit_status": "",
                      "script": "#!/bin/bash\n\necho \"------------------------------------------------------------------------------\"\necho \"   @@{database_motor}@@ - @@{database_version}@@ : FORMAT AND CONFIG DRIVE    \"\necho \"------------------------------------------------------------------------------\"\n\nf_create_oracle_appdisk()\n{\necho \"-------------------------------------------------\"\necho \"$1\"\necho \"$2\"\necho \"$3\"\necho \"$4\"\necho \"$5\"\necho \"-------------------------------------------------\"\n\nif [[ $3 =~ \"oracle\" ]]; then\n\necho \"------------------------------------------------------------------------------\"\necho \"                Oracle ($3) - $version : FORMAT $1 $2                       \"\necho \"------------------------------------------------------------------------------\"\n#$1 - drive\n#$2 - mount point\n#$3 - owner\n#$4 - group\n    pvcreate /dev/\"$1\"\n    \n    #create VG on secondary disk\n    vgcreate vg_\"$2\" /dev/\"$1\"\n    lvcreate -n lv_\"$2\" -l 100%FREE vg_\"$2\"\n\n    #format partition in ext4\n    mkfs.xfs /dev/vg_\"$2\"/lv_\"$2\"\n\n    #Configure automount in fstab using UUID\n    uuid=$(blkid /dev/vg_\"$2\"/lv_\"$2\"| sed -n 's/.*UUID=\\\"\\([^\\\"]*\\)\\\".*/\\1/p')\n    echo \"UUID=$uuid  /$2/app xfs defaults 0 0\" >> /etc/fstab\n    mkdir -p /\"$2\"/app\n    mount -a\n\n    #create and assign folder permission for oracle user\n    \n    #create and assign folder permission for oracle user\n\tmkdir -p /\"$2\"/app/oracle/product/\"$5\"/dbhome_1/\n    chmod -R 775 /\"$2\"\n\tchown -R \"$3\":\"$4\" /\"$2\"\n\nelif [[ $3 =~ \"grid\" ]]; then\n\necho \"------------------------------------------------------------------------------\"\necho \"                 Oracle ($3) - $version : FORMAT $1 $2                        \"\necho \"------------------------------------------------------------------------------\"\n#$1 - drive\n#$2 - mount point\n#$3 - owner\n#$4 - group\n#$5 - db_version\n    pvcreate /dev/\"$1\"\n    \n    #create VG on secondary disk\n    vgcreate vg_\"$2\" /dev/\"$1\"\n    lvcreate -n lv_\"$2\" -l 100%FREE vg_\"$2\"\n\n    #format partition in ext4\n    mkfs.xfs /dev/vg_\"$2\"/lv_\"$2\"\n\n    #Configure automount in fstab using UUID\n    uuid=$(blkid /dev/vg_\"$2\"/lv_\"$2\"| sed -n 's/.*UUID=\\\"\\([^\\\"]*\\)\\\".*/\\1/p')\n    echo \"UUID=$uuid  /$2/app xfs defaults 0 0\" >> /etc/fstab\n    mkdir -p /\"$2\"/app\n    mount -a\n\n    #create and assign folder permission for oracle user\n    chown -R \"$3\":\"$4\" /\"$2\"\n    \n    #create and assign folder permission for oracle user\n    mkdir -p /\"$2\"/app/grid/\"$5\"/GI_home\n\tchmod -R 775 /\"$2\"\n\tchown -R \"$3\":\"$4\" /\"$2\"\n    \nelse \n\techo \"I do not know ...\"\nfi\n}\n\nf_create_oracle_ocrdisk()\n{\necho \"------------------------------------------------------------------------------\"\necho \"                  Oracle - $version : FORMAT $1 - OCRDSK                      \"\necho \"------------------------------------------------------------------------------\"\n#\n#chown grid:asmadmin /dev/$1\necho \"$1\"1\n#/usr/sbin/oracleasm createdisk OCRDSK /dev/\"$1\"1\n#chown -R grid:asmadmin /dev/oracleasm/*\n#/usr/sbin/oracleasm listdisks\n#/usr/sbin/oracleasm configure\n}\n\nf_create_appdisk()\n{\npvcreate /dev/\"$1\"\n#create VG on secondary disk\nvgcreate vg_\"$2\" /dev/\"$1\"\nlvcreate -n lv_\"$2\" -l 100%FREE vg_\"$2\"\n\n#format partition in xfs\nmkfs.xfs /dev/vg_\"$2\"/lv_\"$2\"\n\nif [[ $env_type =~ \"Postgresql\" ]]; then\n\necho \"------------------------------------------------------------------------------\"\necho \"                   POSTGRESQL - $version : FORMAT $1                          \"\necho \"------------------------------------------------------------------------------\"\n\n    mkdir /usr/local/pgsql\n    chown postgres:postgres /usr/local/pgsql\n\n    MyPostgresqlMajorVersion=$(echo @@{database_version}@@ | head -c 2)  \n    echo \"My Pgsql Major version is :\" \"$MyPostgresqlMajorVersion\"\n    uuid=$(blkid /dev/vg_\"$2\"/lv_\"$2\" | sed -n 's/.*UUID=\\\"\\([^\\\"]*\\)\\\".*/\\1/p')\n    echo \"/dev/mapper/vg_$2-lv_$2 /usr/pgsql-$MyPostgresqlMajorVersion xfs defaults 0 0\" >> /etc/fstab\n    mkdir -p /usr/pgsql-\"$MyPostgresqlMajorVersion\"\n    mount -a\n    chown -R \"$3\":\"$3\" /usr/pgsql-\"$MyPostgresqlMajorVersion\"\n    chmod -R 775 /usr/pgsql-\"$MyPostgresqlMajorVersion\"\n    \nelif [[ $env_type =~ \"MySQL\" ]]; then\n\necho \"------------------------------------------------------------------------------\"\necho \"                     MYSQL - $version : FORMAT $2                             \"\necho \"------------------------------------------------------------------------------\"\n\n\tpvcreate /dev/\"$1\"\n    #create VG on secondary disk\n    vgcreate vg_\"$2\" /dev/\"$1\"\n    lvcreate -n lv_\"$2\" -l 100%FREE vg_\"$2\"\n\n    #format partition in xfs\n    mkfs.xfs /dev/vg_\"$2\"/lv_\"$2\"\n\n    #Configure automount in fstab using UUID\n    uuid=$(blkid /dev/vg_MySql/lv_MySql | sed -n 's/.*UUID=\\\"\\([^\\\"]*\\)\\\".*/\\1/p')\n    echo \"/dev/mapper/vg_$2-lv_$2  /software xfs defaults 0 0\" >> /etc/fstab\n    mkdir -p /software\n    mount -a\n    chown -R mysql:mysql /software   \n   \t\n    else \n    echo \"do nothing\"\nfi\n}\n\nmain()\n{\nenv_type=@@{database_motor}@@\narch_type=@@{architecture}@@\nversion=@@{database_version}@@\n\nif [[ $env_type =~ \"Oracle\" ]]; then\n        case $arch_type in\n        \t#0 = single_instance\n                0)\n               \t\tf_create_oracle_appdisk sdb u02 oracle oinstall $version\n                        ;;\n\t\t#1 = grid_instance\n                1)\n                \tf_create_oracle_appdisk sdb u02 oracle oinstall $version\n                \tf_create_oracle_appdisk sdc u01 grid oinstall $version\n                \tf_create_oracle_ocrdisk sdd\n                        ;;\n                *)\n                        echo \"....I do not  ...  know\"\n                        ;;\n        esac\n        \nelif [[ $env_type =~ \"Postgresql\" ]]; then\n\n        f_create_appdisk sdb app_pgsql postgres $version\n        \nelif [[ $env_type =~ \"MySQL\" ]]; then\n\n        f_create_appdisk sdb app_mysql mysql $version\n\nelif [[ $env_type =~ \"MongoDB\" ]]; then\n\n        f_create_appdisk sdb app_mongodb mongodb $version\n\nelse\n   echo \"the version is not supported by era\"\n   exit\nfi\n}\n\nmain\n\nexit",
                      "script_type": "sh",
                      "type": "",
                      "command_line_args": "",
                      "login_credential_local_reference": "@{kind=app_credential; name=cred_root}"
                    },
                    "timeout_secs": "0",
                    "type": "EXEC",
                    "variable_list": []
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_service",
                      "name": "DATABASE_MOTOR_VERSION"
                    },
                    "retries": "0",
                    "description": "",
                    "inherit_target": false,
                    "child_tasks_local_reference_list": [],
                    "name": "DB_Deployment",
                    "attrs": {
                      "exit_status": "",
                      "script": "#!/bin/bash\n\nf_set_path()\n{\n  echo \"app_path=/software/mysql-$2\"\n}\n\nf_rhel_initialize()\n{\n\t#Configure rhel settings\n    #register\n    #repository ...here\necho \"---------------------------------------------------------------------\"\necho \"                    function intialize rhel                          \"\necho \"---------------------------------------------------------------------\"\nsubscription-manager register --username=\"@@{cred_rhel_username}@@\" --password=\"@@{cred_rhel_password}@@\" --force\nsubscription-manager attach --pool=\"@@{rhel_subscription}@@\"\n}\n\nf_rhel_terminate()\n{\n\t#unregister\necho \"---------------------------------------------------------------------\"\necho \"                    function terminate rhel                          \"\necho \"---------------------------------------------------------------------\"\nsubscription-manager unregister\n}\n\n\nf_deploy_database()\n{\necho \"---------------------------------------------------------------------\"\necho \"                     DEPLOY DATABASE $1                          \"\necho \"---------------------------------------------------------------------\"\n}\n\nf_deploy_mysql()\n{\necho \"---------------------------------------------------------------------\"\necho \"                       DEPLOY MYSQL $1                               \"\necho \"---------------------------------------------------------------------\"\n\ncd /software\nwget https://downloads.mysql.com/archives/get/p/23/file/mysql-$1-el7-x86_64.tar\ntar -xvf mysql-$1-el7-x86_64.tar\ntar -xvzf mysql-$1-el7-x86_64.tar.gz\nmv mysql-$1-el7-x86_64 mysql-$1\nrm mysql-$1-el7-x86_64.tar\nrm mysql-$1-el7-x86_64.tar.gz\nrm mysql-router-$1-el7-x86_64.tar.gz\nrm mysql-test-$1-el7-x86_64.tar.gz\ncd /software/mysql-$1/bin\n./mysqld --initialize --user=mysql\n\necho \"mysql init done !\"\npath=\"/software/mysql-$1\"\n}\n\nf_deploy_mongodb()\n{\necho \"---------------------------------------------------------------------\"\necho \"                       DEPLOY MONGODB $1                             \"\necho \"---------------------------------------------------------------------\"\n}\n\nf_deploy_pgsql()\n{\nMyPostgresqlMajorVersion=$(echo $1 | head -c 2)        \n\necho \"---------------------------------------------------------------------\"\necho \"                     DEPLOY POSTGRESQL $2                            \"\necho \"---------------------------------------------------------------------\"\n\n\nif [[ @@{dep_type}@@ =~ \"RPM\" ]]; then\n        dnf install -y https://download.postgresql.org/pub/repos/yum/reporpms/EL-8-x86_64/pgdg-redhat-repo-latest.noarch.rpm\n        dnf module disable postgresql -y\n        sudo yum install -y postgresql$MyPostgresqlMajorVersion-server*$1*\n        sudo yum install -y postgresql$MyPostgresqlMajorVersion-contrib*$1*\n        sudo yum install -y postgresql$MyPostgresqlMajorVersion-libs*$1*\n        sudo yum install -y postgresql$MyPostgresqlMajorVersion-devel*$1*\n        sudo yum install -y postgresql$MyPostgresqlMajorVersion-llvmjit*$1*\n        echo \"exclude=postgresql*\" >> /etc/yum.conf\n        chown -R postgres:postgres /usr/pgsql-*\n        \n    \techo \"rpm deployment ok\"\n        \nelif [[ @@{dep_type}@@ =~ \"COMPILE\" ]]; then\n        \n        #su - postgres -c \"mkdir /usr/pgsql-'$MyPostgresqlMajorVersion'\"\n        llvmpath=$(which llvm-config-64)\n        cd /tmp\n        \n        #Download Version based on selected version in BP\n\t\twget https://ftp.postgresql.org/pub/source/v@@{database_version}@@/postgresql-@@{database_version}@@.tar.gz -P /tmp --no-check-certificate\n\n\t\t#Configure and Install PostgresQL\n        su postgres -c \"tar -xvzf postgresql-$1.tar.gz\"\n        cd /tmp/postgresql-@@{database_version}@@\n        su postgres -c \"/tmp/postgresql-@@{database_version}@@/configure --prefix=/usr/pgsql-'$MyPostgresqlMajorVersion' --with-openssl --with-ldap --with-systemd --with-libxml --enable-nls --with-system-tzdata=/usr/share/zoneinfo --with-pam --with-python --with-icu --with-tcl --with-gssapi --with-llvm LLVM_CONFIG='$llvmpath'\"\n        su postgres -c \"make\"\n        su postgres -c \"make install\"\n        su postgres -c \"make install-docs\"\n        su postgres -c \"make install-world\"\n        \n        chown -R postgres:postgres /usr/pgsql-$MyPostgresqlMajorVersion\n        \n        echo \"sources deployment ok\"\nelse \necho \"a Nuxpresso ?\"\nfi\n\nif [[ $2 =~ \"HA\" ]]; then\n\necho \"---------------------------------------------------------------------\"\necho \"                         ADD  $2  COMPONENTS                         \"\necho \"---------------------------------------------------------------------\"\n\n        wget https://www.rpmfind.net/linux/centos/7.9.2009/extras/x86_64/Packages/etcd-3.3.11-2.el7.centos.x86_64.rpm\n        yum localinstall etcd-3.3.11-2.el7.centos.x86_64.rpm -y\n        \n        dnf install -y haproxy\n    \t#this is needed when using haproxy version > 1.5.x\n    \tsudo ln -s /usr/sbin/haproxy  /usr/local/sbin/\n        \n        yum install keepalived -y \n        \n\n        pip3 install --upgrade pip\n        pip3 install -U setuptools\n        pip3 install urllib3==1.24.2\n        pip3 install patroni[etcd]==2.1.1\n        pip3 install grpcio==1.26.0\n        pip3 install etcd3==0.10.0\n        pip3 install psycopg2-binary==2.8.6 \n\n\n        ln -s /usr/local/bin/patroni /usr/bin/patroni\n        ln -s /usr/local/bin/patronictl /usr/bin/patronictl\n\n        patroni --version\n\n        #clean etc default config\n        rm -rf /var/lib/etcd/*\n        rm -rf /etc/etcd/etcd.yml\n        systemctl disable etcd\n\n        #enable iptables-services (mandatory for keepalive)\n\n        sudo keepalived --version\nfi\n}\n\nmain()\n{\nenv_type=@@{database_motor}@@\narch_type=@@{architecture}@@\nversion=@@{database_version}@@\n\nif [[ $env_type =~ \"Oracle\" ]]; then\n        case $arch_type in\n        \t\t#0 = single_instance\n                0)\n               \t\tf_create_oracle_deployment sdb u02 oracle oinstall $version\n                ;;\n\t\t\t\t#1 = grid_instance\n                1)\n                \tf_create_oracle_deployment sdb u02 oracle oinstall $version\n                \tf_create_grid_deployment sdc u01 grid oinstall $version\n                ;;\n                *)\n                echo \"....I do not  ...  know\"\n                ;;\n        esac        \nelif [[ $env_type =~ \"Postgresql\" ]]; then\n        f_rhel_initialize\n        f_deploy_pgsql $version $arch_type\n        f_rhel_terminate\n        \nelif [[ $env_type =~ \"MySQL\" ]]; then\n\t\tf_deploy_mysql $version\n        f_set_path $env_type $version\n        \n        \nelif [[ $env_type =~ \"MongoDB\" ]]; then\n\n\t\tf_deploy_mongodb $env_type $version\nelse\n   echo \"the version is not supported by era\"\nfi\n}\nmain\n\nexit ",
                      "script_type": "sh",
                      "type": "",
                      "command_line_args": "",
                      "login_credential_local_reference": "@{kind=app_credential; name=cred_root}"
                    },
                    "timeout_secs": "0",
                    "type": "EXEC",
                    "variable_list": []
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_service",
                      "name": "DATABASE_MOTOR_VERSION"
                    },
                    "retries": "0",
                    "description": "",
                    "inherit_target": false,
                    "child_tasks_local_reference_list": [],
                    "name": "CHECK_PREPARATION",
                    "attrs": {
                      "exit_status": "",
                      "script": "#!/bin/bash\n\nf_check_dbrms()\n{\n\techo \"--------------------------------------------\"\n    echo \"        check if partition is created       \"\n    echo \"--------------------------------------------\"\n\techo \"DBRMS partition is created\"\n\tmount | grep /u02\n}\n\nf_check_grid()\n{\n\techo \"--------------------------------------------\"\n    echo \"        check if partition is created       \"\n    echo \"--------------------------------------------\"\n\techo \"GRID partition is created\"\n\tmount | grep /u01\n}\n\nf_check_app_content()\n{\n\techo \"--------------------------------------------\"\n    echo \"        Check if app binary exists          \"\n    echo \"--------------------------------------------\"\n    ls -arlt @@{app_dir_path}@@\n}\n\nmain()\n{\n\narch_type=@@{architecture}@@\nenv_type=@@{database_motor}@@\n\nif [[ $env_type =~ \"Oracle\" ]]; then\n        case $arch_type in\n        \t\t#0 = single_instance\n                0)\n                f_check_dbrms\n                ;;\n\t\t\t\t#1 = grid_instance\n                1)\n                f_check_dbrms\n                f_check_grid\n                ;;\n\t\t\t\t\n                *)\n                echo \"....I do not  ...  know\"\n                ;;\n        esac\nelif [[ $env_type =~ \"MySQL\" ]]; then\n\nf_check_app_content\n\nelse\n   echo \"seems there is a 'kind of' issue\"\n   exit\nfi\n}\n\nmain\n\nexit",
                      "script_type": "sh",
                      "type": "",
                      "command_line_args": "",
                      "login_credential_local_reference": "@{kind=app_credential; name=cred_root}"
                    },
                    "timeout_secs": "0",
                    "type": "EXEC",
                    "variable_list": []
                  }
                ],
                "description": "",
                "name": "e5e2c02a_runbook",
                "main_task_local_reference": {
                  "kind": "app_task",
                  "name": "1c9d5fd8_dag"
                },
                "variable_list": []
              },
              "name": "GUEST_OS_CONFIGURATION"
            },
            {
              "description": "Remove files / garbage / tmp etc ",
              "type": "user",
              "critical": false,
              "runbook": {
                "task_definition_list": [
                  {
                    "retries": "0",
                    "description": "",
                    "inherit_target": false,
                    "child_tasks_local_reference_list": [
                      "@{kind=app_task; name=CLEAN}"
                    ],
                    "name": "d0db438a_dag",
                    "attrs": {
                      "edges": "",
                      "type": ""
                    },
                    "timeout_secs": "0",
                    "type": "DAG",
                    "variable_list": []
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_service",
                      "name": "DATABASE_MOTOR_VERSION"
                    },
                    "retries": "0",
                    "description": "",
                    "inherit_target": false,
                    "child_tasks_local_reference_list": [],
                    "name": "CLEAN",
                    "attrs": {
                      "exit_status": "",
                      "script": "#Enabled Services\nsudo systemctl enable chronyd\n\n#delete  tmp\nrm -rf /tmp/*\nls -arlt /tmp\n\n#Remove History\nhistory -c\nexit",
                      "script_type": "sh",
                      "type": "",
                      "command_line_args": "",
                      "login_credential_local_reference": "@{kind=app_credential; name=cred_root}"
                    },
                    "timeout_secs": "0",
                    "type": "EXEC",
                    "variable_list": []
                  }
                ],
                "description": "",
                "name": "ac22b2b9_runbook",
                "main_task_local_reference": {
                  "kind": "app_task",
                  "name": "d0db438a_dag"
                },
                "variable_list": []
              },
              "name": "CLEAN"
            },
            {
              "description": "",
              "type": "user",
              "critical": false,
              "runbook": {
                "task_definition_list": [
                  {
                    "retries": "0",
                    "description": "",
                    "inherit_target": false,
                    "child_tasks_local_reference_list": [
                      "@{kind=app_task; name=GetEraDetails}",
                      "@{kind=app_task; name=Register Golden Image}",
                      "@{kind=app_task; name=MonitorRegisterDBVM}",
                      "@{kind=app_task; name=CreateSoftwareProfile}",
                      "@{kind=app_task; name=MonitorCreateProfile}"
                    ],
                    "name": "5f3d4b1c_dag",
                    "attrs": {
                      "edges": "   ",
                      "type": ""
                    },
                    "timeout_secs": "0",
                    "type": "DAG",
                    "variable_list": []
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_service",
                      "name": "DATABASE_MOTOR_VERSION"
                    },
                    "retries": "0",
                    "description": "",
                    "inherit_target": false,
                    "child_tasks_local_reference_list": [],
                    "name": "GetEraDetails",
                    "attrs": {
                      "exit_status": "",
                      "script": "# Set creds and headers\nera_user = \"@@{cred_era_admin_password.username}@@\"\nera_pass = \"@@{cred_era_admin_password.secret}@@\"\nheaders = {\"Content-Type\": \"application/json\", \"Accept\": \"application/json\"}\n\n# Get Cluster ID\nurl = \"https://@@{era_ip}@@/era/v0.9/clusters\"\nresp = urlreq(url, verb=\"GET\", auth=\"BASIC\", user=era_user, passwd=era_pass, headers=headers)\n\nif resp.ok:\n    print(\"CLUSTER_ID={0}\".format(json.loads(resp.content)[0][\"id\"]))\nelse:\n    print(\"Get Cluster ID request failed\", json.dumps(json.loads(resp.content), indent=4))\n    exit(1)",
                      "eval_variables": "CLUSTER_ID",
                      "eval_scope": "local",
                      "type": "",
                      "script_type": "static"
                    },
                    "timeout_secs": "0",
                    "type": "SET_VARIABLE",
                    "variable_list": []
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_service",
                      "name": "DATABASE_MOTOR_VERSION"
                    },
                    "retries": "0",
                    "description": "",
                    "inherit_target": false,
                    "child_tasks_local_reference_list": [],
                    "name": "Register Golden Image",
                    "attrs": {
                      "exit_status": "",
                      "script": "# Set creds and headers\nera_user = \"@@{cred_era_admin_password.username}@@\"\ndb_type = \"@@{database_motor}@@\"\nversion = \"@@{database_version}@@\"\nera_app_reg_path = \"@@{app_dir_path}@@\"\nera_pass = \"@@{cred_era_admin_password.secret}@@\"\nheaders = {\"Content-Type\": \"application/json\", \"Accept\": \"application/json\"}\nprint \"Monitoring Register DatabaseVM Operation...\"\nurl = \"https://@@{era_ip}@@/era/v0.9/dbservers/register\"\n\n\nif db_type == \"MySQL\":\n    # Set the URL and payload\n    payload = {\n        \"actionArguments\": [\n            {\n            \t\"name\": \"listener_port\",\n                \"value\": \"3306\"\n            },\n            {\n            \t\"name\": \"software_home\",\n                \"value\": '\"'+ era_app_reg_path +'\"'\n            }\n        ],\n        \"vmIp\": \"@@{address}@@\",\n        \"nxClusterUuid\": \"@@{CLUSTER_ID}@@\",\n        \"databaseType\": \"mysql_database\",\n        \"forcedInstall\": \"true\",\n        \"workingDirectory\": \"/tmp\",\n        \"username\": \"@@{cred_era_admin.username}@@\",\n        \"password\": \"@@{cred_era_admin.secret}@@\",\n    }\n\nelif db_type == \"Postgresql\":\n    maj_version = version[:2]\n    payload = {\n        \"actionArguments\": [\n           {\n            \t\"name\": \"listener_port\",\n                \"value\": \"5432\"\n            },\n            {\n            \t\"name\": \"software_home\",\n                \"value\": '\"'+ era_app_reg_path +'\"'\n            }\n        ],\n        \"vmIp\": \"@@{address}@@\",\n        \"nxClusterUuid\": \"@@{CLUSTER_ID}@@\",\n        \"databaseType\": \"postgres_database\",\n        \"forcedInstall\": \"true\",\n        \"workingDirectory\": \"/tmp\",\n        \"username\": \"@@{cred_era_admin.username}@@\",\n        \"password\": \"@@{cred_era_admin.secret}@@\",\n    }\n\n# Make the call and set the response operation ID to the variable\nresp = urlreq(\n    url,\n    verb=\"POST\",\n    auth=\"BASIC\",\n    user=era_user,\n    passwd=era_pass,\n    params=json.dumps(payload),\n    headers=headers,\n)\nif resp.ok:\n    print(\"REGISTER_OPERATION_ID={0}\".format(json.loads(resp.content)[\"operationId\"]))\nelse:\n    print(\"Database VM Register failed\", json.dumps(json.loads(resp.content), indent=4))\n    exit(1)\n",
                      "eval_variables": "REGISTER_OPERATION_ID",
                      "eval_scope": "local",
                      "type": "",
                      "script_type": "static"
                    },
                    "timeout_secs": "0",
                    "type": "SET_VARIABLE",
                    "variable_list": []
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_service",
                      "name": "DATABASE_MOTOR_VERSION"
                    },
                    "retries": "0",
                    "description": "",
                    "inherit_target": false,
                    "child_tasks_local_reference_list": [],
                    "name": "MonitorRegisterDBVM",
                    "attrs": {
                      "exit_status": "",
                      "script": "# Set creds, headers, and URL\nera_user = \"@@{cred_era_admin_password.username}@@\"\nera_pass = \"@@{cred_era_admin_password.secret}@@\"\nheaders = {\"Content-Type\": \"application/json\", \"Accept\": \"application/json\"}\nurl = \"https://@@{era_ip}@@/era/v0.9/operations/@@{REGISTER_OPERATION_ID}@@\"\n\n# Monitor the operation\nfor x in range(20):\n\n    print \"Sleeping for 20 seconds.\"\n    sleep(5)\n    resp = urlreq(\n        url, verb=\"GET\", auth=\"BASIC\", user=era_user, passwd=era_pass, headers=headers\n    )\n    print \"Percentage Complete: {0}\".format(\n        json.loads(resp.content)[\"percentageComplete\"]\n    )\n\n    # If complete, break out of loop\n    if json.loads(resp.content)[\"percentageComplete\"] == \"100\":\n        break\n\n# If the operation did not complete within 20 minutes, assume it's not successful and error out\nif json.loads(resp.content)[\"percentageComplete\"] != \"100\":\n    print \"Get Operation ID timed out\", json.dumps(json.loads(resp.content), indent=4)\n    exit(1)\n\n# Get the newly provision DB Entity Name and set it to a variable\nprint \"SOURCE_DBSERVER_ID={0}\".format(json.loads(resp.content)[\"entityId\"])",
                      "eval_variables": "SOURCE_DBSERVER_ID",
                      "eval_scope": "local",
                      "type": "",
                      "script_type": "static"
                    },
                    "timeout_secs": "0",
                    "type": "SET_VARIABLE",
                    "variable_list": []
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_service",
                      "name": "DATABASE_MOTOR_VERSION"
                    },
                    "retries": "0",
                    "description": "",
                    "inherit_target": false,
                    "child_tasks_local_reference_list": [],
                    "name": "CreateSoftwareProfile",
                    "attrs": {
                      "exit_status": "",
                      "script": "# Set creds and headers\n\nera_user = \"@@{cred_era_admin_password.username}@@\"\ndb_type = \"@@{database_motor}@@\"\nversion = \"@@{database_version}@@\"\nera_pass = \"@@{cred_era_admin_password.secret}@@\"\nheaders = {\"Content-Type\": \"application/json\", \"Accept\": \"application/json\"}\nprint \"Monitoring Register DatabaseVM Operation...\"\n\nif db_type == \"MySQL\":\n    # Set the URL and payload\n    url = \"https://@@{era_ip}@@/era/v0.9/profiles\"\n    payload = {\n        \"engineType\": \"mysql_database\",\n        \"type\": \"Software\",\n        \"topology\": \"single\",\n        \"dbVersion\": \"ALL\",\n        \"systemProfile\": \"false\",\n        \"properties\": [\n            {\n                \"name\": \"SOURCE_DBSERVER_ID\",\n                \"value\": \"@@{SOURCE_DBSERVER_ID}@@\",\n                \"secure\": \"false\",\n                \"description\": \"ID of the database server that should be used as a reference to create the software profile\",\n            },\n            {\n                \"name\": \"BASE_PROFILE_VERSION_NAME\",\n                \"value\": \"MYSQL $version by Calm Blueprint\",\n                \"secure\": \"false\",\n                \"description\": \"Name of the base profile version.\",\n            },\n            {\n                \"name\": \"BASE_PROFILE_VERSION_DESCRIPTION\",\n                \"value\": \"Deployed by Calm @@{calm_application_name}@@\",\n                \"secure\": \"false\",\n                \"description\": \"Description of the base profile version.\",\n            },\n            {\n                \"name\": \"OS_NOTES\",\n                \"value\": \"\",\n                \"secure\": \"false\",\n                \"description\": \"Notes or description for the Operating System.\",\n            },\n            {\n                \"name\": \"DB_SOFTWARE_NOTES\",\n                \"value\": \"\",\n                \"secure\": \"false\",\n                \"description\": \"Description of the Postgres database software.\",\n            },\n        ],\n        \"availableClusterIds\": [\"@@{CLUSTER_ID}@@\"],\n        \"name\": \"@@{calm_application_name}@@\",\n    }\n\nelif db_type == \"Postgresql\":\n    # Set the URL and payload\n    url = \"https://@@{era_ip}@@/era/v0.9/profiles\"\n    payload = {\n        \"engineType\": \"postgres_database\",\n        \"type\": \"Software\",\n        \"topology\": \"single\",\n        \"dbVersion\": \"ALL\",\n        \"systemProfile\": \"false\",\n        \"properties\": [\n            {\n                \"name\": \"SOURCE_DBSERVER_ID\",\n                \"value\": \"@@{SOURCE_DBSERVER_ID}@@\",\n                \"secure\": \"false\",\n                \"description\": \"ID of the database server that should be used as a reference to create the software profile\",\n            },\n            {\n                \"name\": \"BASE_PROFILE_VERSION_NAME\",\n                \"value\": \"POSTGRESQL $version by Calm Blueprint\",\n                \"secure\": \"false\",\n                \"description\": \"Name of the base profile version.\",\n            },\n            {\n                \"name\": \"BASE_PROFILE_VERSION_DESCRIPTION\",\n                \"value\": \"Deployed by Calm @@{calm_application_name}@@\",\n                \"secure\": \"false\",\n                \"description\": \"Description of the base profile version.\",\n            },\n            {\n                \"name\": \"OS_NOTES\",\n                \"value\": \"\",\n                \"secure\": \"false\",\n                \"description\": \"Notes or description for the Operating System.\",\n            },\n            {\n                \"name\": \"DB_SOFTWARE_NOTES\",\n                \"value\": \"\",\n                \"secure\": \"false\",\n                \"description\": \"Description of the Postgres database software.\",\n            },\n        ],\n        \"availableClusterIds\": [\"@@{CLUSTER_ID}@@\"],\n        \"name\": \"@@{calm_application_name}@@\",\n    }\n\n# Make the call and set the response operation ID to the variable\nresp = urlreq(\n    url,\n    verb=\"POST\",\n    auth=\"BASIC\",\n    user=era_user,\n    passwd=era_pass,\n    params=json.dumps(payload),\n    headers=headers,\n)\nif resp.ok:\n    print \"CREATEPROFILE_OPERATION_ID={0}\".format(\n        json.loads(resp.content)[\"operationId\"]\n    )\nelse:\n    print \"Create Profile failed\", json.dumps(json.loads(resp.content), indent=4)\n    exit(1)",
                      "eval_variables": "CREATEPROFILE_OPERATION_ID",
                      "eval_scope": "local",
                      "type": "",
                      "script_type": "static"
                    },
                    "timeout_secs": "0",
                    "type": "SET_VARIABLE",
                    "variable_list": []
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_service",
                      "name": "DATABASE_MOTOR_VERSION"
                    },
                    "retries": "0",
                    "description": "",
                    "inherit_target": false,
                    "child_tasks_local_reference_list": [],
                    "name": "MonitorCreateProfile",
                    "attrs": {
                      "script": "# Set creds, headers, and URL\nera_user = \"@@{cred_era_admin_password.username}@@\"\nera_pass = \"@@{cred_era_admin_password.secret}@@\"\nheaders = {\"Content-Type\": \"application/json\", \"Accept\": \"application/json\"}\nurl = \"https://@@{era_ip}@@:8443/era/v0.8/operations/@@{CREATEPROFILE_OPERATION_ID}@@\"\n\n# Monitor the operation\nfor x in range(20):\n\n    print \"Sleeping for 60 seconds.\"\n    sleep(60)\n    resp = urlreq(\n        url, verb=\"GET\", auth=\"BASIC\", user=era_user, passwd=era_pass, headers=headers\n    )\n    print \"Percentage Complete: {0}\".format(\n        json.loads(resp.content)[\"percentageComplete\"]\n    )\n\n    # If complete, break out of loop\n    if json.loads(resp.content)[\"percentageComplete\"] == \"100\":\n        break\n\n# If the operation did not complete within 20 minutes, assume it's not successful and error out\nif json.loads(resp.content)[\"percentageComplete\"] != \"100\":\n    print \"Get Operation ID timed out\", json.dumps(json.loads(resp.content), indent=4)\n    exit(1)\n\n# Get the newly provision DB Entity Name and set it to a variable\n# print \"CLONE_ENTITY_NAME={0}\".format(json.loads(resp.content)['entityName'])",
                      "type": "",
                      "command_line_args": "",
                      "exit_status": "",
                      "script_type": "static"
                    },
                    "timeout_secs": "0",
                    "type": "EXEC",
                    "variable_list": []
                  }
                ],
                "description": "",
                "name": "6da83e51_runbook",
                "main_task_local_reference": {
                  "kind": "app_task",
                  "name": "5f3d4b1c_dag"
                },
                "variable_list": []
              },
              "name": "RegisterDbServerToEra"
            }
          ],
          "depends_on_list": [],
          "name": "DATABASE_MOTOR_VERSION",
          "port_list": [],
          "tier": "",
          "variable_list": [
            {
              "val_type": "STRING",
              "is_mandatory": false,
              "description": "",
              "data_type": "BASE",
              "type": "LOCAL",
              "name": "CLUSTER_ID",
              "value": "",
              "label": "",
              "attrs": {
                "type": ""
              },
              "is_hidden": false,
              "options": {
                "type": "PREDEFINED",
                "choices": []
              }
            },
            {
              "val_type": "STRING",
              "is_mandatory": false,
              "description": "",
              "data_type": "BASE",
              "type": "LOCAL",
              "name": "REGISTER_OPERATION_ID",
              "value": "",
              "label": "",
              "attrs": {
                "type": ""
              },
              "is_hidden": false,
              "options": {
                "type": "PREDEFINED",
                "choices": []
              }
            },
            {
              "val_type": "STRING",
              "is_mandatory": false,
              "description": "",
              "data_type": "BASE",
              "type": "LOCAL",
              "name": "SOURCE_DBSERVER_ID",
              "value": "",
              "label": "",
              "attrs": {
                "type": ""
              },
              "is_hidden": false,
              "options": {
                "type": "PREDEFINED",
                "choices": []
              }
            },
            {
              "val_type": "STRING",
              "is_mandatory": false,
              "description": "",
              "data_type": "BASE",
              "type": "LOCAL",
              "name": "CREATEPROFILE_OPERATION_ID",
              "value": "",
              "label": "",
              "attrs": {
                "type": ""
              },
              "is_hidden": false,
              "options": {
                "type": "PREDEFINED",
                "choices": []
              }
            },
            {
              "val_type": "STRING",
              "is_mandatory": false,
              "description": "",
              "data_type": "BASE",
              "type": "LOCAL",
              "name": "era_ip",
              "value": "10.38.210.8",
              "label": "",
              "attrs": {
                "type": ""
              },
              "editables": {
                "value": true
              },
              "is_hidden": false,
              "options": {
                "type": "PREDEFINED",
                "choices": []
              }
            },
            {
              "val_type": "STRING",
              "is_mandatory": false,
              "description": "",
              "data_type": "BASE",
              "type": "LOCAL",
              "name": "app_dir_path",
              "value": "",
              "label": "",
              "attrs": {
                "type": ""
              },
              "is_hidden": false,
              "options": {
                "type": "PREDEFINED",
                "choices": []
              }
            },
            {
              "val_type": "STRING",
              "is_mandatory": false,
              "description": "",
              "data_type": "BASE",
              "type": "LOCAL",
              "name": "my_var",
              "value": "",
              "label": "",
              "attrs": {
                "type": ""
              },
              "is_hidden": false,
              "options": {
                "type": "PREDEFINED",
                "choices": []
              }
            }
          ],
          "description": ""
        }
      ],
      "substrate_definition_list": [
        {
          "description": "",
          "action_list": [
            {
              "description": "Set - PGSQL 12  varialbes",
              "type": "fragment",
              "critical": false,
              "runbook": {
                "task_definition_list": [
                  {
                    "target_any_local_reference": {
                      "kind": "app_substrate",
                      "name": "database_motor_version"
                    },
                    "retries": "0",
                    "description": "",
                    "inherit_target": false,
                    "child_tasks_local_reference_list": [],
                    "name": "872ac1d5_dag",
                    "attrs": {
                      "edges": "",
                      "type": ""
                    },
                    "timeout_secs": "0",
                    "type": "DAG",
                    "variable_list": []
                  }
                ],
                "description": "",
                "name": "cdcc60b3_runbook",
                "main_task_local_reference": {
                  "kind": "app_task",
                  "name": "872ac1d5_dag"
                },
                "variable_list": [
                  {
                    "val_type": "STRING",
                    "is_mandatory": false,
                    "description": "",
                    "data_type": "BASE",
                    "type": "LOCAL",
                    "name": "MyPgsql12Version",
                    "value": "Postgresql-12",
                    "label": "",
                    "attrs": {
                      "type": ""
                    },
                    "is_hidden": false,
                    "options": {
                      "type": "PREDEFINED",
                      "choices": ""
                    }
                  }
                ]
              },
              "name": "pre_action_create"
            },
            {
              "description": "",
              "type": "fragment",
              "critical": false,
              "runbook": {
                "task_definition_list": [
                  {
                    "target_any_local_reference": {
                      "kind": "app_substrate",
                      "name": "database_motor_version"
                    },
                    "retries": "0",
                    "description": "",
                    "inherit_target": false,
                    "child_tasks_local_reference_list": [],
                    "name": "094a4d34_dag",
                    "attrs": {
                      "edges": "",
                      "type": ""
                    },
                    "timeout_secs": "0",
                    "type": "DAG",
                    "variable_list": []
                  }
                ],
                "description": "",
                "name": "f57eafe6_runbook",
                "main_task_local_reference": {
                  "kind": "app_task",
                  "name": "094a4d34_dag"
                },
                "variable_list": []
              },
              "name": "post_action_delete"
            }
          ],
          "type": "AHV_VM",
          "name": "database_motor_version",
          "readiness_probe": {
            "connection_type": "SSH",
            "retries": "5",
            "connection_protocol": "",
            "connection_port": 22,
            "address": "@@{platform.status.resources.nic_list[0].ip_endpoint_list[0].ip}@@",
            "delay_secs": "60",
            "disable_readiness_probe": false,
            "login_credential_local_reference": {
              "kind": "app_credential",
              "name": "cred_root"
            }
          },
          "editables": {
            "create_spec": {
              "name": true,
              "resources": {
                "guest_customization": true,
                "num_vcpus_per_socket": true,
                "memory_size_mib": true,
                "boot_config": {
                  "boot_device": {
                    "disk_address": {
                      "adapter_type": true
                    }
                  },
                  "boot_type": true
                },
                "disk_list": true
              }
            }
          },
          "os_type": "Linux",
          "create_spec": {
            "name": "gi-os_dbmotor_dbversion",
            "resources": {
              "nic_list": [
                {
                  "nic_type": "NORMAL_NIC",
                  "vpc_reference": null,
                  "ip_endpoint_list": [],
                  "network_function_chain_reference": null,
                  "network_function_nic_type": "INGRESS",
                  "mac_address": "",
                  "subnet_reference": {
                    "kind": "subnet",
                    "type": "",
                    "name": "",
                    "uuid": "5329d9db-cbb5-4e35-8c1d-878837143566"
                  },
                  "type": ""
                }
              ],
              "serial_port_list": [],
              "guest_tools": null,
              "num_vcpus_per_socket": 1,
              "num_sockets": 2,
              "gpu_list": [],
              "memory_size_mib": 16384,
              "parent_reference": null,
              "hardware_clock_timezone": "",
              "guest_customization": null,
              "power_state": "ON",
              "type": "",
              "account_uuid": "28b0cf0a-59e5-4d3e-bef1-80bca0b8e4ff",
              "boot_config": {
                "boot_device": {
                  "type": "",
                  "disk_address": {
                    "type": "",
                    "device_index": 0,
                    "adapter_type": "SCSI"
                  }
                },
                "type": "",
                "boot_type": "",
                "mac_address": ""
              },
              "disk_list": [
                {
                  "data_source_reference": {
                    "kind": "image",
                    "type": "",
                    "name": "GI-RHEL84",
                    "uuid": "efaf8b3f-2ce2-4ab4-9ba7-f1e595b87e7d"
                  },
                  "type": "",
                  "disk_size_mib": 0,
                  "volume_group_reference": null,
                  "device_properties": {
                    "type": "",
                    "disk_address": {
                      "type": "",
                      "device_index": 0,
                      "adapter_type": "SCSI"
                    },
                    "device_type": "DISK"
                  }
                },
                {
                  "data_source_reference": {
                    "kind": "image",
                    "type": "",
                    "name": "80GIB_RAW",
                    "uuid": "4426b059-b1ad-4c5c-99da-1d8cef30446a"
                  },
                  "type": "",
                  "disk_size_mib": 0,
                  "volume_group_reference": null,
                  "device_properties": {
                    "type": "",
                    "disk_address": {
                      "type": "",
                      "device_index": 1,
                      "adapter_type": "SCSI"
                    },
                    "device_type": "DISK"
                  }
                },
                {
                  "data_source_reference": {
                    "kind": "image",
                    "type": "",
                    "name": "80GIB_RAW",
                    "uuid": "4426b059-b1ad-4c5c-99da-1d8cef30446a"
                  },
                  "type": "",
                  "disk_size_mib": 0,
                  "volume_group_reference": null,
                  "device_properties": {
                    "type": "",
                    "disk_address": {
                      "type": "",
                      "device_index": 2,
                      "adapter_type": "SCSI"
                    },
                    "device_type": "DISK"
                  }
                },
                {
                  "data_source_reference": {
                    "kind": "image",
                    "type": "",
                    "name": "30GIB_RAW",
                    "uuid": "9b43edc5-7222-4b83-84bd-63a00fcac055"
                  },
                  "type": "",
                  "disk_size_mib": 0,
                  "volume_group_reference": null,
                  "device_properties": {
                    "type": "",
                    "disk_address": {
                      "type": "",
                      "device_index": 3,
                      "adapter_type": "SCSI"
                    },
                    "device_type": "DISK"
                  }
                }
              ]
            },
            "availability_zone_reference": null,
            "backup_policy": null,
            "type": "",
            "cluster_reference": {
              "kind": "cluster",
              "type": "",
              "name": "PHX-POC210",
              "uuid": "0005e2bb-6b53-70e8-4c05-ac1f6b3b9a8c"
            },
            "categories": {}
          },
          "variable_list": []
        }
      ],
      "endpoint_definition_list": [],
      "credential_definition_list": [
        {
          "username": "root",
          "description": "",
          "type": "PASSWORD",
          "secret": {
            "attrs": {
              "is_secret_modified": false,
              "secret_reference": {}
            }
          },
          "name": "cred_root",
          "cred_class": "static"
        },
        {
          "username": "node_exporter",
          "description": "",
          "type": "PASSWORD",
          "secret": {
            "attrs": {
              "is_secret_modified": false,
              "secret_reference": {}
            }
          },
          "name": "cred_node_exporter",
          "cred_class": "static"
        },
        {
          "username": "oracle",
          "description": "",
          "type": "PASSWORD",
          "secret": {
            "attrs": {
              "is_secret_modified": false,
              "secret_reference": {}
            }
          },
          "name": "cred_oracle",
          "editables": {
            "secret": true
          },
          "cred_class": "static"
        },
        {
          "username": "era-admin",
          "description": "",
          "type": "PASSWORD",
          "secret": {
            "attrs": {
              "is_secret_modified": false,
              "secret_reference": {}
            }
          },
          "name": "cred_era_admin",
          "editables": {
            "secret": true
          },
          "cred_class": "static"
        },
        {
          "username": "grid",
          "description": "",
          "type": "PASSWORD",
          "secret": {
            "attrs": {
              "is_secret_modified": false,
              "secret_reference": {}
            }
          },
          "name": "cred_grid",
          "cred_class": "static"
        },
        {
          "username": "postgres",
          "description": "",
          "type": "PASSWORD",
          "secret": {
            "attrs": {
              "is_secret_modified": false,
              "secret_reference": {}
            }
          },
          "name": "cred_postgres",
          "cred_class": "static"
        },
        {
          "username": "appuser",
          "description": "",
          "type": "PASSWORD",
          "secret": {
            "attrs": {
              "is_secret_modified": false,
              "secret_reference": {}
            }
          },
          "name": "cred_appuser",
          "cred_class": "static"
        },
        {
          "username": "mysql",
          "description": "",
          "type": "PASSWORD",
          "secret": {
            "attrs": {
              "is_secret_modified": false,
              "secret_reference": {}
            }
          },
          "name": "cred_mysql",
          "cred_class": "static"
        },
        {
          "username": "mongod",
          "description": "",
          "type": "PASSWORD",
          "secret": {
            "attrs": {
              "is_secret_modified": false,
              "secret_reference": {}
            }
          },
          "name": "cred_mongod",
          "cred_class": "static"
        },
        {
          "username": "admin",
          "description": "",
          "type": "PASSWORD",
          "secret": {
            "attrs": {
              "is_secret_modified": false,
              "secret_reference": {}
            }
          },
          "name": "cred_era_admin_password",
          "cred_class": "static"
        }
      ],
      "package_definition_list": [
        {
          "description": "",
          "action_list": [],
          "type": "DEB",
          "service_local_reference_list": [
            {
              "kind": "app_service",
              "name": "DATABASE_MOTOR_VERSION"
            }
          ],
          "name": "DATABASE_ENV_PREPARATION",
          "version": "",
          "options": {
            "install_runbook": {
              "task_definition_list": [
                {
                  "target_any_local_reference": {
                    "kind": "app_package",
                    "name": "DATABASE_ENV_PREPARATION"
                  },
                  "retries": "0",
                  "description": "",
                  "inherit_target": false,
                  "child_tasks_local_reference_list": [
                    {
                      "kind": "app_task",
                      "name": "GUEST_OS_CONFIGURATION"
                    }
                  ],
                  "name": "5fd9359c_dag",
                  "attrs": {
                    "edges": [],
                    "type": ""
                  },
                  "timeout_secs": "0",
                  "type": "DAG",
                  "variable_list": []
                },
                {
                  "target_any_local_reference": {
                    "kind": "app_service",
                    "name": "DATABASE_MOTOR_VERSION"
                  },
                  "retries": "0",
                  "description": "",
                  "inherit_target": false,
                  "child_tasks_local_reference_list": [],
                  "name": "GUEST_OS_CONFIGURATION",
                  "attrs": {
                    "type": "CALL_RUNBOOK",
                    "inarg_list": [],
                    "runbook_reference": {
                      "kind": "app_runbook",
                      "name": "e5e2c02a_runbook"
                    }
                  },
                  "timeout_secs": "0",
                  "type": "CALL_RUNBOOK",
                  "variable_list": []
                }
              ],
              "description": "",
              "name": "f6662b47_runbook",
              "main_task_local_reference": {
                "kind": "app_task",
                "name": "5fd9359c_dag"
              },
              "variable_list": []
            },
            "type": "",
            "uninstall_runbook": {
              "task_definition_list": [
                {
                  "target_any_local_reference": {
                    "kind": "app_package",
                    "name": "DATABASE_ENV_PREPARATION"
                  },
                  "retries": "0",
                  "description": "",
                  "inherit_target": false,
                  "child_tasks_local_reference_list": [],
                  "name": "7cdabcef_dag",
                  "attrs": {
                    "edges": [],
                    "type": ""
                  },
                  "timeout_secs": "0",
                  "type": "DAG",
                  "variable_list": []
                }
              ],
              "description": "",
              "name": "215048ed_runbook",
              "main_task_local_reference": {
                "kind": "app_task",
                "name": "7cdabcef_dag"
              },
              "variable_list": []
            },
            "upgrade_runbook": {}
          },
          "variable_list": []
        }
      ],
      "app_profile_list": [
        {
          "deployment_create_list": [
            {
              "type": "GREENFIELD",
              "action_list": [],
              "name": "943b25b7_deployment",
              "min_replicas": "1",
              "default_replicas": "1",
              "depends_on_list": [],
              "published_service_local_reference_list": [],
              "max_replicas": "1",
              "package_local_reference_list": [
                {
                  "kind": "app_package",
                  "name": "DATABASE_ENV_PREPARATION"
                }
              ],
              "substrate_local_reference": {
                "kind": "app_substrate",
                "name": "database_motor_version"
              },
              "variable_list": [],
              "description": ""
            }
          ],
          "environment_reference_list": [],
          "application_url": "",
          "description": "",
          "action_list": [
            {
              "description": "Define Customer Specific Configurations",
              "type": "user",
              "critical": false,
              "runbook": {
                "task_definition_list": [
                  {
                    "retries": "0",
                    "description": "",
                    "inherit_target": false,
                    "child_tasks_local_reference_list": [
                      "@{kind=app_task; name=ClientCustom}"
                    ],
                    "name": "faee1b47_dag",
                    "attrs": {
                      "edges": "",
                      "type": ""
                    },
                    "timeout_secs": "0",
                    "type": "DAG",
                    "variable_list": []
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_service",
                      "name": "DATABASE_MOTOR_VERSION"
                    },
                    "retries": "0",
                    "description": "",
                    "inherit_target": false,
                    "child_tasks_local_reference_list": [],
                    "name": "ClientCustom",
                    "attrs": {
                      "exit_status": "",
                      "script": "#!/bin/bash\n\nsudo mkdir -p /tools/add-security/{bin,etc,log}\nsudo chown -R era:era /tools\n\necho \"\"\necho \"@@{database_motor}@@ - @@{database_version}@@ : INSTALL CUSTOMER SPECIFICS\"\necho \"\"\nsubscription-manager register --username=\"@@{cred_rhel_username}@@\" --password=\"@@{cred_rhel_password}@@\" --force\nsubscription-manager attach --pool=\"@@{rhel_subscription}@@\"\n\n\n#Pre-reqs app1\nsudo yum install -y ksh\nsudo yum install -y sssd\n\n#Customer Specific Parameters\necho 'export TMOUT=300' | sudo tee /etc/profile.d/tmout.sh\necho 'setenv TMOUT 300' | sudo tee /etc/profile.d/tmout.csh\n\n#Enable And Configure Motd\necho '\n\n ▄▄▄▄▄▄▄▄▄▄▄  ▄▄▄▄▄▄▄▄▄▄▄  ▄▄▄▄▄▄▄▄▄▄▄  ▄▄▄▄▄▄▄▄▄▄▄  ▄            ▄▄▄▄▄▄▄▄▄▄▄          ▄▄▄▄      ▄▄▄▄▄▄▄▄▄▄▄  ▄▄▄▄▄▄▄▄▄▄▄                                                                                                                                                  \n▐░░░░░░░░░░░▌▐░░░░░░░░░░░▌▐░░░░░░░░░░░▌▐░░░░░░░░░░░▌▐░▌          ▐░░░░░░░░░░░▌       ▄█░░░░▌    ▐░░░░░░░░░░░▌▐░░░░░░░░░░░▌                                                                                                                                                 \n▐░█▀▀▀▀▀▀▀█░▌▐░█▀▀▀▀▀▀▀█░▌▐░█▀▀▀▀▀▀▀█░▌▐░█▀▀▀▀▀▀▀▀▀ ▐░▌          ▐░█▀▀▀▀▀▀▀▀▀       ▐░░▌▐░░▌     ▀▀▀▀▀▀▀▀▀█░▌▐░█▀▀▀▀▀▀▀▀▀                                                                                                                                                  \n▐░▌       ▐░▌▐░▌       ▐░▌▐░▌       ▐░▌▐░▌          ▐░▌          ▐░▌                 ▀▀ ▐░░▌              ▐░▌▐░▌                                                                                                                                                           \n▐░▌       ▐░▌▐░█▄▄▄▄▄▄▄█░▌▐░█▄▄▄▄▄▄▄█░▌▐░▌          ▐░▌          ▐░█▄▄▄▄▄▄▄▄▄           ▐░░▌              ▐░▌▐░▌                                                                                                                                                           \n▐░▌       ▐░▌▐░░░░░░░░░░░▌▐░░░░░░░░░░░▌▐░▌          ▐░▌          ▐░░░░░░░░░░░▌          ▐░░▌     ▄▄▄▄▄▄▄▄▄█░▌▐░▌                                                                                                                                                           \n▐░▌       ▐░▌▐░█▀▀▀▀█░█▀▀ ▐░█▀▀▀▀▀▀▀█░▌▐░▌          ▐░▌          ▐░█▀▀▀▀▀▀▀▀▀           ▐░░▌    ▐░░░░░░░░░░░▌▐░▌                                                                                                                                                           \n▐░▌       ▐░▌▐░▌     ▐░▌  ▐░▌       ▐░▌▐░▌          ▐░▌          ▐░▌                    ▐░░▌    ▐░█▀▀▀▀▀▀▀▀▀ ▐░▌                                                                                                                                                           \n▐░█▄▄▄▄▄▄▄█░▌▐░▌      ▐░▌ ▐░▌       ▐░▌▐░█▄▄▄▄▄▄▄▄▄ ▐░█▄▄▄▄▄▄▄▄▄ ▐░█▄▄▄▄▄▄▄▄▄       ▄▄▄▄█░░█▄▄▄ ▐░█▄▄▄▄▄▄▄▄▄ ▐░█▄▄▄▄▄▄▄▄▄                                                                                                                                                  \n▐░░░░░░░░░░░▌▐░▌       ▐░▌▐░▌       ▐░▌▐░░░░░░░░░░░▌▐░░░░░░░░░░░▌▐░░░░░░░░░░░▌     ▐░░░░░░░░░░░▌▐░░░░░░░░░░░▌▐░░░░░░░░░░░▌                                                                                                                                                 \n ▀▀▀▀▀▀▀▀▀▀▀  ▀         ▀  ▀         ▀  ▀▀▀▀▀▀▀▀▀▀▀  ▀▀▀▀▀▀▀▀▀▀▀  ▀▀▀▀▀▀▀▀▀▀▀       ▀▀▀▀▀▀▀▀▀▀▀  ▀▀▀▀▀▀▀▀▀▀▀  ▀▀▀▀▀▀▀▀▀▀▀                                                                                                                                                  \n                                                                                                                                                                                                                                                                           \n                                              ▄▄▄▄▄▄▄▄▄▄▄  ▄▄▄▄▄▄▄▄▄▄▄                                                                                                                                                                                                     \n                                             ▐░░░░░░░░░░░▌▐░░░░░░░░░░░▌                                                                                                                                                                                                    \n                                             ▐░█▀▀▀▀▀▀▀▀▀  ▀▀▀▀█░█▀▀▀▀                                                                                                                                                                                                     \n                                             ▐░▌               ▐░▌                                                                                                                                                                                                         \n                                             ▐░█▄▄▄▄▄▄▄▄▄      ▐░▌                                                                                                                                                                                                         \n                                             ▐░░░░░░░░░░░▌     ▐░▌                                                                                                                                                                                                         \n                                              ▀▀▀▀▀▀▀▀▀█░▌     ▐░▌                                                                                                                                                                                                         \n                                                       ▐░▌     ▐░▌                                                                                                                                                                                                         \n                                              ▄▄▄▄▄▄▄▄▄█░▌ ▄▄▄▄█░█▄▄▄▄                                                                                                                                                                                                     \n                                             ▐░░░░░░░░░░░▌▐░░░░░░░░░░░▌                                                                                                                                                                                                    \n                                              ▀▀▀▀▀▀▀▀▀▀▀  ▀▀▀▀▀▀▀▀▀▀▀                                                                                                                                                                                                     \n                                                                                                                                                                                                                                                                           \n                                         ▄▄▄▄▄▄▄▄▄▄▄  ▄▄▄▄▄▄▄▄▄▄▄  ▄▄▄▄▄▄▄▄▄▄▄                                                                                                                                                                                             \n                                        ▐░░░░░░░░░░░▌▐░░░░░░░░░░░▌▐░░░░░░░░░░░▌                                                                                                                                                                                            \n                                        ▐░█▀▀▀▀▀▀▀▀▀ ▐░█▀▀▀▀▀▀▀█░▌▐░█▀▀▀▀▀▀▀█░▌                                                                                                                                                                                            \n                                        ▐░▌          ▐░▌       ▐░▌▐░▌       ▐░▌                                                                                                                                                                                            \n                                        ▐░█▄▄▄▄▄▄▄▄▄ ▐░█▄▄▄▄▄▄▄█░▌▐░█▄▄▄▄▄▄▄█░▌                                                                                                                                                                                            \n                                        ▐░░░░░░░░░░░▌▐░░░░░░░░░░░▌▐░░░░░░░░░░░▌                                                                                                                                                                                            \n                                        ▐░█▀▀▀▀▀▀▀▀▀ ▐░█▀▀▀▀█░█▀▀ ▐░█▀▀▀▀▀▀▀█░▌                                                                                                                                                                                            \n                                        ▐░▌          ▐░▌     ▐░▌  ▐░▌       ▐░▌                                                                                                                                                                                            \n                                        ▐░█▄▄▄▄▄▄▄▄▄ ▐░▌      ▐░▌ ▐░▌       ▐░▌                                                                                                                                                                                            \n                                        ▐░░░░░░░░░░░▌▐░▌       ▐░▌▐░▌       ▐░▌                                                                                                                                                                                            \n                                         ▀▀▀▀▀▀▀▀▀▀▀  ▀         ▀  ▀         ▀                                                                                                                                                                                             \n                                                                                          \n                                                                                                                                                                                                                                                                \n                                                                                                                                                                                                 \n                                                                                                                                  \n ' | sudo tee /etc/motd   \n \n subscription-manager unregister\n                                                                                                                                                                                                                \n\nexit ",
                      "script_type": "sh",
                      "type": "",
                      "command_line_args": "",
                      "login_credential_local_reference": "@{kind=app_credential; name=cred_root}"
                    },
                    "timeout_secs": "0",
                    "type": "EXEC",
                    "variable_list": []
                  }
                ],
                "description": "",
                "name": "a7dc4155_runbook",
                "main_task_local_reference": {
                  "kind": "app_task",
                  "name": "faee1b47_dag"
                },
                "variable_list": []
              },
              "name": "CustomerOperations"
            },
            {
              "description": "Automatic Replacement Based On Customer Requirement",
              "type": "user",
              "critical": false,
              "runbook": {
                "task_definition_list": [
                  {
                    "retries": "0",
                    "description": "",
                    "inherit_target": false,
                    "child_tasks_local_reference_list": [
                      "@{kind=app_task; name=ScriptPostInfraFilesCustomisation}"
                    ],
                    "name": "672ab0f8_dag",
                    "attrs": {
                      "edges": "",
                      "type": ""
                    },
                    "timeout_secs": "0",
                    "type": "DAG",
                    "variable_list": []
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_service",
                      "name": "DATABASE_MOTOR_VERSION"
                    },
                    "retries": "0",
                    "description": "",
                    "inherit_target": false,
                    "child_tasks_local_reference_list": [],
                    "name": "ScriptPostInfraFilesCustomisation",
                    "attrs": {
                      "script": "#!/bin/bash\n\nsudo rm /etc/chrony.conf\n\necho '\n# Initial chrony.conf Calm Automation Configuration\nserver @@{SrvNtp1}@@ iburst\nserver @@{SrvNtp2}@@ iburst\n\n\n# Record the rate at which the system clock gains/losses time.\ndriftfile /var/lib/chrony/drift\n\n# Allow the system clock to be stepped in the first three updates\n# if its offset is larger than 1 second.\nmakestep 1.0 3\n\n# Enable kernel synchronization of the real-time clock (RTC).\nrtcsync\n\n# Increase the minimum number of selectable sources required to adjust\n# the system clock.\nminsources 2\n\n# Specify directory for log files.\nlogdir /var/log/chrony ' | sudo tee /etc/chrony.conf\n\nsudo rm /etc/resolv.conf\necho '\n# Initial resolv.conf Calm Automation Configuration\nsearch @@{DnsSearchList}@@\nnameserver @@{SrvDns1}@@\nnameserver @@{SrvDns2}@@\n' | sudo tee /etc/resolv.conf\n\nexit 0",
                      "type": "",
                      "command_line_args": "",
                      "exit_status": "",
                      "script_type": "sh"
                    },
                    "timeout_secs": "0",
                    "type": "EXEC",
                    "variable_list": []
                  }
                ],
                "description": "",
                "name": "a5aa6653_runbook",
                "main_task_local_reference": {
                  "kind": "app_task",
                  "name": "672ab0f8_dag"
                },
                "variable_list": [
                  {
                    "val_type": "STRING",
                    "is_mandatory": false,
                    "description": "",
                    "data_type": "BASE",
                    "type": "LOCAL",
                    "name": "SrvNtp2",
                    "value": "1.pool.ntp.org",
                    "label": "",
                    "attrs": {
                      "type": ""
                    },
                    "editables": {
                      "value": true
                    },
                    "is_hidden": false,
                    "options": {
                      "type": "PREDEFINED",
                      "choices": ""
                    }
                  },
                  {
                    "val_type": "STRING",
                    "is_mandatory": false,
                    "description": "",
                    "data_type": "BASE",
                    "type": "LOCAL",
                    "name": "SrvNtp1",
                    "value": "0.pool.ntp.org",
                    "label": "",
                    "attrs": {
                      "type": ""
                    },
                    "editables": {
                      "value": true
                    },
                    "is_hidden": false,
                    "options": {
                      "type": "PREDEFINED",
                      "choices": ""
                    }
                  },
                  {
                    "val_type": "STRING",
                    "is_mandatory": false,
                    "description": "",
                    "data_type": "BASE",
                    "type": "LOCAL",
                    "name": "SrvDns2",
                    "value": "8.8.8.8",
                    "label": "",
                    "attrs": {
                      "type": ""
                    },
                    "editables": {
                      "value": true
                    },
                    "is_hidden": false,
                    "options": {
                      "type": "PREDEFINED",
                      "choices": ""
                    }
                  },
                  {
                    "val_type": "STRING",
                    "is_mandatory": false,
                    "description": "",
                    "data_type": "BASE",
                    "type": "LOCAL",
                    "name": "SrvDns1",
                    "value": "1.1.1.1",
                    "label": "",
                    "attrs": {
                      "type": ""
                    },
                    "editables": {
                      "value": true
                    },
                    "is_hidden": false,
                    "options": {
                      "type": "PREDEFINED",
                      "choices": ""
                    }
                  },
                  {
                    "val_type": "STRING",
                    "is_mandatory": false,
                    "description": "",
                    "data_type": "BASE",
                    "type": "LOCAL",
                    "name": "DnsSearchList",
                    "value": "mydns.com",
                    "label": "",
                    "attrs": {
                      "type": ""
                    },
                    "editables": {
                      "value": true
                    },
                    "is_hidden": false,
                    "options": {
                      "type": "PREDEFINED",
                      "choices": ""
                    }
                  }
                ]
              },
              "name": "ReplaceNtpDns"
            },
            {
              "description": "",
              "type": "user",
              "critical": false,
              "runbook": {
                "task_definition_list": [
                  {
                    "retries": "0",
                    "description": "",
                    "inherit_target": false,
                    "child_tasks_local_reference_list": [
                      "@{kind=app_task; name=DisabledSshRootLogin}"
                    ],
                    "name": "2ad70c93_dag",
                    "attrs": {
                      "edges": "",
                      "type": ""
                    },
                    "timeout_secs": "0",
                    "type": "DAG",
                    "variable_list": []
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_service",
                      "name": "DATABASE_MOTOR_VERSION"
                    },
                    "retries": "0",
                    "description": "",
                    "inherit_target": false,
                    "child_tasks_local_reference_list": [],
                    "name": "DisabledSshRootLogin",
                    "attrs": {
                      "exit_status": "",
                      "script": "#!/bin/bash\n\necho \"------------------------------------------------------------------------------\"\necho \"   @@{database_motor}@@ - @@{database_version}@@ : DISABLE SSH ACCESS ROOT    \"\necho \"------------------------------------------------------------------------------\"\nsudo sed -i 's/PermitRootLogin yes/PermitRootLogin no/g' /etc/ssh/sshd_config\n\nexit",
                      "script_type": "sh",
                      "type": "",
                      "command_line_args": "",
                      "login_credential_local_reference": "@{kind=app_credential; name=cred_root}"
                    },
                    "timeout_secs": "0",
                    "type": "EXEC",
                    "variable_list": []
                  }
                ],
                "description": "",
                "name": "6321e28b_runbook",
                "main_task_local_reference": {
                  "kind": "app_task",
                  "name": "2ad70c93_dag"
                },
                "variable_list": []
              },
              "name": "Hardening_NV"
            },
            {
              "description": "",
              "type": "user",
              "critical": false,
              "runbook": {
                "task_definition_list": [
                  {
                    "retries": "0",
                    "description": "",
                    "inherit_target": false,
                    "child_tasks_local_reference_list": [
                      "@{kind=app_task; name=RegisterDbServerToEra}"
                    ],
                    "name": "1b5f6fb9_dag",
                    "attrs": {
                      "edges": "",
                      "type": ""
                    },
                    "timeout_secs": "0",
                    "type": "DAG",
                    "variable_list": []
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_service",
                      "name": "DATABASE_MOTOR_VERSION"
                    },
                    "retries": "0",
                    "description": "",
                    "inherit_target": false,
                    "child_tasks_local_reference_list": [],
                    "name": "RegisterDbServerToEra",
                    "attrs": {
                      "type": "CALL_RUNBOOK",
                      "inarg_list": "",
                      "runbook_reference": "@{kind=app_runbook; name=6da83e51_runbook}"
                    },
                    "timeout_secs": "0",
                    "type": "CALL_RUNBOOK",
                    "variable_list": []
                  }
                ],
                "description": "",
                "name": "703863fe_runbook",
                "main_task_local_reference": {
                  "kind": "app_task",
                  "name": "1b5f6fb9_dag"
                },
                "variable_list": []
              },
              "name": "RegisterToNbd"
            }
          ],
          "name": "NUTANIX",
          "restore_config_list": [],
          "snapshot_config_list": [],
          "patch_list": [],
          "variable_list": [
            {
              "val_type": "STRING",
              "is_mandatory": false,
              "description": "",
              "data_type": "BASE",
              "type": "SECRET",
              "name": "rhel_subscription",
              "value": "",
              "label": "",
              "attrs": {
                "is_secret_modified": false,
                "secret_reference": {},
                "type": "SECRET"
              },
              "editables": {
                "value": true
              },
              "is_hidden": false,
              "options": {
                "type": "PREDEFINED",
                "choices": []
              }
            },
            {
              "val_type": "STRING",
              "is_mandatory": false,
              "description": "",
              "data_type": "BASE",
              "type": "SECRET",
              "name": "cred_rhel_username",
              "value": "",
              "label": "",
              "attrs": {
                "is_secret_modified": false,
                "secret_reference": {},
                "type": "SECRET"
              },
              "editables": {
                "value": true
              },
              "is_hidden": false,
              "options": {
                "type": "PREDEFINED",
                "choices": []
              }
            },
            {
              "regex": {
                "should_validate": false,
                "value": "^.*$"
              },
              "val_type": "STRING",
              "is_mandatory": false,
              "description": "",
              "data_type": "BASE",
              "type": "SECRET",
              "name": "cred_rhel_password",
              "value": "",
              "label": "",
              "attrs": {
                "is_secret_modified": false,
                "secret_reference": {},
                "type": "SECRET"
              },
              "editables": {
                "value": true
              },
              "is_hidden": false,
              "options": {
                "type": "PREDEFINED",
                "choices": []
              }
            },
            {
              "regex": {
                "should_validate": false,
                "value": "^.*$"
              },
              "val_type": "STRING",
              "is_mandatory": false,
              "description": "",
              "data_type": "LIST",
              "type": "EXEC_LOCAL",
              "name": "database_version",
              "value": "",
              "label": "",
              "attrs": {
                "type": ""
              },
              "editables": {
                "value": true
              },
              "is_hidden": false,
              "options": {
                "type": "EXEC",
                "attrs": {
                  "script": "if \"@@{database_motor}@@\" == \"Oracle\":\n  print(\"12.1.0,12.2.0,18.0.0,19.0.0\")\nelif \"@@{database_motor}@@\" == \"Postgresql\":\n  print(\"14.4,14.3,14.2,13.7,13.6,13.5,12.11,12.10,12.9,11.16,11.15,11.14\")\nelif \"@@{database_motor}@@\" == \"MySQL\":\n  print(\"8.0.27,8.0.26,8.0.25\")\nelif \"@@{database_motor}@@\" == \"MongoDB\":\n  print(\"14.4,14.3,14.2,13.7,13.6,13.5,12.11,12.10,12.9,11.16,11.15,11.14\")\nelse:\n  print(\"choose a value\")",
                  "type": "EXEC",
                  "command_line_args": "",
                  "exit_status": [],
                  "script_type": "static"
                }
              }
            },
            {
              "regex": {
                "should_validate": false,
                "value": "^.*$"
              },
              "val_type": "STRING",
              "is_mandatory": false,
              "description": "",
              "data_type": "BASE",
              "type": "EXEC_LOCAL",
              "name": "dep_type",
              "value": "",
              "label": "",
              "attrs": {
                "type": ""
              },
              "editables": {
                "value": true
              },
              "is_hidden": false,
              "options": {
                "type": "EXEC",
                "attrs": {
                  "script": "if \"@@{database_motor}@@\" == \"Oracle\":\n  print(\"oracle dbrms binaries\")\nelif \"@@{database_motor}@@\" == \"Postgresql\":\n  print(\"RPM,COMPILE\")\nelif \"@@{database_motor}@@\" == \"MySQL\":\n  print(\"NUXPRESSO\")\nelif \"@@{database_motor}@@\" == \"MongoDB\":\n  print(\"NUXPRESSO\")\nelif \"@@{database_motor}@@\" == \"MariaDB\":\n  print(\"NUXPRESSO\")\nelse:\n  print(\"NUXPRESSO\")",
                  "type": "EXEC",
                  "command_line_args": "",
                  "exit_status": [],
                  "script_type": "static"
                }
              }
            },
            {
              "val_type": "STRING",
              "is_mandatory": false,
              "description": "",
              "data_type": "BASE",
              "type": "EXEC_LOCAL",
              "name": "architecture",
              "value": "",
              "label": "",
              "attrs": {
                "type": ""
              },
              "editables": {
                "value": true
              },
              "is_hidden": false,
              "options": {
                "type": "EXEC",
                "attrs": {
                  "script": "if \"@@{database_motor}@@\" == \"Oracle\":\n  print(\"SI,SIHA\")\nelif \"@@{database_motor}@@\" == \"Postgresql\":\n  print(\"STD,HA\")\nelse:\n  print(\"NUXPRESSO\")",
                  "type": "EXEC",
                  "command_line_args": "",
                  "exit_status": [],
                  "script_type": "static"
                }
              }
            },
            {
              "val_type": "STRING",
              "is_mandatory": false,
              "description": "",
              "data_type": "LIST",
              "type": "LOCAL",
              "name": "database_motor",
              "value": "",
              "label": "",
              "attrs": {
                "type": "LOCAL"
              },
              "editables": {
                "value": true
              },
              "is_hidden": false,
              "options": {
                "type": "PREDEFINED",
                "choices": [
                  "Oracle",
                  "Postgresql",
                  "MySQL",
                  "MariaDB",
                  "MongoDB"
                ]
              }
            },
            {
              "regex": {
                "should_validate": false,
                "value": "^.*$"
              },
              "val_type": "STRING",
              "is_mandatory": false,
              "description": "",
              "data_type": "BASE",
              "type": "SECRET",
              "name": "era_PublicKey",
              "value": "",
              "label": "",
              "attrs": {
                "is_secret_modified": false,
                "secret_reference": {},
                "type": "SECRET"
              },
              "editables": {
                "value": true
              },
              "is_hidden": false,
              "options": {
                "type": "PREDEFINED",
                "choices": []
              }
            },
            {
              "val_type": "STRING",
              "is_mandatory": false,
              "description": "",
              "data_type": "BASE",
              "type": "LOCAL",
              "name": "domain_name",
              "value": "nutasog.lab",
              "label": "",
              "attrs": {
                "type": ""
              },
              "editables": {
                "value": true
              },
              "is_hidden": false,
              "options": {
                "type": "PREDEFINED",
                "choices": []
              }
            },
            {
              "val_type": "STRING",
              "is_mandatory": false,
              "description": "",
              "data_type": "BASE",
              "type": "LOCAL",
              "name": "CLUSTER_ID",
              "value": "",
              "label": "",
              "attrs": {
                "type": ""
              },
              "is_hidden": false,
              "options": {
                "type": "PREDEFINED",
                "choices": []
              }
            }
          ]
        }
      ],
      "published_service_definition_list": [],
      "default_credential_local_reference": {
        "kind": "app_credential",
        "name": "cred_root"
      },
      "type": "USER"
    },
    "name": "jeremie-ndb-linux-base"
  },
  "api_version": "3.0",
  "metadata": {
    "last_update_time": "1657539274599160",
    "kind": "blueprint",
    "spec_version": 0,
    "creation_time": "1657539274599160",
    "name": "jeremie-ndb-linux-base"
  }
}
