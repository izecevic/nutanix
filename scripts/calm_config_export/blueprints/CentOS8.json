{
  "status": {
    "description": "",
    "state": "DRAFT",
    "message_list": [],
    "resources": {
      "service_definition_list": [
        {
          "port_list": [],
          "description": "",
          "action_list": [
            {
              "description": "System action for creating an application",
              "message_list": [],
              "uuid": "c6acc7cb-0030-4ed7-ba78-1055c210add6",
              "name": "action_create",
              "state": "ACTIVE",
              "critical": false,
              "attrs": {},
              "type": "system",
              "runbook": {
                "task_definition_list": [
                  {
                    "target_any_local_reference": {
                      "kind": "app_service",
                      "name": "Service1",
                      "uuid": "b2466bcd-4fa1-479c-b5c8-5e3c80832769"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "DAG",
                    "uuid": "29e8d611-d01f-4c88-9445-d1fc6ff48852",
                    "child_tasks_local_reference_list": [
                      "@{kind=app_task; name=configureRepoServer; uuid=dc9ff9fc-7efa-45d7-99e1-af01d5370da0}",
                      "@{kind=app_task; name=installAdditionalPackages; uuid=c1c6b4ae-ebb4-4ab0-bb04-18928f31fee5}",
                      "@{kind=app_task; name=disableFirewall; uuid=873c592c-4e03-4501-8a9b-3fdc30176b3e}",
                      "@{kind=app_task; name=configureDNS; uuid=23e80e96-bbdf-4ad4-ac94-dbfc95c6ccb3}",
                      "@{kind=app_task; name=configureNTP; uuid=e9c1c13c-5557-4d27-b2d8-9cd958e4371d}",
                      "@{kind=app_task; name=configureBackupInterface; uuid=7e4c4bbd-82df-4ec7-bd22-d7f21d6b20e4}",
                      "@{kind=app_task; name=configurePrivateInterface; uuid=1d5f68bd-7837-4f82-be40-2405e0addd7a}",
                      "@{kind=app_task; name=configureDisks; uuid=af00b76e-ee52-4eca-a316-626fce31ce6b}",
                      "@{kind=app_task; name=restartVM; uuid=d0863db5-cb54-4e4e-934f-cc7e66cf3ff1}",
                      "@{kind=app_task; name=vmRevivalProcess; uuid=34590480-4c55-4f29-b424-08545ecfb7f2}",
                      "@{kind=app_task; name=installBackupAgent; uuid=3963cad7-c732-495f-b0d9-78405c75b94b}",
                      "@{kind=app_task; name=installAntivirusAgent; uuid=1518f205-5862-45bc-9a92-f48bb9078ef0}",
                      "@{kind=app_task; name=sudoUsers; uuid=45a8355f-a628-44bc-8a10-084fa88c24d4}",
                      "@{kind=app_task; name=loginUsers; uuid=a46c3fca-b2b9-4753-83fb-ac65bd105d8e}",
                      "@{kind=app_task; name=securityUser; uuid=ae87f98b-a8fd-4235-ad41-5e3bea076b6a}",
                      "@{kind=app_task; name=installNgtTools; uuid=e8787279-e777-4ceb-9254-c47d0bc27ff6}",
                      "@{kind=app_task; name=installVMwareTools; uuid=deddd9b0-2d2d-4f24-b46d-b40a9db86bd8}"
                    ],
                    "state": "ACTIVE",
                    "attrs": {
                      "edges": "               ",
                      "type": ""
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "4d06857d_dag"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_service",
                      "name": "Service1",
                      "uuid": "b2466bcd-4fa1-479c-b5c8-5e3c80832769"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "EXEC",
                    "uuid": "dc9ff9fc-7efa-45d7-99e1-af01d5370da0",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "script_type": "sh",
                      "type": "",
                      "command_line_args": "",
                      "exit_status": "",
                      "script": "sudo mkdir /etc/yum.repos.d/oldfiles\nsudo mv /etc/yum.repos.d/*.repo /etc/yum.repos.d/oldfiles/\n\n## Add CentOS 8 Repo Server:\necho '\n# change to local mirror server\n[Centos8-appstream]\nname=Centos8-appstream\nbaseurl=http://@@{repoServerIp}@@/repo/centos8/centos8-appstream/\nenabled=1\ngpgcheck=0\n\n \n[Centos8-baseos]\nname=Centos8-baseos\nbaseurl=http://@@{repoServerIp}@@/repo/centos8/centos8-baseos/\nenabled=1\ngpgcheck=0\n \n[Centos8-extras]\nname=Centos8-extras\nbaseurl=http://@@{repoServerIp}@@/repo/centos8/centos8-extras/\nenabled=1\ngpgcheck=0' | sudo tee /etc/yum.repos.d/remote.repo \n\n# Adding ping command to test connection. To be removed later. \n\n#echo -e \"\\nValidating repo server connection. \\n\"\n#ping -c4 172.17.76.142\n"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "configureRepoServer"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_service",
                      "name": "Service1",
                      "uuid": "b2466bcd-4fa1-479c-b5c8-5e3c80832769"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "EXEC",
                    "uuid": "c1c6b4ae-ebb4-4ab0-bb04-18928f31fee5",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "script_type": "sh",
                      "type": "",
                      "command_line_args": "",
                      "exit_status": "",
                      "script": "<<COMMENT\nsudo dnf install -y \\\n        sssd \\\n        realmd \\\n        oddjob \\\n        oddjob-mkhomedir \\\n        adcli \\\n        samba-common \\\n        samba-common-tools \\\n        krb5-workstation \\\n        openldap-clients \\\n        policycoreutils-python-utils \\\n        chrony \\\n        tar \\\n        python3 \\\n        authselect-compat\nCOMMENT\n\nyum install -y \\\nwget \\\nunzip \\\ntar \\\npython2 \\\nchrony"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "installAdditionalPackages"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_service",
                      "name": "Service1",
                      "uuid": "b2466bcd-4fa1-479c-b5c8-5e3c80832769"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "EXEC",
                    "uuid": "873c592c-4e03-4501-8a9b-3fdc30176b3e",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "script_type": "sh",
                      "type": "",
                      "command_line_args": "",
                      "exit_status": "",
                      "script": "#!/bin/bash\n\n# Disable firewalld and SELinux\nsudo sed -i 's/SELINUX=enforcing/SELINUX=disabled/g' /etc/selinux/config\nsudo setenforce 0\nsudo systemctl stop firewalld\nsudo systemctl disable firewalld"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "disableFirewall"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_service",
                      "name": "Service1",
                      "uuid": "b2466bcd-4fa1-479c-b5c8-5e3c80832769"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "EXEC",
                    "uuid": "23e80e96-bbdf-4ad4-ac94-dbfc95c6ccb3",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "script_type": "sh",
                      "type": "",
                      "command_line_args": "",
                      "exit_status": "",
                      "script": "<<COMMENT\nSCRIPT INFORMATION\n .NAME:\n\tname: getVirtualMachinesFromPrismCentral\n .TYPE:\n\tNutanix Calm escript. Set Variable / Task\n . DESCRIPTION:\n\tThis action is a Template. Describe the funcionality of this ACTION\n .EXPECTED RESULT:\n\tFunction should return object type STRING with VALUE:\n .AUTHOR:\n\tDavid RÃ­os Delgado <david.riosdelgado@nutanix.com>\n .VERSION HISTORY:\n\t1.0.0\tInit version.\n .TESTED ON:\n\tNutanix Calm \n                3.0.0.X\n .FUNCTIONS:\n\n .INPUT PARAMETERS:\n\t@param \n        {string}\n        {Mandatory]\n        {Name=inputExample1}\n        {Description=This is an example 1}\n\t@param \n        {string}\n        {Mandatory]\n        {Name=inputExample2}\n        {Description=This is an example 2}\n\n .GLOBAL VARIABLES:\n\n .BLOCK VARIABLES:\n\n .RETURN\n\tresultObjs = {String}\n\nCOMMENT\n#FUNCTIONS\n#INPUT VARIABLES\n#GLOBAL VARIABLES\n#MAIN CODE BLOCK EXECUTION\n##Execution Block 1 - Get virtual machine api pagination - Variables\n##Execution Block 1 - Get virtual machine api pagination - Main Code\nsudo bash -c 'cat > /etc/resolv.conf <<EOF\nnameserver @@{dns1}@@\nnameserver @@{dns2}@@\nnameserver @@{dns3}@@\nEOF\n'\n\necho -e \"Validating DNS Values: \\n\"\ncat /etc/resolv.conf"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "configureDNS"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_service",
                      "name": "Service1",
                      "uuid": "b2466bcd-4fa1-479c-b5c8-5e3c80832769"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "EXEC",
                    "uuid": "e9c1c13c-5557-4d27-b2d8-9cd958e4371d",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "script_type": "sh",
                      "type": "",
                      "command_line_args": "",
                      "exit_status": "",
                      "script": "#!/bin/bash\nsed -i '/server/d' /etc/chrony.conf\necho \"\nserver @@{ntpServerIp1}@@ iburst\nserver @@{ntpServerIp2}@@ iburst\" | tee -a /etc/chrony.conf\nsystemctl start chronyd\nsystemctl enable chronyd\nchronyc makestep"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "configureNTP"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_service",
                      "name": "Service1",
                      "uuid": "b2466bcd-4fa1-479c-b5c8-5e3c80832769"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "EXEC",
                    "uuid": "7e4c4bbd-82df-4ec7-bd22-d7f21d6b20e4",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "script_type": "sh",
                      "type": "",
                      "command_line_args": "",
                      "exit_status": "",
                      "script": "# #!/bin/bash\n\n# if [ '@@{backupInterfaceNetwork}@@' == 'None' ]\n# then\n#     echo \"Backup interface not selected. Continuing...\"\n#     exit 0\n# else\n#     # Declaring variables.\n#     INTERFACE_NAME=`ifconfig | grep -B4 @@{backupInterfaceMac}@@ | grep BROADCAST | awk -F':' '{print $1}'` \n#     GATEWAY_IP=$(echo \"@@{backupInterfaceIP}@@\" | cut -d\".\" -f1-3)\n    \n    \n#     # Updating backup interface configuration.\n#     echo 'BOOTPROTO=none\n# DEVICE='$INTERFACE_NAME'\n# ONBOOT=yes\n# TYPE=Ethernet\n# IPADDR=@@{backupInterfaceIP}@@\n# NETMASK=@@{netmask}@@\n# USERCTL=no' | tee -a /etc/sysconfig/network-scripts/ifcfg-$INTERFACE_NAME\n    \n    \n#     # Adding static route for Backup communication:\n#     echo 'ADDRESS0=@@{routeIP}@@\n# NETMASK0=@@{routeMask}@@\n# GATEWAY0=@@{backupInterfaceGateway}@@' | sudo tee /etc/sysconfig/network-scripts/route-$INTERFACE_NAME\n    \n#     # Add hosts file entries for Backup Servers:\n#     echo '10.161.4.10     PMCRABKPMST01      PMCRABKPMST01.ads.pnu.edu.sa\n# 10.161.4.11     PMCRABKPMED01      PMCRABKPMED01.ads.pnu.edu.sa\n# 10.161.4.12     PMCRABKPMED02      PMCRABKPMED02.ads.pnu.edu.sa\n# 10.161.4.13     PMCRABKPMED03      PMCRABKPMED03.ads.pnu.edu.sa\n# 10.161.9.11     PHCRABKPMED01      PHCRABKPMED01.ads.pnu.edu.sa ' | tee -a /etc/hosts\n    \n#     # Bringing up the backup network\n#     sudo ifup $INTERFACE_NAME\n    \n#     # Checking if ping to Backup Server IP is working fine.\n#     #echo -e \"\\nValidating communication with the backup network.\\n\"\n#     #ping -c 4 10.161.4.10\n# fi\n\n#---------\n#!/bin/bash\n\nif [ '@@{backupInterfaceNetwork}@@' == 'None' ]\nthen\n    echo \"Backup interface not selected. Continuing...\"\n    exit 0\nelse\n    # Declaring variables.\n    INTERFACE_NAME=`ifconfig | grep -B4 @@{backupInterfaceMac}@@ | grep BROADCAST | awk -F':' '{print $1}'`\n    BKP_CONN=$(nmcli con show | grep -i wired | awk '{print $(NF-5),$(NF-4), $(NF-3)}')\n    nmcli con modify \"$BKP_CONN\" con-name $INTERFACE_NAME\n    \n    #GATEWAY_IP=$(echo \"@@{backupInterfaceIP}@@\" | cut -d\".\" -f1-3)\n    \n    # Updating backup interface configuration using nmcli\n    BKP_UUID=$(nmcli con show | grep -i $INTERFACE_NAME  | awk '{print $(NF-2)}')\n    sudo nmcli con mod $BKP_UUID ipv4.addresses @@{backupInterfaceIP}@@/24\n    sudo nmcli con mod $BKP_UUID ipv4.gateway @@{backupInterfaceGateway}@@\n    sudo nmcli con mod $BKP_UUID ipv4.method manual\n    sudo nmcli con mod $BKP_UUID ipv4.dns \"172.17.72.3 172.17.72.4\"\n    sudo nmcli con mod $BKP_UUID ipv4.routes \"@@{routeIP}@@/16 @@{backupInterfaceGateway}@@\"\n    sudo nmcli device disconnect $INTERFACE_NAME; wait; sudo nmcli device connect $INTERFACE_NAME\n    \n    \n    # Updating backup interface configuration.\n    #echo 'BOOTPROTO=none\n#DEVICE='$INTERFACE_NAME'\n#ONBOOT=yes\n#TYPE=Ethernet\n#IPADDR=@@{backupInterfaceIP}@@\n#NETMASK=@@{netmask}@@\n#USERCTL=no' | tee -a /etc/sysconfig/network-scripts/ifcfg-$INTERFACE_NAME\n    \n    \n    # Adding static route for Backup communication using nmcli:\n   \n    \n    # Adding static route for Backup communication:\n    #echo 'ADDRESS0=@@{routeIP}@@\n#NETMASK0=@@{routeMask}@@\n#GATEWAY0=@@{backupInterfaceGateway}@@' | sudo tee /etc/sysconfig/network-scripts/route-$INTERFACE_NAME\n    \n    # Add hosts file entries for Backup Servers:\n    echo '10.161.4.10     PMCRABKPMST01      PMCRABKPMST01.ads.pnu.edu.sa\n10.161.4.11     PMCRABKPMED01      PMCRABKPMED01.ads.pnu.edu.sa\n10.161.4.12     PMCRABKPMED02      PMCRABKPMED02.ads.pnu.edu.sa\n10.161.4.13     PMCRABKPMED03      PMCRABKPMED03.ads.pnu.edu.sa\n10.161.9.11     PHCRABKPMED01      PHCRABKPMED01.ads.pnu.edu.sa ' | tee -a /etc/hosts\n    \n    # Bringing up the backup network\n    sudo nmcli con up $BKP_UUID\n    ping -c3 10.161.4.10\n    \n    # Checking if ping to Backup Server IP is working fine.\n    #echo -e \"\\nValidating communication with the backup network.\\n\"\n    #ping -c 4 10.161.4.10\nfi\n"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "configureBackupInterface"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_service",
                      "name": "Service1",
                      "uuid": "b2466bcd-4fa1-479c-b5c8-5e3c80832769"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "EXEC",
                    "uuid": "1d5f68bd-7837-4f82-be40-2405e0addd7a",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "script_type": "sh",
                      "type": "",
                      "command_line_args": "",
                      "exit_status": "",
                      "script": "##!/bin/bash\n\n# if [ '@@{privateInterfaceNetwork}@@' == 'None' ]\n# then\n#     echo \"Private interface not selected. Continuing...\"\n#     exit 0\n# else\n\n#     # Declaring variables.\n#     INTERFACE_NAME=`ifconfig | grep -B4 @@{privateInterfaceMac}@@ | grep BROADCAST | awk -F':' '{print $1}'` \n#     #GATEWAY_IP=$(echo \"@@{privateInterfaceIp}@@\" | cut -d\".\" -f1-3)\n       \n#     # Updating backup interface configuration.\n#     echo 'BOOTPROTO=none\n# DEVICE='$INTERFACE_NAME'\n# ONBOOT=yes\n# TYPE=Ethernet\n# IPADDR=@@{privateInterfaceIp}@@\n# NETMASK=@@{netmask}@@\n# USERCTL=no' | sudo tee -a /etc/sysconfig/network-scripts/ifcfg-$INTERFACE_NAME\n    \n#     # Bringing up the backup network\n#     sudo ifup $INTERFACE_NAME\n    \n#     # Checking if ping to Backup Server IP is working fine. \n#     #echo -e \"\\nValidating communication with private network.\\n\"\n#     #ping -c 4 @@{privateInterfaceIp}@@\n# fi\n\n#---------\n#!/bin/bash\n\nif [ '@@{privateInterfaceNetwork}@@' == 'None' ]\nthen\n    echo \"Private interface not selected. Continuing...\"\n    exit 0\nelse\n\n\tINTERFACE_NAME=`ifconfig | grep -B4 @@{privateInterfaceMac}@@ | grep BROADCAST | awk -F':' '{print $1}'`\n    PRIV_CONN=$(nmcli con show | grep -i wired | awk '{print $(NF-5),$(NF-4), $(NF-3)}')\n    nmcli con modify \"$PRIV_CONN\" con-name $INTERFACE_NAME\n    #GATEWAY_IP=$(echo \"@@{backupInterfaceIP}@@\" | cut -d\".\" -f1-3)\n    \n    # Updating backup interface configuration using nmcli\n    PRIV_UUID=$(nmcli con show | grep $INTERFACE_NAME  | awk '{print $(NF-2)}')\n    sudo nmcli con mod $PRIV_UUID ipv4.addresses @@{backupInterfaceIP}@@/24\n    sudo nmcli con mod $PRIV_UUID ipv4.method manual\n    sudo nmcli device disconnect $INTERFACE_NAME; wait; sudo nmcli device connect $INTERFACE_NAME\n\n    # Declaring variables.\n    #INTERFACE_NAME=`ifconfig | grep -B4 @@{privateInterfaceMac}@@ | grep BROADCAST | awk -F':' '{print $1}'` \n    #GATEWAY_IP=$(echo \"@@{privateInterfaceIp}@@\" | cut -d\".\" -f1-3)\n       \n    # Updating backup interface configuration.\n    #echo 'BOOTPROTO=none\n#DEVICE='$INTERFACE_NAME'\n#ONBOOT=yes\n#TYPE=Ethernet\n#IPADDR=@@{privateInterfaceIp}@@\n#NETMASK=@@{netmask}@@\n#USERCTL=no' | sudo tee -a /etc/sysconfig/network-scripts/ifcfg-$INTERFACE_NAME\n    \n    # Bringing up the backup network\n    sudo nmcli con up $PRIV_UUID\n    \n    # Checking if ping to Backup Server IP is working fine. \n    #echo -e \"\\nValidating communication with private network.\\n\"\n    #ping -c 4 @@{privateInterfaceIp}@@\nfi"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "configurePrivateInterface"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_service",
                      "name": "Service1",
                      "uuid": "b2466bcd-4fa1-479c-b5c8-5e3c80832769"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "EXEC",
                    "uuid": "af00b76e-ee52-4eca-a316-626fce31ce6b",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "script_type": "sh",
                      "type": "",
                      "command_line_args": "",
                      "exit_status": "",
                      "script": "#!/bin/bash\n\n## Declaring Variables\nexistingDisks=\"@@{existingDisksOnTemplate}@@\"\nprintf \"Existing disks: $existingDisks \\n\"\ndisks=(`lsblk | grep disk | egrep -v $existingDisks | awk '{print $1}'`)\nvalues=(@@{vDiskHome}@@ @@{vDiskOpt}@@ @@{vDiskUsr}@@ @@{vDiskVar}@@)\nmountPoints=(@@{mountPointHome}@@ @@{mountPointOpt}@@ @@{mountPointUsr}@@ @@{mountPointVar}@@)\npartitions=(\"home\" \"opt\" \"usr\" \"var\")\ndisksLength=($(echo ${#disks[*]}))\n\nfor i in {0..3}\ndo\n  if [ $(echo ${values[i]}) -eq \"0\" ]\n  then\n      unset values[i]\n      unset mountPoints[i]\n      unset partitions[i]      \n  fi\ndone\n\nfinalValue=($(printf \"${values[*]}\"))\nprintf \"The final values are: ${finalValue[*]} \\n\"\n\nfinalMountPoint=($(printf \"${mountPoints[*]}\"))\nprintf \"The mount paths are: ${finalMountPoint[*]} \\n\"\n\nfinalPartitions=($(printf \"${partitions[*]}\"))\nprintf \"The mount paths are: ${finalPartitions[*]} \\n\"\n\n## Creating LVMs\nfor (( i = 0; i < $disksLength; i++ ))\ndo  \n    printf \"pvcreate /dev/${disks[$i]} \\n\"\n    pvcreate /dev/${disks[$i]}\n    printf \"vgcreate vg-${finalPartitions[$i]}-${disks[$i]} /dev/${disks[$i]} \\n\"\n    vgcreate vg-${finalPartitions[$i]}-${disks[$i]} /dev/${disks[$i]} \n    printf \"lvcreate -l 100%FREE -n lv-${finalPartitions[$i]} vg-${finalPartitions[$i]}-${disks[$i]} \\n\"\n    lvcreate -l 100%FREE -n lv-${finalPartitions[$i]} vg-${finalPartitions[$i]}-${disks[$i]}\n    printf \"pmkfs.xfs /dev/vg-${finalPartitions[$i]}-${disks[$i]}/lv-${finalPartitions[$i]} \\n\"\n    mkfs.xfs /dev/vg-${finalPartitions[$i]}-${disks[$i]}/lv-${finalPartitions[$i]}\n    printf \"mkdir ${finalMountPoint[$i]} \\n\"\n    mkdir ${finalMountPoint[$i]}\n    printf \"mount /dev/vg-${finalPartitions[$i]}-${disks[$i]}/lv-${finalPartitions[$i]} ${finalMountPoint[$i]} \\n\"\n    #mount /dev/vg-${disks[$i]}/lv-${disks[$i]} ${finalMountPoint[$i]}\n    echo \"/dev/vg-${finalPartitions[$i]}-${disks[$i]}/lv-${finalPartitions[$i]} ${finalMountPoint[$i]} xfs defaults 0 0\" >> /etc/fstab\n    mount -a\ndone\n\nlsblk"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "configureDisks"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_service",
                      "name": "Service1",
                      "uuid": "b2466bcd-4fa1-479c-b5c8-5e3c80832769"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "EXEC",
                    "uuid": "d0863db5-cb54-4e4e-934f-cc7e66cf3ff1",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "script_type": "sh",
                      "type": "",
                      "command_line_args": "",
                      "exit_status": "",
                      "script": "#if [ @@{vDiskHome}@@  -eq \"0\" & @@{vDiskOpt}@@ -eq \"0\" & @@{vDiskUsr}@@ -eq \"0\" & @@{vDiskVar}@@ -eq \"0\" ]\n#then\n#    echo -n \"Reboot is skipped as no additional disks are configured.\"\n#else\nshutdown -r +1\n#fi"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "restartVM"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_service",
                      "name": "Service1",
                      "uuid": "b2466bcd-4fa1-479c-b5c8-5e3c80832769"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "DELAY",
                    "uuid": "34590480-4c55-4f29-b424-08545ecfb7f2",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "type": "",
                      "interval_secs": 180
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "vmRevivalProcess"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_service",
                      "name": "Service1",
                      "uuid": "b2466bcd-4fa1-479c-b5c8-5e3c80832769"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "EXEC",
                    "uuid": "3963cad7-c732-495f-b0d9-78405c75b94b",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "script_type": "sh",
                      "type": "",
                      "command_line_args": "",
                      "exit_status": "",
                      "script": "#!/bin/bash\n\n\nif [ \"@@{backupInterfaceNetwork}@@\" == \"None\" ]\nthen\n\techo \"Select Backup interface for this task to complete successfully!!!\"\n    exit 0\nelse\n    # Preparing environment with backup agent. \n    SOURCE='http://@@{webServer}@@/release/NetBackup-Servers-and-Agents/NetBackup_LINUX/backupAgent.zip'\n    DEST=\"$HOME/backupFiles\"\n    sudo yum install wget -y\n    sudo wget $SOURCE -P $HOME\n    sudo mkdir $DEST\n    sudo unzip $HOME/backupAgent.zip -d $DEST\n    \n    # Setting up pre-requisites\n    sudo cp -av $DEST/backupAgent/NBInstallAnswer.conf /tmp/\n    \n    # Installing dependant library packages.\n    sudo yum install libnsl -y\n    \n    # Installing the backup agent.\n    cd $HOME/backupFiles/backupAgent/NBClients/anb/Clients/usr/openv/netbackup/client/Linux/RedHat2.6.32\n    sudo rpm  -U VRTSnbpck.rpm\n    sudo rpm  -U VRTSpbx.rpm\n    sudo rpm  -U VRTSnbclt.rpm\n    sudo rpm  -U VRTSnbjre.rpm\n    sudo rpm  -U VRTSnbjava.rpm\n    sudo rpm  -U VRTSpddea.rpm\n    sudo rpm  -U VRTSnbcfg.rpm\n    \n    # Checking if services are up. If down start the services.\n    #cd /usr/openv/netbackup/bin && ./bpps --> Command to check if the NetBackup services are started. \n    \n    cd /usr/openv/netbackup/bin/goodies && sudo ./netbackup start\n    if [ $(echo $?) != 0 ]\n    then\n        printf \"Unable to start the NetBackup service. Please contact Administrator!! \\n\"\n        exit 1\n    else\n        printf \"NetBackup services started successfully. Please check the Backup Server to see successful integration.\"\n    fi   \nfi"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "installBackupAgent"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_service",
                      "name": "Service1",
                      "uuid": "b2466bcd-4fa1-479c-b5c8-5e3c80832769"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "EXEC",
                    "uuid": "1518f205-5862-45bc-9a92-f48bb9078ef0",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "script_type": "sh",
                      "type": "",
                      "command_line_args": "",
                      "exit_status": "",
                      "script": "#!/bin/bash\nSOURCE='http://@@{webServer}@@/release/Trenmicro-AV/Linux/Agent-RedHat_EL8-12.5.0-1033.x86_64.zip'\nDEST=\"$HOME/antivirusFile\"\nsudo wget $SOURCE -P $HOME\nsudo mkdir $DEST\nsudo unzip $HOME/Agent-RedHat_EL8-12.5.0-1033.x86_64.zip -d $DEST\nsudo rpm -ivh $DEST/Agent-Core-RedHat_EL8-12.5.0-1033.x86_64.rpm"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "installAntivirusAgent"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_service",
                      "name": "Service1",
                      "uuid": "b2466bcd-4fa1-479c-b5c8-5e3c80832769"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "EXEC",
                    "uuid": "45a8355f-a628-44bc-8a10-084fa88c24d4",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "script_type": "sh",
                      "type": "",
                      "command_line_args": "",
                      "exit_status": "",
                      "script": "#!/bin/bash\nLIST='@@{administrativeUsers}@@'\n\nUSERS=\"$(cat <<-EOF | awk -F':' '{print $1}'\n$LIST\nEOF\n)\"\n\nPASSWD=\"$(cat <<-EOF\n$LIST\nEOF\n)\"\n\n\n\nfor i in $USERS\ndo\n     useradd $i\n     usermod -aG wheel $i\ndone\n\nfor i in $PASSWD\ndo\n     echo \"$i\" | chpasswd\ndone"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "sudoUsers"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_service",
                      "name": "Service1",
                      "uuid": "b2466bcd-4fa1-479c-b5c8-5e3c80832769"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "EXEC",
                    "uuid": "a46c3fca-b2b9-4753-83fb-ac65bd105d8e",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "script_type": "sh",
                      "type": "",
                      "command_line_args": "",
                      "exit_status": "",
                      "script": "#!/bin/bash\nLIST='@@{loginUsers}@@'\n\nUSERS=\"$(cat <<-EOF | awk -F':' '{print $1}'\n$LIST\nEOF\n)\"\n\nPASSWD=\"$(cat <<-EOF\n$LIST\nEOF\n)\"\n\n\n\nfor i in $USERS\ndo\n     useradd $i\ndone\n\nfor i in $PASSWD\ndo\n     echo \"$i\" | chpasswd\ndone"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "loginUsers"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_service",
                      "name": "Service1",
                      "uuid": "b2466bcd-4fa1-479c-b5c8-5e3c80832769"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "EXEC",
                    "uuid": "ae87f98b-a8fd-4235-ad41-5e3bea076b6a",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "script_type": "sh",
                      "type": "",
                      "command_line_args": "",
                      "exit_status": "",
                      "script": "#!/bin/bash\nusername=\"sa-trendmicro\"\nuseradd $username\nusermod -aG wheel $username\necho \"$username:@@{securityUserPassword}@@\" | chpasswd"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "securityUser"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_service",
                      "name": "Service1",
                      "uuid": "b2466bcd-4fa1-479c-b5c8-5e3c80832769"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "EXEC",
                    "uuid": "e8787279-e777-4ceb-9254-c47d0bc27ff6",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "script_type": "sh",
                      "type": "",
                      "command_line_args": "",
                      "exit_status": "",
                      "script": "#!/bin/bash\n\nif [ \"@@{clusterSelection}@@\" != \"-\" ]\nthen\n\tmkdir -p /mnt/nutanix/ngt\n    sudo mount /dev/sr0 /mnt/nutanix/ngt\n    sudo python2 /mnt/nutanix/ngt/installer/linux/install_ngt.py\n    umount /mnt/nutanix/ngt\n    sudo eject\n    sudo systemctl enable ngt_guest_agent\n    service ngt_guest_agent status\n\n# Adding condition.\n\n    if [ $(echo $?) -eq \"0\" ]\n    then\n        echo -n \"NGT services are up and running!!!\"\n    else\n        echo -n \"NGT services are down!!! Trying to start the service...\"\n        service ngt_guest_agent start\n    fi\n\nelse\n    echo \"NGT tools will not be installed as the Application Profile selected is VMware.\"\n    exit 0    \nfi"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "installNgtTools"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_service",
                      "name": "Service1",
                      "uuid": "b2466bcd-4fa1-479c-b5c8-5e3c80832769"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "EXEC",
                    "uuid": "deddd9b0-2d2d-4f24-b46d-b40a9db86bd8",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "script_type": "sh",
                      "type": "",
                      "command_line_args": "",
                      "exit_status": "",
                      "script": "#!/bin/bash\n\nif [ \"@@{clusterSelection}@@\" == \"-\" ]\nthen\n    sudo yum install -y open-vm-tools\nfi"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "installVMwareTools"
                  }
                ],
                "description": "",
                "message_list": [],
                "uuid": "b842486f-5e48-4cf7-9ee3-ee38ef74f356",
                "state": "ACTIVE",
                "variable_list": [
                  {
                    "regex": {},
                    "val_type": "STRING",
                    "is_mandatory": false,
                    "description": "",
                    "data_type": "BASE",
                    "message_list": [],
                    "uuid": "94bb3ff1-a46b-4429-ac5c-3ee589d2ab1b",
                    "value": "",
                    "label": "",
                    "state": "NOT_VALIDATED",
                    "attrs": {
                      "type": ""
                    },
                    "editables": {},
                    "is_hidden": false,
                    "type": "LOCAL",
                    "options": {
                      "type": "PREDEFINED",
                      "choices": ""
                    },
                    "name": "adminGroupsList"
                  },
                  {
                    "regex": {},
                    "val_type": "STRING",
                    "is_mandatory": false,
                    "description": "",
                    "data_type": "BASE",
                    "message_list": [],
                    "uuid": "34a697b3-2660-41c9-bc14-fec3343af46b",
                    "value": "",
                    "label": "",
                    "state": "NOT_VALIDATED",
                    "attrs": {
                      "type": ""
                    },
                    "editables": {},
                    "is_hidden": false,
                    "type": "LOCAL",
                    "options": {
                      "type": "PREDEFINED",
                      "choices": ""
                    },
                    "name": "adminUsersList"
                  },
                  {
                    "regex": {},
                    "val_type": "STRING",
                    "is_mandatory": false,
                    "description": "",
                    "data_type": "BASE",
                    "message_list": [],
                    "uuid": "4a1c53fe-181f-4619-b8fa-576976bc90fd",
                    "value": "",
                    "label": "",
                    "state": "NOT_VALIDATED",
                    "attrs": {
                      "type": ""
                    },
                    "editables": {},
                    "is_hidden": false,
                    "type": "LOCAL",
                    "options": {
                      "type": "PREDEFINED",
                      "choices": ""
                    },
                    "name": "loginGroupsList"
                  },
                  {
                    "regex": {},
                    "val_type": "STRING",
                    "is_mandatory": false,
                    "description": "",
                    "data_type": "BASE",
                    "message_list": [],
                    "uuid": "b2c3fbcb-bbfe-4f87-bf39-aa5992897e89",
                    "value": "",
                    "label": "",
                    "state": "NOT_VALIDATED",
                    "attrs": {
                      "type": ""
                    },
                    "editables": {},
                    "is_hidden": false,
                    "type": "LOCAL",
                    "options": {
                      "type": "PREDEFINED",
                      "choices": ""
                    },
                    "name": "loginUsersList"
                  }
                ],
                "main_task_local_reference": {
                  "kind": "app_task",
                  "name": "4d06857d_dag",
                  "uuid": "29e8d611-d01f-4c88-9445-d1fc6ff48852"
                },
                "name": "ff3e502d_runbook"
              }
            },
            {
              "description": "System action for deleting an application. Deletes created VMs as well",
              "message_list": [],
              "uuid": "ae02d49f-b3d5-475a-a476-67dd3108e67a",
              "name": "action_delete",
              "state": "ACTIVE",
              "critical": false,
              "attrs": {},
              "type": "system",
              "runbook": {
                "task_definition_list": [
                  {
                    "target_any_local_reference": {
                      "kind": "app_service",
                      "name": "Service1",
                      "uuid": "b2466bcd-4fa1-479c-b5c8-5e3c80832769"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "DAG",
                    "uuid": "7a94b011-5bb1-440a-959b-830757957159",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "edges": "",
                      "type": ""
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "b3d3c433_dag"
                  }
                ],
                "description": "",
                "message_list": [],
                "uuid": "28ac6c0f-a397-43af-9901-3e42b50cd3aa",
                "state": "ACTIVE",
                "variable_list": [],
                "main_task_local_reference": {
                  "kind": "app_task",
                  "name": "b3d3c433_dag",
                  "uuid": "7a94b011-5bb1-440a-959b-830757957159"
                },
                "name": "c906f5a1_runbook"
              }
            },
            {
              "description": "System action for starting an application",
              "message_list": [],
              "uuid": "a86900bf-a457-426d-9cc0-9848265c77d3",
              "name": "action_start",
              "state": "ACTIVE",
              "critical": false,
              "attrs": {},
              "type": "system",
              "runbook": {
                "task_definition_list": [
                  {
                    "target_any_local_reference": {
                      "kind": "app_service",
                      "name": "Service1",
                      "uuid": "b2466bcd-4fa1-479c-b5c8-5e3c80832769"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "DAG",
                    "uuid": "61f39796-a9f2-4cc1-98c0-10615585bcf7",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "edges": "",
                      "type": ""
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "afa53fcc_dag"
                  }
                ],
                "description": "",
                "message_list": [],
                "uuid": "bb0141f3-0775-4357-b329-5aa96a7d87b9",
                "state": "ACTIVE",
                "variable_list": [],
                "main_task_local_reference": {
                  "kind": "app_task",
                  "name": "afa53fcc_dag",
                  "uuid": "61f39796-a9f2-4cc1-98c0-10615585bcf7"
                },
                "name": "bcdcb98e_runbook"
              }
            },
            {
              "description": "System action for stopping an application",
              "message_list": [],
              "uuid": "3e850496-9f35-497c-97aa-98b8a92fe8ae",
              "name": "action_stop",
              "state": "ACTIVE",
              "critical": false,
              "attrs": {},
              "type": "system",
              "runbook": {
                "task_definition_list": [
                  {
                    "target_any_local_reference": {
                      "kind": "app_service",
                      "name": "Service1",
                      "uuid": "b2466bcd-4fa1-479c-b5c8-5e3c80832769"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "DAG",
                    "uuid": "8c6e81a4-f5b6-4276-9562-5366ee011f66",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "edges": "",
                      "type": ""
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "f2a98240_dag"
                  }
                ],
                "description": "",
                "message_list": [],
                "uuid": "ad14c0b3-3182-4e04-9b5a-c4c42ae4e9b2",
                "state": "ACTIVE",
                "variable_list": [],
                "main_task_local_reference": {
                  "kind": "app_task",
                  "name": "f2a98240_dag",
                  "uuid": "8c6e81a4-f5b6-4276-9562-5366ee011f66"
                },
                "name": "e6e3ef02_runbook"
              }
            },
            {
              "description": "System action for restarting an application",
              "message_list": [],
              "uuid": "e65d3774-60b1-4717-82db-a4f3ac83893c",
              "name": "action_restart",
              "state": "ACTIVE",
              "critical": false,
              "attrs": {},
              "type": "system",
              "runbook": {
                "task_definition_list": [
                  {
                    "target_any_local_reference": {
                      "kind": "app_service",
                      "name": "Service1",
                      "uuid": "b2466bcd-4fa1-479c-b5c8-5e3c80832769"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "DAG",
                    "uuid": "bf814d6a-c623-4a3b-b914-1479fa791275",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "edges": "",
                      "type": ""
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "ee176b7f_dag"
                  }
                ],
                "description": "",
                "message_list": [],
                "uuid": "0838837f-1d74-4429-83f9-7177f89ba3a8",
                "state": "ACTIVE",
                "variable_list": [],
                "main_task_local_reference": {
                  "kind": "app_task",
                  "name": "ee176b7f_dag",
                  "uuid": "bf814d6a-c623-4a3b-b914-1479fa791275"
                },
                "name": "e68a120c_runbook"
              }
            },
            {
              "description": "System action for deleting an application. Does not delete created VMs",
              "message_list": [],
              "uuid": "284f3543-0cf7-4e03-9541-3196e8811372",
              "name": "action_soft_delete",
              "state": "ACTIVE",
              "critical": true,
              "attrs": {},
              "type": "system",
              "runbook": {
                "task_definition_list": [
                  {
                    "target_any_local_reference": {
                      "kind": "app_service",
                      "name": "Service1",
                      "uuid": "b2466bcd-4fa1-479c-b5c8-5e3c80832769"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "DAG",
                    "uuid": "9dc77d70-3428-4a0a-a5e7-73cd8f3558f2",
                    "child_tasks_local_reference_list": [
                      "@{kind=app_task; name=SYS_GEN__Service_Element_Delete_b2466bcd_4fa1_479c_b5c8_5e3c80832769; uuid=55416a0c-ca02-43d5-9e4c-2c725ce1ba8f}"
                    ],
                    "state": "ACTIVE",
                    "attrs": {
                      "edges": "",
                      "type": "DAG"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__DAG_Service_b2466bcd_4fa1_479c_b5c8_5e3c80832769"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_service",
                      "name": "Service1",
                      "uuid": "b2466bcd-4fa1-479c-b5c8-5e3c80832769"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "SOFT_DELETE_ELEMENT",
                    "uuid": "55416a0c-ca02-43d5-9e4c-2c725ce1ba8f",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "type": ""
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__Service_Element_Delete_b2466bcd_4fa1_479c_b5c8_5e3c80832769"
                  }
                ],
                "description": "",
                "message_list": [],
                "uuid": "467a50c0-6dc3-4aa9-8082-ed951e2a2b31",
                "state": "ACTIVE",
                "variable_list": [],
                "main_task_local_reference": {
                  "kind": "app_task",
                  "name": "SYS_GEN__DAG_Service_b2466bcd_4fa1_479c_b5c8_5e3c80832769",
                  "uuid": "9dc77d70-3428-4a0a-a5e7-73cd8f3558f2"
                },
                "name": "SYS_GEN__Runbook_Service_b2466bcd_4fa1_479c_b5c8_5e3c80832769"
              }
            }
          ],
          "message_list": [],
          "uuid": "b2466bcd-4fa1-479c-b5c8-5e3c80832769",
          "state": "ACTIVE",
          "depends_on_list": [],
          "editables": {},
          "tier": "",
          "singleton": false,
          "variable_list": [
            {
              "regex": {},
              "val_type": "STRING",
              "is_mandatory": false,
              "description": "",
              "data_type": "BASE",
              "message_list": [],
              "uuid": "290062d4-3060-41fc-b1ef-f2a6688717fd",
              "value": "",
              "label": "",
              "state": "ACTIVE",
              "attrs": {
                "type": ""
              },
              "editables": {},
              "is_hidden": false,
              "type": "LOCAL",
              "options": {
                "type": "PREDEFINED",
                "choices": []
              },
              "name": "ntp1"
            },
            {
              "regex": {},
              "val_type": "STRING",
              "is_mandatory": false,
              "description": "",
              "data_type": "BASE",
              "message_list": [],
              "uuid": "e22af976-e32c-4fb5-9e02-13a11353d4d3",
              "value": "",
              "label": "",
              "state": "ACTIVE",
              "attrs": {
                "type": ""
              },
              "editables": {},
              "is_hidden": false,
              "type": "LOCAL",
              "options": {
                "type": "PREDEFINED",
                "choices": []
              },
              "name": "ntp2"
            },
            {
              "regex": {},
              "val_type": "STRING",
              "is_mandatory": false,
              "description": "",
              "data_type": "BASE",
              "message_list": [],
              "uuid": "63541fa0-2d98-4f21-a70b-f798a509c2de",
              "value": "",
              "label": "",
              "state": "ACTIVE",
              "attrs": {
                "type": ""
              },
              "editables": {},
              "is_hidden": false,
              "type": "LOCAL",
              "options": {
                "type": "PREDEFINED",
                "choices": []
              },
              "name": "antivirusAgentPath"
            },
            {
              "regex": {},
              "val_type": "STRING",
              "is_mandatory": false,
              "description": "",
              "data_type": "BASE",
              "message_list": [],
              "uuid": "c65f54c0-eb00-4b92-9d73-a91c5d84c114",
              "value": "",
              "label": "",
              "state": "ACTIVE",
              "attrs": {
                "type": ""
              },
              "editables": {},
              "is_hidden": false,
              "type": "LOCAL",
              "options": {
                "type": "PREDEFINED",
                "choices": []
              },
              "name": "backupAgentPath"
            },
            {
              "regex": {},
              "val_type": "STRING",
              "is_mandatory": false,
              "description": "",
              "data_type": "BASE",
              "message_list": [],
              "uuid": "54b3c57b-e3c2-4afe-a581-d2ca7a746525",
              "value": "",
              "label": "",
              "state": "ACTIVE",
              "attrs": {
                "type": ""
              },
              "editables": {},
              "is_hidden": false,
              "type": "LOCAL",
              "options": {
                "type": "PREDEFINED",
                "choices": []
              },
              "name": "domainName"
            },
            {
              "regex": {},
              "val_type": "STRING",
              "is_mandatory": false,
              "description": "",
              "data_type": "BASE",
              "message_list": [],
              "uuid": "a7d6d875-3fc5-4b39-89b2-2fb1d2d84890",
              "value": "ens192",
              "label": "",
              "state": "ACTIVE",
              "attrs": {
                "type": ""
              },
              "editables": {},
              "is_hidden": false,
              "type": "LOCAL",
              "options": {
                "type": "PREDEFINED",
                "choices": []
              },
              "name": "netDeviceName"
            },
            {
              "regex": {},
              "val_type": "STRING",
              "is_mandatory": false,
              "description": "",
              "data_type": "BASE",
              "message_list": [],
              "uuid": "a61997f1-d02f-4dbf-b5c0-1d75b252938c",
              "value": "",
              "label": "",
              "state": "ACTIVE",
              "attrs": {
                "type": ""
              },
              "editables": {},
              "is_hidden": false,
              "type": "LOCAL",
              "options": {
                "type": "PREDEFINED",
                "choices": []
              },
              "name": "sshPublicKey"
            },
            {
              "regex": {},
              "val_type": "STRING",
              "is_mandatory": false,
              "description": "",
              "data_type": "BASE",
              "message_list": [],
              "uuid": "02bddff3-be6c-47f7-b4d7-afe6feae4cbf",
              "value": "172.17.72.3",
              "label": "",
              "state": "ACTIVE",
              "attrs": {
                "type": ""
              },
              "editables": {},
              "is_hidden": false,
              "type": "LOCAL",
              "options": {
                "type": "PREDEFINED",
                "choices": []
              },
              "name": "dns1"
            },
            {
              "regex": {},
              "val_type": "STRING",
              "is_mandatory": false,
              "description": "",
              "data_type": "BASE",
              "message_list": [],
              "uuid": "81148fc3-e430-4419-928e-d7275dd4fa89",
              "value": "172.17.73.3",
              "label": "",
              "state": "ACTIVE",
              "attrs": {
                "type": ""
              },
              "editables": {},
              "is_hidden": false,
              "type": "LOCAL",
              "options": {
                "type": "PREDEFINED",
                "choices": []
              },
              "name": "dns2"
            },
            {
              "regex": {},
              "val_type": "STRING",
              "is_mandatory": false,
              "description": "",
              "data_type": "BASE",
              "message_list": [],
              "uuid": "0d704e33-04a8-4c8c-b3dc-472a47ddacc7",
              "value": "172.17.90.20",
              "label": "",
              "state": "ACTIVE",
              "attrs": {
                "type": ""
              },
              "editables": {},
              "is_hidden": false,
              "type": "LOCAL",
              "options": {
                "type": "PREDEFINED",
                "choices": []
              },
              "name": "dns3"
            },
            {
              "regex": {},
              "val_type": "STRING",
              "is_mandatory": false,
              "description": "",
              "data_type": "BASE",
              "message_list": [],
              "uuid": "3d676224-9751-4639-ae81-894f7206e293",
              "value": "",
              "label": "",
              "state": "ACTIVE",
              "attrs": {
                "type": ""
              },
              "editables": {},
              "is_hidden": false,
              "type": "LOCAL",
              "options": {
                "type": "PREDEFINED",
                "choices": []
              },
              "name": "loginUsersList"
            },
            {
              "regex": {},
              "val_type": "STRING",
              "is_mandatory": false,
              "description": "",
              "data_type": "BASE",
              "message_list": [],
              "uuid": "eae1c495-2af3-4101-827f-36281b9fd171",
              "value": "",
              "label": "",
              "state": "ACTIVE",
              "attrs": {
                "type": ""
              },
              "editables": {},
              "is_hidden": false,
              "type": "LOCAL",
              "options": {
                "type": "PREDEFINED",
                "choices": []
              },
              "name": "adminUsersList"
            },
            {
              "regex": {},
              "val_type": "STRING",
              "is_mandatory": false,
              "description": "",
              "data_type": "BASE",
              "message_list": [],
              "uuid": "e7c46b0a-84cc-4f6a-a476-caf8f4ef2780",
              "value": "",
              "label": "",
              "state": "ACTIVE",
              "attrs": {
                "type": ""
              },
              "editables": {},
              "is_hidden": false,
              "type": "LOCAL",
              "options": {
                "type": "PREDEFINED",
                "choices": []
              },
              "name": "backupInterfaceMac"
            },
            {
              "regex": {},
              "val_type": "STRING",
              "is_mandatory": false,
              "description": "",
              "data_type": "BASE",
              "message_list": [],
              "uuid": "dc5308f1-2ec5-4eb9-b999-5ecf421e4adf",
              "value": "",
              "label": "",
              "state": "ACTIVE",
              "attrs": {
                "type": ""
              },
              "editables": {},
              "is_hidden": false,
              "type": "LOCAL",
              "options": {
                "type": "PREDEFINED",
                "choices": []
              },
              "name": "privateInterfaceMac"
            },
            {
              "regex": {},
              "val_type": "STRING",
              "is_mandatory": false,
              "description": "",
              "data_type": "BASE",
              "message_list": [],
              "uuid": "49b6f9ab-6382-4ab1-b6c9-4190f5e57e63",
              "value": "ens3",
              "label": "",
              "state": "ACTIVE",
              "attrs": {
                "type": ""
              },
              "editables": {},
              "is_hidden": false,
              "type": "LOCAL",
              "options": {
                "type": "PREDEFINED",
                "choices": []
              },
              "name": "netDeviceNameAHV"
            },
            {
              "regex": {},
              "val_type": "STRING",
              "is_mandatory": false,
              "description": "",
              "data_type": "BASE",
              "message_list": [],
              "uuid": "a6a779e7-e931-4fc8-b3d8-873dc5cfd56b",
              "value": "172.17.76.144",
              "label": "",
              "state": "ACTIVE",
              "attrs": {
                "type": ""
              },
              "editables": {},
              "is_hidden": false,
              "type": "LOCAL",
              "options": {
                "type": "PREDEFINED",
                "choices": []
              },
              "name": "repoServerIp"
            },
            {
              "regex": {},
              "val_type": "STRING",
              "is_mandatory": false,
              "description": "",
              "data_type": "BASE",
              "message_list": [],
              "uuid": "61bea31b-1d8c-4c4d-9134-3b2bb54ca158",
              "value": "255.255.255.0",
              "label": "",
              "state": "ACTIVE",
              "attrs": {
                "type": ""
              },
              "editables": {},
              "is_hidden": false,
              "type": "LOCAL",
              "options": {
                "type": "PREDEFINED",
                "choices": []
              },
              "name": "netmask"
            },
            {
              "regex": {},
              "val_type": "STRING",
              "is_mandatory": false,
              "description": "",
              "data_type": "BASE",
              "message_list": [],
              "uuid": "ad41484c-ce6c-4742-a92a-9fd9f40248c5",
              "value": "10.161.0.0",
              "label": "",
              "state": "ACTIVE",
              "attrs": {
                "type": ""
              },
              "editables": {},
              "is_hidden": false,
              "type": "LOCAL",
              "options": {
                "type": "PREDEFINED",
                "choices": []
              },
              "name": "routeIP"
            },
            {
              "regex": {},
              "val_type": "STRING",
              "is_mandatory": false,
              "description": "",
              "data_type": "BASE",
              "message_list": [],
              "uuid": "cbc54de2-5ca8-404a-aade-dcc4d3a16362",
              "value": "255.255.0.0",
              "label": "",
              "state": "ACTIVE",
              "attrs": {
                "type": ""
              },
              "editables": {},
              "is_hidden": false,
              "type": "LOCAL",
              "options": {
                "type": "PREDEFINED",
                "choices": []
              },
              "name": "routeMask"
            },
            {
              "regex": {},
              "val_type": "STRING",
              "is_mandatory": false,
              "description": "",
              "data_type": "BASE",
              "message_list": [],
              "uuid": "e50874cb-93fc-4a4f-ad5c-2ed2edecfd7b",
              "value": "172.17.86.208",
              "label": "",
              "state": "ACTIVE",
              "attrs": {
                "type": ""
              },
              "editables": {},
              "is_hidden": false,
              "type": "LOCAL",
              "options": {
                "type": "PREDEFINED",
                "choices": []
              },
              "name": "webServer"
            },
            {
              "regex": {},
              "val_type": "STRING",
              "is_mandatory": false,
              "description": "",
              "data_type": "BASE",
              "message_list": [],
              "uuid": "e56ee649-16e5-4836-a6cf-232b2c46a2d4",
              "value": "172.18.4.18",
              "label": "",
              "state": "ACTIVE",
              "attrs": {
                "type": ""
              },
              "editables": {},
              "is_hidden": false,
              "type": "LOCAL",
              "options": {
                "type": "PREDEFINED",
                "choices": []
              },
              "name": "ntpServerIp1"
            },
            {
              "regex": {},
              "val_type": "STRING",
              "is_mandatory": false,
              "description": "",
              "data_type": "BASE",
              "message_list": [],
              "uuid": "1dc13518-8aab-4de0-abb8-636c9009196e",
              "value": "172.18.4.19",
              "label": "",
              "state": "ACTIVE",
              "attrs": {
                "type": ""
              },
              "editables": {},
              "is_hidden": false,
              "type": "LOCAL",
              "options": {
                "type": "PREDEFINED",
                "choices": []
              },
              "name": "ntpServerIp2"
            },
            {
              "regex": {},
              "val_type": "STRING",
              "is_mandatory": false,
              "description": "",
              "data_type": "BASE",
              "message_list": [],
              "uuid": "5e4844ee-e309-4332-aa36-68cb92f08c21",
              "value": "",
              "label": "",
              "state": "ACTIVE",
              "attrs": {
                "type": ""
              },
              "editables": {},
              "is_hidden": false,
              "type": "LOCAL",
              "options": {
                "type": "PREDEFINED",
                "choices": []
              },
              "name": "existingDisksOnTemplate"
            }
          ],
          "name": "Service1"
        }
      ],
      "substrate_definition_list": [
        {
          "description": "",
          "action_list": [
            {
              "description": "",
              "message_list": [],
              "uuid": "2fb7422b-a4a6-408d-95e3-ff41dd8eaab9",
              "name": "pre_action_create",
              "state": "ACTIVE",
              "critical": false,
              "attrs": {},
              "type": "fragment",
              "runbook": {
                "task_definition_list": [
                  {
                    "target_any_local_reference": {
                      "kind": "app_substrate",
                      "name": "VM1",
                      "uuid": "baaa60e0-d980-40b5-bbd4-efd8409d50c4"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "DAG",
                    "uuid": "714af82c-da77-4506-8955-7e61b2bb21a5",
                    "child_tasks_local_reference_list": [
                      "@{kind=app_task; name=setProductionNetwork; uuid=cd1f0f13-62e0-49e5-8bcf-e71c507c06af}"
                    ],
                    "state": "ACTIVE",
                    "attrs": {
                      "edges": "",
                      "type": ""
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "22b68bee_dag"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_substrate",
                      "name": "VM1",
                      "uuid": "baaa60e0-d980-40b5-bbd4-efd8409d50c4"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "SET_VARIABLE",
                    "uuid": "cd1f0f13-62e0-49e5-8bcf-e71c507c06af",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "exit_status": "",
                      "script": "#script\n'''\nSCRIPT INFORMATION\n .NAME:\n\tname: getVirtualMachinesFromPrismCentral\n .TYPE:\n\tNutanix Calm escript. Set Variable / Task\n .DESCRIPTION:\n\tThis action is a Template. Describe the funcionality of this ACTION\n .EXPECTED RESULT:\n\tFunction should return object type STRING with VALUE:\n .AUTHOR:\n\tDavid RÃ­os Delgado <david.riosdelgado@nutanix.com>\n .VERSION HISTORY:\n\t1.0.0\tInit version.\n .TESTED ON:\n\tNutanix Calm \n                3.0.0.X\n .FUNCTIONS:\n\t@Gfunction\t\n        mainAction(payload, newEvent):\n\t\tExecutes the main code in this action.\n .INPUT PARAMETERS:\n\t@param \n        {string}\n        {Mandatory]\n        {Name=inputExample1}\n        {Description=This is an example 1}\n\t@param \n        {string}\n        {Mandatory]\n        {Name=inputExample2}\n        {Description=This is an example 2}\n .GLOBAL VARIABLES:\n\t@Mparam \n        {string}\n        {Mandatory}\n        {Name=type}\n        {Description=Describes the type of vRealize Orchestrator script}\n .BLOCK VARIABLES:\n\t@Mparam \n        {string}\n        {Mandatory}\n        {Name=type}\n        {Description=Describes the type of vRealize Orchestrator script}\n .RETURN\n\tresultObjs = {String}\n\n'''\n\n#INPUT VARIABLES\nproject = '@@{calm_project_name}@@'\nclusterSelection = '@@{clusterSelection}@@'\nnetworkSelection = '@@{productionInterfaceNetwork}@@'\njwt = '@@{calm_jwt}@@'\noffset = 0\nlength = 500\nlistNetwork = []\nlistSelection = []\n#FUNCTIONS\n\n#GLOBAL VARIABLES\n\n#MAIN CODE BLOCK EXECUTION\n##Execution Block 1 - Get virtual machine api pagination - Variables\napi_url = 'https://localhost:9440/api/nutanix/v3/projects/list'\nheaders = {'Content-Type': 'application/json',  'Accept':'application/json', 'Authorization': 'Bearer {}'.format(jwt)}\npayload = {\n  \"kind\": \"project\"\n}\n##Execution Block 1 - Get virtual machine api pagination - Main Code\nr = urlreq(api_url, verb='POST', params=json.dumps(payload), headers=headers, verify=False)\nif r.ok:\n    resp = json.loads(r.content)\n    iterations = ((int(resp['metadata']['total_matches'])) / length) + 1\nelse:\n    print (\"Post request failed\", r.content)\n    exit(1)\n\n##Execution Block 2 - Get virtual machine list - Variables\napi_url = 'https://localhost:9440/api/nutanix/v3/projects/list'\nheaders = {'Content-Type': 'application/json',  'Accept':'application/json', 'Authorization': 'Bearer {}'.format(jwt)}\n##Execution Block 2 - Get virtual machine list - Main Code\nfor iterator in range(iterations): \n    payload = {\n      \"kind\": \"project\",\n      \"length\": length,\n      \"offset\": offset\n    }\n    r = urlreq(api_url, verb='POST', params=json.dumps(payload), headers=headers, verify=False)\n    if r.ok:\n        resp = json.loads(r.content)\n    else:\n        print (\"Post request failed\", r.content)\n        exit(1)\n    for item in resp[\"entities\"]:\n        if project in item['spec']['name']:\n            for netResource in item['spec']['resources']['subnet_reference_list']:\n                listNetwork.append(netResource['uuid'])\n    offset = offset + length\n\n##Execution Block 2 - Get virtual machine list - Variables\nheaders = {'Content-Type': 'application/json',  'Accept':'application/json', 'Authorization': 'Bearer {}'.format(jwt)}\n##Execution Block 2 - Get virtual machine list - Main Code\nfor netUuid in listNetwork:\n    api_url = 'https://localhost:9440/api/nutanix/v3/subnets/{}'.format(netUuid)\n    r = urlreq(api_url, verb='GET', headers=headers, verify=False)\n    if r.ok:\n        resp = json.loads(r.content)\n        if (((resp['spec']['cluster_reference']['name']) == clusterSelection) and (resp['spec']['name'] == networkSelection)):\n            selectedUuid = netUuid\n            print(\"netUuid\")\n            break\n    else:\n        print (\"Post request failed\", r.content)\n        exit(1)\n\nnetwork = {\"name\":networkSelection,\"uuid\":\"{}\".format(selectedUuid)}\n\n#RETURN\nprint (\"productionNetwork={}\".format(json.dumps(network)))",
                      "eval_variables": "productionNetwork",
                      "eval_scope": "local",
                      "type": "",
                      "script_type": "static"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "setProductionNetwork"
                  }
                ],
                "description": "",
                "message_list": [],
                "uuid": "212b1384-e0a0-4f7c-85a1-dd979385938d",
                "state": "ACTIVE",
                "variable_list": [],
                "main_task_local_reference": {
                  "kind": "app_task",
                  "name": "22b68bee_dag",
                  "uuid": "714af82c-da77-4506-8955-7e61b2bb21a5"
                },
                "name": "8103e2f7_runbook"
              }
            },
            {
              "description": "",
              "message_list": [],
              "uuid": "2d0ed07e-8038-4c7b-9dd0-bd90b2b4b916",
              "name": "post_action_delete",
              "state": "ACTIVE",
              "critical": false,
              "attrs": {},
              "type": "fragment",
              "runbook": {
                "task_definition_list": [
                  {
                    "target_any_local_reference": {
                      "kind": "app_substrate",
                      "name": "VM1",
                      "uuid": "baaa60e0-d980-40b5-bbd4-efd8409d50c4"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "DAG",
                    "uuid": "99cf63ec-d7b1-4db9-b4bc-61ae4249f37b",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "edges": "",
                      "type": ""
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "5b52803c_dag"
                  }
                ],
                "description": "",
                "message_list": [],
                "uuid": "6347f799-10ad-42e6-8d09-407d12c6fbc7",
                "state": "ACTIVE",
                "variable_list": [],
                "main_task_local_reference": {
                  "kind": "app_task",
                  "name": "5b52803c_dag",
                  "uuid": "99cf63ec-d7b1-4db9-b4bc-61ae4249f37b"
                },
                "name": "30f3cc31_runbook"
              }
            },
            {
              "description": "System action for creating an application",
              "message_list": [],
              "uuid": "3f94cab6-f206-4120-957b-4bebcc82abf1",
              "name": "action_create",
              "state": "ACTIVE",
              "critical": true,
              "attrs": {},
              "type": "system",
              "runbook": {
                "task_definition_list": [
                  {
                    "target_any_local_reference": {
                      "kind": "app_substrate",
                      "name": "VM1",
                      "uuid": "baaa60e0-d980-40b5-bbd4-efd8409d50c4"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "DAG",
                    "uuid": "6b50ae4e-5082-499e-8af1-f3738deec5a4",
                    "child_tasks_local_reference_list": [
                      "@{kind=app_task; name=SYS_GEN__Nutanix_Provision_baaa60e0_d980_40b5_bbd4_efd8409d50c4; uuid=dac47edd-d6f9-4d64-b0c8-3c362ed85ce1}",
                      "@{kind=app_task; name=SYS_GEN__check_login_for_VM1_baaa60e0_d980_40b5_bbd4_efd8409d50c4; uuid=9be41b63-8afd-4fb6-9eb3-b74c7b29dcf4}"
                    ],
                    "state": "ACTIVE",
                    "attrs": {
                      "edges": "",
                      "type": "DAG"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__DAG_Substrate_baaa60e0_d980_40b5_bbd4_efd8409d50c4"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_substrate",
                      "name": "VM1",
                      "uuid": "baaa60e0-d980-40b5-bbd4-efd8409d50c4"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "PROVISION_NUTANIX",
                    "uuid": "dac47edd-d6f9-4d64-b0c8-3c362ed85ce1",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "name": "@@{calm_application_name}@@",
                      "categories": "",
                      "availability_zone_reference": null,
                      "backup_policy": null,
                      "type": "",
                      "cluster_reference": null,
                      "resources": "@{nic_list=System.Object[]; parent_reference=; guest_tools=; num_vcpus_per_socket=1; num_sockets=2; serial_port_list=System.Object[]; gpu_list=System.Object[]; memory_size_mib=4096; power_state=ON; hardware_clock_timezone=; guest_customization=; type=; account_uuid=28b0cf0a-59e5-4d3e-bef1-80bca0b8e4ff; boot_config=; disk_list=System.Object[]}"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__Nutanix_Provision_baaa60e0_d980_40b5_bbd4_efd8409d50c4"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_substrate",
                      "name": "VM1",
                      "uuid": "baaa60e0-d980-40b5-bbd4-efd8409d50c4"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "CHECK_LOGIN",
                    "uuid": "9be41b63-8afd-4fb6-9eb3-b74c7b29dcf4",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "retries": "5",
                      "dial_timeout": "",
                      "timeout": "60",
                      "address": "@@{platform.status.resources.nic_list[0].ip_endpoint_list[0].ip}@@",
                      "type": "CHECK_LOGIN",
                      "sleep_time": ""
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__check_login_for_VM1_baaa60e0_d980_40b5_bbd4_efd8409d50c4"
                  }
                ],
                "description": "",
                "message_list": [],
                "uuid": "0556b037-5a08-4aeb-94ea-2067a562f733",
                "state": "ACTIVE",
                "variable_list": [],
                "main_task_local_reference": {
                  "kind": "app_task",
                  "name": "SYS_GEN__DAG_Substrate_baaa60e0_d980_40b5_bbd4_efd8409d50c4",
                  "uuid": "6b50ae4e-5082-499e-8af1-f3738deec5a4"
                },
                "name": "SYS_GEN__Runbook_Substrate_baaa60e0_d980_40b5_bbd4_efd8409d50c4"
              }
            },
            {
              "description": "System action for powering on an application",
              "message_list": [],
              "uuid": "4b15826f-d5ba-454b-811c-2426149bacca",
              "name": "action_poweron",
              "state": "ACTIVE",
              "critical": true,
              "attrs": {},
              "type": "system",
              "runbook": {
                "task_definition_list": [
                  {
                    "target_any_local_reference": {
                      "kind": "app_substrate",
                      "name": "VM1",
                      "uuid": "baaa60e0-d980-40b5-bbd4-efd8409d50c4"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "DAG",
                    "uuid": "e847e0cc-34c1-4a83-bc3d-c6e1e1d82189",
                    "child_tasks_local_reference_list": [
                      "@{kind=app_task; name=SYS_GEN__Nutanix_Operation_PowerOn_baaa60e0_d980_40b5_bbd4_efd8409d50c4; uuid=e91f6d6d-a288-4cc3-af81-938c94f43550}",
                      "@{kind=app_task; name=SYS_GEN__check_login_for_VM1_baaa60e0_d980_40b5_bbd4_efd8409d50c4; uuid=61ec28d8-fb4c-4964-84d5-5c77ced1ff1a}"
                    ],
                    "state": "ACTIVE",
                    "attrs": {
                      "edges": "",
                      "type": "DAG"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__DAG_Substrate_baaa60e0_d980_40b5_bbd4_efd8409d50c4"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_substrate",
                      "name": "VM1",
                      "uuid": "baaa60e0-d980-40b5-bbd4-efd8409d50c4"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "VMOPERATION_NUTANIX",
                    "uuid": "e91f6d6d-a288-4cc3-af81-938c94f43550",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "operation_type": "action_poweron",
                      "type": "GENERIC_OPERATION"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__Nutanix_Operation_PowerOn_baaa60e0_d980_40b5_bbd4_efd8409d50c4"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_substrate",
                      "name": "VM1",
                      "uuid": "baaa60e0-d980-40b5-bbd4-efd8409d50c4"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "CHECK_LOGIN",
                    "uuid": "61ec28d8-fb4c-4964-84d5-5c77ced1ff1a",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "retries": "5",
                      "dial_timeout": "",
                      "timeout": "60",
                      "address": "@@{platform.status.resources.nic_list[0].ip_endpoint_list[0].ip}@@",
                      "type": "CHECK_LOGIN",
                      "sleep_time": ""
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__check_login_for_VM1_baaa60e0_d980_40b5_bbd4_efd8409d50c4"
                  }
                ],
                "description": "",
                "message_list": [],
                "uuid": "8b0ace1e-36a5-4d0f-a73f-219baf4c36fb",
                "state": "ACTIVE",
                "variable_list": [],
                "main_task_local_reference": {
                  "kind": "app_task",
                  "name": "SYS_GEN__DAG_Substrate_baaa60e0_d980_40b5_bbd4_efd8409d50c4",
                  "uuid": "e847e0cc-34c1-4a83-bc3d-c6e1e1d82189"
                },
                "name": "SYS_GEN__Runbook_Substrate_baaa60e0_d980_40b5_bbd4_efd8409d50c4"
              }
            },
            {
              "description": "System action for restarting an application",
              "message_list": [],
              "uuid": "66098980-a966-4744-934c-24f2671635bc",
              "name": "action_restart",
              "state": "ACTIVE",
              "critical": true,
              "attrs": {},
              "type": "system",
              "runbook": {
                "task_definition_list": [
                  {
                    "target_any_local_reference": {
                      "kind": "app_substrate",
                      "name": "VM1",
                      "uuid": "baaa60e0-d980-40b5-bbd4-efd8409d50c4"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "DAG",
                    "uuid": "3684b3db-55bc-4301-8dd9-b44f12c449d6",
                    "child_tasks_local_reference_list": [
                      "@{kind=app_task; name=SYS_GEN__Nutanix_Operation_Restart_baaa60e0_d980_40b5_bbd4_efd8409d50c4; uuid=cc8bd710-95e4-4f5f-858f-ba014e678146}",
                      "@{kind=app_task; name=SYS_GEN__check_login_for_VM1_baaa60e0_d980_40b5_bbd4_efd8409d50c4; uuid=1edc1030-b0e2-4305-ab2d-50bfe7290069}"
                    ],
                    "state": "ACTIVE",
                    "attrs": {
                      "edges": "",
                      "type": "DAG"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__DAG_Substrate_baaa60e0_d980_40b5_bbd4_efd8409d50c4"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_substrate",
                      "name": "VM1",
                      "uuid": "baaa60e0-d980-40b5-bbd4-efd8409d50c4"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "VMOPERATION_NUTANIX",
                    "uuid": "cc8bd710-95e4-4f5f-858f-ba014e678146",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "operation_type": "action_restart",
                      "type": "GENERIC_OPERATION"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__Nutanix_Operation_Restart_baaa60e0_d980_40b5_bbd4_efd8409d50c4"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_substrate",
                      "name": "VM1",
                      "uuid": "baaa60e0-d980-40b5-bbd4-efd8409d50c4"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "CHECK_LOGIN",
                    "uuid": "1edc1030-b0e2-4305-ab2d-50bfe7290069",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "retries": "5",
                      "dial_timeout": "",
                      "timeout": "60",
                      "address": "@@{platform.status.resources.nic_list[0].ip_endpoint_list[0].ip}@@",
                      "type": "CHECK_LOGIN",
                      "sleep_time": ""
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__check_login_for_VM1_baaa60e0_d980_40b5_bbd4_efd8409d50c4"
                  }
                ],
                "description": "",
                "message_list": [],
                "uuid": "34639573-3e44-403f-88d2-699b7470b9fb",
                "state": "ACTIVE",
                "variable_list": [],
                "main_task_local_reference": {
                  "kind": "app_task",
                  "name": "SYS_GEN__DAG_Substrate_baaa60e0_d980_40b5_bbd4_efd8409d50c4",
                  "uuid": "3684b3db-55bc-4301-8dd9-b44f12c449d6"
                },
                "name": "SYS_GEN__Runbook_Substrate_baaa60e0_d980_40b5_bbd4_efd8409d50c4"
              }
            },
            {
              "description": "System action for suspending an application",
              "message_list": [],
              "uuid": "1e405607-0237-4ed0-8a1d-d17d4ac92ec5",
              "name": "action_suspend",
              "state": "ACTIVE",
              "critical": true,
              "attrs": {},
              "type": "system",
              "runbook": {
                "task_definition_list": [
                  {
                    "target_any_local_reference": {
                      "kind": "app_substrate",
                      "name": "VM1",
                      "uuid": "baaa60e0-d980-40b5-bbd4-efd8409d50c4"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "DAG",
                    "uuid": "9d8b682d-87d2-433e-9ace-4433c164e398",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "edges": "",
                      "type": "DAG"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__DAG_Substrate_baaa60e0_d980_40b5_bbd4_efd8409d50c4"
                  }
                ],
                "description": "",
                "message_list": [],
                "uuid": "ffee62ee-5588-4a3a-b760-99c9eba7083e",
                "state": "ACTIVE",
                "variable_list": [],
                "main_task_local_reference": {
                  "kind": "app_task",
                  "name": "SYS_GEN__DAG_Substrate_baaa60e0_d980_40b5_bbd4_efd8409d50c4",
                  "uuid": "9d8b682d-87d2-433e-9ace-4433c164e398"
                },
                "name": "SYS_GEN__Runbook_Substrate_baaa60e0_d980_40b5_bbd4_efd8409d50c4"
              }
            },
            {
              "description": "System action for modifying an application",
              "message_list": [],
              "uuid": "080b4541-888f-48f9-80dc-ef09a7b444bb",
              "name": "action_modify",
              "state": "ACTIVE",
              "critical": true,
              "attrs": {},
              "type": "system",
              "runbook": {
                "task_definition_list": [
                  {
                    "target_any_local_reference": {
                      "kind": "app_substrate",
                      "name": "VM1",
                      "uuid": "baaa60e0-d980-40b5-bbd4-efd8409d50c4"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "DAG",
                    "uuid": "6a7c9468-6b7a-475e-9da2-87696f0a4083",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "edges": "",
                      "type": "DAG"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__DAG_Substrate_baaa60e0_d980_40b5_bbd4_efd8409d50c4"
                  }
                ],
                "description": "",
                "message_list": [],
                "uuid": "af0c2499-b40a-49c4-a1bc-6dfece046beb",
                "state": "ACTIVE",
                "variable_list": [],
                "main_task_local_reference": {
                  "kind": "app_task",
                  "name": "SYS_GEN__DAG_Substrate_baaa60e0_d980_40b5_bbd4_efd8409d50c4",
                  "uuid": "6a7c9468-6b7a-475e-9da2-87696f0a4083"
                },
                "name": "SYS_GEN__Runbook_Substrate_baaa60e0_d980_40b5_bbd4_efd8409d50c4"
              }
            },
            {
              "description": "System action for powering off an application",
              "message_list": [],
              "uuid": "004af794-4239-4d7b-9502-3744560ce7b9",
              "name": "action_poweroff",
              "state": "ACTIVE",
              "critical": true,
              "attrs": {},
              "type": "system",
              "runbook": {
                "task_definition_list": [
                  {
                    "target_any_local_reference": {
                      "kind": "app_substrate",
                      "name": "VM1",
                      "uuid": "baaa60e0-d980-40b5-bbd4-efd8409d50c4"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "DAG",
                    "uuid": "cd74eefb-d2c2-4705-b90b-22652683d515",
                    "child_tasks_local_reference_list": [
                      "@{kind=app_task; name=SYS_GEN__Nutanix_Operation_PowerOff_baaa60e0_d980_40b5_bbd4_efd8409d50c4; uuid=0a4a0564-1e0c-418a-a090-efc05bdf7bb5}"
                    ],
                    "state": "ACTIVE",
                    "attrs": {
                      "edges": "",
                      "type": "DAG"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__DAG_Substrate_baaa60e0_d980_40b5_bbd4_efd8409d50c4"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_substrate",
                      "name": "VM1",
                      "uuid": "baaa60e0-d980-40b5-bbd4-efd8409d50c4"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "VMOPERATION_NUTANIX",
                    "uuid": "0a4a0564-1e0c-418a-a090-efc05bdf7bb5",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "operation_type": "action_poweroff",
                      "type": "GENERIC_OPERATION"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__Nutanix_Operation_PowerOff_baaa60e0_d980_40b5_bbd4_efd8409d50c4"
                  }
                ],
                "description": "",
                "message_list": [],
                "uuid": "cbac3847-8215-4cd8-8a13-1e8e9ed0782a",
                "state": "ACTIVE",
                "variable_list": [],
                "main_task_local_reference": {
                  "kind": "app_task",
                  "name": "SYS_GEN__DAG_Substrate_baaa60e0_d980_40b5_bbd4_efd8409d50c4",
                  "uuid": "cd74eefb-d2c2-4705-b90b-22652683d515"
                },
                "name": "SYS_GEN__Runbook_Substrate_baaa60e0_d980_40b5_bbd4_efd8409d50c4"
              }
            },
            {
              "description": "System action for deleting an application. Deletes created VMs as well",
              "message_list": [],
              "uuid": "ed7fb074-9f8f-420c-a1b6-1577e724d350",
              "name": "action_delete",
              "state": "ACTIVE",
              "critical": true,
              "attrs": {},
              "type": "system",
              "runbook": {
                "task_definition_list": [
                  {
                    "target_any_local_reference": {
                      "kind": "app_substrate",
                      "name": "VM1",
                      "uuid": "baaa60e0-d980-40b5-bbd4-efd8409d50c4"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "DAG",
                    "uuid": "49bfb776-ce9e-475c-aec0-92c7031012fb",
                    "child_tasks_local_reference_list": [
                      "@{kind=app_task; name=SYS_GEN__Nutanix_Delete_baaa60e0_d980_40b5_bbd4_efd8409d50c4; uuid=9baeb0bf-c004-4cc2-a632-67854f7a9077}"
                    ],
                    "state": "ACTIVE",
                    "attrs": {
                      "edges": "",
                      "type": "DAG"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__DAG_Substrate_baaa60e0_d980_40b5_bbd4_efd8409d50c4"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_substrate",
                      "name": "VM1",
                      "uuid": "baaa60e0-d980-40b5-bbd4-efd8409d50c4"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "DELETE_NUTANIX",
                    "uuid": "9baeb0bf-c004-4cc2-a632-67854f7a9077",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "type": ""
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__Nutanix_Delete_baaa60e0_d980_40b5_bbd4_efd8409d50c4"
                  }
                ],
                "description": "",
                "message_list": [],
                "uuid": "85a05a50-6607-4f0d-9768-2f461a62cbf9",
                "state": "ACTIVE",
                "variable_list": [],
                "main_task_local_reference": {
                  "kind": "app_task",
                  "name": "SYS_GEN__DAG_Substrate_baaa60e0_d980_40b5_bbd4_efd8409d50c4",
                  "uuid": "49bfb776-ce9e-475c-aec0-92c7031012fb"
                },
                "name": "SYS_GEN__Runbook_Substrate_baaa60e0_d980_40b5_bbd4_efd8409d50c4"
              }
            },
            {
              "description": "System action for deleting an application. Does not delete created VMs",
              "message_list": [],
              "uuid": "698bfd36-f657-4377-8adc-e62a3bc15218",
              "name": "action_soft_delete",
              "state": "ACTIVE",
              "critical": true,
              "attrs": {},
              "type": "system",
              "runbook": {
                "task_definition_list": [
                  {
                    "target_any_local_reference": {
                      "kind": "app_substrate",
                      "name": "VM1",
                      "uuid": "baaa60e0-d980-40b5-bbd4-efd8409d50c4"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "DAG",
                    "uuid": "873c3aac-9646-4f5a-a060-4332e178ade1",
                    "child_tasks_local_reference_list": [
                      "@{kind=app_task; name=SYS_GEN__Nutanix_Soft_Delete_baaa60e0_d980_40b5_bbd4_efd8409d50c4; uuid=eea03e68-8722-4ea9-b6cc-31d3e3ceb144}"
                    ],
                    "state": "ACTIVE",
                    "attrs": {
                      "edges": "",
                      "type": "DAG"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__DAG_Substrate_baaa60e0_d980_40b5_bbd4_efd8409d50c4"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_substrate",
                      "name": "VM1",
                      "uuid": "baaa60e0-d980-40b5-bbd4-efd8409d50c4"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "SOFT_DELETE_NUTANIX",
                    "uuid": "eea03e68-8722-4ea9-b6cc-31d3e3ceb144",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "type": ""
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__Nutanix_Soft_Delete_baaa60e0_d980_40b5_bbd4_efd8409d50c4"
                  }
                ],
                "description": "",
                "message_list": [],
                "uuid": "856de923-1716-4959-99e9-a29426dbeae4",
                "state": "ACTIVE",
                "variable_list": [],
                "main_task_local_reference": {
                  "kind": "app_task",
                  "name": "SYS_GEN__DAG_Substrate_baaa60e0_d980_40b5_bbd4_efd8409d50c4",
                  "uuid": "873c3aac-9646-4f5a-a060-4332e178ade1"
                },
                "name": "SYS_GEN__Runbook_Substrate_baaa60e0_d980_40b5_bbd4_efd8409d50c4"
              }
            },
            {
              "description": "System action for snapshot deletion",
              "message_list": [],
              "uuid": "cf74cf25-490d-4c49-82b5-1f1113a1f679",
              "name": "action_snapshot_delete",
              "state": "ACTIVE",
              "critical": true,
              "attrs": {},
              "type": "system",
              "runbook": {
                "task_definition_list": [
                  {
                    "target_any_local_reference": {
                      "kind": "app_substrate",
                      "name": "VM1",
                      "uuid": "baaa60e0-d980-40b5-bbd4-efd8409d50c4"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "DAG",
                    "uuid": "9522d3f1-6b3a-470f-a52d-74a22f9415aa",
                    "child_tasks_local_reference_list": [
                      "@{kind=app_task; name=SYS_GEN__Nutanix_Snapshot_Delete_baaa60e0_d980_40b5_bbd4_efd8409d50c4; uuid=f9108197-7fe1-4c1e-959c-7cf0d2c5d952}"
                    ],
                    "state": "ACTIVE",
                    "attrs": {
                      "edges": "",
                      "type": "DAG"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__DAG_Substrate_baaa60e0_d980_40b5_bbd4_efd8409d50c4"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_substrate",
                      "name": "VM1",
                      "uuid": "baaa60e0-d980-40b5-bbd4-efd8409d50c4"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "VM_SNAPSHOT_DELETE_NUTANIX",
                    "uuid": "f9108197-7fe1-4c1e-959c-7cf0d2c5d952",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "operation_type": "action_snapshot_delete",
                      "type": "GENERIC_OPERATION"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__Nutanix_Snapshot_Delete_baaa60e0_d980_40b5_bbd4_efd8409d50c4"
                  }
                ],
                "description": "",
                "message_list": [],
                "uuid": "a8bc7d4d-b7fd-406c-a2bd-9b367afec1bf",
                "state": "ACTIVE",
                "variable_list": [
                  {
                    "regex": {},
                    "val_type": "STRING",
                    "is_mandatory": false,
                    "description": "",
                    "data_type": "BASE",
                    "message_list": [],
                    "uuid": "d24079f8-da2b-4ea8-97c6-1182bc5b1fbb",
                    "value": "",
                    "label": "",
                    "state": "NOT_VALIDATED",
                    "attrs": {},
                    "editables": {
                      "value": true
                    },
                    "is_hidden": false,
                    "type": "LOCAL",
                    "options": {},
                    "name": "snapshot_id"
                  },
                  {
                    "regex": {},
                    "val_type": "STRING",
                    "is_mandatory": false,
                    "description": "",
                    "data_type": "BASE",
                    "message_list": [],
                    "uuid": "decce2f8-900c-47b1-bb7f-44fb248b1dd5",
                    "value": "",
                    "label": "",
                    "state": "NOT_VALIDATED",
                    "attrs": {},
                    "editables": {
                      "value": true
                    },
                    "is_hidden": false,
                    "type": "LOCAL",
                    "options": {},
                    "name": "snapshot_group_id"
                  }
                ],
                "main_task_local_reference": {
                  "kind": "app_task",
                  "name": "SYS_GEN__DAG_Substrate_baaa60e0_d980_40b5_bbd4_efd8409d50c4",
                  "uuid": "9522d3f1-6b3a-470f-a52d-74a22f9415aa"
                },
                "name": "SYS_GEN__Runbook_Substrate_baaa60e0_d980_40b5_bbd4_efd8409d50c4"
              }
            }
          ],
          "message_list": [],
          "uuid": "baaa60e0-d980-40b5-bbd4-efd8409d50c4",
          "state": "ACTIVE",
          "readiness_probe": {
            "connection_type": "SSH",
            "retries": "5",
            "connection_protocol": "",
            "disable_readiness_probe": false,
            "address": "@@{platform.status.resources.nic_list[0].ip_endpoint_list[0].ip}@@",
            "delay_secs": "60",
            "connection_port": 22,
            "login_credential_local_reference": {
              "kind": "app_credential",
              "name": "rootCreds",
              "uuid": "a003d66c-e2df-4df0-83d7-5983bfc57a07"
            }
          },
          "editables": {
            "create_spec": {
              "resources": {
                "num_vcpus_per_socket": true,
                "num_sockets": true,
                "memory_size_mib": true,
                "serial_port_list": {}
              }
            }
          },
          "os_type": "Linux",
          "type": "AHV_VM",
          "create_spec": {
            "name": "@@{calm_application_name}@@",
            "categories": {},
            "availability_zone_reference": null,
            "backup_policy": null,
            "type": "",
            "cluster_reference": null,
            "resources": {
              "nic_list": [
                {
                  "nic_type": "NORMAL_NIC",
                  "vpc_reference": null,
                  "ip_endpoint_list": [],
                  "network_function_chain_reference": null,
                  "network_function_nic_type": "INGRESS",
                  "mac_address": "",
                  "subnet_reference": {
                    "kind": "subnet",
                    "type": "",
                    "name": "",
                    "uuid": "@@{productionNetwork.uuid}@@"
                  },
                  "type": ""
                }
              ],
              "parent_reference": null,
              "guest_tools": null,
              "num_vcpus_per_socket": 1,
              "num_sockets": 2,
              "serial_port_list": [],
              "gpu_list": [],
              "memory_size_mib": 4096,
              "power_state": "ON",
              "hardware_clock_timezone": "",
              "guest_customization": {
                "cloud_init": {
                  "meta_data": "",
                  "type": "",
                  "user_data": "#cloud-config\nhostname: @@{calm_application_name}@@\nfqdn: @@{calm_application_name}@@.@@{Service1.domainName}@@\nusers:\n  - name: ntnxcalm\n    ssh-authorized-keys:\n      - @@{Service1.sshPublicKey}@@\n    sudo: ['ALL=(ALL) NOPASSWD:ALL']\nchpasswd:\n  list: |\n    root:@@{rootCreds.secret}@@\n  expire: False\nssh_pwauth:   true\n\n# Setting up Primary IP address.\n\nruncmd:\n  - echo PRIM_UUID=$(nmcli con show | grep @@{Service1.netDeviceNameAHV}@@  | awk '{print $(NF-2)}') | sudo tee -a /etc/environment\n  - source /etc/environment\n  - nmcli con mod $PRIM_UUID ipv4.addresses @@{productionInterfaceIp}@@/24\n  - nmcli con mod $PRIM_UUID ipv4.gateway @@{productionInterfaceGateway}@@\n  - nmcli con mod $PRIM_UUID ipv4.method manual\n  - nmcli con mod $PRIM_UUID ipv4.dns \"172.17.72.3 172.17.72.4\"\n  - nmcli connection reload\n  - [systemctl, mask, cloud-init-local, cloud-init, cloud-config, cloud-final]\n  - [eject]"
                },
                "type": "",
                "sysprep": null
              },
              "type": "",
              "account_uuid": "28b0cf0a-59e5-4d3e-bef1-80bca0b8e4ff",
              "boot_config": {
                "boot_device": {
                  "type": "",
                  "disk_address": {
                    "adapter_type": "SCSI",
                    "device_index": 0,
                    "type": ""
                  }
                },
                "type": "",
                "boot_type": "",
                "mac_address": ""
              },
              "disk_list": [
                {
                  "data_source_reference": {
                    "kind": "image",
                    "type": "",
                    "name": "CentOS8.2-CALMTEMP-V2",
                    "uuid": "8417df89-6af9-4f7e-971a-2a639495a731"
                  },
                  "type": "",
                  "disk_size_mib": 0,
                  "volume_group_reference": null,
                  "device_properties": {
                    "type": "",
                    "device_type": "DISK",
                    "disk_address": {
                      "adapter_type": "SCSI",
                      "device_index": 0,
                      "type": ""
                    }
                  }
                }
              ]
            }
          },
          "variable_list": [],
          "name": "VM1"
        },
        {
          "description": "",
          "action_list": [
            {
              "description": "",
              "message_list": [],
              "uuid": "6c3600ed-cd58-4cfd-b8d2-fd7b57cef7ea",
              "name": "pre_action_create",
              "state": "ACTIVE",
              "critical": false,
              "attrs": {},
              "type": "fragment",
              "runbook": {
                "task_definition_list": [
                  {
                    "target_any_local_reference": {
                      "kind": "app_substrate",
                      "name": "VM1_2",
                      "uuid": "e16dfe9d-b588-4248-bc6a-f68e4a444fa0"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "DAG",
                    "uuid": "da1a6b30-dbf9-4106-af3c-08fe43a891f8",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "edges": "",
                      "type": ""
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "65f1cfd0_dag"
                  }
                ],
                "description": "",
                "message_list": [],
                "uuid": "410d9dd3-5c5e-4924-9a79-585db9f12e60",
                "state": "ACTIVE",
                "variable_list": [],
                "main_task_local_reference": {
                  "kind": "app_task",
                  "name": "65f1cfd0_dag",
                  "uuid": "da1a6b30-dbf9-4106-af3c-08fe43a891f8"
                },
                "name": "116a909f_runbook"
              }
            },
            {
              "description": "",
              "message_list": [],
              "uuid": "d535c2c7-39cf-4640-97f5-aefe2767c0a0",
              "name": "post_action_delete",
              "state": "ACTIVE",
              "critical": false,
              "attrs": {},
              "type": "fragment",
              "runbook": {
                "task_definition_list": [
                  {
                    "target_any_local_reference": {
                      "kind": "app_substrate",
                      "name": "VM1_2",
                      "uuid": "e16dfe9d-b588-4248-bc6a-f68e4a444fa0"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "DAG",
                    "uuid": "6d7fd181-53d9-4a2f-a346-67cac581c10c",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "edges": "",
                      "type": ""
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "8cc8843a_dag"
                  }
                ],
                "description": "",
                "message_list": [],
                "uuid": "5c88498a-a1de-4e47-89b1-f3e236dfe5e5",
                "state": "ACTIVE",
                "variable_list": [],
                "main_task_local_reference": {
                  "kind": "app_task",
                  "name": "8cc8843a_dag",
                  "uuid": "6d7fd181-53d9-4a2f-a346-67cac581c10c"
                },
                "name": "cfc99356_runbook"
              }
            },
            {
              "description": "System action for creating an application",
              "message_list": [],
              "uuid": "9d211988-627d-4888-999a-1f4ad31f8c86",
              "name": "action_create",
              "state": "ACTIVE",
              "critical": true,
              "attrs": {},
              "type": "system",
              "runbook": {
                "task_definition_list": [
                  {
                    "target_any_local_reference": {
                      "kind": "app_substrate",
                      "name": "VM1_2",
                      "uuid": "e16dfe9d-b588-4248-bc6a-f68e4a444fa0"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "DAG",
                    "uuid": "1da4e5d3-e589-454b-8e01-56f168008f60",
                    "child_tasks_local_reference_list": [
                      "@{kind=app_task; name=SYS_GEN__Nutanix_Provision_e16dfe9d_b588_4248_bc6a_f68e4a444fa0; uuid=3919df55-5477-43c8-a5b5-ae083f76a931}"
                    ],
                    "state": "ACTIVE",
                    "attrs": {
                      "edges": "",
                      "type": "DAG"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__DAG_Substrate_e16dfe9d_b588_4248_bc6a_f68e4a444fa0"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_substrate",
                      "name": "VM1_2",
                      "uuid": "e16dfe9d-b588-4248-bc6a-f68e4a444fa0"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "PROVISION_NUTANIX",
                    "uuid": "3919df55-5477-43c8-a5b5-ae083f76a931",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "name": "vm-@@{calm_array_index}@@-@@{calm_time}@@",
                      "categories": "",
                      "availability_zone_reference": null,
                      "backup_policy": null,
                      "type": "",
                      "cluster_reference": null,
                      "resources": "@{nic_list=System.Object[]; parent_reference=; guest_tools=; num_vcpus_per_socket=0; num_sockets=0; serial_port_list=System.Object[]; gpu_list=System.Object[]; memory_size_mib=0; power_state=ON; hardware_clock_timezone=; guest_customization=; type=; account_uuid=; boot_config=; disk_list=System.Object[]}"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__Nutanix_Provision_e16dfe9d_b588_4248_bc6a_f68e4a444fa0"
                  }
                ],
                "description": "",
                "message_list": [],
                "uuid": "7b60e257-f59d-4bfb-bfae-f7a7bc921102",
                "state": "ACTIVE",
                "variable_list": [],
                "main_task_local_reference": {
                  "kind": "app_task",
                  "name": "SYS_GEN__DAG_Substrate_e16dfe9d_b588_4248_bc6a_f68e4a444fa0",
                  "uuid": "1da4e5d3-e589-454b-8e01-56f168008f60"
                },
                "name": "SYS_GEN__Runbook_Substrate_e16dfe9d_b588_4248_bc6a_f68e4a444fa0"
              }
            },
            {
              "description": "System action for powering on an application",
              "message_list": [],
              "uuid": "985c451f-2d8f-497a-9f39-13b7dad14f28",
              "name": "action_poweron",
              "state": "ACTIVE",
              "critical": true,
              "attrs": {},
              "type": "system",
              "runbook": {
                "task_definition_list": [
                  {
                    "target_any_local_reference": {
                      "kind": "app_substrate",
                      "name": "VM1_2",
                      "uuid": "e16dfe9d-b588-4248-bc6a-f68e4a444fa0"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "DAG",
                    "uuid": "a560d3e9-f397-47ca-af96-422c0df95805",
                    "child_tasks_local_reference_list": [
                      "@{kind=app_task; name=SYS_GEN__Nutanix_Operation_PowerOn_e16dfe9d_b588_4248_bc6a_f68e4a444fa0; uuid=076b8401-f63a-467c-a472-43e266e44419}"
                    ],
                    "state": "ACTIVE",
                    "attrs": {
                      "edges": "",
                      "type": "DAG"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__DAG_Substrate_e16dfe9d_b588_4248_bc6a_f68e4a444fa0"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_substrate",
                      "name": "VM1_2",
                      "uuid": "e16dfe9d-b588-4248-bc6a-f68e4a444fa0"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "VMOPERATION_NUTANIX",
                    "uuid": "076b8401-f63a-467c-a472-43e266e44419",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "operation_type": "action_poweron",
                      "type": "GENERIC_OPERATION"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__Nutanix_Operation_PowerOn_e16dfe9d_b588_4248_bc6a_f68e4a444fa0"
                  }
                ],
                "description": "",
                "message_list": [],
                "uuid": "d7ff2e66-8bb5-4389-a1d6-d61d45faab51",
                "state": "ACTIVE",
                "variable_list": [],
                "main_task_local_reference": {
                  "kind": "app_task",
                  "name": "SYS_GEN__DAG_Substrate_e16dfe9d_b588_4248_bc6a_f68e4a444fa0",
                  "uuid": "a560d3e9-f397-47ca-af96-422c0df95805"
                },
                "name": "SYS_GEN__Runbook_Substrate_e16dfe9d_b588_4248_bc6a_f68e4a444fa0"
              }
            },
            {
              "description": "System action for restarting an application",
              "message_list": [],
              "uuid": "80eb200c-146c-4d14-98e0-4f6c78d7be49",
              "name": "action_restart",
              "state": "ACTIVE",
              "critical": true,
              "attrs": {},
              "type": "system",
              "runbook": {
                "task_definition_list": [
                  {
                    "target_any_local_reference": {
                      "kind": "app_substrate",
                      "name": "VM1_2",
                      "uuid": "e16dfe9d-b588-4248-bc6a-f68e4a444fa0"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "DAG",
                    "uuid": "d9c3429a-7371-4889-a3eb-f2fb5a5cd400",
                    "child_tasks_local_reference_list": [
                      "@{kind=app_task; name=SYS_GEN__Nutanix_Operation_Restart_e16dfe9d_b588_4248_bc6a_f68e4a444fa0; uuid=bab184d2-ed4a-4121-b160-1ecf4befbebe}"
                    ],
                    "state": "ACTIVE",
                    "attrs": {
                      "edges": "",
                      "type": "DAG"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__DAG_Substrate_e16dfe9d_b588_4248_bc6a_f68e4a444fa0"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_substrate",
                      "name": "VM1_2",
                      "uuid": "e16dfe9d-b588-4248-bc6a-f68e4a444fa0"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "VMOPERATION_NUTANIX",
                    "uuid": "bab184d2-ed4a-4121-b160-1ecf4befbebe",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "operation_type": "action_restart",
                      "type": "GENERIC_OPERATION"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__Nutanix_Operation_Restart_e16dfe9d_b588_4248_bc6a_f68e4a444fa0"
                  }
                ],
                "description": "",
                "message_list": [],
                "uuid": "b186a29e-0273-4e5b-add0-741185dccd25",
                "state": "ACTIVE",
                "variable_list": [],
                "main_task_local_reference": {
                  "kind": "app_task",
                  "name": "SYS_GEN__DAG_Substrate_e16dfe9d_b588_4248_bc6a_f68e4a444fa0",
                  "uuid": "d9c3429a-7371-4889-a3eb-f2fb5a5cd400"
                },
                "name": "SYS_GEN__Runbook_Substrate_e16dfe9d_b588_4248_bc6a_f68e4a444fa0"
              }
            },
            {
              "description": "System action for suspending an application",
              "message_list": [],
              "uuid": "36641193-422b-4c8c-bc29-516eae1149f8",
              "name": "action_suspend",
              "state": "ACTIVE",
              "critical": true,
              "attrs": {},
              "type": "system",
              "runbook": {
                "task_definition_list": [
                  {
                    "target_any_local_reference": {
                      "kind": "app_substrate",
                      "name": "VM1_2",
                      "uuid": "e16dfe9d-b588-4248-bc6a-f68e4a444fa0"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "DAG",
                    "uuid": "00ae3938-d61f-42e1-9254-33ad8eee9e37",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "edges": "",
                      "type": "DAG"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__DAG_Substrate_e16dfe9d_b588_4248_bc6a_f68e4a444fa0"
                  }
                ],
                "description": "",
                "message_list": [],
                "uuid": "5eadb798-79d8-4ab3-b3b1-028f97aeec8b",
                "state": "ACTIVE",
                "variable_list": [],
                "main_task_local_reference": {
                  "kind": "app_task",
                  "name": "SYS_GEN__DAG_Substrate_e16dfe9d_b588_4248_bc6a_f68e4a444fa0",
                  "uuid": "00ae3938-d61f-42e1-9254-33ad8eee9e37"
                },
                "name": "SYS_GEN__Runbook_Substrate_e16dfe9d_b588_4248_bc6a_f68e4a444fa0"
              }
            },
            {
              "description": "System action for modifying an application",
              "message_list": [],
              "uuid": "623d1334-cd6b-4958-9671-63b8e6210497",
              "name": "action_modify",
              "state": "ACTIVE",
              "critical": true,
              "attrs": {},
              "type": "system",
              "runbook": {
                "task_definition_list": [
                  {
                    "target_any_local_reference": {
                      "kind": "app_substrate",
                      "name": "VM1_2",
                      "uuid": "e16dfe9d-b588-4248-bc6a-f68e4a444fa0"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "DAG",
                    "uuid": "2c4c49f3-982f-41ec-9f32-749e63a408f5",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "edges": "",
                      "type": "DAG"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__DAG_Substrate_e16dfe9d_b588_4248_bc6a_f68e4a444fa0"
                  }
                ],
                "description": "",
                "message_list": [],
                "uuid": "abe20716-b210-4f2c-861c-af0ed1f6a27c",
                "state": "ACTIVE",
                "variable_list": [],
                "main_task_local_reference": {
                  "kind": "app_task",
                  "name": "SYS_GEN__DAG_Substrate_e16dfe9d_b588_4248_bc6a_f68e4a444fa0",
                  "uuid": "2c4c49f3-982f-41ec-9f32-749e63a408f5"
                },
                "name": "SYS_GEN__Runbook_Substrate_e16dfe9d_b588_4248_bc6a_f68e4a444fa0"
              }
            },
            {
              "description": "System action for powering off an application",
              "message_list": [],
              "uuid": "90e58fb5-8a3c-4651-8b39-4a046dc87a18",
              "name": "action_poweroff",
              "state": "ACTIVE",
              "critical": true,
              "attrs": {},
              "type": "system",
              "runbook": {
                "task_definition_list": [
                  {
                    "target_any_local_reference": {
                      "kind": "app_substrate",
                      "name": "VM1_2",
                      "uuid": "e16dfe9d-b588-4248-bc6a-f68e4a444fa0"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "DAG",
                    "uuid": "e6b96db4-29c7-4945-9f9d-13196850bd4a",
                    "child_tasks_local_reference_list": [
                      "@{kind=app_task; name=SYS_GEN__Nutanix_Operation_PowerOff_e16dfe9d_b588_4248_bc6a_f68e4a444fa0; uuid=891c2705-a8d4-4295-939d-f23e30ceb553}"
                    ],
                    "state": "ACTIVE",
                    "attrs": {
                      "edges": "",
                      "type": "DAG"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__DAG_Substrate_e16dfe9d_b588_4248_bc6a_f68e4a444fa0"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_substrate",
                      "name": "VM1_2",
                      "uuid": "e16dfe9d-b588-4248-bc6a-f68e4a444fa0"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "VMOPERATION_NUTANIX",
                    "uuid": "891c2705-a8d4-4295-939d-f23e30ceb553",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "operation_type": "action_poweroff",
                      "type": "GENERIC_OPERATION"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__Nutanix_Operation_PowerOff_e16dfe9d_b588_4248_bc6a_f68e4a444fa0"
                  }
                ],
                "description": "",
                "message_list": [],
                "uuid": "890c0616-8bf0-4126-8041-6c756153839f",
                "state": "ACTIVE",
                "variable_list": [],
                "main_task_local_reference": {
                  "kind": "app_task",
                  "name": "SYS_GEN__DAG_Substrate_e16dfe9d_b588_4248_bc6a_f68e4a444fa0",
                  "uuid": "e6b96db4-29c7-4945-9f9d-13196850bd4a"
                },
                "name": "SYS_GEN__Runbook_Substrate_e16dfe9d_b588_4248_bc6a_f68e4a444fa0"
              }
            },
            {
              "description": "System action for deleting an application. Deletes created VMs as well",
              "message_list": [],
              "uuid": "8c2f16b3-23b4-4df2-b93e-da46f5f07320",
              "name": "action_delete",
              "state": "ACTIVE",
              "critical": true,
              "attrs": {},
              "type": "system",
              "runbook": {
                "task_definition_list": [
                  {
                    "target_any_local_reference": {
                      "kind": "app_substrate",
                      "name": "VM1_2",
                      "uuid": "e16dfe9d-b588-4248-bc6a-f68e4a444fa0"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "DAG",
                    "uuid": "f10f55c3-c8cb-4dbf-88d9-b522a3984975",
                    "child_tasks_local_reference_list": [
                      "@{kind=app_task; name=SYS_GEN__Nutanix_Delete_e16dfe9d_b588_4248_bc6a_f68e4a444fa0; uuid=c18ba7bc-7bef-4cb2-a8a8-5138c3b4b013}"
                    ],
                    "state": "ACTIVE",
                    "attrs": {
                      "edges": "",
                      "type": "DAG"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__DAG_Substrate_e16dfe9d_b588_4248_bc6a_f68e4a444fa0"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_substrate",
                      "name": "VM1_2",
                      "uuid": "e16dfe9d-b588-4248-bc6a-f68e4a444fa0"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "DELETE_NUTANIX",
                    "uuid": "c18ba7bc-7bef-4cb2-a8a8-5138c3b4b013",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "type": ""
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__Nutanix_Delete_e16dfe9d_b588_4248_bc6a_f68e4a444fa0"
                  }
                ],
                "description": "",
                "message_list": [],
                "uuid": "6c1277a6-bf60-45d0-8018-63d4e83ac6da",
                "state": "ACTIVE",
                "variable_list": [],
                "main_task_local_reference": {
                  "kind": "app_task",
                  "name": "SYS_GEN__DAG_Substrate_e16dfe9d_b588_4248_bc6a_f68e4a444fa0",
                  "uuid": "f10f55c3-c8cb-4dbf-88d9-b522a3984975"
                },
                "name": "SYS_GEN__Runbook_Substrate_e16dfe9d_b588_4248_bc6a_f68e4a444fa0"
              }
            },
            {
              "description": "System action for deleting an application. Does not delete created VMs",
              "message_list": [],
              "uuid": "52ace835-faca-4735-85bf-b5db5039f249",
              "name": "action_soft_delete",
              "state": "ACTIVE",
              "critical": true,
              "attrs": {},
              "type": "system",
              "runbook": {
                "task_definition_list": [
                  {
                    "target_any_local_reference": {
                      "kind": "app_substrate",
                      "name": "VM1_2",
                      "uuid": "e16dfe9d-b588-4248-bc6a-f68e4a444fa0"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "DAG",
                    "uuid": "91c68174-f3f1-4758-95a6-dcca08d4d3b2",
                    "child_tasks_local_reference_list": [
                      "@{kind=app_task; name=SYS_GEN__Nutanix_Soft_Delete_e16dfe9d_b588_4248_bc6a_f68e4a444fa0; uuid=b1c08646-92e6-4b53-ad02-fc705344d375}"
                    ],
                    "state": "ACTIVE",
                    "attrs": {
                      "edges": "",
                      "type": "DAG"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__DAG_Substrate_e16dfe9d_b588_4248_bc6a_f68e4a444fa0"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_substrate",
                      "name": "VM1_2",
                      "uuid": "e16dfe9d-b588-4248-bc6a-f68e4a444fa0"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "SOFT_DELETE_NUTANIX",
                    "uuid": "b1c08646-92e6-4b53-ad02-fc705344d375",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "type": ""
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__Nutanix_Soft_Delete_e16dfe9d_b588_4248_bc6a_f68e4a444fa0"
                  }
                ],
                "description": "",
                "message_list": [],
                "uuid": "8c810e7d-b237-4cb9-bca2-8e0fd88702ed",
                "state": "ACTIVE",
                "variable_list": [],
                "main_task_local_reference": {
                  "kind": "app_task",
                  "name": "SYS_GEN__DAG_Substrate_e16dfe9d_b588_4248_bc6a_f68e4a444fa0",
                  "uuid": "91c68174-f3f1-4758-95a6-dcca08d4d3b2"
                },
                "name": "SYS_GEN__Runbook_Substrate_e16dfe9d_b588_4248_bc6a_f68e4a444fa0"
              }
            },
            {
              "description": "System action for snapshot deletion",
              "message_list": [],
              "uuid": "e858a17e-a0b9-4273-899c-c80a40ed483b",
              "name": "action_snapshot_delete",
              "state": "ACTIVE",
              "critical": true,
              "attrs": {},
              "type": "system",
              "runbook": {
                "task_definition_list": [
                  {
                    "target_any_local_reference": {
                      "kind": "app_substrate",
                      "name": "VM1_2",
                      "uuid": "e16dfe9d-b588-4248-bc6a-f68e4a444fa0"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "DAG",
                    "uuid": "ab318039-2b0a-4297-a57e-b88895366052",
                    "child_tasks_local_reference_list": [
                      "@{kind=app_task; name=SYS_GEN__Nutanix_Snapshot_Delete_e16dfe9d_b588_4248_bc6a_f68e4a444fa0; uuid=07c44c63-b688-411f-9680-273648edac57}"
                    ],
                    "state": "ACTIVE",
                    "attrs": {
                      "edges": "",
                      "type": "DAG"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__DAG_Substrate_e16dfe9d_b588_4248_bc6a_f68e4a444fa0"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_substrate",
                      "name": "VM1_2",
                      "uuid": "e16dfe9d-b588-4248-bc6a-f68e4a444fa0"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "VM_SNAPSHOT_DELETE_NUTANIX",
                    "uuid": "07c44c63-b688-411f-9680-273648edac57",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "operation_type": "action_snapshot_delete",
                      "type": "GENERIC_OPERATION"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__Nutanix_Snapshot_Delete_e16dfe9d_b588_4248_bc6a_f68e4a444fa0"
                  }
                ],
                "description": "",
                "message_list": [],
                "uuid": "ae2b2689-bb5b-4489-9460-4379cbca0e66",
                "state": "ACTIVE",
                "variable_list": [
                  {
                    "regex": {},
                    "val_type": "STRING",
                    "is_mandatory": false,
                    "description": "",
                    "data_type": "BASE",
                    "message_list": [],
                    "uuid": "e1d0f172-c023-4faa-9a4c-f43de8c527de",
                    "value": "",
                    "label": "",
                    "state": "NOT_VALIDATED",
                    "attrs": {},
                    "editables": {
                      "value": true
                    },
                    "is_hidden": false,
                    "type": "LOCAL",
                    "options": {},
                    "name": "snapshot_id"
                  },
                  {
                    "regex": {},
                    "val_type": "STRING",
                    "is_mandatory": false,
                    "description": "",
                    "data_type": "BASE",
                    "message_list": [],
                    "uuid": "b38b73a1-8d3d-4cb9-a003-661b92be0e12",
                    "value": "",
                    "label": "",
                    "state": "NOT_VALIDATED",
                    "attrs": {},
                    "editables": {
                      "value": true
                    },
                    "is_hidden": false,
                    "type": "LOCAL",
                    "options": {},
                    "name": "snapshot_group_id"
                  }
                ],
                "main_task_local_reference": {
                  "kind": "app_task",
                  "name": "SYS_GEN__DAG_Substrate_e16dfe9d_b588_4248_bc6a_f68e4a444fa0",
                  "uuid": "ab318039-2b0a-4297-a57e-b88895366052"
                },
                "name": "SYS_GEN__Runbook_Substrate_e16dfe9d_b588_4248_bc6a_f68e4a444fa0"
              }
            }
          ],
          "message_list": [],
          "uuid": "e16dfe9d-b588-4248-bc6a-f68e4a444fa0",
          "state": "DRAFT",
          "readiness_probe": {
            "connection_type": "SSH",
            "retries": "5",
            "connection_protocol": "",
            "disable_readiness_probe": true,
            "address": "",
            "delay_secs": "0",
            "connection_port": 22,
            "login_credential_local_reference": {
              "kind": "app_credential",
              "name": "rootCreds",
              "uuid": "a003d66c-e2df-4df0-83d7-5983bfc57a07"
            }
          },
          "editables": {},
          "os_type": "Linux",
          "type": "AHV_VM",
          "create_spec": {
            "name": "vm-@@{calm_array_index}@@-@@{calm_time}@@",
            "categories": {},
            "availability_zone_reference": null,
            "backup_policy": null,
            "type": "",
            "cluster_reference": null,
            "resources": {
              "nic_list": [],
              "parent_reference": null,
              "guest_tools": null,
              "num_vcpus_per_socket": 0,
              "num_sockets": 0,
              "serial_port_list": [],
              "gpu_list": [],
              "memory_size_mib": 0,
              "power_state": "ON",
              "hardware_clock_timezone": "",
              "guest_customization": null,
              "type": "",
              "account_uuid": "",
              "boot_config": {
                "boot_device": {
                  "type": "",
                  "disk_address": {
                    "adapter_type": "SCSI",
                    "device_index": 0,
                    "type": ""
                  }
                },
                "type": "",
                "boot_type": "LEGACY",
                "mac_address": ""
              },
              "disk_list": [
                {
                  "data_source_reference": null,
                  "type": "",
                  "disk_size_mib": 0,
                  "volume_group_reference": null,
                  "device_properties": {
                    "type": "",
                    "device_type": "DISK",
                    "disk_address": {
                      "adapter_type": "SCSI",
                      "device_index": 0,
                      "type": ""
                    }
                  }
                }
              ]
            }
          },
          "variable_list": [],
          "name": "VM1_2"
        }
      ],
      "credential_definition_list": [
        {
          "username": "ntnxCalm",
          "description": "",
          "state": "ACTIVE",
          "uuid": "b12840ba-7b2c-40b4-adce-cb4507cbb1a1",
          "secret": {
            "attrs": {
              "is_secret_modified": false,
              "secret_reference": {}
            }
          },
          "editables": {},
          "cred_class": "static",
          "type": "KEY",
          "name": "ntnxCalmCred"
        },
        {
          "username": "root",
          "description": "",
          "state": "ACTIVE",
          "uuid": "a003d66c-e2df-4df0-83d7-5983bfc57a07",
          "secret": {
            "attrs": {
              "is_secret_modified": false,
              "secret_reference": {}
            }
          },
          "editables": {},
          "cred_class": "static",
          "type": "PASSWORD",
          "name": "rootCreds"
        },
        {
          "username": "serveradmin",
          "description": "",
          "state": "ACTIVE",
          "uuid": "311ae096-624b-4fa0-912c-7241edb84a87",
          "secret": {
            "attrs": {
              "is_secret_modified": false,
              "secret_reference": {}
            }
          },
          "editables": {},
          "cred_class": "static",
          "type": "PASSWORD",
          "name": "serverAdmin"
        },
        {
          "username": "pnuds\\APPCAM01",
          "description": "",
          "state": "ACTIVE",
          "uuid": "bd28b06b-5ac5-4e43-8d3d-3c302f64e47f",
          "secret": {
            "attrs": {
              "is_secret_modified": false,
              "secret_reference": {}
            }
          },
          "editables": {},
          "cred_class": "static",
          "type": "PASSWORD",
          "name": "domainAdminCreds"
        }
      ],
      "type": "USER",
      "app_profile_list": [
        {
          "deployment_create_list": [
            {
              "description": "",
              "action_list": [
                {
                  "description": "System action for creating an application",
                  "message_list": [],
                  "uuid": "7569964f-a292-44d9-a034-2b1c0e09e890",
                  "name": "action_create",
                  "state": "ACTIVE",
                  "critical": true,
                  "attrs": {},
                  "type": "system",
                  "runbook": {
                    "task_definition_list": [
                      "@{target_any_local_reference=; retries=0; description=; type=DAG; uuid=9ddd0308-4acd-4f42-969d-efdf6cf5b6cb; child_tasks_local_reference_list=System.Object[]; state=ACTIVE; attrs=; timeout_secs=0; inherit_target=False; message_list=System.Object[]; variable_list=System.Object[]; name=SYS_GEN__Composite_DAG_Deployment_cbbf3c4f_3150_49b8_856e_0854c8e89e71}",
                      "@{target_any_local_reference=; retries=0; description=; type=CREATE_DEPLOYMENT_ELEMENT; uuid=af2b6cfe-b382-4d5e-be63-90fea8d83aa8; child_tasks_local_reference_list=System.Object[]; state=ACTIVE; attrs=; timeout_secs=0; inherit_target=False; message_list=System.Object[]; variable_list=System.Object[]; name=SYS_GEN__DE_Provision_cbbf3c4f_3150_49b8_856e_0854c8e89e71}",
                      "@{target_any_local_reference=; retries=0; description=; type=CALL_RUNBOOK; uuid=76c4920a-a821-4f27-94ce-324beaed7504; child_tasks_local_reference_list=System.Object[]; state=ACTIVE; attrs=; timeout_secs=0; inherit_target=False; message_list=System.Object[]; variable_list=System.Object[]; name=SYS_GEN__pre_create_CRb_Substrate_baaa60e0_d980_40b5_bbd4_efd8409d50c4}",
                      "@{target_any_local_reference=; retries=0; description=; type=CALL_RUNBOOK; uuid=d5a1c6ad-9478-4db9-84f5-ba0c3875cc02; child_tasks_local_reference_list=System.Object[]; state=ACTIVE; attrs=; timeout_secs=0; inherit_target=False; message_list=System.Object[]; variable_list=System.Object[]; name=SYS_GEN__create_CRb_Substrate_baaa60e0_d980_40b5_bbd4_efd8409d50c4}",
                      "@{target_any_local_reference=; retries=0; description=; type=CALL_RUNBOOK; uuid=f1ae856d-5459-47cc-94da-0f6441e2321e; child_tasks_local_reference_list=System.Object[]; state=ACTIVE; attrs=; timeout_secs=0; inherit_target=False; message_list=System.Object[]; variable_list=System.Object[]; name=SYS_GEN__install_CRb_Package_5322edb8_6b66_4655_942b_1d26c07549d7}",
                      "@{target_any_local_reference=; retries=0; description=; type=CALL_RUNBOOK; uuid=46977f67-9dba-4886-a9f5-ec3382bc3901; child_tasks_local_reference_list=System.Object[]; state=ACTIVE; attrs=; timeout_secs=0; inherit_target=False; message_list=System.Object[]; variable_list=System.Object[]; name=SYS_GEN__create_CRb_Service_b2466bcd_4fa1_479c_b5c8_5e3c80832769}",
                      "@{target_any_local_reference=; retries=0; description=; type=CALL_RUNBOOK; uuid=a5e36c41-9ad4-4f04-b328-4c63ee233138; child_tasks_local_reference_list=System.Object[]; state=ACTIVE; attrs=; timeout_secs=0; inherit_target=False; message_list=System.Object[]; variable_list=System.Object[]; name=SYS_GEN__start_CRb_Service_b2466bcd_4fa1_479c_b5c8_5e3c80832769}"
                    ],
                    "description": "",
                    "message_list": [],
                    "uuid": "07b6f746-0b04-489c-b038-743639d943a7",
                    "state": "ACTIVE",
                    "variable_list": [],
                    "main_task_local_reference": {
                      "kind": "app_task",
                      "name": "SYS_GEN__Composite_DAG_Deployment_cbbf3c4f_3150_49b8_856e_0854c8e89e71",
                      "uuid": "9ddd0308-4acd-4f42-969d-efdf6cf5b6cb"
                    },
                    "name": "SYS_GEN__Runbook_Deployment_cbbf3c4f_3150_49b8_856e_0854c8e89e71"
                  }
                },
                {
                  "description": "System action for starting an application",
                  "message_list": [],
                  "uuid": "5de386e1-82d7-42c5-a02f-ff54f2fcfc68",
                  "name": "action_start",
                  "state": "ACTIVE",
                  "critical": true,
                  "attrs": {},
                  "type": "system",
                  "runbook": {
                    "task_definition_list": [
                      "@{target_any_local_reference=; retries=0; description=; type=DAG; uuid=67866719-b7b5-4c63-a396-e5d1f2eb488c; child_tasks_local_reference_list=System.Object[]; state=ACTIVE; attrs=; timeout_secs=0; inherit_target=False; message_list=System.Object[]; variable_list=System.Object[]; name=SYS_GEN__Composite_DAG_Deployment_cbbf3c4f_3150_49b8_856e_0854c8e89e71}",
                      "@{target_any_local_reference=; retries=0; description=; type=CALL_RUNBOOK; uuid=c528fb1c-2dfd-4683-b17b-4be97430c3c6; child_tasks_local_reference_list=System.Object[]; state=ACTIVE; attrs=; timeout_secs=0; inherit_target=False; message_list=System.Object[]; variable_list=System.Object[]; name=SYS_GEN__start_CRb_Substrate_baaa60e0_d980_40b5_bbd4_efd8409d50c4}",
                      "@{target_any_local_reference=; retries=0; description=; type=CALL_RUNBOOK; uuid=08cdf74e-fb5b-42b3-9fca-4fe0ba171d32; child_tasks_local_reference_list=System.Object[]; state=ACTIVE; attrs=; timeout_secs=0; inherit_target=False; message_list=System.Object[]; variable_list=System.Object[]; name=SYS_GEN__start_CRb_Service_b2466bcd_4fa1_479c_b5c8_5e3c80832769}"
                    ],
                    "description": "",
                    "message_list": [],
                    "uuid": "8443ea7b-29a6-4da7-921a-a2fcc9299d56",
                    "state": "ACTIVE",
                    "variable_list": [],
                    "main_task_local_reference": {
                      "kind": "app_task",
                      "name": "SYS_GEN__Composite_DAG_Deployment_cbbf3c4f_3150_49b8_856e_0854c8e89e71",
                      "uuid": "67866719-b7b5-4c63-a396-e5d1f2eb488c"
                    },
                    "name": "SYS_GEN__Runbook_Deployment_cbbf3c4f_3150_49b8_856e_0854c8e89e71"
                  }
                },
                {
                  "description": "System action for restarting an application",
                  "message_list": [],
                  "uuid": "ef4eaf43-bd66-4b78-8320-64b1a1f987e0",
                  "name": "action_restart",
                  "state": "ACTIVE",
                  "critical": true,
                  "attrs": {},
                  "type": "system",
                  "runbook": {
                    "task_definition_list": [
                      "@{target_any_local_reference=; retries=0; description=; type=DAG; uuid=2ce450d8-6f97-4aad-b8a4-fb319e8cfaa8; child_tasks_local_reference_list=System.Object[]; state=ACTIVE; attrs=; timeout_secs=0; inherit_target=False; message_list=System.Object[]; variable_list=System.Object[]; name=SYS_GEN__Composite_DAG_Deployment_cbbf3c4f_3150_49b8_856e_0854c8e89e71}",
                      "@{target_any_local_reference=; retries=0; description=; type=CALL_RUNBOOK; uuid=c0713da7-3f93-4625-90fd-3501570b13ce; child_tasks_local_reference_list=System.Object[]; state=ACTIVE; attrs=; timeout_secs=0; inherit_target=False; message_list=System.Object[]; variable_list=System.Object[]; name=SYS_GEN__restart_CRb_Substrate_baaa60e0_d980_40b5_bbd4_efd8409d50c4}",
                      "@{target_any_local_reference=; retries=0; description=; type=CALL_RUNBOOK; uuid=3348b8c1-5961-483b-9259-d49d8e8c0268; child_tasks_local_reference_list=System.Object[]; state=ACTIVE; attrs=; timeout_secs=0; inherit_target=False; message_list=System.Object[]; variable_list=System.Object[]; name=SYS_GEN__restart_CRb_Service_b2466bcd_4fa1_479c_b5c8_5e3c80832769}"
                    ],
                    "description": "",
                    "message_list": [],
                    "uuid": "d1735bc1-dcfb-473c-88f7-1341d1d8705f",
                    "state": "ACTIVE",
                    "variable_list": [],
                    "main_task_local_reference": {
                      "kind": "app_task",
                      "name": "SYS_GEN__Composite_DAG_Deployment_cbbf3c4f_3150_49b8_856e_0854c8e89e71",
                      "uuid": "2ce450d8-6f97-4aad-b8a4-fb319e8cfaa8"
                    },
                    "name": "SYS_GEN__Runbook_Deployment_cbbf3c4f_3150_49b8_856e_0854c8e89e71"
                  }
                },
                {
                  "description": "System action for stopping an application",
                  "message_list": [],
                  "uuid": "1dddf384-5c7e-4b81-8dda-76cb2e52987d",
                  "name": "action_stop",
                  "state": "ACTIVE",
                  "critical": true,
                  "attrs": {},
                  "type": "system",
                  "runbook": {
                    "task_definition_list": [
                      "@{target_any_local_reference=; retries=0; description=; type=DAG; uuid=049251ef-07ee-4027-8124-40aecb07ac74; child_tasks_local_reference_list=System.Object[]; state=ACTIVE; attrs=; timeout_secs=0; inherit_target=False; message_list=System.Object[]; variable_list=System.Object[]; name=SYS_GEN__Composite_DAG_Deployment_cbbf3c4f_3150_49b8_856e_0854c8e89e71}",
                      "@{target_any_local_reference=; retries=0; description=; type=CALL_RUNBOOK; uuid=d25cd0dd-8077-4506-9067-1419ea9d41c3; child_tasks_local_reference_list=System.Object[]; state=ACTIVE; attrs=; timeout_secs=0; inherit_target=False; message_list=System.Object[]; variable_list=System.Object[]; name=SYS_GEN__stop_CRb_Service_b2466bcd_4fa1_479c_b5c8_5e3c80832769}",
                      "@{target_any_local_reference=; retries=0; description=; type=CALL_RUNBOOK; uuid=e959b994-a3bc-418b-8e5c-2bd9ff076032; child_tasks_local_reference_list=System.Object[]; state=ACTIVE; attrs=; timeout_secs=0; inherit_target=False; message_list=System.Object[]; variable_list=System.Object[]; name=SYS_GEN__stop_CRb_Substrate_baaa60e0_d980_40b5_bbd4_efd8409d50c4}"
                    ],
                    "description": "",
                    "message_list": [],
                    "uuid": "d8923d15-641c-4e9d-97d0-c4f37bb363e3",
                    "state": "ACTIVE",
                    "variable_list": [],
                    "main_task_local_reference": {
                      "kind": "app_task",
                      "name": "SYS_GEN__Composite_DAG_Deployment_cbbf3c4f_3150_49b8_856e_0854c8e89e71",
                      "uuid": "049251ef-07ee-4027-8124-40aecb07ac74"
                    },
                    "name": "SYS_GEN__Runbook_Deployment_cbbf3c4f_3150_49b8_856e_0854c8e89e71"
                  }
                },
                {
                  "description": "System action for deleting an application. Deletes created VMs as well",
                  "message_list": [],
                  "uuid": "4056de78-8595-48cd-ac24-19bb328be79c",
                  "name": "action_delete",
                  "state": "ACTIVE",
                  "critical": true,
                  "attrs": {},
                  "type": "system",
                  "runbook": {
                    "task_definition_list": [
                      "@{target_any_local_reference=; retries=0; description=; type=DAG; uuid=641fd892-e7c8-47ef-8c72-a33c58867a39; child_tasks_local_reference_list=System.Object[]; state=ACTIVE; attrs=; timeout_secs=0; inherit_target=False; message_list=System.Object[]; variable_list=System.Object[]; name=SYS_GEN__Composite_DAG_Deployment_cbbf3c4f_3150_49b8_856e_0854c8e89e71}",
                      "@{target_any_local_reference=; retries=0; description=; type=CALL_RUNBOOK; uuid=a0d08f76-4503-4154-9505-15471b36a073; child_tasks_local_reference_list=System.Object[]; state=ACTIVE; attrs=; timeout_secs=0; inherit_target=False; message_list=System.Object[]; variable_list=System.Object[]; name=SYS_GEN__stop_CRb_Service_b2466bcd_4fa1_479c_b5c8_5e3c80832769}",
                      "@{target_any_local_reference=; retries=0; description=; type=CALL_RUNBOOK; uuid=ccaff5ca-6558-4264-bbfe-97d0257735e6; child_tasks_local_reference_list=System.Object[]; state=ACTIVE; attrs=; timeout_secs=0; inherit_target=False; message_list=System.Object[]; variable_list=System.Object[]; name=SYS_GEN__delete_CRb_Service_b2466bcd_4fa1_479c_b5c8_5e3c80832769}",
                      "@{target_any_local_reference=; retries=0; description=; type=CALL_RUNBOOK; uuid=0e9b0f69-0a81-4619-8d75-5c940a0618ce; child_tasks_local_reference_list=System.Object[]; state=ACTIVE; attrs=; timeout_secs=0; inherit_target=False; message_list=System.Object[]; variable_list=System.Object[]; name=SYS_GEN__uninstall_CRb_Package_5322edb8_6b66_4655_942b_1d26c07549d7}",
                      "@{target_any_local_reference=; retries=0; description=; type=CALL_RUNBOOK; uuid=b88b164d-ee51-4704-9879-16449b562140; child_tasks_local_reference_list=System.Object[]; state=ACTIVE; attrs=; timeout_secs=0; inherit_target=False; message_list=System.Object[]; variable_list=System.Object[]; name=SYS_GEN__delete_CRb_Substrate_baaa60e0_d980_40b5_bbd4_efd8409d50c4}",
                      "@{target_any_local_reference=; retries=0; description=; type=CALL_RUNBOOK; uuid=f17f50e2-21c6-4831-889a-1eede1a47775; child_tasks_local_reference_list=System.Object[]; state=ACTIVE; attrs=; timeout_secs=0; inherit_target=False; message_list=System.Object[]; variable_list=System.Object[]; name=SYS_GEN__post_delete_CRb_Substrate_baaa60e0_d980_40b5_bbd4_efd8409d50c4}",
                      "@{target_any_local_reference=; retries=0; description=; type=DELETE_DEPLOYMENT_ELEMENT; uuid=a00d56d5-a759-438a-9e5c-f6eb4027cf01; child_tasks_local_reference_list=System.Object[]; state=ACTIVE; attrs=; timeout_secs=0; inherit_target=False; message_list=System.Object[]; variable_list=System.Object[]; name=SYS_GEN__DE_Delete_cbbf3c4f_3150_49b8_856e_0854c8e89e71}"
                    ],
                    "description": "",
                    "message_list": [],
                    "uuid": "dc71aca7-cb55-40d0-9642-ac859f63b807",
                    "state": "ACTIVE",
                    "variable_list": [],
                    "main_task_local_reference": {
                      "kind": "app_task",
                      "name": "SYS_GEN__Composite_DAG_Deployment_cbbf3c4f_3150_49b8_856e_0854c8e89e71",
                      "uuid": "641fd892-e7c8-47ef-8c72-a33c58867a39"
                    },
                    "name": "SYS_GEN__Runbook_Deployment_cbbf3c4f_3150_49b8_856e_0854c8e89e71"
                  }
                },
                {
                  "description": "System action for scaleout",
                  "message_list": [],
                  "uuid": "ed638c55-c8c5-4ed7-a9a6-a780c631f99f",
                  "name": "action_scaleout",
                  "state": "ACTIVE",
                  "critical": true,
                  "attrs": {},
                  "type": "system",
                  "runbook": {
                    "task_definition_list": [
                      "@{target_any_local_reference=; retries=0; description=; type=DAG; uuid=66398b6d-52d3-49ab-b611-fc1a9f09e711; child_tasks_local_reference_list=System.Object[]; state=ACTIVE; attrs=; timeout_secs=0; inherit_target=False; message_list=System.Object[]; variable_list=System.Object[]; name=SYS_GEN__Composite_DAG_Deployment_cbbf3c4f_3150_49b8_856e_0854c8e89e71}",
                      "@{target_any_local_reference=; retries=0; description=; type=SCALING; uuid=02d5682a-36e4-4b8f-bbd4-d06a2931727c; child_tasks_local_reference_list=System.Object[]; state=ACTIVE; attrs=; timeout_secs=0; inherit_target=False; message_list=System.Object[]; variable_list=System.Object[]; name=SYS_GEN__Deployment_Scaleout_cbbf3c4f_3150_49b8_856e_0854c8e89e71}"
                    ],
                    "description": "",
                    "message_list": [],
                    "uuid": "f010fe3c-258a-47ad-a7a6-f55d61de982c",
                    "state": "ACTIVE",
                    "variable_list": [
                      "@{regex=; val_type=STRING; is_mandatory=False; description=; data_type=BASE; message_list=System.Object[]; uuid=3f3745e2-9b24-4694-b211-1f938d9d00fc; value=0; label=; state=NOT_VALIDATED; attrs=; editables=; is_hidden=False; type=LOCAL; options=; name=scaling_count}"
                    ],
                    "main_task_local_reference": {
                      "kind": "app_task",
                      "name": "SYS_GEN__Composite_DAG_Deployment_cbbf3c4f_3150_49b8_856e_0854c8e89e71",
                      "uuid": "66398b6d-52d3-49ab-b611-fc1a9f09e711"
                    },
                    "name": "SYS_GEN__Runbook_Deployment_cbbf3c4f_3150_49b8_856e_0854c8e89e71"
                  }
                },
                {
                  "description": "System action for scalein",
                  "message_list": [],
                  "uuid": "a0c3c94c-37d1-40c6-af04-2130046ac490",
                  "name": "action_scalein",
                  "state": "ACTIVE",
                  "critical": true,
                  "attrs": {},
                  "type": "system",
                  "runbook": {
                    "task_definition_list": [
                      "@{target_any_local_reference=; retries=0; description=; type=DAG; uuid=21591b66-bcda-4820-93cc-5b634f41fb18; child_tasks_local_reference_list=System.Object[]; state=ACTIVE; attrs=; timeout_secs=0; inherit_target=False; message_list=System.Object[]; variable_list=System.Object[]; name=SYS_GEN__Composite_DAG_Deployment_cbbf3c4f_3150_49b8_856e_0854c8e89e71}",
                      "@{target_any_local_reference=; retries=0; description=; type=SCALING; uuid=570a8108-fe82-48a3-8692-1725bd9c76f3; child_tasks_local_reference_list=System.Object[]; state=ACTIVE; attrs=; timeout_secs=0; inherit_target=False; message_list=System.Object[]; variable_list=System.Object[]; name=SYS_GEN__Deployment_Scalein_cbbf3c4f_3150_49b8_856e_0854c8e89e71}"
                    ],
                    "description": "",
                    "message_list": [],
                    "uuid": "ed057300-a4eb-4bd9-8684-c4dc3d6981e4",
                    "state": "ACTIVE",
                    "variable_list": [
                      "@{regex=; val_type=STRING; is_mandatory=False; description=; data_type=BASE; message_list=System.Object[]; uuid=747b5b10-157c-497f-932b-05c68b9742e7; value=0; label=; state=NOT_VALIDATED; attrs=; editables=; is_hidden=False; type=LOCAL; options=; name=scaling_count}"
                    ],
                    "main_task_local_reference": {
                      "kind": "app_task",
                      "name": "SYS_GEN__Composite_DAG_Deployment_cbbf3c4f_3150_49b8_856e_0854c8e89e71",
                      "uuid": "21591b66-bcda-4820-93cc-5b634f41fb18"
                    },
                    "name": "SYS_GEN__Runbook_Deployment_cbbf3c4f_3150_49b8_856e_0854c8e89e71"
                  }
                },
                {
                  "description": "System action for deleting an application. Does not delete created VMs",
                  "message_list": [],
                  "uuid": "2ac6efaa-68b8-4b6e-8490-2b3a904f4a09",
                  "name": "action_soft_delete",
                  "state": "ACTIVE",
                  "critical": true,
                  "attrs": {},
                  "type": "system",
                  "runbook": {
                    "task_definition_list": [
                      "@{target_any_local_reference=; retries=0; description=; type=DAG; uuid=66f890d8-00cb-4715-9dea-7e17d7e16387; child_tasks_local_reference_list=System.Object[]; state=ACTIVE; attrs=; timeout_secs=0; inherit_target=False; message_list=System.Object[]; variable_list=System.Object[]; name=SYS_GEN__Composite_DAG_Deployment_cbbf3c4f_3150_49b8_856e_0854c8e89e71}",
                      "@{target_any_local_reference=; retries=0; description=; type=CALL_RUNBOOK; uuid=59124a36-64f8-42ee-86a2-d57586db8799; child_tasks_local_reference_list=System.Object[]; state=ACTIVE; attrs=; timeout_secs=0; inherit_target=False; message_list=System.Object[]; variable_list=System.Object[]; name=SYS_GEN__soft_delete_CRb_Service_b2466bcd_4fa1_479c_b5c8_5e3c80832769}",
                      "@{target_any_local_reference=; retries=0; description=; type=SOFT_DELETE_ELEMENT; uuid=26dc417f-41e5-46d1-9b8b-939d23039e52; child_tasks_local_reference_list=System.Object[]; state=ACTIVE; attrs=; timeout_secs=0; inherit_target=False; message_list=System.Object[]; variable_list=System.Object[]; name=SYS_GEN__Package_Element_Delete_5322edb8_6b66_4655_942b_1d26c07549d7}",
                      "@{target_any_local_reference=; retries=0; description=; type=CALL_RUNBOOK; uuid=76648fb5-c981-487f-8302-c650167ec3fb; child_tasks_local_reference_list=System.Object[]; state=ACTIVE; attrs=; timeout_secs=0; inherit_target=False; message_list=System.Object[]; variable_list=System.Object[]; name=SYS_GEN__soft_delete_CRb_Substrate_baaa60e0_d980_40b5_bbd4_efd8409d50c4}",
                      "@{target_any_local_reference=; retries=0; description=; type=SOFT_DELETE_DEPLOYMENT_ELEMENT; uuid=03a2f8a3-57aa-4db0-8017-b4adf114e57c; child_tasks_local_reference_list=System.Object[]; state=ACTIVE; attrs=; timeout_secs=0; inherit_target=False; message_list=System.Object[]; variable_list=System.Object[]; name=SYS_GEN__DE_Soft_Delete_cbbf3c4f_3150_49b8_856e_0854c8e89e71}"
                    ],
                    "description": "",
                    "message_list": [],
                    "uuid": "affa881e-7dc7-4b7e-a023-bbd43ef2d96b",
                    "state": "ACTIVE",
                    "variable_list": [],
                    "main_task_local_reference": {
                      "kind": "app_task",
                      "name": "SYS_GEN__Composite_DAG_Deployment_cbbf3c4f_3150_49b8_856e_0854c8e89e71",
                      "uuid": "66f890d8-00cb-4715-9dea-7e17d7e16387"
                    },
                    "name": "SYS_GEN__Runbook_Deployment_cbbf3c4f_3150_49b8_856e_0854c8e89e71"
                  }
                },
                {
                  "description": "System action for snapshot deletion",
                  "message_list": [],
                  "uuid": "1b497c0f-c746-494f-a1db-69eab098f8cc",
                  "name": "action_snapshot_delete",
                  "state": "ACTIVE",
                  "critical": true,
                  "attrs": {},
                  "type": "system",
                  "runbook": {
                    "task_definition_list": [
                      "@{target_any_local_reference=; retries=0; description=; type=DAG; uuid=0313ae5e-d721-4193-9693-8cc9d66150cb; child_tasks_local_reference_list=System.Object[]; state=ACTIVE; attrs=; timeout_secs=0; inherit_target=False; message_list=System.Object[]; variable_list=System.Object[]; name=SYS_GEN__Composite_DAG_Deployment_cbbf3c4f_3150_49b8_856e_0854c8e89e71}",
                      "@{target_any_local_reference=; retries=0; description=; type=CALL_RUNBOOK; uuid=e686f5ae-5fe3-463c-ac93-f2e5d4e12735; child_tasks_local_reference_list=System.Object[]; state=ACTIVE; attrs=; timeout_secs=0; inherit_target=False; message_list=System.Object[]; variable_list=System.Object[]; name=SYS_GEN__snapshot_delete_CRb_Substrate_baaa60e0_d980_40b5_bbd4_efd8409d50c4}"
                    ],
                    "description": "",
                    "message_list": [],
                    "uuid": "1f94b257-a6d1-476e-8270-0f2a4b1f29a9",
                    "state": "ACTIVE",
                    "variable_list": [
                      "@{regex=; val_type=STRING; is_mandatory=False; description=; data_type=BASE; message_list=System.Object[]; uuid=e960f073-5587-4191-a63c-6afe5680bb79; value=; label=; state=NOT_VALIDATED; attrs=; editables=; is_hidden=False; type=LOCAL; options=; name=snapshot_id}",
                      "@{regex=; val_type=STRING; is_mandatory=False; description=; data_type=BASE; message_list=System.Object[]; uuid=1e3e8b51-dc46-494e-bdbe-1354600f2e5e; value=; label=; state=NOT_VALIDATED; attrs=; editables=; is_hidden=False; type=LOCAL; options=; name=snapshot_group_id}"
                    ],
                    "main_task_local_reference": {
                      "kind": "app_task",
                      "name": "SYS_GEN__Composite_DAG_Deployment_cbbf3c4f_3150_49b8_856e_0854c8e89e71",
                      "uuid": "0313ae5e-d721-4193-9693-8cc9d66150cb"
                    },
                    "name": "SYS_GEN__Runbook_Deployment_cbbf3c4f_3150_49b8_856e_0854c8e89e71"
                  }
                }
              ],
              "message_list": [],
              "published_service_local_reference_list": [],
              "uuid": "cbbf3c4f-3150-49b8-856e-0854c8e89e71",
              "default_replicas": "1",
              "min_replicas": "1",
              "state": "ACTIVE",
              "max_replicas": "1",
              "depends_on_list": [],
              "editables": {},
              "package_local_reference_list": [
                {
                  "kind": "app_package",
                  "name": "Package1",
                  "uuid": "5322edb8-6b66-4655-942b-1d26c07549d7"
                }
              ],
              "substrate_local_reference": {
                "kind": "app_substrate",
                "name": "VM1",
                "uuid": "baaa60e0-d980-40b5-bbd4-efd8409d50c4"
              },
              "type": "GREENFIELD",
              "options": {},
              "variable_list": [],
              "name": "4429ea15_deployment"
            }
          ],
          "environment_reference_list": [],
          "application_url": "",
          "description": "",
          "action_list": [
            {
              "description": "System action for creating an application",
              "message_list": [],
              "uuid": "25c64ed2-977d-46a9-b8d6-8b7345e7c12a",
              "name": "action_create",
              "state": "ACTIVE",
              "critical": true,
              "attrs": {},
              "type": "system",
              "runbook": {
                "task_definition_list": [
                  {
                    "target_any_local_reference": {
                      "kind": "app_profile",
                      "name": "AHV",
                      "uuid": "03f0aeb2-82cd-43aa-8559-77a45f404f72"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "DAG",
                    "uuid": "9da6e765-a0a9-4f1d-b27b-368ad4e3ff26",
                    "child_tasks_local_reference_list": [
                      "@{kind=app_task; name=SYS_GEN__DE_Provision_cbbf3c4f_3150_49b8_856e_0854c8e89e71; uuid=e985b24f-1e1c-4e1d-8352-183b447869ff}",
                      "@{kind=app_task; name=SYS_GEN__pre_create_CRb_Substrate_baaa60e0_d980_40b5_bbd4_efd8409d50c4; uuid=7f0676cd-d41f-40b4-b293-451901270168}",
                      "@{kind=app_task; name=SYS_GEN__create_CRb_Substrate_baaa60e0_d980_40b5_bbd4_efd8409d50c4; uuid=37789ffd-d942-45bc-9d7a-5a2e052fd53d}",
                      "@{kind=app_task; name=SYS_GEN__install_CRb_Package_5322edb8_6b66_4655_942b_1d26c07549d7; uuid=b1b468d3-5e5b-4a08-bef7-55a7cb49613d}",
                      "@{kind=app_task; name=SYS_GEN__create_CRb_Service_b2466bcd_4fa1_479c_b5c8_5e3c80832769; uuid=0f2abeb1-b0a1-4998-a16c-8d68280b434b}",
                      "@{kind=app_task; name=SYS_GEN__start_CRb_Service_b2466bcd_4fa1_479c_b5c8_5e3c80832769; uuid=f9982c6a-e78c-418a-be09-3d423c1e4c9e}"
                    ],
                    "state": "ACTIVE",
                    "attrs": {
                      "edges": "    ",
                      "type": "DAG"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__Composite_DAG_Application_03f0aeb2_82cd_43aa_8559_77a45f404f72"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_blueprint_deployment",
                      "name": "4429ea15_deployment",
                      "uuid": "cbbf3c4f-3150-49b8-856e-0854c8e89e71"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "CREATE_DEPLOYMENT_ELEMENT",
                    "uuid": "e985b24f-1e1c-4e1d-8352-183b447869ff",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "type": ""
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__DE_Provision_cbbf3c4f_3150_49b8_856e_0854c8e89e71"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_substrate",
                      "name": "VM1",
                      "uuid": "baaa60e0-d980-40b5-bbd4-efd8409d50c4"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "CALL_RUNBOOK",
                    "uuid": "7f0676cd-d41f-40b4-b293-451901270168",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "inarg_list": "",
                      "deployment_reference": "@{kind=app_blueprint_deployment; name=4429ea15_deployment; uuid=cbbf3c4f-3150-49b8-856e-0854c8e89e71}",
                      "type": "CALL_RUNBOOK",
                      "runbook_reference": "@{kind=app_runbook; name=8103e2f7_runbook; uuid=212b1384-e0a0-4f7c-85a1-dd979385938d}"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__pre_create_CRb_Substrate_baaa60e0_d980_40b5_bbd4_efd8409d50c4"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_substrate",
                      "name": "VM1",
                      "uuid": "baaa60e0-d980-40b5-bbd4-efd8409d50c4"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "CALL_RUNBOOK",
                    "uuid": "37789ffd-d942-45bc-9d7a-5a2e052fd53d",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "inarg_list": "",
                      "deployment_reference": "@{kind=app_blueprint_deployment; name=4429ea15_deployment; uuid=cbbf3c4f-3150-49b8-856e-0854c8e89e71}",
                      "type": "CALL_RUNBOOK",
                      "runbook_reference": "@{kind=app_runbook; name=SYS_GEN__Runbook_Substrate_baaa60e0_d980_40b5_bbd4_efd8409d50c4; uuid=0556b037-5a08-4aeb-94ea-2067a562f733}"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__create_CRb_Substrate_baaa60e0_d980_40b5_bbd4_efd8409d50c4"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_package",
                      "name": "Package1",
                      "uuid": "5322edb8-6b66-4655-942b-1d26c07549d7"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "CALL_RUNBOOK",
                    "uuid": "b1b468d3-5e5b-4a08-bef7-55a7cb49613d",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "inarg_list": "",
                      "deployment_reference": "@{kind=app_blueprint_deployment; name=4429ea15_deployment; uuid=cbbf3c4f-3150-49b8-856e-0854c8e89e71}",
                      "type": "CALL_RUNBOOK",
                      "runbook_reference": "@{kind=app_runbook; name=SYS_GEN__Runbook_Package_5322edb8_6b66_4655_942b_1d26c07549d7; uuid=c4f8a38d-1c1d-4a75-95d5-e64a02661be3}"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__install_CRb_Package_5322edb8_6b66_4655_942b_1d26c07549d7"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_service",
                      "name": "Service1",
                      "uuid": "b2466bcd-4fa1-479c-b5c8-5e3c80832769"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "CALL_RUNBOOK",
                    "uuid": "0f2abeb1-b0a1-4998-a16c-8d68280b434b",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "inarg_list": "",
                      "deployment_reference": "@{kind=app_blueprint_deployment; name=4429ea15_deployment; uuid=cbbf3c4f-3150-49b8-856e-0854c8e89e71}",
                      "type": "CALL_RUNBOOK",
                      "runbook_reference": "@{kind=app_runbook; name=ff3e502d_runbook; uuid=b842486f-5e48-4cf7-9ee3-ee38ef74f356}"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__create_CRb_Service_b2466bcd_4fa1_479c_b5c8_5e3c80832769"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_service",
                      "name": "Service1",
                      "uuid": "b2466bcd-4fa1-479c-b5c8-5e3c80832769"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "CALL_RUNBOOK",
                    "uuid": "f9982c6a-e78c-418a-be09-3d423c1e4c9e",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "inarg_list": "",
                      "deployment_reference": "@{kind=app_blueprint_deployment; name=4429ea15_deployment; uuid=cbbf3c4f-3150-49b8-856e-0854c8e89e71}",
                      "type": "CALL_RUNBOOK",
                      "runbook_reference": "@{kind=app_runbook; name=bcdcb98e_runbook; uuid=bb0141f3-0775-4357-b329-5aa96a7d87b9}"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__start_CRb_Service_b2466bcd_4fa1_479c_b5c8_5e3c80832769"
                  }
                ],
                "description": "",
                "message_list": [],
                "uuid": "57bc67be-4a72-439f-bb5f-112c57719336",
                "state": "ACTIVE",
                "variable_list": [],
                "main_task_local_reference": {
                  "kind": "app_task",
                  "name": "SYS_GEN__Composite_DAG_Application_03f0aeb2_82cd_43aa_8559_77a45f404f72",
                  "uuid": "9da6e765-a0a9-4f1d-b27b-368ad4e3ff26"
                },
                "name": "SYS_GEN__Runbook_Application_03f0aeb2_82cd_43aa_8559_77a45f404f72"
              }
            },
            {
              "description": "System action for starting an application",
              "message_list": [],
              "uuid": "21234de3-d7e9-4fcf-ab70-2cc164e42709",
              "name": "action_start",
              "state": "ACTIVE",
              "critical": true,
              "attrs": {},
              "type": "system",
              "runbook": {
                "task_definition_list": [
                  {
                    "target_any_local_reference": {
                      "kind": "app_profile",
                      "name": "AHV",
                      "uuid": "03f0aeb2-82cd-43aa-8559-77a45f404f72"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "DAG",
                    "uuid": "83842532-d92b-413d-b05d-6389e79aebc8",
                    "child_tasks_local_reference_list": [
                      "@{kind=app_task; name=SYS_GEN__start_CRb_Substrate_baaa60e0_d980_40b5_bbd4_efd8409d50c4; uuid=d25bca0f-c231-41ee-8e26-82ef9091f902}",
                      "@{kind=app_task; name=SYS_GEN__start_CRb_Service_b2466bcd_4fa1_479c_b5c8_5e3c80832769; uuid=829bc19d-cef5-429c-9091-ba2aa287bea6}"
                    ],
                    "state": "ACTIVE",
                    "attrs": {
                      "edges": "",
                      "type": "DAG"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__Composite_DAG_Application_03f0aeb2_82cd_43aa_8559_77a45f404f72"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_substrate",
                      "name": "VM1",
                      "uuid": "baaa60e0-d980-40b5-bbd4-efd8409d50c4"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "CALL_RUNBOOK",
                    "uuid": "d25bca0f-c231-41ee-8e26-82ef9091f902",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "inarg_list": "",
                      "deployment_reference": "@{kind=app_blueprint_deployment; name=4429ea15_deployment; uuid=cbbf3c4f-3150-49b8-856e-0854c8e89e71}",
                      "type": "CALL_RUNBOOK",
                      "runbook_reference": "@{kind=app_runbook; name=SYS_GEN__Runbook_Substrate_baaa60e0_d980_40b5_bbd4_efd8409d50c4; uuid=8b0ace1e-36a5-4d0f-a73f-219baf4c36fb}"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__start_CRb_Substrate_baaa60e0_d980_40b5_bbd4_efd8409d50c4"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_service",
                      "name": "Service1",
                      "uuid": "b2466bcd-4fa1-479c-b5c8-5e3c80832769"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "CALL_RUNBOOK",
                    "uuid": "829bc19d-cef5-429c-9091-ba2aa287bea6",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "inarg_list": "",
                      "deployment_reference": "@{kind=app_blueprint_deployment; name=4429ea15_deployment; uuid=cbbf3c4f-3150-49b8-856e-0854c8e89e71}",
                      "type": "CALL_RUNBOOK",
                      "runbook_reference": "@{kind=app_runbook; name=bcdcb98e_runbook; uuid=bb0141f3-0775-4357-b329-5aa96a7d87b9}"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__start_CRb_Service_b2466bcd_4fa1_479c_b5c8_5e3c80832769"
                  }
                ],
                "description": "",
                "message_list": [],
                "uuid": "cbc61ffd-5eb7-48cf-9e09-633203425444",
                "state": "ACTIVE",
                "variable_list": [],
                "main_task_local_reference": {
                  "kind": "app_task",
                  "name": "SYS_GEN__Composite_DAG_Application_03f0aeb2_82cd_43aa_8559_77a45f404f72",
                  "uuid": "83842532-d92b-413d-b05d-6389e79aebc8"
                },
                "name": "SYS_GEN__Runbook_Application_03f0aeb2_82cd_43aa_8559_77a45f404f72"
              }
            },
            {
              "description": "System action for restarting an application",
              "message_list": [],
              "uuid": "f12cd622-ac57-4495-bbfd-3a52706eb71f",
              "name": "action_restart",
              "state": "ACTIVE",
              "critical": true,
              "attrs": {},
              "type": "system",
              "runbook": {
                "task_definition_list": [
                  {
                    "target_any_local_reference": {
                      "kind": "app_profile",
                      "name": "AHV",
                      "uuid": "03f0aeb2-82cd-43aa-8559-77a45f404f72"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "DAG",
                    "uuid": "47c4312e-3cca-4ed3-95c5-ad899f2eedda",
                    "child_tasks_local_reference_list": [
                      "@{kind=app_task; name=SYS_GEN__restart_CRb_Substrate_baaa60e0_d980_40b5_bbd4_efd8409d50c4; uuid=26605b2d-8c7d-45ee-849b-a927486007a0}",
                      "@{kind=app_task; name=SYS_GEN__restart_CRb_Service_b2466bcd_4fa1_479c_b5c8_5e3c80832769; uuid=89c11571-2d46-4ea3-9ca5-d2d295c2ea52}"
                    ],
                    "state": "ACTIVE",
                    "attrs": {
                      "edges": "",
                      "type": "DAG"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__Composite_DAG_Application_03f0aeb2_82cd_43aa_8559_77a45f404f72"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_substrate",
                      "name": "VM1",
                      "uuid": "baaa60e0-d980-40b5-bbd4-efd8409d50c4"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "CALL_RUNBOOK",
                    "uuid": "26605b2d-8c7d-45ee-849b-a927486007a0",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "inarg_list": "",
                      "deployment_reference": "@{kind=app_blueprint_deployment; name=4429ea15_deployment; uuid=cbbf3c4f-3150-49b8-856e-0854c8e89e71}",
                      "type": "CALL_RUNBOOK",
                      "runbook_reference": "@{kind=app_runbook; name=SYS_GEN__Runbook_Substrate_baaa60e0_d980_40b5_bbd4_efd8409d50c4; uuid=34639573-3e44-403f-88d2-699b7470b9fb}"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__restart_CRb_Substrate_baaa60e0_d980_40b5_bbd4_efd8409d50c4"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_service",
                      "name": "Service1",
                      "uuid": "b2466bcd-4fa1-479c-b5c8-5e3c80832769"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "CALL_RUNBOOK",
                    "uuid": "89c11571-2d46-4ea3-9ca5-d2d295c2ea52",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "inarg_list": "",
                      "deployment_reference": "@{kind=app_blueprint_deployment; name=4429ea15_deployment; uuid=cbbf3c4f-3150-49b8-856e-0854c8e89e71}",
                      "type": "CALL_RUNBOOK",
                      "runbook_reference": "@{kind=app_runbook; name=e68a120c_runbook; uuid=0838837f-1d74-4429-83f9-7177f89ba3a8}"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__restart_CRb_Service_b2466bcd_4fa1_479c_b5c8_5e3c80832769"
                  }
                ],
                "description": "",
                "message_list": [],
                "uuid": "22e70908-30a1-4c03-aa22-f5a9d8db74b7",
                "state": "ACTIVE",
                "variable_list": [],
                "main_task_local_reference": {
                  "kind": "app_task",
                  "name": "SYS_GEN__Composite_DAG_Application_03f0aeb2_82cd_43aa_8559_77a45f404f72",
                  "uuid": "47c4312e-3cca-4ed3-95c5-ad899f2eedda"
                },
                "name": "SYS_GEN__Runbook_Application_03f0aeb2_82cd_43aa_8559_77a45f404f72"
              }
            },
            {
              "description": "System action for stopping an application",
              "message_list": [],
              "uuid": "e3f25cf1-77b7-44b2-b5e5-f8166dcd1234",
              "name": "action_stop",
              "state": "ACTIVE",
              "critical": true,
              "attrs": {},
              "type": "system",
              "runbook": {
                "task_definition_list": [
                  {
                    "target_any_local_reference": {
                      "kind": "app_profile",
                      "name": "AHV",
                      "uuid": "03f0aeb2-82cd-43aa-8559-77a45f404f72"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "DAG",
                    "uuid": "d6c38be0-df8e-42ff-b53a-0a95d39bc043",
                    "child_tasks_local_reference_list": [
                      "@{kind=app_task; name=SYS_GEN__stop_CRb_Service_b2466bcd_4fa1_479c_b5c8_5e3c80832769; uuid=6b0a6a7f-f994-4991-baad-e771e546ae3f}",
                      "@{kind=app_task; name=SYS_GEN__stop_CRb_Substrate_baaa60e0_d980_40b5_bbd4_efd8409d50c4; uuid=11433fb3-a35d-47a4-a389-dd8abdc2bfb5}"
                    ],
                    "state": "ACTIVE",
                    "attrs": {
                      "edges": "",
                      "type": "DAG"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__Composite_DAG_Application_03f0aeb2_82cd_43aa_8559_77a45f404f72"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_service",
                      "name": "Service1",
                      "uuid": "b2466bcd-4fa1-479c-b5c8-5e3c80832769"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "CALL_RUNBOOK",
                    "uuid": "6b0a6a7f-f994-4991-baad-e771e546ae3f",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "inarg_list": "",
                      "deployment_reference": "@{kind=app_blueprint_deployment; name=4429ea15_deployment; uuid=cbbf3c4f-3150-49b8-856e-0854c8e89e71}",
                      "type": "CALL_RUNBOOK",
                      "runbook_reference": "@{kind=app_runbook; name=e6e3ef02_runbook; uuid=ad14c0b3-3182-4e04-9b5a-c4c42ae4e9b2}"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__stop_CRb_Service_b2466bcd_4fa1_479c_b5c8_5e3c80832769"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_substrate",
                      "name": "VM1",
                      "uuid": "baaa60e0-d980-40b5-bbd4-efd8409d50c4"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "CALL_RUNBOOK",
                    "uuid": "11433fb3-a35d-47a4-a389-dd8abdc2bfb5",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "inarg_list": "",
                      "deployment_reference": "@{kind=app_blueprint_deployment; name=4429ea15_deployment; uuid=cbbf3c4f-3150-49b8-856e-0854c8e89e71}",
                      "type": "CALL_RUNBOOK",
                      "runbook_reference": "@{kind=app_runbook; name=SYS_GEN__Runbook_Substrate_baaa60e0_d980_40b5_bbd4_efd8409d50c4; uuid=cbac3847-8215-4cd8-8a13-1e8e9ed0782a}"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__stop_CRb_Substrate_baaa60e0_d980_40b5_bbd4_efd8409d50c4"
                  }
                ],
                "description": "",
                "message_list": [],
                "uuid": "d57b5abf-ca6d-451c-8b33-0663ec196792",
                "state": "ACTIVE",
                "variable_list": [],
                "main_task_local_reference": {
                  "kind": "app_task",
                  "name": "SYS_GEN__Composite_DAG_Application_03f0aeb2_82cd_43aa_8559_77a45f404f72",
                  "uuid": "d6c38be0-df8e-42ff-b53a-0a95d39bc043"
                },
                "name": "SYS_GEN__Runbook_Application_03f0aeb2_82cd_43aa_8559_77a45f404f72"
              }
            },
            {
              "description": "System action for deleting an application. Deletes created VMs as well",
              "message_list": [],
              "uuid": "fbdb2b32-3306-48cf-898c-8dc585c2a734",
              "name": "action_delete",
              "state": "ACTIVE",
              "critical": true,
              "attrs": {},
              "type": "system",
              "runbook": {
                "task_definition_list": [
                  {
                    "target_any_local_reference": {
                      "kind": "app_profile",
                      "name": "AHV",
                      "uuid": "03f0aeb2-82cd-43aa-8559-77a45f404f72"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "DAG",
                    "uuid": "81eb22e8-a35e-42d0-8b14-5d66c8410627",
                    "child_tasks_local_reference_list": [
                      "@{kind=app_task; name=SYS_GEN__stop_CRb_Service_b2466bcd_4fa1_479c_b5c8_5e3c80832769; uuid=17c370b9-6408-4cf6-b0e0-53a82edcdd14}",
                      "@{kind=app_task; name=SYS_GEN__delete_CRb_Service_b2466bcd_4fa1_479c_b5c8_5e3c80832769; uuid=a21956b1-af87-472c-a418-76ddf93bceb7}",
                      "@{kind=app_task; name=SYS_GEN__uninstall_CRb_Package_5322edb8_6b66_4655_942b_1d26c07549d7; uuid=f3f37505-a5e6-4beb-bd20-a6b734bea867}",
                      "@{kind=app_task; name=SYS_GEN__delete_CRb_Substrate_baaa60e0_d980_40b5_bbd4_efd8409d50c4; uuid=76d37d87-1c50-4a1f-8091-6466f3d1e5c4}",
                      "@{kind=app_task; name=SYS_GEN__post_delete_CRb_Substrate_baaa60e0_d980_40b5_bbd4_efd8409d50c4; uuid=e7de08a1-f5ad-406e-adf3-d0e769fee088}",
                      "@{kind=app_task; name=SYS_GEN__DE_Delete_cbbf3c4f_3150_49b8_856e_0854c8e89e71; uuid=ac2b6c9f-725a-43e1-a857-db9b9667cc57}"
                    ],
                    "state": "ACTIVE",
                    "attrs": {
                      "edges": "    ",
                      "type": "DAG"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__Composite_DAG_Application_03f0aeb2_82cd_43aa_8559_77a45f404f72"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_service",
                      "name": "Service1",
                      "uuid": "b2466bcd-4fa1-479c-b5c8-5e3c80832769"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "CALL_RUNBOOK",
                    "uuid": "17c370b9-6408-4cf6-b0e0-53a82edcdd14",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "inarg_list": "",
                      "deployment_reference": "@{kind=app_blueprint_deployment; name=4429ea15_deployment; uuid=cbbf3c4f-3150-49b8-856e-0854c8e89e71}",
                      "type": "CALL_RUNBOOK",
                      "runbook_reference": "@{kind=app_runbook; name=e6e3ef02_runbook; uuid=ad14c0b3-3182-4e04-9b5a-c4c42ae4e9b2}"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__stop_CRb_Service_b2466bcd_4fa1_479c_b5c8_5e3c80832769"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_service",
                      "name": "Service1",
                      "uuid": "b2466bcd-4fa1-479c-b5c8-5e3c80832769"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "CALL_RUNBOOK",
                    "uuid": "a21956b1-af87-472c-a418-76ddf93bceb7",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "inarg_list": "",
                      "deployment_reference": "@{kind=app_blueprint_deployment; name=4429ea15_deployment; uuid=cbbf3c4f-3150-49b8-856e-0854c8e89e71}",
                      "type": "CALL_RUNBOOK",
                      "runbook_reference": "@{kind=app_runbook; name=c906f5a1_runbook; uuid=28ac6c0f-a397-43af-9901-3e42b50cd3aa}"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__delete_CRb_Service_b2466bcd_4fa1_479c_b5c8_5e3c80832769"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_package",
                      "name": "Package1",
                      "uuid": "5322edb8-6b66-4655-942b-1d26c07549d7"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "CALL_RUNBOOK",
                    "uuid": "f3f37505-a5e6-4beb-bd20-a6b734bea867",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "inarg_list": "",
                      "deployment_reference": "@{kind=app_blueprint_deployment; name=4429ea15_deployment; uuid=cbbf3c4f-3150-49b8-856e-0854c8e89e71}",
                      "type": "CALL_RUNBOOK",
                      "runbook_reference": "@{kind=app_runbook; name=SYS_GEN__Runbook_Package_5322edb8_6b66_4655_942b_1d26c07549d7; uuid=38349d96-b391-47b7-b13a-e192c157d4c3}"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__uninstall_CRb_Package_5322edb8_6b66_4655_942b_1d26c07549d7"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_substrate",
                      "name": "VM1",
                      "uuid": "baaa60e0-d980-40b5-bbd4-efd8409d50c4"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "CALL_RUNBOOK",
                    "uuid": "76d37d87-1c50-4a1f-8091-6466f3d1e5c4",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "inarg_list": "",
                      "deployment_reference": "@{kind=app_blueprint_deployment; name=4429ea15_deployment; uuid=cbbf3c4f-3150-49b8-856e-0854c8e89e71}",
                      "type": "CALL_RUNBOOK",
                      "runbook_reference": "@{kind=app_runbook; name=SYS_GEN__Runbook_Substrate_baaa60e0_d980_40b5_bbd4_efd8409d50c4; uuid=85a05a50-6607-4f0d-9768-2f461a62cbf9}"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__delete_CRb_Substrate_baaa60e0_d980_40b5_bbd4_efd8409d50c4"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_substrate",
                      "name": "VM1",
                      "uuid": "baaa60e0-d980-40b5-bbd4-efd8409d50c4"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "CALL_RUNBOOK",
                    "uuid": "e7de08a1-f5ad-406e-adf3-d0e769fee088",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "inarg_list": "",
                      "deployment_reference": "@{kind=app_blueprint_deployment; name=4429ea15_deployment; uuid=cbbf3c4f-3150-49b8-856e-0854c8e89e71}",
                      "type": "CALL_RUNBOOK",
                      "runbook_reference": "@{kind=app_runbook; name=30f3cc31_runbook; uuid=6347f799-10ad-42e6-8d09-407d12c6fbc7}"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__post_delete_CRb_Substrate_baaa60e0_d980_40b5_bbd4_efd8409d50c4"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_blueprint_deployment",
                      "name": "4429ea15_deployment",
                      "uuid": "cbbf3c4f-3150-49b8-856e-0854c8e89e71"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "DELETE_DEPLOYMENT_ELEMENT",
                    "uuid": "ac2b6c9f-725a-43e1-a857-db9b9667cc57",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "type": ""
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__DE_Delete_cbbf3c4f_3150_49b8_856e_0854c8e89e71"
                  }
                ],
                "description": "",
                "message_list": [],
                "uuid": "94748786-05f8-4e99-b9cb-ba67ca0e9a9c",
                "state": "ACTIVE",
                "variable_list": [],
                "main_task_local_reference": {
                  "kind": "app_task",
                  "name": "SYS_GEN__Composite_DAG_Application_03f0aeb2_82cd_43aa_8559_77a45f404f72",
                  "uuid": "81eb22e8-a35e-42d0-8b14-5d66c8410627"
                },
                "name": "SYS_GEN__Runbook_Application_03f0aeb2_82cd_43aa_8559_77a45f404f72"
              }
            },
            {
              "description": "System action for deleting an application. Does not delete created VMs",
              "message_list": [],
              "uuid": "54520100-9a94-41a2-a451-e3ce69d053f0",
              "name": "action_soft_delete",
              "state": "ACTIVE",
              "critical": true,
              "attrs": {},
              "type": "system",
              "runbook": {
                "task_definition_list": [
                  {
                    "target_any_local_reference": {
                      "kind": "app_profile",
                      "name": "AHV",
                      "uuid": "03f0aeb2-82cd-43aa-8559-77a45f404f72"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "DAG",
                    "uuid": "934c961a-d6a4-4e37-82d3-98e8b82cc00b",
                    "child_tasks_local_reference_list": [
                      "@{kind=app_task; name=SYS_GEN__soft_delete_CRb_Service_b2466bcd_4fa1_479c_b5c8_5e3c80832769; uuid=77d46cc8-097e-4d3b-8bf7-6e9ce81fe457}",
                      "@{kind=app_task; name=SYS_GEN__Package_Element_Delete_5322edb8_6b66_4655_942b_1d26c07549d7; uuid=66589d23-2c0c-45ef-9767-15f8b3bde4f4}",
                      "@{kind=app_task; name=SYS_GEN__soft_delete_CRb_Substrate_baaa60e0_d980_40b5_bbd4_efd8409d50c4; uuid=abc693ff-8c33-44bd-ba05-7089460be9fc}",
                      "@{kind=app_task; name=SYS_GEN__DE_Soft_Delete_cbbf3c4f_3150_49b8_856e_0854c8e89e71; uuid=68948dfc-59ac-4113-ba0e-f34a9ae231f7}"
                    ],
                    "state": "ACTIVE",
                    "attrs": {
                      "edges": "  ",
                      "type": "DAG"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__Composite_DAG_Application_03f0aeb2_82cd_43aa_8559_77a45f404f72"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_service",
                      "name": "Service1",
                      "uuid": "b2466bcd-4fa1-479c-b5c8-5e3c80832769"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "CALL_RUNBOOK",
                    "uuid": "77d46cc8-097e-4d3b-8bf7-6e9ce81fe457",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "inarg_list": "",
                      "deployment_reference": "@{kind=app_blueprint_deployment; name=4429ea15_deployment; uuid=cbbf3c4f-3150-49b8-856e-0854c8e89e71}",
                      "type": "CALL_RUNBOOK",
                      "runbook_reference": "@{kind=app_runbook; name=SYS_GEN__Runbook_Service_b2466bcd_4fa1_479c_b5c8_5e3c80832769; uuid=467a50c0-6dc3-4aa9-8082-ed951e2a2b31}"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__soft_delete_CRb_Service_b2466bcd_4fa1_479c_b5c8_5e3c80832769"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_package",
                      "name": "Package1",
                      "uuid": "5322edb8-6b66-4655-942b-1d26c07549d7"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "SOFT_DELETE_ELEMENT",
                    "uuid": "66589d23-2c0c-45ef-9767-15f8b3bde4f4",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "type": ""
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__Package_Element_Delete_5322edb8_6b66_4655_942b_1d26c07549d7"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_substrate",
                      "name": "VM1",
                      "uuid": "baaa60e0-d980-40b5-bbd4-efd8409d50c4"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "CALL_RUNBOOK",
                    "uuid": "abc693ff-8c33-44bd-ba05-7089460be9fc",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "inarg_list": "",
                      "deployment_reference": "@{kind=app_blueprint_deployment; name=4429ea15_deployment; uuid=cbbf3c4f-3150-49b8-856e-0854c8e89e71}",
                      "type": "CALL_RUNBOOK",
                      "runbook_reference": "@{kind=app_runbook; name=SYS_GEN__Runbook_Substrate_baaa60e0_d980_40b5_bbd4_efd8409d50c4; uuid=856de923-1716-4959-99e9-a29426dbeae4}"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__soft_delete_CRb_Substrate_baaa60e0_d980_40b5_bbd4_efd8409d50c4"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_blueprint_deployment",
                      "name": "4429ea15_deployment",
                      "uuid": "cbbf3c4f-3150-49b8-856e-0854c8e89e71"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "SOFT_DELETE_DEPLOYMENT_ELEMENT",
                    "uuid": "68948dfc-59ac-4113-ba0e-f34a9ae231f7",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "type": ""
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__DE_Soft_Delete_cbbf3c4f_3150_49b8_856e_0854c8e89e71"
                  }
                ],
                "description": "",
                "message_list": [],
                "uuid": "7bd361dd-ddfc-4457-9112-64ac7f5e0385",
                "state": "ACTIVE",
                "variable_list": [],
                "main_task_local_reference": {
                  "kind": "app_task",
                  "name": "SYS_GEN__Composite_DAG_Application_03f0aeb2_82cd_43aa_8559_77a45f404f72",
                  "uuid": "934c961a-d6a4-4e37-82d3-98e8b82cc00b"
                },
                "name": "SYS_GEN__Runbook_Application_03f0aeb2_82cd_43aa_8559_77a45f404f72"
              }
            },
            {
              "description": "System action for snapshot deletion",
              "message_list": [],
              "uuid": "6a04dfd1-011d-41eb-b60c-712438a7c1ee",
              "name": "action_snapshot_delete",
              "state": "ACTIVE",
              "critical": true,
              "attrs": {},
              "type": "system",
              "runbook": {
                "task_definition_list": [
                  {
                    "target_any_local_reference": {
                      "kind": "app_profile",
                      "name": "AHV",
                      "uuid": "03f0aeb2-82cd-43aa-8559-77a45f404f72"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "DAG",
                    "uuid": "96544547-e180-4173-a5b0-81336cd74c35",
                    "child_tasks_local_reference_list": [
                      "@{kind=app_task; name=SYS_GEN__snapshot_delete_CRb_Substrate_baaa60e0_d980_40b5_bbd4_efd8409d50c4; uuid=98fc5764-2af7-4311-a95a-1efdc54c1c25}"
                    ],
                    "state": "ACTIVE",
                    "attrs": {
                      "edges": "",
                      "type": "DAG"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__Composite_DAG_Application_03f0aeb2_82cd_43aa_8559_77a45f404f72"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_substrate",
                      "name": "VM1",
                      "uuid": "baaa60e0-d980-40b5-bbd4-efd8409d50c4"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "CALL_RUNBOOK",
                    "uuid": "98fc5764-2af7-4311-a95a-1efdc54c1c25",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "inarg_list": "",
                      "deployment_reference": "@{kind=app_blueprint_deployment; name=4429ea15_deployment; uuid=cbbf3c4f-3150-49b8-856e-0854c8e89e71}",
                      "type": "CALL_RUNBOOK",
                      "runbook_reference": "@{kind=app_runbook; name=SYS_GEN__Runbook_Substrate_baaa60e0_d980_40b5_bbd4_efd8409d50c4; uuid=a8bc7d4d-b7fd-406c-a2bd-9b367afec1bf}"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__snapshot_delete_CRb_Substrate_baaa60e0_d980_40b5_bbd4_efd8409d50c4"
                  }
                ],
                "description": "",
                "message_list": [],
                "uuid": "1a2404f4-774c-4328-aec3-f55293f9a052",
                "state": "ACTIVE",
                "variable_list": [
                  {
                    "regex": {},
                    "val_type": "STRING",
                    "is_mandatory": false,
                    "description": "",
                    "data_type": "BASE",
                    "message_list": [],
                    "uuid": "e7104ef7-7804-44f1-9bcc-8f0eaf0462a2",
                    "value": "",
                    "label": "",
                    "state": "NOT_VALIDATED",
                    "attrs": {},
                    "editables": {
                      "value": true
                    },
                    "is_hidden": false,
                    "type": "LOCAL",
                    "options": {},
                    "name": "snapshot_id"
                  },
                  {
                    "regex": {},
                    "val_type": "STRING",
                    "is_mandatory": false,
                    "description": "",
                    "data_type": "BASE",
                    "message_list": [],
                    "uuid": "7713de3b-a424-426b-a3ce-6192d7eeb3cb",
                    "value": "",
                    "label": "",
                    "state": "NOT_VALIDATED",
                    "attrs": {},
                    "editables": {
                      "value": true
                    },
                    "is_hidden": false,
                    "type": "LOCAL",
                    "options": {},
                    "name": "snapshot_group_id"
                  }
                ],
                "main_task_local_reference": {
                  "kind": "app_task",
                  "name": "SYS_GEN__Composite_DAG_Application_03f0aeb2_82cd_43aa_8559_77a45f404f72",
                  "uuid": "96544547-e180-4173-a5b0-81336cd74c35"
                },
                "name": "SYS_GEN__Runbook_Application_03f0aeb2_82cd_43aa_8559_77a45f404f72"
              }
            }
          ],
          "message_list": [],
          "uuid": "03f0aeb2-82cd-43aa-8559-77a45f404f72",
          "dependency_list": [],
          "snapshot_config_list": [],
          "state": "ACTIVE",
          "patch_list": [],
          "restore_config_list": [],
          "variable_list": [
            {
              "regex": {
                "should_validate": false,
                "value": "^[\\d]*$"
              },
              "val_type": "INT",
              "is_mandatory": false,
              "description": "",
              "data_type": "BASE",
              "message_list": [],
              "uuid": "ecfa6a96-be37-4af6-b396-1b0cb257b9d1",
              "value": "0",
              "label": "/var size",
              "state": "ACTIVE",
              "attrs": {
                "type": ""
              },
              "editables": {
                "value": true
              },
              "is_hidden": false,
              "type": "LOCAL",
              "options": {
                "type": "PREDEFINED",
                "choices": []
              },
              "name": "vDiskVar"
            },
            {
              "regex": {},
              "val_type": "STRING",
              "is_mandatory": true,
              "description": "",
              "data_type": "BASE",
              "message_list": [],
              "uuid": "0fe45b90-5892-4ec6-9f5f-a570dfdb64af",
              "value": "/var/app01",
              "label": "mount point under /var",
              "state": "ACTIVE",
              "attrs": {
                "type": "LOCAL"
              },
              "editables": {
                "value": true
              },
              "is_hidden": false,
              "type": "LOCAL",
              "options": {
                "type": "PREDEFINED",
                "choices": []
              },
              "name": "mountPointVar"
            },
            {
              "regex": {
                "should_validate": false,
                "value": "^[\\d]*$"
              },
              "val_type": "INT",
              "is_mandatory": false,
              "description": "",
              "data_type": "BASE",
              "message_list": [],
              "uuid": "789dbd97-71a4-43d8-80eb-35c0fdead9f3",
              "value": "0",
              "label": "/usr size",
              "state": "ACTIVE",
              "attrs": {
                "type": ""
              },
              "editables": {
                "value": true
              },
              "is_hidden": false,
              "type": "LOCAL",
              "options": {
                "type": "PREDEFINED",
                "choices": []
              },
              "name": "vDiskUsr"
            },
            {
              "regex": {},
              "val_type": "STRING",
              "is_mandatory": true,
              "description": "",
              "data_type": "BASE",
              "message_list": [],
              "uuid": "93303840-1587-4e48-b717-97fe5eb04ee6",
              "value": "/usr/aap01",
              "label": "mount point under /usr",
              "state": "ACTIVE",
              "attrs": {
                "type": ""
              },
              "editables": {
                "value": true
              },
              "is_hidden": false,
              "type": "LOCAL",
              "options": {
                "type": "PREDEFINED",
                "choices": []
              },
              "name": "mountPointUsr"
            },
            {
              "regex": {
                "should_validate": false,
                "value": "^[\\d]*$"
              },
              "val_type": "INT",
              "is_mandatory": false,
              "description": "",
              "data_type": "BASE",
              "message_list": [],
              "uuid": "2d6733fc-8bae-427f-b08f-d36deb3bd58a",
              "value": "0",
              "label": "/opt size",
              "state": "ACTIVE",
              "attrs": {
                "type": ""
              },
              "editables": {
                "value": true
              },
              "is_hidden": false,
              "type": "LOCAL",
              "options": {
                "type": "PREDEFINED",
                "choices": []
              },
              "name": "vDiskOpt"
            },
            {
              "regex": {},
              "val_type": "STRING",
              "is_mandatory": true,
              "description": "",
              "data_type": "BASE",
              "message_list": [],
              "uuid": "ca7fe58d-ac06-44f7-945c-4f7f8b294487",
              "value": "/opt/app01",
              "label": "mount point under /opt",
              "state": "ACTIVE",
              "attrs": {
                "type": ""
              },
              "editables": {
                "value": true
              },
              "is_hidden": false,
              "type": "LOCAL",
              "options": {
                "type": "PREDEFINED",
                "choices": []
              },
              "name": "mountPointOpt"
            },
            {
              "regex": {
                "should_validate": false,
                "value": "^[\\d]*$"
              },
              "val_type": "INT",
              "is_mandatory": false,
              "description": "",
              "data_type": "BASE",
              "message_list": [],
              "uuid": "decdbb78-dbc5-48ac-80c0-c1f1c701b3d0",
              "value": "0",
              "label": "/home size",
              "state": "ACTIVE",
              "attrs": {
                "type": "LOCAL"
              },
              "editables": {
                "value": true
              },
              "is_hidden": false,
              "type": "LOCAL",
              "options": {
                "type": "PREDEFINED",
                "choices": []
              },
              "name": "vDiskHome"
            },
            {
              "regex": {},
              "val_type": "STRING",
              "is_mandatory": true,
              "description": "",
              "data_type": "BASE",
              "message_list": [],
              "uuid": "b7bb8741-bdd1-4236-810b-e17044c4ec8b",
              "value": "/home/app01",
              "label": "mount point under /home",
              "state": "ACTIVE",
              "attrs": {
                "type": ""
              },
              "editables": {
                "value": true
              },
              "is_hidden": false,
              "type": "LOCAL",
              "options": {
                "type": "PREDEFINED",
                "choices": []
              },
              "name": "mountPointHome"
            },
            {
              "regex": {
                "should_validate": false,
                "value": "^(.|\\n)*$"
              },
              "val_type": "MULTILINE_STRING",
              "is_mandatory": false,
              "description": "",
              "data_type": "BASE",
              "message_list": [],
              "uuid": "ab49a368-f301-48f7-ab59-99e64e3d8a6c",
              "value": "",
              "label": "Administrative Users",
              "state": "ACTIVE",
              "attrs": {
                "type": ""
              },
              "editables": {
                "value": true
              },
              "is_hidden": false,
              "type": "LOCAL",
              "options": {
                "type": "PREDEFINED",
                "choices": []
              },
              "name": "administrativeUsers"
            },
            {
              "regex": {
                "should_validate": false,
                "value": "^(.|\\n)*$"
              },
              "val_type": "MULTILINE_STRING",
              "is_mandatory": false,
              "description": "",
              "data_type": "BASE",
              "message_list": [],
              "uuid": "849dc934-a37c-40ed-a713-17e192de4ab2",
              "value": "",
              "label": "Login Users",
              "state": "ACTIVE",
              "attrs": {
                "type": ""
              },
              "editables": {
                "value": true
              },
              "is_hidden": false,
              "type": "LOCAL",
              "options": {
                "type": "PREDEFINED",
                "choices": []
              },
              "name": "loginUsers"
            },
            {
              "regex": {},
              "val_type": "STRING",
              "is_mandatory": false,
              "description": "",
              "data_type": "BASE",
              "message_list": [],
              "uuid": "d8184f9f-c228-4a66-a91f-9c97daec34d8",
              "value": "ads.pnu.edu.sa",
              "label": "Select AD server",
              "state": "ACTIVE",
              "attrs": {
                "type": "LOCAL"
              },
              "editables": {},
              "is_hidden": false,
              "type": "LOCAL",
              "options": {
                "type": "PREDEFINED",
                "choices": [
                  " pnudstst.edu.sa",
                  "ads.pnu.edu.sa"
                ]
              },
              "name": "adEnv"
            },
            {
              "regex": {},
              "val_type": "STRING",
              "is_mandatory": false,
              "description": "",
              "data_type": "BASE",
              "message_list": [],
              "uuid": "89b750c2-6e97-4fd5-aced-0f45c38e9e25",
              "value": "255.255.255.0",
              "label": "Private interface: NETMASK",
              "state": "ACTIVE",
              "attrs": {
                "type": ""
              },
              "editables": {
                "value": true
              },
              "is_hidden": false,
              "type": "LOCAL",
              "options": {
                "type": "PREDEFINED",
                "choices": []
              },
              "name": "privateInterfaceNetmask"
            },
            {
              "regex": {},
              "val_type": "STRING",
              "is_mandatory": false,
              "description": "",
              "data_type": "BASE",
              "message_list": [],
              "uuid": "3b48e4e3-6b1e-4765-8deb-3c60c2544732",
              "value": "",
              "label": "Private interface: IP",
              "state": "ACTIVE",
              "attrs": {
                "type": ""
              },
              "editables": {
                "value": true
              },
              "is_hidden": false,
              "type": "LOCAL",
              "options": {
                "type": "PREDEFINED",
                "choices": []
              },
              "name": "privateInterfaceIp"
            },
            {
              "regex": {},
              "val_type": "STRING",
              "is_mandatory": true,
              "description": "",
              "data_type": "BASE",
              "message_list": [],
              "uuid": "02e4354c-30ec-46c6-b5c9-dfbf97fc90c3",
              "value": "",
              "label": "Private interface: NETWORK",
              "state": "ACTIVE",
              "attrs": {
                "type": ""
              },
              "editables": {
                "value": true
              },
              "is_hidden": false,
              "type": "EXEC_LOCAL",
              "options": {
                "type": "EXEC",
                "attrs": {
                  "script_type": "static",
                  "type": "EXEC",
                  "command_line_args": "",
                  "exit_status": [],
                  "script": "#script\n#Global Variables\nproject = '@@{calm_project_name}@@'\nclusterSelection = '@@{clusterSelection}@@'\noffset = 0\nlength = 500\nlistNetwork = []\nlistSelection = []\n\npayload = {\n  \"kind\": \"project\",\n  \"filter\": \"name=={}\".format(project)\n}\npcUser = \"@@{pcUser}@@\"\npcUserPassword = \"@@{pcUserPassword}@@\"\n\n#Main Code\napi_url = 'https://localhost:9440/api/nutanix/v3/projects/list'\nheaders = {'Content-Type': 'application/json',  'Accept':'application/json'}\nr = urlreq(api_url, verb='POST', params=json.dumps(payload), headers=headers, verify=False, auth='BASIC', user=pcUser, passwd=pcUserPassword)\nif r.ok:\n    resp = json.loads(r.content)\nelse:\n    print \"Post request failed\", r.content\n    exit(1)\n\nfor netResource in resp[\"entities\"][0]['spec']['resources']['subnet_reference_list']:\n        listNetwork.append(netResource['uuid'])\n\nfor netUuid in listNetwork:\n    api_url = 'https://localhost:9440/api/nutanix/v3/subnets/{}'.format(netUuid)\n    headers = {'Content-Type': 'application/json',  'Accept':'application/json'}\n    r = urlreq(api_url, verb='GET', headers=headers, verify=False, auth='BASIC', user=pcUser, passwd=pcUserPassword)\n    if r.ok:\n        resp = json.loads(r.content)\n        if ((resp['spec']['cluster_reference']['name']) == clusterSelection):\n            listSelection.append(resp['spec']['name']) \n    else:\n        print \"Post request failed\", r.content\n        exit(1)\n\n#Return\n#print (varToBase64(result))\nlistSelection = sorted(dict.fromkeys(listSelection))\nlistSelection.insert(0, \"None\")\nprint \",\".join(map(str,listSelection))\n#print ((result))\nexit(0)"
                }
              },
              "name": "privateInterfaceNetwork"
            },
            {
              "regex": {},
              "val_type": "STRING",
              "is_mandatory": false,
              "description": "",
              "data_type": "BASE",
              "message_list": [],
              "uuid": "5691eb62-c7eb-4ecc-ac3b-2e3c15fdcc4a",
              "value": "",
              "label": "Backup interface: GATEWAY",
              "state": "ACTIVE",
              "attrs": {
                "type": ""
              },
              "editables": {
                "value": true
              },
              "is_hidden": false,
              "type": "LOCAL",
              "options": {
                "type": "PREDEFINED",
                "choices": []
              },
              "name": "backupInterfaceGateway"
            },
            {
              "regex": {},
              "val_type": "STRING",
              "is_mandatory": false,
              "description": "",
              "data_type": "BASE",
              "message_list": [],
              "uuid": "8942114b-974f-4ec5-b4da-e3532bc2588a",
              "value": "255.255.255.0",
              "label": "Backup interface: NETMASK",
              "state": "ACTIVE",
              "attrs": {
                "type": ""
              },
              "editables": {
                "value": true
              },
              "is_hidden": false,
              "type": "LOCAL",
              "options": {
                "type": "PREDEFINED",
                "choices": []
              },
              "name": "backupInterfaceNetmask"
            },
            {
              "regex": {},
              "val_type": "STRING",
              "is_mandatory": false,
              "description": "",
              "data_type": "BASE",
              "message_list": [],
              "uuid": "de3d6e3b-b6e1-4a2d-bc49-7a49ff8bbeb6",
              "value": "",
              "label": "Backup interface: IP",
              "state": "ACTIVE",
              "attrs": {
                "type": ""
              },
              "editables": {
                "value": true
              },
              "is_hidden": false,
              "type": "LOCAL",
              "options": {
                "type": "PREDEFINED",
                "choices": []
              },
              "name": "backupInterfaceIP"
            },
            {
              "regex": {},
              "val_type": "STRING",
              "is_mandatory": true,
              "description": "",
              "data_type": "BASE",
              "message_list": [],
              "uuid": "3c8aa680-1161-466f-be07-fb1c94a453ce",
              "value": "",
              "label": "Backup interface: NETWORK",
              "state": "ACTIVE",
              "attrs": {
                "type": ""
              },
              "editables": {
                "value": true
              },
              "is_hidden": false,
              "type": "EXEC_LOCAL",
              "options": {
                "type": "EXEC",
                "attrs": {
                  "script_type": "static",
                  "type": "EXEC",
                  "command_line_args": "",
                  "exit_status": [],
                  "script": "#script\n#Global Variables\nproject = '@@{calm_project_name}@@'\nclusterSelection = '@@{clusterSelection}@@'\noffset = 0\nlength = 500\nlistNetwork = []\nlistSelection = []\n\npayload = {\n  \"kind\": \"project\",\n  \"filter\": \"name=={}\".format(project)\n}\npcUser = \"@@{pcUser}@@\"\npcUserPassword = \"@@{pcUserPassword}@@\"\n\n#Main Code\napi_url = 'https://localhost:9440/api/nutanix/v3/projects/list'\nheaders = {'Content-Type': 'application/json',  'Accept':'application/json'}\nr = urlreq(api_url, verb='POST', params=json.dumps(payload), headers=headers, verify=False, auth='BASIC', user=pcUser, passwd=pcUserPassword)\nif r.ok:\n    resp = json.loads(r.content)\nelse:\n    print \"Post request failed\", r.content\n    exit(1)\n\nfor netResource in resp[\"entities\"][0]['spec']['resources']['subnet_reference_list']:\n        listNetwork.append(netResource['uuid'])\n\nfor netUuid in listNetwork:\n    api_url = 'https://localhost:9440/api/nutanix/v3/subnets/{}'.format(netUuid)\n    headers = {'Content-Type': 'application/json',  'Accept':'application/json'}\n    r = urlreq(api_url, verb='GET', headers=headers, verify=False, auth='BASIC', user=pcUser, passwd=pcUserPassword)\n    if r.ok:\n        resp = json.loads(r.content)\n        if ((resp['spec']['cluster_reference']['name']) == clusterSelection):\n            listSelection.append(resp['spec']['name']) \n    else:\n        print \"Post request failed\", r.content\n        exit(1)\n\n#Return\n#print (varToBase64(result))\nlistSelection = sorted(dict.fromkeys(listSelection))\nlistSelection.insert(0, \"None\")\nprint \",\".join(map(str,listSelection))\n#print ((result))\nexit(0)"
                }
              },
              "name": "backupInterfaceNetwork"
            },
            {
              "regex": {},
              "val_type": "STRING",
              "is_mandatory": true,
              "description": "",
              "data_type": "BASE",
              "message_list": [],
              "uuid": "5e90966e-d038-4b12-8eba-8cab06573faf",
              "value": "",
              "label": "Production interface: GATEWAY",
              "state": "ACTIVE",
              "attrs": {
                "type": ""
              },
              "editables": {
                "value": true
              },
              "is_hidden": false,
              "type": "LOCAL",
              "options": {
                "type": "PREDEFINED",
                "choices": []
              },
              "name": "productionInterfaceGateway"
            },
            {
              "regex": {},
              "val_type": "STRING",
              "is_mandatory": false,
              "description": "",
              "data_type": "BASE",
              "message_list": [],
              "uuid": "a90572c1-a9d9-478a-a2f9-45e8517061fb",
              "value": "255.255.255.0",
              "label": "Production interface: NETMASK",
              "state": "ACTIVE",
              "attrs": {
                "type": ""
              },
              "editables": {
                "value": true
              },
              "is_hidden": false,
              "type": "LOCAL",
              "options": {
                "type": "PREDEFINED",
                "choices": []
              },
              "name": "productionInterfaceNetmask"
            },
            {
              "regex": {
                "should_validate": false,
                "value": ""
              },
              "val_type": "STRING",
              "is_mandatory": true,
              "description": "",
              "data_type": "BASE",
              "message_list": [],
              "uuid": "3b7e4263-e9a6-4ae1-b574-2d35d61197a7",
              "value": "",
              "label": "Production interface: IP",
              "state": "ACTIVE",
              "attrs": {
                "type": ""
              },
              "editables": {
                "value": true
              },
              "is_hidden": false,
              "type": "LOCAL",
              "options": {
                "type": "PREDEFINED",
                "choices": []
              },
              "name": "productionInterfaceIp"
            },
            {
              "regex": {
                "should_validate": false,
                "value": "^.*$"
              },
              "val_type": "STRING",
              "is_mandatory": true,
              "description": "",
              "data_type": "BASE",
              "message_list": [],
              "uuid": "dd7a3a83-eda7-4b3e-ae27-562f29f29dfc",
              "value": "",
              "label": "Production interface: NETWORK",
              "state": "ACTIVE",
              "attrs": {
                "type": ""
              },
              "editables": {
                "value": true
              },
              "is_hidden": false,
              "type": "EXEC_LOCAL",
              "options": {
                "type": "EXEC",
                "attrs": {
                  "script_type": "static",
                  "type": "EXEC",
                  "command_line_args": "",
                  "exit_status": [],
                  "script": "#script\n#Global Variables\nproject = '@@{calm_project_name}@@'\nclusterSelection = '@@{clusterSelection}@@'\noffset = 0\nlength = 500\nlistNetwork = []\nlistSelection = []\n\npayload = {\n  \"kind\": \"project\",\n  \"filter\": \"name=={}\".format(project)\n}\npcUser = \"@@{pcUser}@@\"\npcUserPassword = \"@@{pcUserPassword}@@\"\n\n#Main Code\napi_url = 'https://localhost:9440/api/nutanix/v3/projects/list'\nheaders = {'Content-Type': 'application/json',  'Accept':'application/json'}\nr = urlreq(api_url, verb='POST', params=json.dumps(payload), headers=headers, verify=False, auth='BASIC', user=pcUser, passwd=pcUserPassword)\nif r.ok:\n    resp = json.loads(r.content)\nelse:\n    print \"Post request failed\", r.content\n    exit(1)\n\nfor netResource in resp[\"entities\"][0]['spec']['resources']['subnet_reference_list']:\n        listNetwork.append(netResource['uuid'])\n\nfor netUuid in listNetwork:\n    api_url = 'https://localhost:9440/api/nutanix/v3/subnets/{}'.format(netUuid)\n    headers = {'Content-Type': 'application/json',  'Accept':'application/json'}\n    r = urlreq(api_url, verb='GET', headers=headers, verify=False, auth='BASIC', user=pcUser, passwd=pcUserPassword)\n    if r.ok:\n        resp = json.loads(r.content)\n        if ((resp['spec']['cluster_reference']['name']) == clusterSelection):\n            listSelection.append(resp['spec']['name']) \n    else:\n        print \"Post request failed\", r.content\n        exit(1)\n\n#Return\n#print (varToBase64(result))\nlistSelection = sorted(dict.fromkeys(listSelection))\nprint \",\".join(map(str,listSelection))\n#print ((result))\nexit(0)"
                }
              },
              "name": "productionInterfaceNetwork"
            },
            {
              "regex": {},
              "val_type": "STRING",
              "is_mandatory": true,
              "description": "",
              "data_type": "BASE",
              "message_list": [],
              "uuid": "0819b9a2-db71-4a61-b69a-b01d29efcc6a",
              "value": "",
              "label": "Select Nutanix Cluster",
              "state": "ACTIVE",
              "attrs": {
                "type": ""
              },
              "editables": {
                "value": true
              },
              "is_hidden": false,
              "type": "EXEC_LOCAL",
              "options": {
                "type": "EXEC",
                "attrs": {
                  "script_type": "static",
                  "type": "EXEC",
                  "command_line_args": "",
                  "exit_status": [],
                  "script": "#script\n#Global Variables\nproject = '@@{calm_project_name}@@'\noffset = 0\nlength = 500\nlistNetwork = []\nlistCluster = []\npayload = {\n  \"kind\": \"project\",\n  \"filter\": \"name=={}\".format(project)\n  \n}\npcUser = \"@@{pcUser}@@\"\npcUserPassword = \"@@{pcUserPassword}@@\"\n\n#Global Functions\n\n#Main Code\napi_url = 'https://localhost:9440/api/nutanix/v3/projects/list'\nheaders = {'Content-Type': 'application/json',  'Accept':'application/json'}\nr = urlreq(api_url, verb='POST', params=json.dumps(payload), headers=headers, verify=False, auth='BASIC', user=pcUser, passwd=pcUserPassword)\nif r.ok:\n    resp = json.loads(r.content)\nelse:\n    print \"Post request failed\", r.content\n    exit(1)\n\nfor netResource in resp[\"entities\"][0]['spec']['resources']['subnet_reference_list']:\n    listNetwork.append(netResource['uuid'])\n\nfor netUuid in listNetwork:\n    api_url = 'https://localhost:9440/api/nutanix/v3/subnets/{}'.format(netUuid)\n    headers = {'Content-Type': 'application/json',  'Accept':'application/json'}\n    r = urlreq(api_url, verb='GET', headers=headers, verify=False, auth='BASIC', user=pcUser, passwd=pcUserPassword)\n    if r.ok:\n        resp = json.loads(r.content)\n        listCluster.append(resp['spec']['cluster_reference']['name'])\n    else:\n        print \"Post request failed\", r.content\n        exit(1)\n\nlistCluster = sorted(dict.fromkeys(listCluster))\n#Return\nprint \",\".join(map(str,listCluster))\nexit(0)"
                }
              },
              "name": "clusterSelection"
            },
            {
              "regex": {},
              "val_type": "STRING",
              "is_mandatory": false,
              "description": "",
              "data_type": "BASE",
              "message_list": [],
              "uuid": "bc9f3418-041c-430a-86cd-4a6753dcc294",
              "value": "calmtemp",
              "label": "",
              "state": "ACTIVE",
              "attrs": {
                "type": ""
              },
              "editables": {
                "value": false
              },
              "is_hidden": true,
              "type": "LOCAL",
              "options": {
                "type": "PREDEFINED",
                "choices": []
              },
              "name": "pcUser"
            },
            {
              "regex": {},
              "val_type": "STRING",
              "is_mandatory": false,
              "description": "",
              "data_type": "BASE",
              "message_list": [],
              "uuid": "ac22092e-cf98-4dd5-ae69-1095c1c8d0fa",
              "value": "Nutanix2020!",
              "label": "",
              "state": "ACTIVE",
              "attrs": {
                "type": ""
              },
              "editables": {
                "value": false
              },
              "is_hidden": true,
              "type": "LOCAL",
              "options": {
                "type": "PREDEFINED",
                "choices": []
              },
              "name": "pcUserPassword"
            },
            {
              "regex": {
                "should_validate": false,
                "value": "^.*$"
              },
              "val_type": "STRING",
              "is_mandatory": false,
              "description": "",
              "data_type": "BASE",
              "message_list": [],
              "uuid": "319a5ce9-edc0-4d3e-a1cc-bc55db73aba4",
              "value": "Trnd@dm!n@2020",
              "label": "",
              "state": "ACTIVE",
              "attrs": {
                "type": "LOCAL"
              },
              "editables": {},
              "is_hidden": false,
              "type": "LOCAL",
              "options": {
                "type": "PREDEFINED",
                "choices": []
              },
              "name": "securityUserPassword"
            }
          ],
          "name": "AHV"
        },
        {
          "deployment_create_list": [
            {
              "description": "",
              "action_list": [
                {
                  "description": "System action for creating an application",
                  "message_list": [],
                  "uuid": "31ff578f-7076-485f-9dc5-78b6bcbd96de",
                  "name": "action_create",
                  "state": "ACTIVE",
                  "critical": true,
                  "attrs": {},
                  "type": "system",
                  "runbook": {
                    "task_definition_list": [
                      "@{target_any_local_reference=; retries=0; description=; type=DAG; uuid=f0dff5bc-15ef-4ef3-9aa2-32b8f16777f4; child_tasks_local_reference_list=System.Object[]; state=ACTIVE; attrs=; timeout_secs=0; inherit_target=False; message_list=System.Object[]; variable_list=System.Object[]; name=SYS_GEN__Composite_DAG_Deployment_afb6ef1a_e178_418b_8141_05e7060d5a5a}",
                      "@{target_any_local_reference=; retries=0; description=; type=CREATE_DEPLOYMENT_ELEMENT; uuid=26c8636f-b025-4582-86f7-09171a361ed2; child_tasks_local_reference_list=System.Object[]; state=ACTIVE; attrs=; timeout_secs=0; inherit_target=False; message_list=System.Object[]; variable_list=System.Object[]; name=SYS_GEN__DE_Provision_afb6ef1a_e178_418b_8141_05e7060d5a5a}",
                      "@{target_any_local_reference=; retries=0; description=; type=CALL_RUNBOOK; uuid=47c54f7e-1d50-4f79-9fd2-11d54f4fe494; child_tasks_local_reference_list=System.Object[]; state=ACTIVE; attrs=; timeout_secs=0; inherit_target=False; message_list=System.Object[]; variable_list=System.Object[]; name=SYS_GEN__pre_create_CRb_Substrate_e16dfe9d_b588_4248_bc6a_f68e4a444fa0}",
                      "@{target_any_local_reference=; retries=0; description=; type=CALL_RUNBOOK; uuid=2436014c-6d67-4b00-a065-6ccebb87c78c; child_tasks_local_reference_list=System.Object[]; state=ACTIVE; attrs=; timeout_secs=0; inherit_target=False; message_list=System.Object[]; variable_list=System.Object[]; name=SYS_GEN__create_CRb_Substrate_e16dfe9d_b588_4248_bc6a_f68e4a444fa0}",
                      "@{target_any_local_reference=; retries=0; description=; type=CALL_RUNBOOK; uuid=6c7a362f-867e-42e6-9c4b-7ecabe9d8288; child_tasks_local_reference_list=System.Object[]; state=ACTIVE; attrs=; timeout_secs=0; inherit_target=False; message_list=System.Object[]; variable_list=System.Object[]; name=SYS_GEN__install_CRb_Package_ccca8e2c_86be_4b22_92cb_eeba0eea1247}",
                      "@{target_any_local_reference=; retries=0; description=; type=CALL_RUNBOOK; uuid=27004039-d978-46f2-a8d3-7f39ff2a5f59; child_tasks_local_reference_list=System.Object[]; state=ACTIVE; attrs=; timeout_secs=0; inherit_target=False; message_list=System.Object[]; variable_list=System.Object[]; name=SYS_GEN__create_CRb_Service_b2466bcd_4fa1_479c_b5c8_5e3c80832769}",
                      "@{target_any_local_reference=; retries=0; description=; type=CALL_RUNBOOK; uuid=d7ce11c2-4416-41cc-b23c-94fb1f5bc0c4; child_tasks_local_reference_list=System.Object[]; state=ACTIVE; attrs=; timeout_secs=0; inherit_target=False; message_list=System.Object[]; variable_list=System.Object[]; name=SYS_GEN__start_CRb_Service_b2466bcd_4fa1_479c_b5c8_5e3c80832769}"
                    ],
                    "description": "",
                    "message_list": [],
                    "uuid": "599ae63f-cf2a-4e0b-a6c2-ecf7cd13a045",
                    "state": "ACTIVE",
                    "variable_list": [],
                    "main_task_local_reference": {
                      "kind": "app_task",
                      "name": "SYS_GEN__Composite_DAG_Deployment_afb6ef1a_e178_418b_8141_05e7060d5a5a",
                      "uuid": "f0dff5bc-15ef-4ef3-9aa2-32b8f16777f4"
                    },
                    "name": "SYS_GEN__Runbook_Deployment_afb6ef1a_e178_418b_8141_05e7060d5a5a"
                  }
                },
                {
                  "description": "System action for starting an application",
                  "message_list": [],
                  "uuid": "5aae430a-c903-4544-8407-fa130503d768",
                  "name": "action_start",
                  "state": "ACTIVE",
                  "critical": true,
                  "attrs": {},
                  "type": "system",
                  "runbook": {
                    "task_definition_list": [
                      "@{target_any_local_reference=; retries=0; description=; type=DAG; uuid=1b6c03c3-8ac3-4eb5-97d1-f3a1368c948c; child_tasks_local_reference_list=System.Object[]; state=ACTIVE; attrs=; timeout_secs=0; inherit_target=False; message_list=System.Object[]; variable_list=System.Object[]; name=SYS_GEN__Composite_DAG_Deployment_afb6ef1a_e178_418b_8141_05e7060d5a5a}",
                      "@{target_any_local_reference=; retries=0; description=; type=CALL_RUNBOOK; uuid=09b2a2f0-439b-419c-a3e4-37bc1296b699; child_tasks_local_reference_list=System.Object[]; state=ACTIVE; attrs=; timeout_secs=0; inherit_target=False; message_list=System.Object[]; variable_list=System.Object[]; name=SYS_GEN__start_CRb_Substrate_e16dfe9d_b588_4248_bc6a_f68e4a444fa0}",
                      "@{target_any_local_reference=; retries=0; description=; type=CALL_RUNBOOK; uuid=8047b72d-05f7-4952-8619-704c74aa6588; child_tasks_local_reference_list=System.Object[]; state=ACTIVE; attrs=; timeout_secs=0; inherit_target=False; message_list=System.Object[]; variable_list=System.Object[]; name=SYS_GEN__start_CRb_Service_b2466bcd_4fa1_479c_b5c8_5e3c80832769}"
                    ],
                    "description": "",
                    "message_list": [],
                    "uuid": "1f0c1d46-68fd-4d0c-8a39-7c028bcbc9a6",
                    "state": "ACTIVE",
                    "variable_list": [],
                    "main_task_local_reference": {
                      "kind": "app_task",
                      "name": "SYS_GEN__Composite_DAG_Deployment_afb6ef1a_e178_418b_8141_05e7060d5a5a",
                      "uuid": "1b6c03c3-8ac3-4eb5-97d1-f3a1368c948c"
                    },
                    "name": "SYS_GEN__Runbook_Deployment_afb6ef1a_e178_418b_8141_05e7060d5a5a"
                  }
                },
                {
                  "description": "System action for restarting an application",
                  "message_list": [],
                  "uuid": "a37c9fb3-4ba0-4daf-bb38-490eac15c495",
                  "name": "action_restart",
                  "state": "ACTIVE",
                  "critical": true,
                  "attrs": {},
                  "type": "system",
                  "runbook": {
                    "task_definition_list": [
                      "@{target_any_local_reference=; retries=0; description=; type=DAG; uuid=47fb0816-bd0d-44fb-9342-2746312badd9; child_tasks_local_reference_list=System.Object[]; state=ACTIVE; attrs=; timeout_secs=0; inherit_target=False; message_list=System.Object[]; variable_list=System.Object[]; name=SYS_GEN__Composite_DAG_Deployment_afb6ef1a_e178_418b_8141_05e7060d5a5a}",
                      "@{target_any_local_reference=; retries=0; description=; type=CALL_RUNBOOK; uuid=2d9a1ce1-bc48-461e-95df-34072feac7ea; child_tasks_local_reference_list=System.Object[]; state=ACTIVE; attrs=; timeout_secs=0; inherit_target=False; message_list=System.Object[]; variable_list=System.Object[]; name=SYS_GEN__restart_CRb_Substrate_e16dfe9d_b588_4248_bc6a_f68e4a444fa0}",
                      "@{target_any_local_reference=; retries=0; description=; type=CALL_RUNBOOK; uuid=d8355d9f-19c3-4fbf-931f-5ba13046d9b5; child_tasks_local_reference_list=System.Object[]; state=ACTIVE; attrs=; timeout_secs=0; inherit_target=False; message_list=System.Object[]; variable_list=System.Object[]; name=SYS_GEN__restart_CRb_Service_b2466bcd_4fa1_479c_b5c8_5e3c80832769}"
                    ],
                    "description": "",
                    "message_list": [],
                    "uuid": "d284813e-3e11-4e53-9661-9081c893ab18",
                    "state": "ACTIVE",
                    "variable_list": [],
                    "main_task_local_reference": {
                      "kind": "app_task",
                      "name": "SYS_GEN__Composite_DAG_Deployment_afb6ef1a_e178_418b_8141_05e7060d5a5a",
                      "uuid": "47fb0816-bd0d-44fb-9342-2746312badd9"
                    },
                    "name": "SYS_GEN__Runbook_Deployment_afb6ef1a_e178_418b_8141_05e7060d5a5a"
                  }
                },
                {
                  "description": "System action for stopping an application",
                  "message_list": [],
                  "uuid": "dd81246f-e702-4e88-a0af-f01e8d2a2b55",
                  "name": "action_stop",
                  "state": "ACTIVE",
                  "critical": true,
                  "attrs": {},
                  "type": "system",
                  "runbook": {
                    "task_definition_list": [
                      "@{target_any_local_reference=; retries=0; description=; type=DAG; uuid=00eba687-d1bb-4f01-8cb4-88a29f82e12c; child_tasks_local_reference_list=System.Object[]; state=ACTIVE; attrs=; timeout_secs=0; inherit_target=False; message_list=System.Object[]; variable_list=System.Object[]; name=SYS_GEN__Composite_DAG_Deployment_afb6ef1a_e178_418b_8141_05e7060d5a5a}",
                      "@{target_any_local_reference=; retries=0; description=; type=CALL_RUNBOOK; uuid=7d7887ff-95d4-4a62-b2f5-e1395e88e14b; child_tasks_local_reference_list=System.Object[]; state=ACTIVE; attrs=; timeout_secs=0; inherit_target=False; message_list=System.Object[]; variable_list=System.Object[]; name=SYS_GEN__stop_CRb_Service_b2466bcd_4fa1_479c_b5c8_5e3c80832769}",
                      "@{target_any_local_reference=; retries=0; description=; type=CALL_RUNBOOK; uuid=70b3e1f4-996c-41dc-8bf3-9dabf6ea406a; child_tasks_local_reference_list=System.Object[]; state=ACTIVE; attrs=; timeout_secs=0; inherit_target=False; message_list=System.Object[]; variable_list=System.Object[]; name=SYS_GEN__stop_CRb_Substrate_e16dfe9d_b588_4248_bc6a_f68e4a444fa0}"
                    ],
                    "description": "",
                    "message_list": [],
                    "uuid": "908eccdb-6e1d-4c83-a1e7-37f4896354a2",
                    "state": "ACTIVE",
                    "variable_list": [],
                    "main_task_local_reference": {
                      "kind": "app_task",
                      "name": "SYS_GEN__Composite_DAG_Deployment_afb6ef1a_e178_418b_8141_05e7060d5a5a",
                      "uuid": "00eba687-d1bb-4f01-8cb4-88a29f82e12c"
                    },
                    "name": "SYS_GEN__Runbook_Deployment_afb6ef1a_e178_418b_8141_05e7060d5a5a"
                  }
                },
                {
                  "description": "System action for deleting an application. Deletes created VMs as well",
                  "message_list": [],
                  "uuid": "30f4438e-e8f7-4f08-93b9-cf693ed12906",
                  "name": "action_delete",
                  "state": "ACTIVE",
                  "critical": true,
                  "attrs": {},
                  "type": "system",
                  "runbook": {
                    "task_definition_list": [
                      "@{target_any_local_reference=; retries=0; description=; type=DAG; uuid=efefdb2e-7de1-4137-8848-032f8112ed7e; child_tasks_local_reference_list=System.Object[]; state=ACTIVE; attrs=; timeout_secs=0; inherit_target=False; message_list=System.Object[]; variable_list=System.Object[]; name=SYS_GEN__Composite_DAG_Deployment_afb6ef1a_e178_418b_8141_05e7060d5a5a}",
                      "@{target_any_local_reference=; retries=0; description=; type=CALL_RUNBOOK; uuid=8f987254-c4c7-43d2-8ac5-2a23374054c3; child_tasks_local_reference_list=System.Object[]; state=ACTIVE; attrs=; timeout_secs=0; inherit_target=False; message_list=System.Object[]; variable_list=System.Object[]; name=SYS_GEN__stop_CRb_Service_b2466bcd_4fa1_479c_b5c8_5e3c80832769}",
                      "@{target_any_local_reference=; retries=0; description=; type=CALL_RUNBOOK; uuid=e7fc05fd-d05c-4395-a790-58dd037c5c28; child_tasks_local_reference_list=System.Object[]; state=ACTIVE; attrs=; timeout_secs=0; inherit_target=False; message_list=System.Object[]; variable_list=System.Object[]; name=SYS_GEN__delete_CRb_Service_b2466bcd_4fa1_479c_b5c8_5e3c80832769}",
                      "@{target_any_local_reference=; retries=0; description=; type=CALL_RUNBOOK; uuid=cc1681a5-3b34-466b-a43b-e24ed86a2e0b; child_tasks_local_reference_list=System.Object[]; state=ACTIVE; attrs=; timeout_secs=0; inherit_target=False; message_list=System.Object[]; variable_list=System.Object[]; name=SYS_GEN__uninstall_CRb_Package_ccca8e2c_86be_4b22_92cb_eeba0eea1247}",
                      "@{target_any_local_reference=; retries=0; description=; type=CALL_RUNBOOK; uuid=a88072f7-2fb2-43dc-9a96-2394ce70df70; child_tasks_local_reference_list=System.Object[]; state=ACTIVE; attrs=; timeout_secs=0; inherit_target=False; message_list=System.Object[]; variable_list=System.Object[]; name=SYS_GEN__delete_CRb_Substrate_e16dfe9d_b588_4248_bc6a_f68e4a444fa0}",
                      "@{target_any_local_reference=; retries=0; description=; type=CALL_RUNBOOK; uuid=4597d2f4-95c2-4a17-b978-bc62a8ce9b23; child_tasks_local_reference_list=System.Object[]; state=ACTIVE; attrs=; timeout_secs=0; inherit_target=False; message_list=System.Object[]; variable_list=System.Object[]; name=SYS_GEN__post_delete_CRb_Substrate_e16dfe9d_b588_4248_bc6a_f68e4a444fa0}",
                      "@{target_any_local_reference=; retries=0; description=; type=DELETE_DEPLOYMENT_ELEMENT; uuid=55ec62ea-b0b3-41cf-8fb1-c878bf75446f; child_tasks_local_reference_list=System.Object[]; state=ACTIVE; attrs=; timeout_secs=0; inherit_target=False; message_list=System.Object[]; variable_list=System.Object[]; name=SYS_GEN__DE_Delete_afb6ef1a_e178_418b_8141_05e7060d5a5a}"
                    ],
                    "description": "",
                    "message_list": [],
                    "uuid": "48998f43-cc1c-4175-80f0-35577d82a59f",
                    "state": "ACTIVE",
                    "variable_list": [],
                    "main_task_local_reference": {
                      "kind": "app_task",
                      "name": "SYS_GEN__Composite_DAG_Deployment_afb6ef1a_e178_418b_8141_05e7060d5a5a",
                      "uuid": "efefdb2e-7de1-4137-8848-032f8112ed7e"
                    },
                    "name": "SYS_GEN__Runbook_Deployment_afb6ef1a_e178_418b_8141_05e7060d5a5a"
                  }
                },
                {
                  "description": "System action for scaleout",
                  "message_list": [],
                  "uuid": "75390297-2aec-42d0-8d59-892a504ce152",
                  "name": "action_scaleout",
                  "state": "ACTIVE",
                  "critical": true,
                  "attrs": {},
                  "type": "system",
                  "runbook": {
                    "task_definition_list": [
                      "@{target_any_local_reference=; retries=0; description=; type=DAG; uuid=7e35fb84-83c3-4474-b404-e5ef77d8f291; child_tasks_local_reference_list=System.Object[]; state=ACTIVE; attrs=; timeout_secs=0; inherit_target=False; message_list=System.Object[]; variable_list=System.Object[]; name=SYS_GEN__Composite_DAG_Deployment_afb6ef1a_e178_418b_8141_05e7060d5a5a}",
                      "@{target_any_local_reference=; retries=0; description=; type=SCALING; uuid=c77208bb-6a69-49f4-a9ab-6278946a3378; child_tasks_local_reference_list=System.Object[]; state=ACTIVE; attrs=; timeout_secs=0; inherit_target=False; message_list=System.Object[]; variable_list=System.Object[]; name=SYS_GEN__Deployment_Scaleout_afb6ef1a_e178_418b_8141_05e7060d5a5a}"
                    ],
                    "description": "",
                    "message_list": [],
                    "uuid": "8f5ed0b9-4969-414a-8c8e-fd4801a6f2b6",
                    "state": "ACTIVE",
                    "variable_list": [
                      "@{regex=; val_type=STRING; is_mandatory=False; description=; data_type=BASE; message_list=System.Object[]; uuid=8982d3ee-1b0d-4f77-bdff-775aea76289a; value=0; label=; state=NOT_VALIDATED; attrs=; editables=; is_hidden=False; type=LOCAL; options=; name=scaling_count}"
                    ],
                    "main_task_local_reference": {
                      "kind": "app_task",
                      "name": "SYS_GEN__Composite_DAG_Deployment_afb6ef1a_e178_418b_8141_05e7060d5a5a",
                      "uuid": "7e35fb84-83c3-4474-b404-e5ef77d8f291"
                    },
                    "name": "SYS_GEN__Runbook_Deployment_afb6ef1a_e178_418b_8141_05e7060d5a5a"
                  }
                },
                {
                  "description": "System action for scalein",
                  "message_list": [],
                  "uuid": "5aa27175-338d-4e54-8006-5c10b225d339",
                  "name": "action_scalein",
                  "state": "ACTIVE",
                  "critical": true,
                  "attrs": {},
                  "type": "system",
                  "runbook": {
                    "task_definition_list": [
                      "@{target_any_local_reference=; retries=0; description=; type=DAG; uuid=c025acfc-d01a-47c9-a96f-807ae7bf12b1; child_tasks_local_reference_list=System.Object[]; state=ACTIVE; attrs=; timeout_secs=0; inherit_target=False; message_list=System.Object[]; variable_list=System.Object[]; name=SYS_GEN__Composite_DAG_Deployment_afb6ef1a_e178_418b_8141_05e7060d5a5a}",
                      "@{target_any_local_reference=; retries=0; description=; type=SCALING; uuid=a7b3adee-a479-442b-85fc-136e0e4cdbef; child_tasks_local_reference_list=System.Object[]; state=ACTIVE; attrs=; timeout_secs=0; inherit_target=False; message_list=System.Object[]; variable_list=System.Object[]; name=SYS_GEN__Deployment_Scalein_afb6ef1a_e178_418b_8141_05e7060d5a5a}"
                    ],
                    "description": "",
                    "message_list": [],
                    "uuid": "d65456bf-92b3-4b39-884a-5d993cfc78fa",
                    "state": "ACTIVE",
                    "variable_list": [
                      "@{regex=; val_type=STRING; is_mandatory=False; description=; data_type=BASE; message_list=System.Object[]; uuid=358eded9-d11d-41e3-b732-b6082b045b84; value=0; label=; state=NOT_VALIDATED; attrs=; editables=; is_hidden=False; type=LOCAL; options=; name=scaling_count}"
                    ],
                    "main_task_local_reference": {
                      "kind": "app_task",
                      "name": "SYS_GEN__Composite_DAG_Deployment_afb6ef1a_e178_418b_8141_05e7060d5a5a",
                      "uuid": "c025acfc-d01a-47c9-a96f-807ae7bf12b1"
                    },
                    "name": "SYS_GEN__Runbook_Deployment_afb6ef1a_e178_418b_8141_05e7060d5a5a"
                  }
                },
                {
                  "description": "System action for deleting an application. Does not delete created VMs",
                  "message_list": [],
                  "uuid": "c6ba79b6-39ba-4415-926a-d0fe08ddc5db",
                  "name": "action_soft_delete",
                  "state": "ACTIVE",
                  "critical": true,
                  "attrs": {},
                  "type": "system",
                  "runbook": {
                    "task_definition_list": [
                      "@{target_any_local_reference=; retries=0; description=; type=DAG; uuid=37190938-9657-46af-8095-5b93a344a279; child_tasks_local_reference_list=System.Object[]; state=ACTIVE; attrs=; timeout_secs=0; inherit_target=False; message_list=System.Object[]; variable_list=System.Object[]; name=SYS_GEN__Composite_DAG_Deployment_afb6ef1a_e178_418b_8141_05e7060d5a5a}",
                      "@{target_any_local_reference=; retries=0; description=; type=CALL_RUNBOOK; uuid=33efcc5b-7c4a-413d-a341-8193130d6f12; child_tasks_local_reference_list=System.Object[]; state=ACTIVE; attrs=; timeout_secs=0; inherit_target=False; message_list=System.Object[]; variable_list=System.Object[]; name=SYS_GEN__soft_delete_CRb_Service_b2466bcd_4fa1_479c_b5c8_5e3c80832769}",
                      "@{target_any_local_reference=; retries=0; description=; type=SOFT_DELETE_ELEMENT; uuid=3e48c64d-8775-4126-8a8a-3bad7f623ccb; child_tasks_local_reference_list=System.Object[]; state=ACTIVE; attrs=; timeout_secs=0; inherit_target=False; message_list=System.Object[]; variable_list=System.Object[]; name=SYS_GEN__Package_Element_Delete_ccca8e2c_86be_4b22_92cb_eeba0eea1247}",
                      "@{target_any_local_reference=; retries=0; description=; type=CALL_RUNBOOK; uuid=3c1d9f67-dcc5-4235-92e1-3f2bb73fb619; child_tasks_local_reference_list=System.Object[]; state=ACTIVE; attrs=; timeout_secs=0; inherit_target=False; message_list=System.Object[]; variable_list=System.Object[]; name=SYS_GEN__soft_delete_CRb_Substrate_e16dfe9d_b588_4248_bc6a_f68e4a444fa0}",
                      "@{target_any_local_reference=; retries=0; description=; type=SOFT_DELETE_DEPLOYMENT_ELEMENT; uuid=3fa718bd-6e79-4978-9b7d-3ec2040ee5a4; child_tasks_local_reference_list=System.Object[]; state=ACTIVE; attrs=; timeout_secs=0; inherit_target=False; message_list=System.Object[]; variable_list=System.Object[]; name=SYS_GEN__DE_Soft_Delete_afb6ef1a_e178_418b_8141_05e7060d5a5a}"
                    ],
                    "description": "",
                    "message_list": [],
                    "uuid": "d8d27012-96f6-4777-8491-4ec74d24af24",
                    "state": "ACTIVE",
                    "variable_list": [],
                    "main_task_local_reference": {
                      "kind": "app_task",
                      "name": "SYS_GEN__Composite_DAG_Deployment_afb6ef1a_e178_418b_8141_05e7060d5a5a",
                      "uuid": "37190938-9657-46af-8095-5b93a344a279"
                    },
                    "name": "SYS_GEN__Runbook_Deployment_afb6ef1a_e178_418b_8141_05e7060d5a5a"
                  }
                },
                {
                  "description": "System action for snapshot deletion",
                  "message_list": [],
                  "uuid": "3b2e715c-8166-43fd-90f5-c9726feb4e0c",
                  "name": "action_snapshot_delete",
                  "state": "ACTIVE",
                  "critical": true,
                  "attrs": {},
                  "type": "system",
                  "runbook": {
                    "task_definition_list": [
                      "@{target_any_local_reference=; retries=0; description=; type=DAG; uuid=6d03404f-98ba-417c-b212-62ff71e35caa; child_tasks_local_reference_list=System.Object[]; state=ACTIVE; attrs=; timeout_secs=0; inherit_target=False; message_list=System.Object[]; variable_list=System.Object[]; name=SYS_GEN__Composite_DAG_Deployment_afb6ef1a_e178_418b_8141_05e7060d5a5a}",
                      "@{target_any_local_reference=; retries=0; description=; type=CALL_RUNBOOK; uuid=5fef7859-fea9-40a0-a331-67f3ae0f05f7; child_tasks_local_reference_list=System.Object[]; state=ACTIVE; attrs=; timeout_secs=0; inherit_target=False; message_list=System.Object[]; variable_list=System.Object[]; name=SYS_GEN__snapshot_delete_CRb_Substrate_e16dfe9d_b588_4248_bc6a_f68e4a444fa0}"
                    ],
                    "description": "",
                    "message_list": [],
                    "uuid": "65bbb508-4e2e-482f-8157-ce81e0a41f04",
                    "state": "ACTIVE",
                    "variable_list": [
                      "@{regex=; val_type=STRING; is_mandatory=False; description=; data_type=BASE; message_list=System.Object[]; uuid=378e3d44-5574-48bc-b9f1-017b497cf386; value=; label=; state=NOT_VALIDATED; attrs=; editables=; is_hidden=False; type=LOCAL; options=; name=snapshot_id}",
                      "@{regex=; val_type=STRING; is_mandatory=False; description=; data_type=BASE; message_list=System.Object[]; uuid=3d326653-98b6-40c8-8f35-797136efe0bf; value=; label=; state=NOT_VALIDATED; attrs=; editables=; is_hidden=False; type=LOCAL; options=; name=snapshot_group_id}"
                    ],
                    "main_task_local_reference": {
                      "kind": "app_task",
                      "name": "SYS_GEN__Composite_DAG_Deployment_afb6ef1a_e178_418b_8141_05e7060d5a5a",
                      "uuid": "6d03404f-98ba-417c-b212-62ff71e35caa"
                    },
                    "name": "SYS_GEN__Runbook_Deployment_afb6ef1a_e178_418b_8141_05e7060d5a5a"
                  }
                }
              ],
              "message_list": [],
              "published_service_local_reference_list": [],
              "uuid": "afb6ef1a-e178-418b-8141-05e7060d5a5a",
              "default_replicas": "1",
              "min_replicas": "1",
              "state": "DRAFT",
              "max_replicas": "1",
              "depends_on_list": [],
              "editables": {},
              "package_local_reference_list": [
                {
                  "kind": "app_package",
                  "name": "Package2",
                  "uuid": "ccca8e2c-86be-4b22-92cb-eeba0eea1247"
                }
              ],
              "substrate_local_reference": {
                "kind": "app_substrate",
                "name": "VM1_2",
                "uuid": "e16dfe9d-b588-4248-bc6a-f68e4a444fa0"
              },
              "type": "GREENFIELD",
              "options": {},
              "variable_list": [],
              "name": "7a9ac986_deployment"
            }
          ],
          "environment_reference_list": [
            "8c1d8b5c-4150-25d2-d4a4-58a5638a3ac7"
          ],
          "application_url": "",
          "description": "",
          "action_list": [
            {
              "description": "System action for creating an application",
              "message_list": [],
              "uuid": "578ce064-b4a5-412e-9c28-f32cdd5799cf",
              "name": "action_create",
              "state": "ACTIVE",
              "critical": true,
              "attrs": {},
              "type": "system",
              "runbook": {
                "task_definition_list": [
                  {
                    "target_any_local_reference": {
                      "kind": "app_profile",
                      "name": "vSphere",
                      "uuid": "44a42d7e-7559-4ba1-864c-3ab3654d6319"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "DAG",
                    "uuid": "59b1b4b7-5abc-4b42-accd-5c01430079b7",
                    "child_tasks_local_reference_list": [
                      "@{kind=app_task; name=SYS_GEN__DE_Provision_afb6ef1a_e178_418b_8141_05e7060d5a5a; uuid=28cbf00d-4dd6-4deb-99cb-beca3dce87a5}",
                      "@{kind=app_task; name=SYS_GEN__pre_create_CRb_Substrate_e16dfe9d_b588_4248_bc6a_f68e4a444fa0; uuid=a79c10c4-689e-47e7-a073-d295c2e4bb59}",
                      "@{kind=app_task; name=SYS_GEN__create_CRb_Substrate_e16dfe9d_b588_4248_bc6a_f68e4a444fa0; uuid=fa84dd1d-2eae-491e-8717-45558227656b}",
                      "@{kind=app_task; name=SYS_GEN__install_CRb_Package_ccca8e2c_86be_4b22_92cb_eeba0eea1247; uuid=4af3470e-3004-4cce-8ea3-86314c41976f}",
                      "@{kind=app_task; name=SYS_GEN__create_CRb_Service_b2466bcd_4fa1_479c_b5c8_5e3c80832769; uuid=6562dca5-c3ab-4f80-8a93-88054fe6be5e}",
                      "@{kind=app_task; name=SYS_GEN__start_CRb_Service_b2466bcd_4fa1_479c_b5c8_5e3c80832769; uuid=f759d26a-bf4a-43d3-90f1-3d2910d1fcb9}"
                    ],
                    "state": "ACTIVE",
                    "attrs": {
                      "edges": "    ",
                      "type": "DAG"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__Composite_DAG_Application_44a42d7e_7559_4ba1_864c_3ab3654d6319"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_blueprint_deployment",
                      "name": "7a9ac986_deployment",
                      "uuid": "afb6ef1a-e178-418b-8141-05e7060d5a5a"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "CREATE_DEPLOYMENT_ELEMENT",
                    "uuid": "28cbf00d-4dd6-4deb-99cb-beca3dce87a5",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "type": ""
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__DE_Provision_afb6ef1a_e178_418b_8141_05e7060d5a5a"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_substrate",
                      "name": "VM1_2",
                      "uuid": "e16dfe9d-b588-4248-bc6a-f68e4a444fa0"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "CALL_RUNBOOK",
                    "uuid": "a79c10c4-689e-47e7-a073-d295c2e4bb59",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "inarg_list": "",
                      "deployment_reference": "@{kind=app_blueprint_deployment; name=7a9ac986_deployment; uuid=afb6ef1a-e178-418b-8141-05e7060d5a5a}",
                      "type": "CALL_RUNBOOK",
                      "runbook_reference": "@{kind=app_runbook; name=116a909f_runbook; uuid=410d9dd3-5c5e-4924-9a79-585db9f12e60}"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__pre_create_CRb_Substrate_e16dfe9d_b588_4248_bc6a_f68e4a444fa0"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_substrate",
                      "name": "VM1_2",
                      "uuid": "e16dfe9d-b588-4248-bc6a-f68e4a444fa0"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "CALL_RUNBOOK",
                    "uuid": "fa84dd1d-2eae-491e-8717-45558227656b",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "inarg_list": "",
                      "deployment_reference": "@{kind=app_blueprint_deployment; name=7a9ac986_deployment; uuid=afb6ef1a-e178-418b-8141-05e7060d5a5a}",
                      "type": "CALL_RUNBOOK",
                      "runbook_reference": "@{kind=app_runbook; name=SYS_GEN__Runbook_Substrate_e16dfe9d_b588_4248_bc6a_f68e4a444fa0; uuid=7b60e257-f59d-4bfb-bfae-f7a7bc921102}"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__create_CRb_Substrate_e16dfe9d_b588_4248_bc6a_f68e4a444fa0"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_package",
                      "name": "Package2",
                      "uuid": "ccca8e2c-86be-4b22-92cb-eeba0eea1247"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "CALL_RUNBOOK",
                    "uuid": "4af3470e-3004-4cce-8ea3-86314c41976f",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "inarg_list": "",
                      "deployment_reference": "@{kind=app_blueprint_deployment; name=7a9ac986_deployment; uuid=afb6ef1a-e178-418b-8141-05e7060d5a5a}",
                      "type": "CALL_RUNBOOK",
                      "runbook_reference": "@{kind=app_runbook; name=SYS_GEN__Runbook_Package_ccca8e2c_86be_4b22_92cb_eeba0eea1247; uuid=4105a9a1-4a55-41d4-8f1e-a4d90c4a59ad}"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__install_CRb_Package_ccca8e2c_86be_4b22_92cb_eeba0eea1247"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_service",
                      "name": "Service1",
                      "uuid": "b2466bcd-4fa1-479c-b5c8-5e3c80832769"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "CALL_RUNBOOK",
                    "uuid": "6562dca5-c3ab-4f80-8a93-88054fe6be5e",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "inarg_list": "",
                      "deployment_reference": "@{kind=app_blueprint_deployment; name=7a9ac986_deployment; uuid=afb6ef1a-e178-418b-8141-05e7060d5a5a}",
                      "type": "CALL_RUNBOOK",
                      "runbook_reference": "@{kind=app_runbook; name=ff3e502d_runbook; uuid=b842486f-5e48-4cf7-9ee3-ee38ef74f356}"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__create_CRb_Service_b2466bcd_4fa1_479c_b5c8_5e3c80832769"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_service",
                      "name": "Service1",
                      "uuid": "b2466bcd-4fa1-479c-b5c8-5e3c80832769"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "CALL_RUNBOOK",
                    "uuid": "f759d26a-bf4a-43d3-90f1-3d2910d1fcb9",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "inarg_list": "",
                      "deployment_reference": "@{kind=app_blueprint_deployment; name=7a9ac986_deployment; uuid=afb6ef1a-e178-418b-8141-05e7060d5a5a}",
                      "type": "CALL_RUNBOOK",
                      "runbook_reference": "@{kind=app_runbook; name=bcdcb98e_runbook; uuid=bb0141f3-0775-4357-b329-5aa96a7d87b9}"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__start_CRb_Service_b2466bcd_4fa1_479c_b5c8_5e3c80832769"
                  }
                ],
                "description": "",
                "message_list": [],
                "uuid": "1f5fe6ef-e9df-4b9c-8f90-8d9d3c089c6d",
                "state": "ACTIVE",
                "variable_list": [],
                "main_task_local_reference": {
                  "kind": "app_task",
                  "name": "SYS_GEN__Composite_DAG_Application_44a42d7e_7559_4ba1_864c_3ab3654d6319",
                  "uuid": "59b1b4b7-5abc-4b42-accd-5c01430079b7"
                },
                "name": "SYS_GEN__Runbook_Application_44a42d7e_7559_4ba1_864c_3ab3654d6319"
              }
            },
            {
              "description": "System action for starting an application",
              "message_list": [],
              "uuid": "6faea2be-34eb-42be-a1f6-7ab1878a2edc",
              "name": "action_start",
              "state": "ACTIVE",
              "critical": true,
              "attrs": {},
              "type": "system",
              "runbook": {
                "task_definition_list": [
                  {
                    "target_any_local_reference": {
                      "kind": "app_profile",
                      "name": "vSphere",
                      "uuid": "44a42d7e-7559-4ba1-864c-3ab3654d6319"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "DAG",
                    "uuid": "0bc45062-a32f-45b0-a346-1e0d6e6d6a3b",
                    "child_tasks_local_reference_list": [
                      "@{kind=app_task; name=SYS_GEN__start_CRb_Substrate_e16dfe9d_b588_4248_bc6a_f68e4a444fa0; uuid=acae631f-fa7d-4d64-9959-5c933ac8640f}",
                      "@{kind=app_task; name=SYS_GEN__start_CRb_Service_b2466bcd_4fa1_479c_b5c8_5e3c80832769; uuid=34b27f9a-160a-4c14-92f7-4db97528b40c}"
                    ],
                    "state": "ACTIVE",
                    "attrs": {
                      "edges": "",
                      "type": "DAG"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__Composite_DAG_Application_44a42d7e_7559_4ba1_864c_3ab3654d6319"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_substrate",
                      "name": "VM1_2",
                      "uuid": "e16dfe9d-b588-4248-bc6a-f68e4a444fa0"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "CALL_RUNBOOK",
                    "uuid": "acae631f-fa7d-4d64-9959-5c933ac8640f",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "inarg_list": "",
                      "deployment_reference": "@{kind=app_blueprint_deployment; name=7a9ac986_deployment; uuid=afb6ef1a-e178-418b-8141-05e7060d5a5a}",
                      "type": "CALL_RUNBOOK",
                      "runbook_reference": "@{kind=app_runbook; name=SYS_GEN__Runbook_Substrate_e16dfe9d_b588_4248_bc6a_f68e4a444fa0; uuid=d7ff2e66-8bb5-4389-a1d6-d61d45faab51}"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__start_CRb_Substrate_e16dfe9d_b588_4248_bc6a_f68e4a444fa0"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_service",
                      "name": "Service1",
                      "uuid": "b2466bcd-4fa1-479c-b5c8-5e3c80832769"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "CALL_RUNBOOK",
                    "uuid": "34b27f9a-160a-4c14-92f7-4db97528b40c",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "inarg_list": "",
                      "deployment_reference": "@{kind=app_blueprint_deployment; name=7a9ac986_deployment; uuid=afb6ef1a-e178-418b-8141-05e7060d5a5a}",
                      "type": "CALL_RUNBOOK",
                      "runbook_reference": "@{kind=app_runbook; name=bcdcb98e_runbook; uuid=bb0141f3-0775-4357-b329-5aa96a7d87b9}"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__start_CRb_Service_b2466bcd_4fa1_479c_b5c8_5e3c80832769"
                  }
                ],
                "description": "",
                "message_list": [],
                "uuid": "9dce202e-1d08-40dd-92c2-6973fe89aca9",
                "state": "ACTIVE",
                "variable_list": [],
                "main_task_local_reference": {
                  "kind": "app_task",
                  "name": "SYS_GEN__Composite_DAG_Application_44a42d7e_7559_4ba1_864c_3ab3654d6319",
                  "uuid": "0bc45062-a32f-45b0-a346-1e0d6e6d6a3b"
                },
                "name": "SYS_GEN__Runbook_Application_44a42d7e_7559_4ba1_864c_3ab3654d6319"
              }
            },
            {
              "description": "System action for restarting an application",
              "message_list": [],
              "uuid": "7abb65d8-0e5e-4914-951f-09da5b9e3f1f",
              "name": "action_restart",
              "state": "ACTIVE",
              "critical": true,
              "attrs": {},
              "type": "system",
              "runbook": {
                "task_definition_list": [
                  {
                    "target_any_local_reference": {
                      "kind": "app_profile",
                      "name": "vSphere",
                      "uuid": "44a42d7e-7559-4ba1-864c-3ab3654d6319"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "DAG",
                    "uuid": "1f52a76d-1099-4bbc-ab5c-7af61bc4c8ec",
                    "child_tasks_local_reference_list": [
                      "@{kind=app_task; name=SYS_GEN__restart_CRb_Substrate_e16dfe9d_b588_4248_bc6a_f68e4a444fa0; uuid=f7214c57-b863-40b3-a531-6e76f84de911}",
                      "@{kind=app_task; name=SYS_GEN__restart_CRb_Service_b2466bcd_4fa1_479c_b5c8_5e3c80832769; uuid=75e9ae18-418a-4476-87d6-422d40d18c4d}"
                    ],
                    "state": "ACTIVE",
                    "attrs": {
                      "edges": "",
                      "type": "DAG"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__Composite_DAG_Application_44a42d7e_7559_4ba1_864c_3ab3654d6319"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_substrate",
                      "name": "VM1_2",
                      "uuid": "e16dfe9d-b588-4248-bc6a-f68e4a444fa0"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "CALL_RUNBOOK",
                    "uuid": "f7214c57-b863-40b3-a531-6e76f84de911",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "inarg_list": "",
                      "deployment_reference": "@{kind=app_blueprint_deployment; name=7a9ac986_deployment; uuid=afb6ef1a-e178-418b-8141-05e7060d5a5a}",
                      "type": "CALL_RUNBOOK",
                      "runbook_reference": "@{kind=app_runbook; name=SYS_GEN__Runbook_Substrate_e16dfe9d_b588_4248_bc6a_f68e4a444fa0; uuid=b186a29e-0273-4e5b-add0-741185dccd25}"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__restart_CRb_Substrate_e16dfe9d_b588_4248_bc6a_f68e4a444fa0"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_service",
                      "name": "Service1",
                      "uuid": "b2466bcd-4fa1-479c-b5c8-5e3c80832769"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "CALL_RUNBOOK",
                    "uuid": "75e9ae18-418a-4476-87d6-422d40d18c4d",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "inarg_list": "",
                      "deployment_reference": "@{kind=app_blueprint_deployment; name=7a9ac986_deployment; uuid=afb6ef1a-e178-418b-8141-05e7060d5a5a}",
                      "type": "CALL_RUNBOOK",
                      "runbook_reference": "@{kind=app_runbook; name=e68a120c_runbook; uuid=0838837f-1d74-4429-83f9-7177f89ba3a8}"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__restart_CRb_Service_b2466bcd_4fa1_479c_b5c8_5e3c80832769"
                  }
                ],
                "description": "",
                "message_list": [],
                "uuid": "a8335b57-cbf8-4b12-a163-5e412bf87589",
                "state": "ACTIVE",
                "variable_list": [],
                "main_task_local_reference": {
                  "kind": "app_task",
                  "name": "SYS_GEN__Composite_DAG_Application_44a42d7e_7559_4ba1_864c_3ab3654d6319",
                  "uuid": "1f52a76d-1099-4bbc-ab5c-7af61bc4c8ec"
                },
                "name": "SYS_GEN__Runbook_Application_44a42d7e_7559_4ba1_864c_3ab3654d6319"
              }
            },
            {
              "description": "System action for stopping an application",
              "message_list": [],
              "uuid": "7fefe2f5-77c8-4c0b-b435-2af07a641872",
              "name": "action_stop",
              "state": "ACTIVE",
              "critical": true,
              "attrs": {},
              "type": "system",
              "runbook": {
                "task_definition_list": [
                  {
                    "target_any_local_reference": {
                      "kind": "app_profile",
                      "name": "vSphere",
                      "uuid": "44a42d7e-7559-4ba1-864c-3ab3654d6319"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "DAG",
                    "uuid": "bdb638bb-cc93-4316-8b55-1f77245218be",
                    "child_tasks_local_reference_list": [
                      "@{kind=app_task; name=SYS_GEN__stop_CRb_Service_b2466bcd_4fa1_479c_b5c8_5e3c80832769; uuid=e95e7d93-0779-4c89-ba7e-98fbffd22fbf}",
                      "@{kind=app_task; name=SYS_GEN__stop_CRb_Substrate_e16dfe9d_b588_4248_bc6a_f68e4a444fa0; uuid=7a21d1eb-0b41-4683-b740-04c1375d13bd}"
                    ],
                    "state": "ACTIVE",
                    "attrs": {
                      "edges": "",
                      "type": "DAG"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__Composite_DAG_Application_44a42d7e_7559_4ba1_864c_3ab3654d6319"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_service",
                      "name": "Service1",
                      "uuid": "b2466bcd-4fa1-479c-b5c8-5e3c80832769"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "CALL_RUNBOOK",
                    "uuid": "e95e7d93-0779-4c89-ba7e-98fbffd22fbf",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "inarg_list": "",
                      "deployment_reference": "@{kind=app_blueprint_deployment; name=7a9ac986_deployment; uuid=afb6ef1a-e178-418b-8141-05e7060d5a5a}",
                      "type": "CALL_RUNBOOK",
                      "runbook_reference": "@{kind=app_runbook; name=e6e3ef02_runbook; uuid=ad14c0b3-3182-4e04-9b5a-c4c42ae4e9b2}"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__stop_CRb_Service_b2466bcd_4fa1_479c_b5c8_5e3c80832769"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_substrate",
                      "name": "VM1_2",
                      "uuid": "e16dfe9d-b588-4248-bc6a-f68e4a444fa0"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "CALL_RUNBOOK",
                    "uuid": "7a21d1eb-0b41-4683-b740-04c1375d13bd",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "inarg_list": "",
                      "deployment_reference": "@{kind=app_blueprint_deployment; name=7a9ac986_deployment; uuid=afb6ef1a-e178-418b-8141-05e7060d5a5a}",
                      "type": "CALL_RUNBOOK",
                      "runbook_reference": "@{kind=app_runbook; name=SYS_GEN__Runbook_Substrate_e16dfe9d_b588_4248_bc6a_f68e4a444fa0; uuid=890c0616-8bf0-4126-8041-6c756153839f}"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__stop_CRb_Substrate_e16dfe9d_b588_4248_bc6a_f68e4a444fa0"
                  }
                ],
                "description": "",
                "message_list": [],
                "uuid": "811da830-8844-4495-8d47-30cba387e2cb",
                "state": "ACTIVE",
                "variable_list": [],
                "main_task_local_reference": {
                  "kind": "app_task",
                  "name": "SYS_GEN__Composite_DAG_Application_44a42d7e_7559_4ba1_864c_3ab3654d6319",
                  "uuid": "bdb638bb-cc93-4316-8b55-1f77245218be"
                },
                "name": "SYS_GEN__Runbook_Application_44a42d7e_7559_4ba1_864c_3ab3654d6319"
              }
            },
            {
              "description": "System action for deleting an application. Deletes created VMs as well",
              "message_list": [],
              "uuid": "6ab13499-15a0-467b-a6bf-b8d87d1704e3",
              "name": "action_delete",
              "state": "ACTIVE",
              "critical": true,
              "attrs": {},
              "type": "system",
              "runbook": {
                "task_definition_list": [
                  {
                    "target_any_local_reference": {
                      "kind": "app_profile",
                      "name": "vSphere",
                      "uuid": "44a42d7e-7559-4ba1-864c-3ab3654d6319"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "DAG",
                    "uuid": "081387ee-b1b4-4539-88c7-99d49378b4f1",
                    "child_tasks_local_reference_list": [
                      "@{kind=app_task; name=SYS_GEN__stop_CRb_Service_b2466bcd_4fa1_479c_b5c8_5e3c80832769; uuid=f61d92ba-f8b5-4c9c-b10b-d85d078c2468}",
                      "@{kind=app_task; name=SYS_GEN__delete_CRb_Service_b2466bcd_4fa1_479c_b5c8_5e3c80832769; uuid=fe681fe7-0599-4e8a-8a73-9db9c711c28d}",
                      "@{kind=app_task; name=SYS_GEN__uninstall_CRb_Package_ccca8e2c_86be_4b22_92cb_eeba0eea1247; uuid=f75e9f30-eac6-48c2-95c8-31143f021a14}",
                      "@{kind=app_task; name=SYS_GEN__delete_CRb_Substrate_e16dfe9d_b588_4248_bc6a_f68e4a444fa0; uuid=62bf4153-c146-4caf-9a05-cdc1a509cd9b}",
                      "@{kind=app_task; name=SYS_GEN__post_delete_CRb_Substrate_e16dfe9d_b588_4248_bc6a_f68e4a444fa0; uuid=9e9dad7c-1354-4074-b75b-c3f42adb8f3b}",
                      "@{kind=app_task; name=SYS_GEN__DE_Delete_afb6ef1a_e178_418b_8141_05e7060d5a5a; uuid=7f20bfc9-a261-4e7c-852d-975c3c027f9e}"
                    ],
                    "state": "ACTIVE",
                    "attrs": {
                      "edges": "    ",
                      "type": "DAG"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__Composite_DAG_Application_44a42d7e_7559_4ba1_864c_3ab3654d6319"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_service",
                      "name": "Service1",
                      "uuid": "b2466bcd-4fa1-479c-b5c8-5e3c80832769"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "CALL_RUNBOOK",
                    "uuid": "f61d92ba-f8b5-4c9c-b10b-d85d078c2468",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "inarg_list": "",
                      "deployment_reference": "@{kind=app_blueprint_deployment; name=7a9ac986_deployment; uuid=afb6ef1a-e178-418b-8141-05e7060d5a5a}",
                      "type": "CALL_RUNBOOK",
                      "runbook_reference": "@{kind=app_runbook; name=e6e3ef02_runbook; uuid=ad14c0b3-3182-4e04-9b5a-c4c42ae4e9b2}"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__stop_CRb_Service_b2466bcd_4fa1_479c_b5c8_5e3c80832769"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_service",
                      "name": "Service1",
                      "uuid": "b2466bcd-4fa1-479c-b5c8-5e3c80832769"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "CALL_RUNBOOK",
                    "uuid": "fe681fe7-0599-4e8a-8a73-9db9c711c28d",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "inarg_list": "",
                      "deployment_reference": "@{kind=app_blueprint_deployment; name=7a9ac986_deployment; uuid=afb6ef1a-e178-418b-8141-05e7060d5a5a}",
                      "type": "CALL_RUNBOOK",
                      "runbook_reference": "@{kind=app_runbook; name=c906f5a1_runbook; uuid=28ac6c0f-a397-43af-9901-3e42b50cd3aa}"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__delete_CRb_Service_b2466bcd_4fa1_479c_b5c8_5e3c80832769"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_package",
                      "name": "Package2",
                      "uuid": "ccca8e2c-86be-4b22-92cb-eeba0eea1247"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "CALL_RUNBOOK",
                    "uuid": "f75e9f30-eac6-48c2-95c8-31143f021a14",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "inarg_list": "",
                      "deployment_reference": "@{kind=app_blueprint_deployment; name=7a9ac986_deployment; uuid=afb6ef1a-e178-418b-8141-05e7060d5a5a}",
                      "type": "CALL_RUNBOOK",
                      "runbook_reference": "@{kind=app_runbook; name=SYS_GEN__Runbook_Package_ccca8e2c_86be_4b22_92cb_eeba0eea1247; uuid=a6e29b6a-d466-4ec9-8069-19662440bf2a}"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__uninstall_CRb_Package_ccca8e2c_86be_4b22_92cb_eeba0eea1247"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_substrate",
                      "name": "VM1_2",
                      "uuid": "e16dfe9d-b588-4248-bc6a-f68e4a444fa0"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "CALL_RUNBOOK",
                    "uuid": "62bf4153-c146-4caf-9a05-cdc1a509cd9b",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "inarg_list": "",
                      "deployment_reference": "@{kind=app_blueprint_deployment; name=7a9ac986_deployment; uuid=afb6ef1a-e178-418b-8141-05e7060d5a5a}",
                      "type": "CALL_RUNBOOK",
                      "runbook_reference": "@{kind=app_runbook; name=SYS_GEN__Runbook_Substrate_e16dfe9d_b588_4248_bc6a_f68e4a444fa0; uuid=6c1277a6-bf60-45d0-8018-63d4e83ac6da}"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__delete_CRb_Substrate_e16dfe9d_b588_4248_bc6a_f68e4a444fa0"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_substrate",
                      "name": "VM1_2",
                      "uuid": "e16dfe9d-b588-4248-bc6a-f68e4a444fa0"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "CALL_RUNBOOK",
                    "uuid": "9e9dad7c-1354-4074-b75b-c3f42adb8f3b",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "inarg_list": "",
                      "deployment_reference": "@{kind=app_blueprint_deployment; name=7a9ac986_deployment; uuid=afb6ef1a-e178-418b-8141-05e7060d5a5a}",
                      "type": "CALL_RUNBOOK",
                      "runbook_reference": "@{kind=app_runbook; name=cfc99356_runbook; uuid=5c88498a-a1de-4e47-89b1-f3e236dfe5e5}"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__post_delete_CRb_Substrate_e16dfe9d_b588_4248_bc6a_f68e4a444fa0"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_blueprint_deployment",
                      "name": "7a9ac986_deployment",
                      "uuid": "afb6ef1a-e178-418b-8141-05e7060d5a5a"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "DELETE_DEPLOYMENT_ELEMENT",
                    "uuid": "7f20bfc9-a261-4e7c-852d-975c3c027f9e",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "type": ""
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__DE_Delete_afb6ef1a_e178_418b_8141_05e7060d5a5a"
                  }
                ],
                "description": "",
                "message_list": [],
                "uuid": "25b52b09-98fb-4690-a02a-722c27d82689",
                "state": "ACTIVE",
                "variable_list": [],
                "main_task_local_reference": {
                  "kind": "app_task",
                  "name": "SYS_GEN__Composite_DAG_Application_44a42d7e_7559_4ba1_864c_3ab3654d6319",
                  "uuid": "081387ee-b1b4-4539-88c7-99d49378b4f1"
                },
                "name": "SYS_GEN__Runbook_Application_44a42d7e_7559_4ba1_864c_3ab3654d6319"
              }
            },
            {
              "description": "System action for deleting an application. Does not delete created VMs",
              "message_list": [],
              "uuid": "6db18edb-12b9-49d2-ab02-72878ba3b2bf",
              "name": "action_soft_delete",
              "state": "ACTIVE",
              "critical": true,
              "attrs": {},
              "type": "system",
              "runbook": {
                "task_definition_list": [
                  {
                    "target_any_local_reference": {
                      "kind": "app_profile",
                      "name": "vSphere",
                      "uuid": "44a42d7e-7559-4ba1-864c-3ab3654d6319"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "DAG",
                    "uuid": "4af6c183-7994-455d-82dd-2b2c1e5e19ae",
                    "child_tasks_local_reference_list": [
                      "@{kind=app_task; name=SYS_GEN__soft_delete_CRb_Service_b2466bcd_4fa1_479c_b5c8_5e3c80832769; uuid=97c88d07-bd2d-47e3-8bec-a8b8afcaceb6}",
                      "@{kind=app_task; name=SYS_GEN__Package_Element_Delete_ccca8e2c_86be_4b22_92cb_eeba0eea1247; uuid=1abbe322-d86b-400a-aaf5-119df0e901e5}",
                      "@{kind=app_task; name=SYS_GEN__soft_delete_CRb_Substrate_e16dfe9d_b588_4248_bc6a_f68e4a444fa0; uuid=38d69027-5493-467c-b5e9-da9873d26aee}",
                      "@{kind=app_task; name=SYS_GEN__DE_Soft_Delete_afb6ef1a_e178_418b_8141_05e7060d5a5a; uuid=42a0ec69-b58c-4db0-86fd-b595f499c117}"
                    ],
                    "state": "ACTIVE",
                    "attrs": {
                      "edges": "  ",
                      "type": "DAG"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__Composite_DAG_Application_44a42d7e_7559_4ba1_864c_3ab3654d6319"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_service",
                      "name": "Service1",
                      "uuid": "b2466bcd-4fa1-479c-b5c8-5e3c80832769"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "CALL_RUNBOOK",
                    "uuid": "97c88d07-bd2d-47e3-8bec-a8b8afcaceb6",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "inarg_list": "",
                      "deployment_reference": "@{kind=app_blueprint_deployment; name=7a9ac986_deployment; uuid=afb6ef1a-e178-418b-8141-05e7060d5a5a}",
                      "type": "CALL_RUNBOOK",
                      "runbook_reference": "@{kind=app_runbook; name=SYS_GEN__Runbook_Service_b2466bcd_4fa1_479c_b5c8_5e3c80832769; uuid=467a50c0-6dc3-4aa9-8082-ed951e2a2b31}"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__soft_delete_CRb_Service_b2466bcd_4fa1_479c_b5c8_5e3c80832769"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_package",
                      "name": "Package2",
                      "uuid": "ccca8e2c-86be-4b22-92cb-eeba0eea1247"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "SOFT_DELETE_ELEMENT",
                    "uuid": "1abbe322-d86b-400a-aaf5-119df0e901e5",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "type": ""
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__Package_Element_Delete_ccca8e2c_86be_4b22_92cb_eeba0eea1247"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_substrate",
                      "name": "VM1_2",
                      "uuid": "e16dfe9d-b588-4248-bc6a-f68e4a444fa0"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "CALL_RUNBOOK",
                    "uuid": "38d69027-5493-467c-b5e9-da9873d26aee",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "inarg_list": "",
                      "deployment_reference": "@{kind=app_blueprint_deployment; name=7a9ac986_deployment; uuid=afb6ef1a-e178-418b-8141-05e7060d5a5a}",
                      "type": "CALL_RUNBOOK",
                      "runbook_reference": "@{kind=app_runbook; name=SYS_GEN__Runbook_Substrate_e16dfe9d_b588_4248_bc6a_f68e4a444fa0; uuid=8c810e7d-b237-4cb9-bca2-8e0fd88702ed}"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__soft_delete_CRb_Substrate_e16dfe9d_b588_4248_bc6a_f68e4a444fa0"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_blueprint_deployment",
                      "name": "7a9ac986_deployment",
                      "uuid": "afb6ef1a-e178-418b-8141-05e7060d5a5a"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "SOFT_DELETE_DEPLOYMENT_ELEMENT",
                    "uuid": "42a0ec69-b58c-4db0-86fd-b595f499c117",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "type": ""
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__DE_Soft_Delete_afb6ef1a_e178_418b_8141_05e7060d5a5a"
                  }
                ],
                "description": "",
                "message_list": [],
                "uuid": "faedc2b5-f7ff-40b3-925a-056dbf1a9a78",
                "state": "ACTIVE",
                "variable_list": [],
                "main_task_local_reference": {
                  "kind": "app_task",
                  "name": "SYS_GEN__Composite_DAG_Application_44a42d7e_7559_4ba1_864c_3ab3654d6319",
                  "uuid": "4af6c183-7994-455d-82dd-2b2c1e5e19ae"
                },
                "name": "SYS_GEN__Runbook_Application_44a42d7e_7559_4ba1_864c_3ab3654d6319"
              }
            },
            {
              "description": "System action for snapshot deletion",
              "message_list": [],
              "uuid": "0369fd07-ff63-4d25-8586-7a1ce60e1916",
              "name": "action_snapshot_delete",
              "state": "ACTIVE",
              "critical": true,
              "attrs": {},
              "type": "system",
              "runbook": {
                "task_definition_list": [
                  {
                    "target_any_local_reference": {
                      "kind": "app_profile",
                      "name": "vSphere",
                      "uuid": "44a42d7e-7559-4ba1-864c-3ab3654d6319"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "DAG",
                    "uuid": "80a022d1-f626-45c2-a122-263a626d6843",
                    "child_tasks_local_reference_list": [
                      "@{kind=app_task; name=SYS_GEN__snapshot_delete_CRb_Substrate_e16dfe9d_b588_4248_bc6a_f68e4a444fa0; uuid=f45c8877-6d86-492b-b295-7aaf61f02a09}"
                    ],
                    "state": "ACTIVE",
                    "attrs": {
                      "edges": "",
                      "type": "DAG"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__Composite_DAG_Application_44a42d7e_7559_4ba1_864c_3ab3654d6319"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_substrate",
                      "name": "VM1_2",
                      "uuid": "e16dfe9d-b588-4248-bc6a-f68e4a444fa0"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "CALL_RUNBOOK",
                    "uuid": "f45c8877-6d86-492b-b295-7aaf61f02a09",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "inarg_list": "",
                      "deployment_reference": "@{kind=app_blueprint_deployment; name=7a9ac986_deployment; uuid=afb6ef1a-e178-418b-8141-05e7060d5a5a}",
                      "type": "CALL_RUNBOOK",
                      "runbook_reference": "@{kind=app_runbook; name=SYS_GEN__Runbook_Substrate_e16dfe9d_b588_4248_bc6a_f68e4a444fa0; uuid=ae2b2689-bb5b-4489-9460-4379cbca0e66}"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__snapshot_delete_CRb_Substrate_e16dfe9d_b588_4248_bc6a_f68e4a444fa0"
                  }
                ],
                "description": "",
                "message_list": [],
                "uuid": "34b46932-4503-4acc-8bdb-5cea5f9d0934",
                "state": "ACTIVE",
                "variable_list": [
                  {
                    "regex": {},
                    "val_type": "STRING",
                    "is_mandatory": false,
                    "description": "",
                    "data_type": "BASE",
                    "message_list": [],
                    "uuid": "1e8698f9-1036-4cff-9e43-a45dc2a1efb5",
                    "value": "",
                    "label": "",
                    "state": "NOT_VALIDATED",
                    "attrs": {},
                    "editables": {
                      "value": true
                    },
                    "is_hidden": false,
                    "type": "LOCAL",
                    "options": {},
                    "name": "snapshot_id"
                  },
                  {
                    "regex": {},
                    "val_type": "STRING",
                    "is_mandatory": false,
                    "description": "",
                    "data_type": "BASE",
                    "message_list": [],
                    "uuid": "11fb18ac-7a20-4064-9d17-e3f2466ea8a2",
                    "value": "",
                    "label": "",
                    "state": "NOT_VALIDATED",
                    "attrs": {},
                    "editables": {
                      "value": true
                    },
                    "is_hidden": false,
                    "type": "LOCAL",
                    "options": {},
                    "name": "snapshot_group_id"
                  }
                ],
                "main_task_local_reference": {
                  "kind": "app_task",
                  "name": "SYS_GEN__Composite_DAG_Application_44a42d7e_7559_4ba1_864c_3ab3654d6319",
                  "uuid": "80a022d1-f626-45c2-a122-263a626d6843"
                },
                "name": "SYS_GEN__Runbook_Application_44a42d7e_7559_4ba1_864c_3ab3654d6319"
              }
            }
          ],
          "message_list": [],
          "uuid": "44a42d7e-7559-4ba1-864c-3ab3654d6319",
          "dependency_list": [],
          "snapshot_config_list": [],
          "state": "DRAFT",
          "patch_list": [],
          "restore_config_list": [],
          "variable_list": [
            {
              "regex": {
                "should_validate": false,
                "value": "^[\\d]*$"
              },
              "val_type": "INT",
              "is_mandatory": false,
              "description": "",
              "data_type": "BASE",
              "message_list": [],
              "uuid": "b165137a-3a9c-46e0-8f2a-d8fb9a44843b",
              "value": "0",
              "label": "/var size",
              "state": "ACTIVE",
              "attrs": {
                "type": ""
              },
              "editables": {
                "value": true
              },
              "is_hidden": false,
              "type": "LOCAL",
              "options": {
                "type": "PREDEFINED",
                "choices": []
              },
              "name": "vDiskVar"
            },
            {
              "regex": {},
              "val_type": "STRING",
              "is_mandatory": false,
              "description": "",
              "data_type": "BASE",
              "message_list": [],
              "uuid": "3a9deba2-0316-43ca-bf79-245e0d24cf51",
              "value": "/var/app01",
              "label": "mount point under /var",
              "state": "ACTIVE",
              "attrs": {
                "type": "LOCAL"
              },
              "editables": {
                "value": true
              },
              "is_hidden": false,
              "type": "LOCAL",
              "options": {
                "type": "PREDEFINED",
                "choices": []
              },
              "name": "mountPointVar"
            },
            {
              "regex": {
                "should_validate": false,
                "value": "^[\\d]*$"
              },
              "val_type": "INT",
              "is_mandatory": false,
              "description": "",
              "data_type": "BASE",
              "message_list": [],
              "uuid": "796505a1-55ff-4467-9eeb-f9b14c916389",
              "value": "0",
              "label": "/usr size",
              "state": "ACTIVE",
              "attrs": {
                "type": ""
              },
              "editables": {
                "value": true
              },
              "is_hidden": false,
              "type": "LOCAL",
              "options": {
                "type": "PREDEFINED",
                "choices": []
              },
              "name": "vDiskUsr"
            },
            {
              "regex": {},
              "val_type": "STRING",
              "is_mandatory": false,
              "description": "",
              "data_type": "BASE",
              "message_list": [],
              "uuid": "b63a81ef-1253-4ee1-9476-f6bb995539d0",
              "value": "/usr/app01",
              "label": "mount point under /usr",
              "state": "ACTIVE",
              "attrs": {
                "type": ""
              },
              "editables": {
                "value": true
              },
              "is_hidden": false,
              "type": "LOCAL",
              "options": {
                "type": "PREDEFINED",
                "choices": []
              },
              "name": "mountPointUsr"
            },
            {
              "regex": {
                "should_validate": false,
                "value": "^[\\d]*$"
              },
              "val_type": "INT",
              "is_mandatory": false,
              "description": "",
              "data_type": "BASE",
              "message_list": [],
              "uuid": "804def6a-adbf-4db3-a892-d6485b99e122",
              "value": "0",
              "label": "/opt size",
              "state": "ACTIVE",
              "attrs": {
                "type": ""
              },
              "editables": {
                "value": true
              },
              "is_hidden": false,
              "type": "LOCAL",
              "options": {
                "type": "PREDEFINED",
                "choices": []
              },
              "name": "vDiskOpt"
            },
            {
              "regex": {},
              "val_type": "STRING",
              "is_mandatory": false,
              "description": "",
              "data_type": "BASE",
              "message_list": [],
              "uuid": "ed3e32c1-ce81-4560-aeda-51cc516931f8",
              "value": "/opt/app01",
              "label": "mount point under /opt",
              "state": "ACTIVE",
              "attrs": {
                "type": ""
              },
              "editables": {
                "value": true
              },
              "is_hidden": false,
              "type": "LOCAL",
              "options": {
                "type": "PREDEFINED",
                "choices": []
              },
              "name": "mountPointOpt"
            },
            {
              "regex": {
                "should_validate": false,
                "value": "^[\\d]*$"
              },
              "val_type": "INT",
              "is_mandatory": false,
              "description": "",
              "data_type": "BASE",
              "message_list": [],
              "uuid": "eb02eba1-cac8-4adb-8172-d1567c2f2afa",
              "value": "0",
              "label": "/home size",
              "state": "ACTIVE",
              "attrs": {
                "type": ""
              },
              "editables": {
                "value": true
              },
              "is_hidden": false,
              "type": "LOCAL",
              "options": {
                "type": "PREDEFINED",
                "choices": []
              },
              "name": "vDiskHome"
            },
            {
              "regex": {},
              "val_type": "STRING",
              "is_mandatory": false,
              "description": "",
              "data_type": "BASE",
              "message_list": [],
              "uuid": "03a10cc2-98ed-464e-9d43-46c8225736ce",
              "value": "/home/app01",
              "label": "mount point under /home",
              "state": "ACTIVE",
              "attrs": {
                "type": ""
              },
              "editables": {
                "value": true
              },
              "is_hidden": false,
              "type": "LOCAL",
              "options": {
                "type": "PREDEFINED",
                "choices": []
              },
              "name": "mountPointHome"
            },
            {
              "regex": {
                "should_validate": false,
                "value": "^(.|\\n)*$"
              },
              "val_type": "MULTILINE_STRING",
              "is_mandatory": false,
              "description": "",
              "data_type": "BASE",
              "message_list": [],
              "uuid": "51c80d3f-a415-4508-8fa6-563f26faef2c",
              "value": "",
              "label": "Administrative Users",
              "state": "ACTIVE",
              "attrs": {
                "type": ""
              },
              "editables": {
                "value": true
              },
              "is_hidden": false,
              "type": "LOCAL",
              "options": {
                "type": "PREDEFINED",
                "choices": []
              },
              "name": "administrativeUsers"
            },
            {
              "regex": {
                "should_validate": false,
                "value": "^(.|\\n)*$"
              },
              "val_type": "MULTILINE_STRING",
              "is_mandatory": false,
              "description": "",
              "data_type": "BASE",
              "message_list": [],
              "uuid": "70b07f79-de24-4cc1-93d7-95d8dc2498bc",
              "value": "",
              "label": "Login Users",
              "state": "ACTIVE",
              "attrs": {
                "type": ""
              },
              "editables": {
                "value": true
              },
              "is_hidden": false,
              "type": "LOCAL",
              "options": {
                "type": "PREDEFINED",
                "choices": []
              },
              "name": "loginUsers"
            },
            {
              "regex": {},
              "val_type": "STRING",
              "is_mandatory": false,
              "description": "",
              "data_type": "BASE",
              "message_list": [],
              "uuid": "28d21e30-f097-48fd-8c22-2ab858105a03",
              "value": "ads.pnu.edu.sa",
              "label": "Select AD server",
              "state": "ACTIVE",
              "attrs": {
                "type": "LOCAL"
              },
              "editables": {},
              "is_hidden": false,
              "type": "LOCAL",
              "options": {
                "type": "PREDEFINED",
                "choices": [
                  " pnudstst.edu.sa",
                  "ads.pnu.edu.sa"
                ]
              },
              "name": "adEnv"
            },
            {
              "regex": {},
              "val_type": "STRING",
              "is_mandatory": false,
              "description": "",
              "data_type": "BASE",
              "message_list": [],
              "uuid": "6b0e4dce-eb19-4bb5-b57e-ed40a6d69de3",
              "value": "255.255.255.0",
              "label": "Private interface: NETMASK",
              "state": "ACTIVE",
              "attrs": {
                "type": ""
              },
              "editables": {
                "value": true
              },
              "is_hidden": false,
              "type": "LOCAL",
              "options": {
                "type": "PREDEFINED",
                "choices": []
              },
              "name": "privateInterfaceNetmask"
            },
            {
              "regex": {},
              "val_type": "STRING",
              "is_mandatory": false,
              "description": "",
              "data_type": "BASE",
              "message_list": [],
              "uuid": "14bed1b3-f6f8-4f37-824d-5cd49ad96307",
              "value": "",
              "label": "Private interface: IP",
              "state": "ACTIVE",
              "attrs": {
                "type": ""
              },
              "editables": {
                "value": true
              },
              "is_hidden": false,
              "type": "LOCAL",
              "options": {
                "type": "PREDEFINED",
                "choices": []
              },
              "name": "privateInterfaceIp"
            },
            {
              "regex": {},
              "val_type": "STRING",
              "is_mandatory": true,
              "description": "",
              "data_type": "BASE",
              "message_list": [],
              "uuid": "3293b494-bc91-4ff5-93cf-0e47f6a00a79",
              "value": "",
              "label": "Private interface: NETWORK",
              "state": "ACTIVE",
              "attrs": {
                "type": ""
              },
              "editables": {
                "value": true
              },
              "is_hidden": false,
              "type": "EXEC_LOCAL",
              "options": {
                "type": "EXEC",
                "attrs": {
                  "script_type": "static",
                  "type": "EXEC",
                  "command_line_args": "",
                  "exit_status": [],
                  "script": "\nusername = \"@@{vCenterUser}@@\"\npassword = \"@@{vCenterPass}@@\"\napi_server = \"@@{vCenterAddress}@@\"\n\nlistNetworks = []\n\n# endregion\n# region API call function\ndef process_request(url, method, headers, payload=None):\n    if (payload is not None):\n        payload = json.dumps(payload)\n    if \"Cookie\" not in headers:\n        r = urlreq(url, verb=method, auth='BASIC', user=username, passwd=password, params=payload, verify=False, headers=headers)\n    else:\n        r = urlreq(url, verb=method, params=payload, verify=False, headers=headers)\n    \n    '''\n    if ((r.status_code == 400) and (json.loads(r.content)['type'] == 'com.vmware.vapi.std.errors.already_exists')):\n        print(\"Status code: {}\".format(r.status_code))\n        print(\"Object already exists: skipping\")\n    else:\n        if (payload is not None):\n            print(\"Payload: {}\".format(json.dumps(payload)))\n        if r.content:\n            print('Response: {}'.format(json.dumps(json.loads(r.content), indent=4)))\n        exit(1)\n        \n    '''\n    return r\n# endregion\n# region login\n# region prepare api call\n\n#\n# fetch cookie\n#\n\napi_server_port = \"443\"\napi_server_endpoint = \"/rest/com/vmware/cis/session\"\nmethod = \"POST\"\nurl = \"https://{}:{}{}\".format(api_server, api_server_port, api_server_endpoint)\nheaders = {'Content-Type': 'application/json', 'Accept': 'application/json'}\n# endregion\n# region login API call\n#print(\"STEP: Logging in to vCenter...\")\n#print(\"Making a {} API call to {}\".format(method, url))\nresp = process_request(url, method, headers)\nvc_cookie = resp.headers.get('Set-Cookie').split(\";\")[0]\n\n#\n# get clusters\n#\n\napi_server_port = \"443\"\napi_server_endpoint = \"/rest/vcenter/network\"\nmethod = \"GET\"\nurl = \"https://{}:{}{}\".format(api_server, api_server_port, api_server_endpoint)\nheaders = {'Content-Type': 'application/json', 'Accept': 'application/json', 'Cookie': vc_cookie}\n# endregion\n# region login API call\nresp = process_request(url, method, headers)\n\nnetworks = json.loads(resp.content)['value']\n\nfor n in networks:\n    listNetworks.append(n['name'])\n    \nlistNetworks = sorted(dict.fromkeys(listNetworks))\nlistNetworks.insert(0, \"None\")\n#print listCluster\n#Return\nprint \",\".join(map(str,listNetworks))\n\nexit(0)"
                }
              },
              "name": "privateInterfaceNetwork"
            },
            {
              "regex": {},
              "val_type": "STRING",
              "is_mandatory": false,
              "description": "",
              "data_type": "BASE",
              "message_list": [],
              "uuid": "f610e059-b4de-4a89-9c55-1000dfcd30c1",
              "value": "",
              "label": "Backup interface: GATEWAY",
              "state": "ACTIVE",
              "attrs": {
                "type": ""
              },
              "editables": {
                "value": true
              },
              "is_hidden": false,
              "type": "LOCAL",
              "options": {
                "type": "PREDEFINED",
                "choices": []
              },
              "name": "backupInterfaceGateway"
            },
            {
              "regex": {},
              "val_type": "STRING",
              "is_mandatory": false,
              "description": "",
              "data_type": "BASE",
              "message_list": [],
              "uuid": "a4575360-0c33-457e-84d3-a6d2c782ef58",
              "value": "255.255.255.0",
              "label": "Backup interface: NETMASK",
              "state": "ACTIVE",
              "attrs": {
                "type": ""
              },
              "editables": {
                "value": true
              },
              "is_hidden": false,
              "type": "LOCAL",
              "options": {
                "type": "PREDEFINED",
                "choices": []
              },
              "name": "backupInterfaceNetmask"
            },
            {
              "regex": {},
              "val_type": "STRING",
              "is_mandatory": false,
              "description": "",
              "data_type": "BASE",
              "message_list": [],
              "uuid": "5f3a8f82-0c5b-45c1-b891-f4ebcf4fa387",
              "value": "",
              "label": "Backup interface: IP",
              "state": "ACTIVE",
              "attrs": {
                "type": ""
              },
              "editables": {
                "value": true
              },
              "is_hidden": false,
              "type": "LOCAL",
              "options": {
                "type": "PREDEFINED",
                "choices": []
              },
              "name": "backupInterfaceIP"
            },
            {
              "regex": {},
              "val_type": "STRING",
              "is_mandatory": true,
              "description": "",
              "data_type": "BASE",
              "message_list": [],
              "uuid": "a8df7c20-2160-4738-b5a3-1a8f4506fb68",
              "value": "",
              "label": "Backup interface: NETWORK",
              "state": "ACTIVE",
              "attrs": {
                "type": ""
              },
              "editables": {
                "value": true
              },
              "is_hidden": false,
              "type": "EXEC_LOCAL",
              "options": {
                "type": "EXEC",
                "attrs": {
                  "script_type": "static",
                  "type": "EXEC",
                  "command_line_args": "",
                  "exit_status": [],
                  "script": "\nusername = \"@@{vCenterUser}@@\"\npassword = \"@@{vCenterPass}@@\"\napi_server = \"@@{vCenterAddress}@@\"\n\nlistNetworks = []\n\n# endregion\n# region API call function\ndef process_request(url, method, headers, payload=None):\n    if (payload is not None):\n        payload = json.dumps(payload)\n    if \"Cookie\" not in headers:\n        r = urlreq(url, verb=method, auth='BASIC', user=username, passwd=password, params=payload, verify=False, headers=headers)\n    else:\n        r = urlreq(url, verb=method, params=payload, verify=False, headers=headers)\n    \n    '''\n    if ((r.status_code == 400) and (json.loads(r.content)['type'] == 'com.vmware.vapi.std.errors.already_exists')):\n        print(\"Status code: {}\".format(r.status_code))\n        print(\"Object already exists: skipping\")\n    else:\n        if (payload is not None):\n            print(\"Payload: {}\".format(json.dumps(payload)))\n        if r.content:\n            print('Response: {}'.format(json.dumps(json.loads(r.content), indent=4)))\n        exit(1)\n        \n    '''\n    return r\n# endregion\n# region login\n# region prepare api call\n\n#\n# fetch cookie\n#\n\napi_server_port = \"443\"\napi_server_endpoint = \"/rest/com/vmware/cis/session\"\nmethod = \"POST\"\nurl = \"https://{}:{}{}\".format(api_server, api_server_port, api_server_endpoint)\nheaders = {'Content-Type': 'application/json', 'Accept': 'application/json'}\n# endregion\n# region login API call\n#print(\"STEP: Logging in to vCenter...\")\n#print(\"Making a {} API call to {}\".format(method, url))\nresp = process_request(url, method, headers)\nvc_cookie = resp.headers.get('Set-Cookie').split(\";\")[0]\n\n#\n# get clusters\n#\n\napi_server_port = \"443\"\napi_server_endpoint = \"/rest/vcenter/network\"\nmethod = \"GET\"\nurl = \"https://{}:{}{}\".format(api_server, api_server_port, api_server_endpoint)\nheaders = {'Content-Type': 'application/json', 'Accept': 'application/json', 'Cookie': vc_cookie}\n# endregion\n# region login API call\nresp = process_request(url, method, headers)\n\nnetworks = json.loads(resp.content)['value']\n\nfor n in networks:\n    listNetworks.append(n['name'])\n    \nlistNetworks = sorted(dict.fromkeys(listNetworks))\nlistNetworks.insert(0, \"None\")\n#print listCluster\n#Return\nprint \",\".join(map(str,listNetworks))\n\nexit(0)"
                }
              },
              "name": "backupInterfaceNetwork"
            },
            {
              "regex": {},
              "val_type": "STRING",
              "is_mandatory": true,
              "description": "",
              "data_type": "BASE",
              "message_list": [],
              "uuid": "33cb114f-b47f-4eda-ba56-9ecdf148e353",
              "value": "",
              "label": "Production interface: GATEWAY",
              "state": "ACTIVE",
              "attrs": {
                "type": ""
              },
              "editables": {
                "value": true
              },
              "is_hidden": false,
              "type": "LOCAL",
              "options": {
                "type": "PREDEFINED",
                "choices": []
              },
              "name": "productionInterfaceGateway"
            },
            {
              "regex": {},
              "val_type": "STRING",
              "is_mandatory": true,
              "description": "",
              "data_type": "BASE",
              "message_list": [],
              "uuid": "7da730f8-f79c-4407-9dd5-7ea9685088ab",
              "value": "255.255.255.0",
              "label": "Production interface: NETMASK",
              "state": "ACTIVE",
              "attrs": {
                "type": ""
              },
              "editables": {
                "value": true
              },
              "is_hidden": false,
              "type": "LOCAL",
              "options": {
                "type": "PREDEFINED",
                "choices": []
              },
              "name": "productionInterfaceNetmask"
            },
            {
              "regex": {},
              "val_type": "STRING",
              "is_mandatory": true,
              "description": "",
              "data_type": "BASE",
              "message_list": [],
              "uuid": "3a18e53e-d730-4266-8566-298b8654b707",
              "value": "",
              "label": "Production interface: IP",
              "state": "ACTIVE",
              "attrs": {
                "type": ""
              },
              "editables": {
                "value": true
              },
              "is_hidden": false,
              "type": "LOCAL",
              "options": {
                "type": "PREDEFINED",
                "choices": []
              },
              "name": "productionInterfaceIp"
            },
            {
              "regex": {},
              "val_type": "STRING",
              "is_mandatory": false,
              "description": "",
              "data_type": "BASE",
              "message_list": [],
              "uuid": "9af6ff35-4491-4162-a997-f9522c34b3c4",
              "value": "calmtemp",
              "label": "",
              "state": "ACTIVE",
              "attrs": {
                "type": ""
              },
              "editables": {
                "value": false
              },
              "is_hidden": true,
              "type": "LOCAL",
              "options": {
                "type": "PREDEFINED",
                "choices": []
              },
              "name": "pcUser"
            },
            {
              "regex": {},
              "val_type": "STRING",
              "is_mandatory": false,
              "description": "",
              "data_type": "BASE",
              "message_list": [],
              "uuid": "5f89f890-9a9d-48b4-88c9-6330f8073b0e",
              "value": "Nutanix2020!",
              "label": "",
              "state": "ACTIVE",
              "attrs": {
                "type": ""
              },
              "editables": {
                "value": false
              },
              "is_hidden": true,
              "type": "LOCAL",
              "options": {
                "type": "PREDEFINED",
                "choices": []
              },
              "name": "pcUserPassword"
            },
            {
              "regex": {},
              "val_type": "STRING",
              "is_mandatory": false,
              "description": "",
              "data_type": "BASE",
              "message_list": [],
              "uuid": "48f8147b-78fb-4555-8ba1-2c2444732da7",
              "value": "172.17.25.50",
              "label": "",
              "state": "ACTIVE",
              "attrs": {
                "type": ""
              },
              "editables": {
                "value": false
              },
              "is_hidden": true,
              "type": "LOCAL",
              "options": {
                "type": "PREDEFINED",
                "choices": []
              },
              "name": "vCenterAddress"
            },
            {
              "regex": {},
              "val_type": "STRING",
              "is_mandatory": false,
              "description": "",
              "data_type": "BASE",
              "message_list": [],
              "uuid": "71631b36-b037-480f-861c-c20abef51fe8",
              "value": "pnuds\\APPCAM01",
              "label": "",
              "state": "ACTIVE",
              "attrs": {
                "type": ""
              },
              "editables": {},
              "is_hidden": false,
              "type": "LOCAL",
              "options": {
                "type": "PREDEFINED",
                "choices": []
              },
              "name": "vCenterUser"
            },
            {
              "regex": {},
              "val_type": "STRING",
              "is_mandatory": false,
              "description": "",
              "data_type": "BASE",
              "message_list": [],
              "uuid": "0cdc3a93-349f-469e-935f-33a921093c44",
              "value": "ZwTgd3rF",
              "label": "",
              "state": "ACTIVE",
              "attrs": {
                "type": "LOCAL"
              },
              "editables": {},
              "is_hidden": false,
              "type": "LOCAL",
              "options": {
                "type": "PREDEFINED",
                "choices": []
              },
              "name": "vCenterPass"
            },
            {
              "regex": {},
              "val_type": "STRING",
              "is_mandatory": false,
              "description": "",
              "data_type": "BASE",
              "message_list": [],
              "uuid": "cf80bee7-b4a4-4700-a35f-ac7418738000",
              "value": "Cluster and porduction network adaptor need to be selected from the Service section at the end of the page. ",
              "label": "NOTE:",
              "state": "ACTIVE",
              "attrs": {
                "type": ""
              },
              "editables": {
                "value": true
              },
              "is_hidden": false,
              "type": "LOCAL",
              "options": {
                "type": "PREDEFINED",
                "choices": []
              },
              "name": "NOTE"
            },
            {
              "regex": {},
              "val_type": "STRING",
              "is_mandatory": false,
              "description": "",
              "data_type": "BASE",
              "message_list": [],
              "uuid": "e0cfc0c3-fef7-4420-8be8-e386f38fe5d5",
              "value": "-",
              "label": "",
              "state": "ACTIVE",
              "attrs": {
                "type": ""
              },
              "editables": {
                "value": false
              },
              "is_hidden": true,
              "type": "LOCAL",
              "options": {
                "type": "PREDEFINED",
                "choices": []
              },
              "name": "clusterSelection"
            }
          ],
          "name": "vSphere"
        }
      ],
      "published_service_definition_list": [],
      "default_credential_local_reference": {
        "kind": "app_credential",
        "name": "rootCreds",
        "uuid": "a003d66c-e2df-4df0-83d7-5983bfc57a07"
      },
      "package_definition_list": [
        {
          "description": "",
          "action_list": [
            {
              "description": "System action for installing an application",
              "message_list": [],
              "uuid": "c6f4f01b-dd70-4f56-86b2-53a598d5a687",
              "name": "action_install",
              "state": "ACTIVE",
              "critical": true,
              "attrs": {},
              "type": "system",
              "runbook": {
                "task_definition_list": [
                  {
                    "target_any_local_reference": {
                      "kind": "app_package",
                      "name": "Package1",
                      "uuid": "5322edb8-6b66-4655-942b-1d26c07549d7"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "DAG",
                    "uuid": "6c250b4f-211a-49f4-8a51-4c7d121a3f9d",
                    "child_tasks_local_reference_list": [
                      "@{kind=app_task; name=SYS_GEN__Install_Crb_5322edb8_6b66_4655_942b_1d26c07549d7; uuid=d8adb61b-ec82-4b77-adef-e3c11dc39b4e}"
                    ],
                    "state": "ACTIVE",
                    "attrs": {
                      "edges": "",
                      "type": "DAG"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__DAG_Package_5322edb8_6b66_4655_942b_1d26c07549d7"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_package",
                      "name": "Package1",
                      "uuid": "5322edb8-6b66-4655-942b-1d26c07549d7"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "CUSTOM_PACKAGE_INSTALL",
                    "uuid": "d8adb61b-ec82-4b77-adef-e3c11dc39b4e",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "install_runbook": "@{task_definition_list=System.Object[]; description=; message_list=System.Object[]; uuid=926c71b9-a955-451b-b645-7f07b23e34f4; state=ACTIVE; variable_list=System.Object[]; main_task_local_reference=; name=acb8bbe6_runbook}",
                      "type": "",
                      "upgrade_runbook": "",
                      "uninstall_runbook": "@{task_definition_list=System.Object[]; description=; message_list=System.Object[]; uuid=74c4c892-ef21-42a1-845a-a7c95eafc412; state=ACTIVE; variable_list=System.Object[]; main_task_local_reference=; name=155af92f_runbook}"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__Install_Crb_5322edb8_6b66_4655_942b_1d26c07549d7"
                  }
                ],
                "description": "",
                "message_list": [],
                "uuid": "c4f8a38d-1c1d-4a75-95d5-e64a02661be3",
                "state": "ACTIVE",
                "variable_list": [],
                "main_task_local_reference": {
                  "kind": "app_task",
                  "name": "SYS_GEN__DAG_Package_5322edb8_6b66_4655_942b_1d26c07549d7",
                  "uuid": "6c250b4f-211a-49f4-8a51-4c7d121a3f9d"
                },
                "name": "SYS_GEN__Runbook_Package_5322edb8_6b66_4655_942b_1d26c07549d7"
              }
            },
            {
              "description": "System action for creating an application",
              "message_list": [],
              "uuid": "4cbd8625-1077-46c9-ae64-506bf61a493c",
              "name": "action_create",
              "state": "ACTIVE",
              "critical": true,
              "attrs": {},
              "type": "system",
              "runbook": {
                "task_definition_list": [
                  {
                    "target_any_local_reference": {
                      "kind": "app_package",
                      "name": "Package1",
                      "uuid": "5322edb8-6b66-4655-942b-1d26c07549d7"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "DAG",
                    "uuid": "6abec045-4d2e-4fde-b5eb-08c1a4ad1517",
                    "child_tasks_local_reference_list": [
                      "@{kind=app_task; name=SYS_GEN__install_CRb_Package_5322edb8_6b66_4655_942b_1d26c07549d7; uuid=d09d03c5-b3a6-4046-a575-2930a1e00f95}",
                      "@{kind=app_task; name=SYS_GEN__create_CRb_Service_b2466bcd_4fa1_479c_b5c8_5e3c80832769; uuid=cbe67168-372f-4ff2-9719-0efc0dab8ee4}",
                      "@{kind=app_task; name=SYS_GEN__start_CRb_Service_b2466bcd_4fa1_479c_b5c8_5e3c80832769; uuid=a6347fa7-c358-4436-965f-31b947fea827}"
                    ],
                    "state": "ACTIVE",
                    "attrs": {
                      "edges": " ",
                      "type": "DAG"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__Composite_DAG_Package_5322edb8_6b66_4655_942b_1d26c07549d7"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_package",
                      "name": "Package1",
                      "uuid": "5322edb8-6b66-4655-942b-1d26c07549d7"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "CALL_RUNBOOK",
                    "uuid": "d09d03c5-b3a6-4046-a575-2930a1e00f95",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "inarg_list": "",
                      "type": "CALL_RUNBOOK",
                      "runbook_reference": "@{kind=app_runbook; name=SYS_GEN__Runbook_Package_5322edb8_6b66_4655_942b_1d26c07549d7; uuid=c4f8a38d-1c1d-4a75-95d5-e64a02661be3}"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__install_CRb_Package_5322edb8_6b66_4655_942b_1d26c07549d7"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_service",
                      "name": "Service1",
                      "uuid": "b2466bcd-4fa1-479c-b5c8-5e3c80832769"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "CALL_RUNBOOK",
                    "uuid": "cbe67168-372f-4ff2-9719-0efc0dab8ee4",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "inarg_list": "",
                      "type": "CALL_RUNBOOK",
                      "runbook_reference": "@{kind=app_runbook; name=ff3e502d_runbook; uuid=b842486f-5e48-4cf7-9ee3-ee38ef74f356}"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__create_CRb_Service_b2466bcd_4fa1_479c_b5c8_5e3c80832769"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_service",
                      "name": "Service1",
                      "uuid": "b2466bcd-4fa1-479c-b5c8-5e3c80832769"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "CALL_RUNBOOK",
                    "uuid": "a6347fa7-c358-4436-965f-31b947fea827",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "inarg_list": "",
                      "type": "CALL_RUNBOOK",
                      "runbook_reference": "@{kind=app_runbook; name=bcdcb98e_runbook; uuid=bb0141f3-0775-4357-b329-5aa96a7d87b9}"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__start_CRb_Service_b2466bcd_4fa1_479c_b5c8_5e3c80832769"
                  }
                ],
                "description": "",
                "message_list": [],
                "uuid": "6ace3f05-804f-4733-932a-061611dd7551",
                "state": "ACTIVE",
                "variable_list": [],
                "main_task_local_reference": {
                  "kind": "app_task",
                  "name": "SYS_GEN__Composite_DAG_Package_5322edb8_6b66_4655_942b_1d26c07549d7",
                  "uuid": "6abec045-4d2e-4fde-b5eb-08c1a4ad1517"
                },
                "name": "SYS_GEN__Runbook_Package_5322edb8_6b66_4655_942b_1d26c07549d7"
              }
            },
            {
              "description": "System action for uninstalling an application",
              "message_list": [],
              "uuid": "2310d128-4c4c-42b1-9d12-3a2955fbf7e2",
              "name": "action_uninstall",
              "state": "ACTIVE",
              "critical": true,
              "attrs": {},
              "type": "system",
              "runbook": {
                "task_definition_list": [
                  {
                    "target_any_local_reference": {
                      "kind": "app_package",
                      "name": "Package1",
                      "uuid": "5322edb8-6b66-4655-942b-1d26c07549d7"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "DAG",
                    "uuid": "c86d338e-4caf-46fe-912e-0cf01cefac52",
                    "child_tasks_local_reference_list": [
                      "@{kind=app_task; name=SYS_GEN__Uninstall_Crb_5322edb8_6b66_4655_942b_1d26c07549d7; uuid=5b5edf15-ec0c-4cba-b9e4-9ac4ffb38fa1}"
                    ],
                    "state": "ACTIVE",
                    "attrs": {
                      "edges": "",
                      "type": "DAG"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__DAG_Package_5322edb8_6b66_4655_942b_1d26c07549d7"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_package",
                      "name": "Package1",
                      "uuid": "5322edb8-6b66-4655-942b-1d26c07549d7"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "CUSTOM_PACKAGE_UNINSTALL",
                    "uuid": "5b5edf15-ec0c-4cba-b9e4-9ac4ffb38fa1",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "install_runbook": "@{task_definition_list=System.Object[]; description=; message_list=System.Object[]; uuid=926c71b9-a955-451b-b645-7f07b23e34f4; state=ACTIVE; variable_list=System.Object[]; main_task_local_reference=; name=acb8bbe6_runbook}",
                      "type": "",
                      "upgrade_runbook": "",
                      "uninstall_runbook": "@{task_definition_list=System.Object[]; description=; message_list=System.Object[]; uuid=74c4c892-ef21-42a1-845a-a7c95eafc412; state=ACTIVE; variable_list=System.Object[]; main_task_local_reference=; name=155af92f_runbook}"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__Uninstall_Crb_5322edb8_6b66_4655_942b_1d26c07549d7"
                  }
                ],
                "description": "",
                "message_list": [],
                "uuid": "38349d96-b391-47b7-b13a-e192c157d4c3",
                "state": "ACTIVE",
                "variable_list": [],
                "main_task_local_reference": {
                  "kind": "app_task",
                  "name": "SYS_GEN__DAG_Package_5322edb8_6b66_4655_942b_1d26c07549d7",
                  "uuid": "c86d338e-4caf-46fe-912e-0cf01cefac52"
                },
                "name": "SYS_GEN__Runbook_Package_5322edb8_6b66_4655_942b_1d26c07549d7"
              }
            },
            {
              "description": "System action for deleting an application. Deletes created VMs as well",
              "message_list": [],
              "uuid": "658b6413-f9af-4719-a573-8fd15ae42fb2",
              "name": "action_delete",
              "state": "ACTIVE",
              "critical": true,
              "attrs": {},
              "type": "system",
              "runbook": {
                "task_definition_list": [
                  {
                    "target_any_local_reference": {
                      "kind": "app_package",
                      "name": "Package1",
                      "uuid": "5322edb8-6b66-4655-942b-1d26c07549d7"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "DAG",
                    "uuid": "1c00b934-9b19-44f0-8c4e-dd69c69225d9",
                    "child_tasks_local_reference_list": [
                      "@{kind=app_task; name=SYS_GEN__stop_CRb_Service_b2466bcd_4fa1_479c_b5c8_5e3c80832769; uuid=b3dbb640-f38d-43ab-9421-b0829edd0b20}",
                      "@{kind=app_task; name=SYS_GEN__delete_CRb_Service_b2466bcd_4fa1_479c_b5c8_5e3c80832769; uuid=048bc0ca-1f47-4a1b-b623-bfa9b13cb5e4}",
                      "@{kind=app_task; name=SYS_GEN__uninstall_CRb_Package_5322edb8_6b66_4655_942b_1d26c07549d7; uuid=44c8bebd-1a39-4f92-a09f-c07f81e2cc94}"
                    ],
                    "state": "ACTIVE",
                    "attrs": {
                      "edges": " ",
                      "type": "DAG"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__Composite_DAG_Package_5322edb8_6b66_4655_942b_1d26c07549d7"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_service",
                      "name": "Service1",
                      "uuid": "b2466bcd-4fa1-479c-b5c8-5e3c80832769"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "CALL_RUNBOOK",
                    "uuid": "b3dbb640-f38d-43ab-9421-b0829edd0b20",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "inarg_list": "",
                      "type": "CALL_RUNBOOK",
                      "runbook_reference": "@{kind=app_runbook; name=e6e3ef02_runbook; uuid=ad14c0b3-3182-4e04-9b5a-c4c42ae4e9b2}"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__stop_CRb_Service_b2466bcd_4fa1_479c_b5c8_5e3c80832769"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_service",
                      "name": "Service1",
                      "uuid": "b2466bcd-4fa1-479c-b5c8-5e3c80832769"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "CALL_RUNBOOK",
                    "uuid": "048bc0ca-1f47-4a1b-b623-bfa9b13cb5e4",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "inarg_list": "",
                      "type": "CALL_RUNBOOK",
                      "runbook_reference": "@{kind=app_runbook; name=c906f5a1_runbook; uuid=28ac6c0f-a397-43af-9901-3e42b50cd3aa}"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__delete_CRb_Service_b2466bcd_4fa1_479c_b5c8_5e3c80832769"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_package",
                      "name": "Package1",
                      "uuid": "5322edb8-6b66-4655-942b-1d26c07549d7"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "CALL_RUNBOOK",
                    "uuid": "44c8bebd-1a39-4f92-a09f-c07f81e2cc94",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "inarg_list": "",
                      "type": "CALL_RUNBOOK",
                      "runbook_reference": "@{kind=app_runbook; name=SYS_GEN__Runbook_Package_5322edb8_6b66_4655_942b_1d26c07549d7; uuid=38349d96-b391-47b7-b13a-e192c157d4c3}"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__uninstall_CRb_Package_5322edb8_6b66_4655_942b_1d26c07549d7"
                  }
                ],
                "description": "",
                "message_list": [],
                "uuid": "7f310167-1e49-4143-833c-d0baecb58566",
                "state": "ACTIVE",
                "variable_list": [],
                "main_task_local_reference": {
                  "kind": "app_task",
                  "name": "SYS_GEN__Composite_DAG_Package_5322edb8_6b66_4655_942b_1d26c07549d7",
                  "uuid": "1c00b934-9b19-44f0-8c4e-dd69c69225d9"
                },
                "name": "SYS_GEN__Runbook_Package_5322edb8_6b66_4655_942b_1d26c07549d7"
              }
            },
            {
              "description": "System action for deleting an application. Does not delete created VMs",
              "message_list": [],
              "uuid": "71e0818f-d9bc-4246-ba20-c2f117247875",
              "name": "action_soft_delete",
              "state": "ACTIVE",
              "critical": true,
              "attrs": {},
              "type": "system",
              "runbook": {
                "task_definition_list": [
                  {
                    "target_any_local_reference": {
                      "kind": "app_package",
                      "name": "Package1",
                      "uuid": "5322edb8-6b66-4655-942b-1d26c07549d7"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "DAG",
                    "uuid": "5e6d32cc-748b-4ea0-aaec-65f887bfabc4",
                    "child_tasks_local_reference_list": [
                      "@{kind=app_task; name=SYS_GEN__soft_delete_CRb_Service_b2466bcd_4fa1_479c_b5c8_5e3c80832769; uuid=24026ec9-e207-460c-953c-8a0e0aa27863}",
                      "@{kind=app_task; name=SYS_GEN__Package_Element_Delete_5322edb8_6b66_4655_942b_1d26c07549d7; uuid=5f037dd7-3f0d-4eee-8d97-8bc05292fee2}"
                    ],
                    "state": "ACTIVE",
                    "attrs": {
                      "edges": "",
                      "type": "DAG"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__Composite_DAG_Package_5322edb8_6b66_4655_942b_1d26c07549d7"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_service",
                      "name": "Service1",
                      "uuid": "b2466bcd-4fa1-479c-b5c8-5e3c80832769"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "CALL_RUNBOOK",
                    "uuid": "24026ec9-e207-460c-953c-8a0e0aa27863",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "inarg_list": "",
                      "type": "CALL_RUNBOOK",
                      "runbook_reference": "@{kind=app_runbook; name=SYS_GEN__Runbook_Service_b2466bcd_4fa1_479c_b5c8_5e3c80832769; uuid=467a50c0-6dc3-4aa9-8082-ed951e2a2b31}"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__soft_delete_CRb_Service_b2466bcd_4fa1_479c_b5c8_5e3c80832769"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_package",
                      "name": "Package1",
                      "uuid": "5322edb8-6b66-4655-942b-1d26c07549d7"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "SOFT_DELETE_ELEMENT",
                    "uuid": "5f037dd7-3f0d-4eee-8d97-8bc05292fee2",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "type": ""
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__Package_Element_Delete_5322edb8_6b66_4655_942b_1d26c07549d7"
                  }
                ],
                "description": "",
                "message_list": [],
                "uuid": "5f37562d-7561-48d2-bf24-8934b850e562",
                "state": "ACTIVE",
                "variable_list": [],
                "main_task_local_reference": {
                  "kind": "app_task",
                  "name": "SYS_GEN__Composite_DAG_Package_5322edb8_6b66_4655_942b_1d26c07549d7",
                  "uuid": "5e6d32cc-748b-4ea0-aaec-65f887bfabc4"
                },
                "name": "SYS_GEN__Runbook_Package_5322edb8_6b66_4655_942b_1d26c07549d7"
              }
            },
            {
              "description": "System action for starting an application",
              "message_list": [],
              "uuid": "0b4c061a-4106-4351-a82c-3cb5c0968ddf",
              "name": "action_start",
              "state": "ACTIVE",
              "critical": true,
              "attrs": {},
              "type": "system",
              "runbook": {
                "task_definition_list": [
                  {
                    "target_any_local_reference": {
                      "kind": "app_package",
                      "name": "Package1",
                      "uuid": "5322edb8-6b66-4655-942b-1d26c07549d7"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "DAG",
                    "uuid": "970f7b0c-e6a7-4476-81c7-12db3bcc2e5f",
                    "child_tasks_local_reference_list": [
                      "@{kind=app_task; name=SYS_GEN__start_CRb_Service_b2466bcd_4fa1_479c_b5c8_5e3c80832769; uuid=9c2d5747-75f7-40d6-899c-8a1488a982f8}"
                    ],
                    "state": "ACTIVE",
                    "attrs": {
                      "edges": "",
                      "type": "DAG"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__Composite_DAG_Package_5322edb8_6b66_4655_942b_1d26c07549d7"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_service",
                      "name": "Service1",
                      "uuid": "b2466bcd-4fa1-479c-b5c8-5e3c80832769"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "CALL_RUNBOOK",
                    "uuid": "9c2d5747-75f7-40d6-899c-8a1488a982f8",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "inarg_list": "",
                      "type": "CALL_RUNBOOK",
                      "runbook_reference": "@{kind=app_runbook; name=bcdcb98e_runbook; uuid=bb0141f3-0775-4357-b329-5aa96a7d87b9}"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__start_CRb_Service_b2466bcd_4fa1_479c_b5c8_5e3c80832769"
                  }
                ],
                "description": "",
                "message_list": [],
                "uuid": "3388896c-b6a1-4af1-bb3a-9753a77dffd1",
                "state": "ACTIVE",
                "variable_list": [],
                "main_task_local_reference": {
                  "kind": "app_task",
                  "name": "SYS_GEN__Composite_DAG_Package_5322edb8_6b66_4655_942b_1d26c07549d7",
                  "uuid": "970f7b0c-e6a7-4476-81c7-12db3bcc2e5f"
                },
                "name": "SYS_GEN__Runbook_Package_5322edb8_6b66_4655_942b_1d26c07549d7"
              }
            },
            {
              "description": "System action for restarting an application",
              "message_list": [],
              "uuid": "2ab3dd9d-b4a8-4dda-ad83-7bdd225c8089",
              "name": "action_restart",
              "state": "ACTIVE",
              "critical": true,
              "attrs": {},
              "type": "system",
              "runbook": {
                "task_definition_list": [
                  {
                    "target_any_local_reference": {
                      "kind": "app_package",
                      "name": "Package1",
                      "uuid": "5322edb8-6b66-4655-942b-1d26c07549d7"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "DAG",
                    "uuid": "67226ef4-f953-44ca-a512-d8a4e38807ba",
                    "child_tasks_local_reference_list": [
                      "@{kind=app_task; name=SYS_GEN__restart_CRb_Service_b2466bcd_4fa1_479c_b5c8_5e3c80832769; uuid=a465c62d-c09f-4f4b-89fe-383daed67a1f}"
                    ],
                    "state": "ACTIVE",
                    "attrs": {
                      "edges": "",
                      "type": "DAG"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__Composite_DAG_Package_5322edb8_6b66_4655_942b_1d26c07549d7"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_service",
                      "name": "Service1",
                      "uuid": "b2466bcd-4fa1-479c-b5c8-5e3c80832769"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "CALL_RUNBOOK",
                    "uuid": "a465c62d-c09f-4f4b-89fe-383daed67a1f",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "inarg_list": "",
                      "type": "CALL_RUNBOOK",
                      "runbook_reference": "@{kind=app_runbook; name=e68a120c_runbook; uuid=0838837f-1d74-4429-83f9-7177f89ba3a8}"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__restart_CRb_Service_b2466bcd_4fa1_479c_b5c8_5e3c80832769"
                  }
                ],
                "description": "",
                "message_list": [],
                "uuid": "7cb52f79-ab60-496e-b7e1-b8715358c52d",
                "state": "ACTIVE",
                "variable_list": [],
                "main_task_local_reference": {
                  "kind": "app_task",
                  "name": "SYS_GEN__Composite_DAG_Package_5322edb8_6b66_4655_942b_1d26c07549d7",
                  "uuid": "67226ef4-f953-44ca-a512-d8a4e38807ba"
                },
                "name": "SYS_GEN__Runbook_Package_5322edb8_6b66_4655_942b_1d26c07549d7"
              }
            },
            {
              "description": "System action for stopping an application",
              "message_list": [],
              "uuid": "a270a173-15fa-4b57-a866-02bb36a01947",
              "name": "action_stop",
              "state": "ACTIVE",
              "critical": true,
              "attrs": {},
              "type": "system",
              "runbook": {
                "task_definition_list": [
                  {
                    "target_any_local_reference": {
                      "kind": "app_package",
                      "name": "Package1",
                      "uuid": "5322edb8-6b66-4655-942b-1d26c07549d7"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "DAG",
                    "uuid": "96d1239b-b36c-48d8-a5da-fd110e5a0eb4",
                    "child_tasks_local_reference_list": [
                      "@{kind=app_task; name=SYS_GEN__stop_CRb_Service_b2466bcd_4fa1_479c_b5c8_5e3c80832769; uuid=baec2fb4-eee2-4f3b-a5e6-1e5c7bf511ff}"
                    ],
                    "state": "ACTIVE",
                    "attrs": {
                      "edges": "",
                      "type": "DAG"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__Composite_DAG_Package_5322edb8_6b66_4655_942b_1d26c07549d7"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_service",
                      "name": "Service1",
                      "uuid": "b2466bcd-4fa1-479c-b5c8-5e3c80832769"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "CALL_RUNBOOK",
                    "uuid": "baec2fb4-eee2-4f3b-a5e6-1e5c7bf511ff",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "inarg_list": "",
                      "type": "CALL_RUNBOOK",
                      "runbook_reference": "@{kind=app_runbook; name=e6e3ef02_runbook; uuid=ad14c0b3-3182-4e04-9b5a-c4c42ae4e9b2}"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__stop_CRb_Service_b2466bcd_4fa1_479c_b5c8_5e3c80832769"
                  }
                ],
                "description": "",
                "message_list": [],
                "uuid": "02fb1df6-dc76-4695-ba60-f2d8cdc2ca42",
                "state": "ACTIVE",
                "variable_list": [],
                "main_task_local_reference": {
                  "kind": "app_task",
                  "name": "SYS_GEN__Composite_DAG_Package_5322edb8_6b66_4655_942b_1d26c07549d7",
                  "uuid": "96d1239b-b36c-48d8-a5da-fd110e5a0eb4"
                },
                "name": "SYS_GEN__Runbook_Package_5322edb8_6b66_4655_942b_1d26c07549d7"
              }
            }
          ],
          "message_list": [],
          "service_local_reference_list": [
            {
              "kind": "app_service",
              "name": "Service1",
              "uuid": "b2466bcd-4fa1-479c-b5c8-5e3c80832769"
            }
          ],
          "uuid": "5322edb8-6b66-4655-942b-1d26c07549d7",
          "state": "ACTIVE",
          "version": "",
          "editables": {},
          "type": "DEB",
          "options": {
            "install_runbook": {
              "task_definition_list": [
                {
                  "target_any_local_reference": {
                    "kind": "app_package",
                    "name": "Package1",
                    "uuid": "5322edb8-6b66-4655-942b-1d26c07549d7"
                  },
                  "retries": "0",
                  "description": "",
                  "type": "DAG",
                  "uuid": "20570cdf-3447-4715-9ccf-ab51c18e9db7",
                  "child_tasks_local_reference_list": [
                    {
                      "kind": "app_task",
                      "name": "existingDisksOnTemplate",
                      "uuid": "d064207d-761d-43c1-acfd-b15563924a32"
                    },
                    {
                      "kind": "app_task",
                      "name": "addBackupInterface",
                      "uuid": "686d059f-a7c3-4d02-8332-2a78918bcf20"
                    },
                    {
                      "kind": "app_task",
                      "name": "getMacAddressBackupInterface",
                      "uuid": "9a2a97e5-c503-44e1-bf6a-3edd3ed7eb79"
                    },
                    {
                      "kind": "app_task",
                      "name": "addPrivateInterface",
                      "uuid": "adb1ea1a-71a7-44dc-999e-75b3a664e60a"
                    },
                    {
                      "kind": "app_task",
                      "name": "getMacAddressPrivateInterface",
                      "uuid": "2edcc3ba-819a-41ed-8264-8d2c208412ee"
                    },
                    {
                      "kind": "app_task",
                      "name": "addAdditionalDisks",
                      "uuid": "c4c0c598-ca9a-4cf3-9ccd-5e7219620e80"
                    },
                    {
                      "kind": "app_task",
                      "name": "mountNgtTools",
                      "uuid": "3a6a04a1-20e0-4a88-a7e2-e90d0969b750"
                    }
                  ],
                  "state": "ACTIVE",
                  "attrs": {
                    "edges": [
                      "@{from_task_reference=; edge_type=user_defined; type=; uuid=00d6dc65-ee41-4593-a07e-59890ef2d80b; to_task_reference=}",
                      "@{from_task_reference=; edge_type=user_defined; type=; uuid=cabcbe9e-942e-4253-a047-fded4c7cd00c; to_task_reference=}",
                      "@{from_task_reference=; edge_type=user_defined; type=; uuid=a9ecbdc1-d070-457f-960d-9db70fe3ead7; to_task_reference=}",
                      "@{from_task_reference=; edge_type=user_defined; type=; uuid=874baaa3-59ff-4bfb-a997-64a660b6a56e; to_task_reference=}",
                      "@{from_task_reference=; edge_type=user_defined; type=; uuid=d872dced-b383-4de0-8a01-f8975b5f06fc; to_task_reference=}",
                      "@{from_task_reference=; edge_type=user_defined; type=; uuid=86f477d6-567b-40d9-9bbb-907c8cc2c061; to_task_reference=}"
                    ],
                    "type": ""
                  },
                  "timeout_secs": "0",
                  "inherit_target": false,
                  "message_list": [],
                  "variable_list": [],
                  "name": "2c5169c7_dag"
                },
                {
                  "target_any_local_reference": {
                    "kind": "app_service",
                    "name": "Service1",
                    "uuid": "b2466bcd-4fa1-479c-b5c8-5e3c80832769"
                  },
                  "retries": "0",
                  "description": "",
                  "type": "SET_VARIABLE",
                  "uuid": "d064207d-761d-43c1-acfd-b15563924a32",
                  "child_tasks_local_reference_list": [],
                  "state": "ACTIVE",
                  "attrs": {
                    "exit_status": [],
                    "script": "#!/bin/bash\n\n## Get the list of exsisting disks on the template before adding new disks\ndisks=(`lsblk | grep disk | awk '{print $1}'`)\n\nexistingDisksOnTemplate=$(echo \"${disks[@]}\" | sed 's/ /\\|/g')\necho \"existingDisksOnTemplate=$existingDisksOnTemplate\"\n\n",
                    "eval_variables": [
                      "existingDisksOnTemplate"
                    ],
                    "eval_scope": "local",
                    "type": "",
                    "script_type": "sh"
                  },
                  "timeout_secs": "0",
                  "inherit_target": false,
                  "message_list": [],
                  "variable_list": [],
                  "name": "existingDisksOnTemplate"
                },
                {
                  "target_any_local_reference": {
                    "kind": "app_service",
                    "name": "Service1",
                    "uuid": "b2466bcd-4fa1-479c-b5c8-5e3c80832769"
                  },
                  "retries": "0",
                  "description": "",
                  "type": "EXEC",
                  "uuid": "686d059f-a7c3-4d02-8332-2a78918bcf20",
                  "child_tasks_local_reference_list": [],
                  "state": "ACTIVE",
                  "attrs": {
                    "script_type": "static",
                    "type": "",
                    "command_line_args": "",
                    "exit_status": [],
                    "script": "###script\n\n#Global Variables\nnetworkName = \"@@{backupInterfaceNetwork}@@\"\n\nif networkName==\"None\":\n  exit(0)\n\noffset = 0\nlength = 100\nvmUuid = \"@@{platform.metadata.uuid}@@\"\nprint \"vmUuid =\", vmUuid\npcUser = \"@@{pcUser}@@\"\npcUserPassword = \"@@{pcUserPassword}@@\"\nclusterName=\"@@{clusterSelection}@@\"\n#clusterName=\"PMCRANTXFFCL01\"\n# find network id\n\n#networkName = \"VLAN275\"\nnetworkId = \"\"\nheaders = {'Content-Type': 'application/json',  'Accept':'application/json'}\n\n#Global Functions\n\n#Main Code\n\n#Getting the vnic uuid\napi_url = 'https://localhost:9440/api/nutanix/v3/subnets/list'\npayload ={\n  \"kind\": \"subnet\",\n  \"offset\": offset,\n  \"length\": length,\n  \"filter\": \"name=={};cluster_name=={}\".format(networkName,clusterName)\n  }\n\nreq = urlreq(api_url, verb='POST', params=json.dumps(payload), headers=headers, verify=False, auth='BASIC', user=pcUser, passwd=pcUserPassword)\nif req.ok:\n    resp = json.loads(req.content)\n    print resp\n    networkUuid=resp['entities'][0]['metadata']['uuid']\n    print \"networkUuid = \", networkUuid\nelse:\n    print \"Post request failed\", req.content\n    exit(1)\n\n\n#Adding vNic\npayload =[\n    {\n        \"generic_dto\": {\n            \"spec_list\": [\n                {\n                    \"network_uuid\":networkUuid,\n                    \"is_connected\": \"true\"\n                }\n            ],\n            \"uuid\": vmUuid\n        }\n    }\n]\n\napi_url = 'https://localhost:9440/api/nutanix/v0.8/vms/nics/fanout'\nreq = urlreq(api_url, verb='POST', params=json.dumps(payload), headers=headers, verify=False, auth='BASIC', user=pcUser, passwd=pcUserPassword)\nif req.ok:\n    resp = json.loads(req.content)\n    print \"Adding vNIC successed\"\nelse:\n    print \"Post request failed\", req.content\n    exit(1)\n\n#Validate task completed\ntaskUuid = resp['taskUuid']\nprint \"taskUuid = \", taskUuid\napi_url = 'https://localhost:9440/api/nutanix/v3/tasks/{}'.format(taskUuid)\ntaskStatus = None\ni = 0\n##Execution Block 3 - Get virtual machine list - Main Code\nwhile taskStatus != 'SUCCEEDED':\n    #Get VM status\n    r = urlreq(api_url, verb='GET', headers=headers, verify=False, auth='BASIC', user=pcUser, passwd=pcUserPassword)\n    if r.ok:\n        resp = json.loads(r.content)\n    else:\n        print (\"Post request failed\", r.content)\n        exit(1)    \n    print(resp['status'])\n    taskStatus = (resp['status'])\n    if taskStatus==\"ERROR\":\n        exit(1)\n    print(resp['percentage_complete'])\n    i = i + 1\n    if i == 20:\n        print(\"operation failed\")\n        exit(1)\n    sleep(15)\n#get VM payload \n    \n#Return\nexit(0)"
                  },
                  "timeout_secs": "0",
                  "inherit_target": false,
                  "message_list": [],
                  "variable_list": [],
                  "name": "addBackupInterface"
                },
                {
                  "target_any_local_reference": {
                    "kind": "app_service",
                    "name": "Service1",
                    "uuid": "b2466bcd-4fa1-479c-b5c8-5e3c80832769"
                  },
                  "retries": "0",
                  "description": "",
                  "type": "SET_VARIABLE",
                  "uuid": "9a2a97e5-c503-44e1-bf6a-3edd3ed7eb79",
                  "child_tasks_local_reference_list": [],
                  "state": "ACTIVE",
                  "attrs": {
                    "exit_status": [],
                    "script": "networkName = \"@@{backupInterfaceNetwork}@@\"\n\nif networkName==\"None\":\n  exit(0)\n\n\npcUser = '@@{pcUser}@@'\npcUserPassword = '@@{pcUserPassword}@@'\nvmUuid = '@@{platform.metadata.uuid}@@'\nheaders = {'Content-Type': 'application/json',  'Accept':'application/json'}\napi_url = 'https://localhost:9440/api/nutanix/v3/vms/{}'.format(vmUuid)\n\nreq = urlreq(api_url, verb='GET', headers=headers, verify=False, auth='BASIC', user=pcUser, passwd=pcUserPassword)\n\nif req.ok:\n    resp = json.loads(req.content)\n    nicList = resp['spec']['resources']['nic_list']\n    macAddress = nicList[len(nicList)-1]['mac_address']\n    print 'macAddress = ', macAddress\n    \nelse:\n    print 'Post request failed', req.content\n    exit(1)\n\n#macAddress = macAddress.replace(':','-')\nprint macAddress\nprint ('backupInterfaceMac={}'.format(json.dumps(macAddress)))",
                    "eval_variables": [
                      "backupInterfaceMac"
                    ],
                    "eval_scope": "local",
                    "type": "",
                    "script_type": "static"
                  },
                  "timeout_secs": "0",
                  "inherit_target": false,
                  "message_list": [],
                  "variable_list": [],
                  "name": "getMacAddressBackupInterface"
                },
                {
                  "target_any_local_reference": {
                    "kind": "app_service",
                    "name": "Service1",
                    "uuid": "b2466bcd-4fa1-479c-b5c8-5e3c80832769"
                  },
                  "retries": "0",
                  "description": "",
                  "type": "EXEC",
                  "uuid": "adb1ea1a-71a7-44dc-999e-75b3a664e60a",
                  "child_tasks_local_reference_list": [],
                  "state": "ACTIVE",
                  "attrs": {
                    "script_type": "static",
                    "type": "",
                    "command_line_args": "",
                    "exit_status": [],
                    "script": "###script\n\n#Global Variables\nnetworkName = \"@@{privateInterfaceNetwork}@@\"\n\nif networkName==\"None\":\n  exit(0)\n\noffset = 0\nlength = 100\nvmUuid = \"@@{platform.metadata.uuid}@@\"\nprint \"vmUuid =\", vmUuid\npcUser = \"@@{pcUser}@@\"\npcUserPassword = \"@@{pcUserPassword}@@\"\nclusterName=\"@@{clusterSelection}@@\"\nnetworkId = \"\"\nheaders = {'Content-Type': 'application/json',  'Accept':'application/json'}\n\n#Global Functions\n\n#Main Code\n\n#Getting the vNic uuid\napi_url = 'https://localhost:9440/api/nutanix/v3/subnets/list'\npayload ={\n  \"kind\": \"subnet\",\n  \"offset\": offset,\n  \"length\": length,\n  \"filter\": \"name=={};cluster_name=={}\".format(networkName,clusterName)\n  }\n\nreq = urlreq(api_url, verb='POST', params=json.dumps(payload), headers=headers, verify=False, auth='BASIC', user=pcUser, passwd=pcUserPassword)\nif req.ok:\n    resp = json.loads(req.content)\n    print resp\n    networkUuid=resp['entities'][0]['metadata']['uuid']\n    print \"networkUuid = \", networkUuid\nelse:\n    print \"Post request failed\", req.content\n    exit(1)\n\n\n#Adding vNic\npayload =[\n    {\n        \"generic_dto\": {\n            \"spec_list\": [\n                {\n                    \"network_uuid\":networkUuid,\n                    \"is_connected\": \"true\"\n                }\n            ],\n            \"uuid\": vmUuid\n        }\n    }\n]\n\napi_url = 'https://localhost:9440/api/nutanix/v0.8/vms/nics/fanout'\nreq = urlreq(api_url, verb='POST', params=json.dumps(payload), headers=headers, verify=False, auth='BASIC', user=pcUser, passwd=pcUserPassword)\nif req.ok:\n    resp = json.loads(req.content)\n    print \"Adding vNIC successed\"\nelse:\n    print \"Post request failed\", req.content\n    exit(1)\n\n#Validate task completed\ntaskUuid = resp['taskUuid']\nprint \"taskUuid = \", taskUuid\napi_url = 'https://localhost:9440/api/nutanix/v3/tasks/{}'.format(taskUuid)\ntaskStatus = None\ni = 0\n##Execution Block 3 - Get virtual machine list - Main Code\nwhile taskStatus != 'SUCCEEDED':\n    #Get VM status\n    r = urlreq(api_url, verb='GET', headers=headers, verify=False, auth='BASIC', user=pcUser, passwd=pcUserPassword)\n    if r.ok:\n        resp = json.loads(r.content)\n    else:\n        print (\"Post request failed\", r.content)\n        exit(1)    \n    print(resp['status'])\n    taskStatus = (resp['status'])\n    if taskStatus==\"ERROR\":\n        exit(1)\n    print(resp['percentage_complete'])\n    i = i + 1\n    if i == 20:\n        print(\"operation failed\")\n        exit(1)\n    sleep(15)\n    \n#Return\nexit(0)"
                  },
                  "timeout_secs": "0",
                  "inherit_target": false,
                  "message_list": [],
                  "variable_list": [],
                  "name": "addPrivateInterface"
                },
                {
                  "target_any_local_reference": {
                    "kind": "app_service",
                    "name": "Service1",
                    "uuid": "b2466bcd-4fa1-479c-b5c8-5e3c80832769"
                  },
                  "retries": "0",
                  "description": "",
                  "type": "SET_VARIABLE",
                  "uuid": "2edcc3ba-819a-41ed-8264-8d2c208412ee",
                  "child_tasks_local_reference_list": [],
                  "state": "ACTIVE",
                  "attrs": {
                    "exit_status": [],
                    "script": "networkName = \"@@{privateInterfaceNetwork}@@\"\n\nif networkName==\"None\":\n  exit(0)\n\npcUser = '@@{pcUser}@@'\npcUserPassword = '@@{pcUserPassword}@@'\nvmUuid = '@@{platform.metadata.uuid}@@'\nheaders = {'Content-Type': 'application/json',  'Accept':'application/json'}\napi_url = 'https://localhost:9440/api/nutanix/v3/vms/{}'.format(vmUuid)\n\nreq = urlreq(api_url, verb='GET', headers=headers, verify=False, auth='BASIC', user=pcUser, passwd=pcUserPassword)\n\nif req.ok:\n    resp = json.loads(req.content)\n    nicList = resp['spec']['resources']['nic_list']\n    macAddress = nicList[len(nicList)-1]['mac_address']\n    print 'macAddress = ', macAddress\n    \nelse:\n    print 'Post request failed', req.content\n    exit(1)\n\n#macAddress = macAddress.replace(':','-')\nprint macAddress\nprint ('privateInterfaceMac={}'.format(json.dumps(macAddress)))",
                    "eval_variables": [
                      "privateInterfaceMac"
                    ],
                    "eval_scope": "local",
                    "type": "",
                    "script_type": "static"
                  },
                  "timeout_secs": "0",
                  "inherit_target": false,
                  "message_list": [],
                  "variable_list": [],
                  "name": "getMacAddressPrivateInterface"
                },
                {
                  "target_any_local_reference": {
                    "kind": "app_service",
                    "name": "Service1",
                    "uuid": "b2466bcd-4fa1-479c-b5c8-5e3c80832769"
                  },
                  "retries": "0",
                  "description": "",
                  "type": "EXEC",
                  "uuid": "c4c0c598-ca9a-4cf3-9ccd-5e7219620e80",
                  "child_tasks_local_reference_list": [],
                  "state": "ACTIVE",
                  "attrs": {
                    "script_type": "static",
                    "type": "",
                    "command_line_args": "",
                    "exit_status": [],
                    "script": "vDiskHome = @@{vDiskHome}@@\nvDiskOpt = @@{vDiskOpt}@@\nvDiskUsr = @@{vDiskUsr}@@\nvDiskVar = @@{vDiskVar}@@\n\nnewDiskList = [vDiskHome, vDiskOpt, vDiskUsr, vDiskVar]\nnewDiskList = [i for i in newDiskList if i != 0]\n\nif not newDiskList: \n  exit(0)\n\n#FUNCTIONS\n#INPUT VARIABLES\njwt = '@@{calm_jwt}@@'\nvirtualMachineUuid = \"@@{id}@@\"\n\n#GLOBAL VARIABLES\nheaders = {'Content-Type': 'application/json',  'Accept':'application/json', 'Authorization': 'Bearer {}'.format(jwt)}\nnewDiskListCount = len(newDiskList)\nprint(newDiskListCount)\n#MAIN CODE BLOCK EXECUTION\n##Execution Block 1 - Get virtual machine api pagination - Variables\napi_url = 'https://localhost:9440/api/nutanix/v3/vms/{}'.format(virtualMachineUuid)\n##Execution Block 1 - Get virtual machine api pagination - Main Code\n###Get VM spec\nr = urlreq(api_url, verb='GET', headers=headers, verify=False)\nif r.ok:\n    resp = json.loads(r.content)\nelse:\n    print (\"Post request failed\", r.content)\n    exit(1)\n\n###Get scsi index in use\nscsiIndexList = []\nfor disk in resp['spec']['resources']['disk_list']:\n    if (disk['device_properties']['disk_address']['adapter_type'] != 'IDE'):\n        scsiIndexList.append(disk['device_properties']['disk_address']['device_index'])\n\n###set new scsi index list\nnewList = list(item for item in range(100) if item not in scsiIndexList)[:newDiskListCount]\n\n###Create Disk Template\ni = 0\nfor newDisk in newDiskList:\n    a = {}\n   # a['storage_config'] = resp['spec']['resources']['disk_list'][0]['storage_config']\n    a['device_properties'] = {}\n    a['device_properties']['device_type'] = \"DISK\"\n    a['device_properties']['disk_address'] = {}\n    a['device_properties']['disk_address']['device_index'] = newList[i]\n    a['device_properties']['disk_address']['adapter_type'] = \"SCSI\"\n    a['disk_size_bytes'] = (newDisk * 1073741824)    \n    i=i+1\n    resp['spec']['resources']['disk_list'].append(a)\nresp.pop('status', None)\n\n##Execution Block 2 - Get virtual machine list - Variables\napi_url = 'https://localhost:9440/api/nutanix/v3/vms/{}'.format(virtualMachineUuid)\n##Execution Block 2 - Get virtual machine list - Main Code\n###run update action\nr = urlreq(api_url, verb='PUT', params=json.dumps(resp), headers=headers, verify=False)\nif r.ok:\n    resp = json.loads(r.content)\n    print(resp)\nelse:\n    print (\"Post request failed\", r.content)\n    exit(1)\n###Get Task uuid\ntaskUuid = resp['status']['execution_context']['task_uuid']\n\n\n##Execution Block 3 - Get virtual machine list - Variables\napi_url = 'https://localhost:9440/api/nutanix/v3/tasks/{}'.format(taskUuid)\ntaskStatus = None\ni = 0\n##Execution Block 3 - Get virtual machine list - Main Code\nwhile taskStatus != 'SUCCEEDED':\n    #Get VM status\n    r = urlreq(api_url, verb='GET', headers=headers, verify=False)\n    if r.ok:\n        resp = json.loads(r.content)\n    else:\n        print (\"Post request failed\", r.content)\n        exit(1)    \n    print(resp['status'])\n    taskStatus = (resp['status'])\n    print(resp['percentage_complete'])\n    i = i + 1\n    if i == 20:\n        print(\"operation failed\")\n        exit(1)\n    sleep(15)"
                  },
                  "timeout_secs": "0",
                  "inherit_target": false,
                  "message_list": [],
                  "variable_list": [],
                  "name": "addAdditionalDisks"
                },
                {
                  "target_any_local_reference": {
                    "kind": "app_service",
                    "name": "Service1",
                    "uuid": "b2466bcd-4fa1-479c-b5c8-5e3c80832769"
                  },
                  "retries": "0",
                  "description": "",
                  "type": "EXEC",
                  "uuid": "3a6a04a1-20e0-4a88-a7e2-e90d0969b750",
                  "child_tasks_local_reference_list": [],
                  "state": "ACTIVE",
                  "attrs": {
                    "script_type": "static",
                    "type": "",
                    "command_line_args": "",
                    "exit_status": [],
                    "script": "#script\n\n#GLOBAL VARIABLES\njwt = '@@{calm_jwt}@@'\nheaders = {'Content-Type': 'application/json',  'Accept':'application/json', 'Authorization': 'Bearer {}'.format(jwt)}\nvirtualMachineUuid = \"@@{id}@@\"\n#MAIN CODE BLOCK EXECUTION\n##Execution Block 1 - Get virtual machine api pagination - Variables\napi_url = 'https://localhost:9440/api/nutanix/v3/vms/{}'.format(virtualMachineUuid)\n##Execution Block 1 - Get virtual machine api pagination - Main Code\n###Get VM spec\nr = urlreq(api_url, verb='GET', headers=headers, verify=False)\nif r.ok:\n    resp = json.loads(r.content)\nelse:\n    print \"Post request failed\", r.content\n    exit(1)\n###Create spec Template\nresp.pop('status', None)\nresp['spec']['resources']['guest_tools'] = {}\nresp['spec']['resources']['guest_tools']['nutanix_guest_tools'] = {}\nresp['spec']['resources']['guest_tools']['nutanix_guest_tools']['iso_mount_state'] = \"MOUNTED\"\nresp['spec']['resources']['guest_tools']['nutanix_guest_tools']['state'] = \"ENABLED\"\n\n##Execution Block 2 - Get virtual machine list - Variables\napi_url = 'https://localhost:9440/api/nutanix/v3/vms/{}'.format(virtualMachineUuid)\n##Execution Block 2 - Get virtual machine list - Main Code\n###run put action\nr = urlreq(api_url, verb='PUT', params=json.dumps(resp), headers=headers, verify=False)\nif r.ok:\n    resp = json.loads(r.content)\n    print(resp)\nelse:\n    print \"Post request failed\", r.content\n    exit(1)\n###Get Task uuid\ntaskUuid = resp['status']['execution_context']['task_uuid']\n\n##Execution Block 3 - Get virtual machine list - Variables\napi_url = 'https://localhost:9440/api/nutanix/v3/tasks/{}'.format(taskUuid)\ntaskStatus = None\ni = 0\n##Execution Block 3 - Get virtual machine list - Main Code\nwhile taskStatus != 'SUCCEEDED':\n    #Get VM status\n    r = urlreq(api_url, verb='GET', headers=headers, verify=False)\n    if r.ok:\n        resp = json.loads(r.content)\n    else:\n        print \"Post request failed\", r.content\n        exit(1)\n    print(resp['status'])\n    taskStatus = (resp['status'])\n    print(resp['percentage_complete'])\n    i = i + 1\n    if i == 20:\n        print(\"operation failed\")\n        exit(1)\n    sleep(15)"
                  },
                  "timeout_secs": "0",
                  "inherit_target": false,
                  "message_list": [],
                  "variable_list": [],
                  "name": "mountNgtTools"
                }
              ],
              "description": "",
              "message_list": [],
              "uuid": "926c71b9-a955-451b-b645-7f07b23e34f4",
              "state": "ACTIVE",
              "variable_list": [],
              "main_task_local_reference": {
                "kind": "app_task",
                "name": "2c5169c7_dag",
                "uuid": "20570cdf-3447-4715-9ccf-ab51c18e9db7"
              },
              "name": "acb8bbe6_runbook"
            },
            "type": "",
            "upgrade_runbook": {},
            "uninstall_runbook": {
              "task_definition_list": [
                {
                  "target_any_local_reference": {
                    "kind": "app_package",
                    "name": "Package1",
                    "uuid": "5322edb8-6b66-4655-942b-1d26c07549d7"
                  },
                  "retries": "0",
                  "description": "",
                  "type": "DAG",
                  "uuid": "ae634091-1c08-489a-b61d-93774104d836",
                  "child_tasks_local_reference_list": [],
                  "state": "ACTIVE",
                  "attrs": {
                    "edges": [],
                    "type": ""
                  },
                  "timeout_secs": "0",
                  "inherit_target": false,
                  "message_list": [],
                  "variable_list": [],
                  "name": "022642f5_dag"
                }
              ],
              "description": "",
              "message_list": [],
              "uuid": "74c4c892-ef21-42a1-845a-a7c95eafc412",
              "state": "ACTIVE",
              "variable_list": [],
              "main_task_local_reference": {
                "kind": "app_task",
                "name": "022642f5_dag",
                "uuid": "ae634091-1c08-489a-b61d-93774104d836"
              },
              "name": "155af92f_runbook"
            }
          },
          "variable_list": [],
          "name": "Package1"
        },
        {
          "description": "",
          "action_list": [
            {
              "description": "System action for installing an application",
              "message_list": [],
              "uuid": "3389fcd6-b5e5-4a1a-91c4-b6c54397ad1d",
              "name": "action_install",
              "state": "ACTIVE",
              "critical": true,
              "attrs": {},
              "type": "system",
              "runbook": {
                "task_definition_list": [
                  {
                    "target_any_local_reference": {
                      "kind": "app_package",
                      "name": "Package2",
                      "uuid": "ccca8e2c-86be-4b22-92cb-eeba0eea1247"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "DAG",
                    "uuid": "07b100be-6d02-45f1-b69d-3747c008d8e8",
                    "child_tasks_local_reference_list": [
                      "@{kind=app_task; name=SYS_GEN__Install_Crb_ccca8e2c_86be_4b22_92cb_eeba0eea1247; uuid=864ddab9-5e9b-4711-a5aa-41d7f62e5259}"
                    ],
                    "state": "ACTIVE",
                    "attrs": {
                      "edges": "",
                      "type": "DAG"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__DAG_Package_ccca8e2c_86be_4b22_92cb_eeba0eea1247"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_package",
                      "name": "Package2",
                      "uuid": "ccca8e2c-86be-4b22-92cb-eeba0eea1247"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "CUSTOM_PACKAGE_INSTALL",
                    "uuid": "864ddab9-5e9b-4711-a5aa-41d7f62e5259",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "install_runbook": "@{task_definition_list=System.Object[]; description=; message_list=System.Object[]; uuid=7e816977-556c-4892-9398-f61d02399678; state=ACTIVE; variable_list=System.Object[]; main_task_local_reference=; name=4cd6e3ef_runbook}",
                      "type": "",
                      "upgrade_runbook": "",
                      "uninstall_runbook": "@{task_definition_list=System.Object[]; description=; message_list=System.Object[]; uuid=f5d53b8a-988a-47ed-aed3-18efa845855e; state=ACTIVE; variable_list=System.Object[]; main_task_local_reference=; name=54088f53_runbook}"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__Install_Crb_ccca8e2c_86be_4b22_92cb_eeba0eea1247"
                  }
                ],
                "description": "",
                "message_list": [],
                "uuid": "4105a9a1-4a55-41d4-8f1e-a4d90c4a59ad",
                "state": "ACTIVE",
                "variable_list": [],
                "main_task_local_reference": {
                  "kind": "app_task",
                  "name": "SYS_GEN__DAG_Package_ccca8e2c_86be_4b22_92cb_eeba0eea1247",
                  "uuid": "07b100be-6d02-45f1-b69d-3747c008d8e8"
                },
                "name": "SYS_GEN__Runbook_Package_ccca8e2c_86be_4b22_92cb_eeba0eea1247"
              }
            },
            {
              "description": "System action for creating an application",
              "message_list": [],
              "uuid": "e23c3f82-ce2b-468e-9075-f7db4a916969",
              "name": "action_create",
              "state": "ACTIVE",
              "critical": true,
              "attrs": {},
              "type": "system",
              "runbook": {
                "task_definition_list": [
                  {
                    "target_any_local_reference": {
                      "kind": "app_package",
                      "name": "Package2",
                      "uuid": "ccca8e2c-86be-4b22-92cb-eeba0eea1247"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "DAG",
                    "uuid": "f81509f1-abc3-4559-a461-47e7270a76b8",
                    "child_tasks_local_reference_list": [
                      "@{kind=app_task; name=SYS_GEN__install_CRb_Package_ccca8e2c_86be_4b22_92cb_eeba0eea1247; uuid=20d8bff6-0807-4b01-857e-c810bd318cda}",
                      "@{kind=app_task; name=SYS_GEN__create_CRb_Service_b2466bcd_4fa1_479c_b5c8_5e3c80832769; uuid=812fcd79-d99e-42e4-9f25-7a6c2e02cc67}",
                      "@{kind=app_task; name=SYS_GEN__start_CRb_Service_b2466bcd_4fa1_479c_b5c8_5e3c80832769; uuid=5425ad0e-bc83-40d6-bf1d-b27cda1c949a}"
                    ],
                    "state": "ACTIVE",
                    "attrs": {
                      "edges": " ",
                      "type": "DAG"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__Composite_DAG_Package_ccca8e2c_86be_4b22_92cb_eeba0eea1247"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_package",
                      "name": "Package2",
                      "uuid": "ccca8e2c-86be-4b22-92cb-eeba0eea1247"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "CALL_RUNBOOK",
                    "uuid": "20d8bff6-0807-4b01-857e-c810bd318cda",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "inarg_list": "",
                      "type": "CALL_RUNBOOK",
                      "runbook_reference": "@{kind=app_runbook; name=SYS_GEN__Runbook_Package_ccca8e2c_86be_4b22_92cb_eeba0eea1247; uuid=4105a9a1-4a55-41d4-8f1e-a4d90c4a59ad}"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__install_CRb_Package_ccca8e2c_86be_4b22_92cb_eeba0eea1247"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_service",
                      "name": "Service1",
                      "uuid": "b2466bcd-4fa1-479c-b5c8-5e3c80832769"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "CALL_RUNBOOK",
                    "uuid": "812fcd79-d99e-42e4-9f25-7a6c2e02cc67",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "inarg_list": "",
                      "type": "CALL_RUNBOOK",
                      "runbook_reference": "@{kind=app_runbook; name=ff3e502d_runbook; uuid=b842486f-5e48-4cf7-9ee3-ee38ef74f356}"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__create_CRb_Service_b2466bcd_4fa1_479c_b5c8_5e3c80832769"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_service",
                      "name": "Service1",
                      "uuid": "b2466bcd-4fa1-479c-b5c8-5e3c80832769"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "CALL_RUNBOOK",
                    "uuid": "5425ad0e-bc83-40d6-bf1d-b27cda1c949a",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "inarg_list": "",
                      "type": "CALL_RUNBOOK",
                      "runbook_reference": "@{kind=app_runbook; name=bcdcb98e_runbook; uuid=bb0141f3-0775-4357-b329-5aa96a7d87b9}"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__start_CRb_Service_b2466bcd_4fa1_479c_b5c8_5e3c80832769"
                  }
                ],
                "description": "",
                "message_list": [],
                "uuid": "bee557b4-85ba-4cf1-8f5c-0205773a65a5",
                "state": "ACTIVE",
                "variable_list": [],
                "main_task_local_reference": {
                  "kind": "app_task",
                  "name": "SYS_GEN__Composite_DAG_Package_ccca8e2c_86be_4b22_92cb_eeba0eea1247",
                  "uuid": "f81509f1-abc3-4559-a461-47e7270a76b8"
                },
                "name": "SYS_GEN__Runbook_Package_ccca8e2c_86be_4b22_92cb_eeba0eea1247"
              }
            },
            {
              "description": "System action for uninstalling an application",
              "message_list": [],
              "uuid": "befd0db6-6649-49c4-a781-40df38ad9257",
              "name": "action_uninstall",
              "state": "ACTIVE",
              "critical": true,
              "attrs": {},
              "type": "system",
              "runbook": {
                "task_definition_list": [
                  {
                    "target_any_local_reference": {
                      "kind": "app_package",
                      "name": "Package2",
                      "uuid": "ccca8e2c-86be-4b22-92cb-eeba0eea1247"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "DAG",
                    "uuid": "97c59572-1b52-49ca-8a80-c084a8e31978",
                    "child_tasks_local_reference_list": [
                      "@{kind=app_task; name=SYS_GEN__Uninstall_Crb_ccca8e2c_86be_4b22_92cb_eeba0eea1247; uuid=6b6e63ff-bbb9-46a8-b161-32c2da6342f3}"
                    ],
                    "state": "ACTIVE",
                    "attrs": {
                      "edges": "",
                      "type": "DAG"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__DAG_Package_ccca8e2c_86be_4b22_92cb_eeba0eea1247"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_package",
                      "name": "Package2",
                      "uuid": "ccca8e2c-86be-4b22-92cb-eeba0eea1247"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "CUSTOM_PACKAGE_UNINSTALL",
                    "uuid": "6b6e63ff-bbb9-46a8-b161-32c2da6342f3",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "install_runbook": "@{task_definition_list=System.Object[]; description=; message_list=System.Object[]; uuid=7e816977-556c-4892-9398-f61d02399678; state=ACTIVE; variable_list=System.Object[]; main_task_local_reference=; name=4cd6e3ef_runbook}",
                      "type": "",
                      "upgrade_runbook": "",
                      "uninstall_runbook": "@{task_definition_list=System.Object[]; description=; message_list=System.Object[]; uuid=f5d53b8a-988a-47ed-aed3-18efa845855e; state=ACTIVE; variable_list=System.Object[]; main_task_local_reference=; name=54088f53_runbook}"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__Uninstall_Crb_ccca8e2c_86be_4b22_92cb_eeba0eea1247"
                  }
                ],
                "description": "",
                "message_list": [],
                "uuid": "a6e29b6a-d466-4ec9-8069-19662440bf2a",
                "state": "ACTIVE",
                "variable_list": [],
                "main_task_local_reference": {
                  "kind": "app_task",
                  "name": "SYS_GEN__DAG_Package_ccca8e2c_86be_4b22_92cb_eeba0eea1247",
                  "uuid": "97c59572-1b52-49ca-8a80-c084a8e31978"
                },
                "name": "SYS_GEN__Runbook_Package_ccca8e2c_86be_4b22_92cb_eeba0eea1247"
              }
            },
            {
              "description": "System action for deleting an application. Deletes created VMs as well",
              "message_list": [],
              "uuid": "336681f7-223a-4aae-9f79-cb5984dc3dce",
              "name": "action_delete",
              "state": "ACTIVE",
              "critical": true,
              "attrs": {},
              "type": "system",
              "runbook": {
                "task_definition_list": [
                  {
                    "target_any_local_reference": {
                      "kind": "app_package",
                      "name": "Package2",
                      "uuid": "ccca8e2c-86be-4b22-92cb-eeba0eea1247"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "DAG",
                    "uuid": "21771099-c4de-417a-8e2f-b246a041ece5",
                    "child_tasks_local_reference_list": [
                      "@{kind=app_task; name=SYS_GEN__stop_CRb_Service_b2466bcd_4fa1_479c_b5c8_5e3c80832769; uuid=b388a6ab-7fa8-4d1d-8479-4482406bf2d6}",
                      "@{kind=app_task; name=SYS_GEN__delete_CRb_Service_b2466bcd_4fa1_479c_b5c8_5e3c80832769; uuid=c47b4926-27fd-4d09-a368-fbc5cbee9d66}",
                      "@{kind=app_task; name=SYS_GEN__uninstall_CRb_Package_ccca8e2c_86be_4b22_92cb_eeba0eea1247; uuid=04e39c48-ac62-4ec9-b8e0-53cfa6343e8d}"
                    ],
                    "state": "ACTIVE",
                    "attrs": {
                      "edges": " ",
                      "type": "DAG"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__Composite_DAG_Package_ccca8e2c_86be_4b22_92cb_eeba0eea1247"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_service",
                      "name": "Service1",
                      "uuid": "b2466bcd-4fa1-479c-b5c8-5e3c80832769"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "CALL_RUNBOOK",
                    "uuid": "b388a6ab-7fa8-4d1d-8479-4482406bf2d6",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "inarg_list": "",
                      "type": "CALL_RUNBOOK",
                      "runbook_reference": "@{kind=app_runbook; name=e6e3ef02_runbook; uuid=ad14c0b3-3182-4e04-9b5a-c4c42ae4e9b2}"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__stop_CRb_Service_b2466bcd_4fa1_479c_b5c8_5e3c80832769"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_service",
                      "name": "Service1",
                      "uuid": "b2466bcd-4fa1-479c-b5c8-5e3c80832769"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "CALL_RUNBOOK",
                    "uuid": "c47b4926-27fd-4d09-a368-fbc5cbee9d66",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "inarg_list": "",
                      "type": "CALL_RUNBOOK",
                      "runbook_reference": "@{kind=app_runbook; name=c906f5a1_runbook; uuid=28ac6c0f-a397-43af-9901-3e42b50cd3aa}"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__delete_CRb_Service_b2466bcd_4fa1_479c_b5c8_5e3c80832769"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_package",
                      "name": "Package2",
                      "uuid": "ccca8e2c-86be-4b22-92cb-eeba0eea1247"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "CALL_RUNBOOK",
                    "uuid": "04e39c48-ac62-4ec9-b8e0-53cfa6343e8d",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "inarg_list": "",
                      "type": "CALL_RUNBOOK",
                      "runbook_reference": "@{kind=app_runbook; name=SYS_GEN__Runbook_Package_ccca8e2c_86be_4b22_92cb_eeba0eea1247; uuid=a6e29b6a-d466-4ec9-8069-19662440bf2a}"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__uninstall_CRb_Package_ccca8e2c_86be_4b22_92cb_eeba0eea1247"
                  }
                ],
                "description": "",
                "message_list": [],
                "uuid": "1f94d4a5-4042-4519-8a0f-3b502501647f",
                "state": "ACTIVE",
                "variable_list": [],
                "main_task_local_reference": {
                  "kind": "app_task",
                  "name": "SYS_GEN__Composite_DAG_Package_ccca8e2c_86be_4b22_92cb_eeba0eea1247",
                  "uuid": "21771099-c4de-417a-8e2f-b246a041ece5"
                },
                "name": "SYS_GEN__Runbook_Package_ccca8e2c_86be_4b22_92cb_eeba0eea1247"
              }
            },
            {
              "description": "System action for deleting an application. Does not delete created VMs",
              "message_list": [],
              "uuid": "b9025477-e6a8-467a-b717-6525faabd8d5",
              "name": "action_soft_delete",
              "state": "ACTIVE",
              "critical": true,
              "attrs": {},
              "type": "system",
              "runbook": {
                "task_definition_list": [
                  {
                    "target_any_local_reference": {
                      "kind": "app_package",
                      "name": "Package2",
                      "uuid": "ccca8e2c-86be-4b22-92cb-eeba0eea1247"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "DAG",
                    "uuid": "ab222ab9-2466-44e6-a04b-a5032bc3483c",
                    "child_tasks_local_reference_list": [
                      "@{kind=app_task; name=SYS_GEN__soft_delete_CRb_Service_b2466bcd_4fa1_479c_b5c8_5e3c80832769; uuid=cd6a6c9a-e8a0-45ca-9e7e-9a5aedca87c3}",
                      "@{kind=app_task; name=SYS_GEN__Package_Element_Delete_ccca8e2c_86be_4b22_92cb_eeba0eea1247; uuid=df7db6af-f886-4632-bcf8-c898b037ea9f}"
                    ],
                    "state": "ACTIVE",
                    "attrs": {
                      "edges": "",
                      "type": "DAG"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__Composite_DAG_Package_ccca8e2c_86be_4b22_92cb_eeba0eea1247"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_service",
                      "name": "Service1",
                      "uuid": "b2466bcd-4fa1-479c-b5c8-5e3c80832769"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "CALL_RUNBOOK",
                    "uuid": "cd6a6c9a-e8a0-45ca-9e7e-9a5aedca87c3",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "inarg_list": "",
                      "type": "CALL_RUNBOOK",
                      "runbook_reference": "@{kind=app_runbook; name=SYS_GEN__Runbook_Service_b2466bcd_4fa1_479c_b5c8_5e3c80832769; uuid=467a50c0-6dc3-4aa9-8082-ed951e2a2b31}"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__soft_delete_CRb_Service_b2466bcd_4fa1_479c_b5c8_5e3c80832769"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_package",
                      "name": "Package2",
                      "uuid": "ccca8e2c-86be-4b22-92cb-eeba0eea1247"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "SOFT_DELETE_ELEMENT",
                    "uuid": "df7db6af-f886-4632-bcf8-c898b037ea9f",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "type": ""
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__Package_Element_Delete_ccca8e2c_86be_4b22_92cb_eeba0eea1247"
                  }
                ],
                "description": "",
                "message_list": [],
                "uuid": "2b5313fb-a279-4b07-9118-c2b4a12b33f5",
                "state": "ACTIVE",
                "variable_list": [],
                "main_task_local_reference": {
                  "kind": "app_task",
                  "name": "SYS_GEN__Composite_DAG_Package_ccca8e2c_86be_4b22_92cb_eeba0eea1247",
                  "uuid": "ab222ab9-2466-44e6-a04b-a5032bc3483c"
                },
                "name": "SYS_GEN__Runbook_Package_ccca8e2c_86be_4b22_92cb_eeba0eea1247"
              }
            },
            {
              "description": "System action for starting an application",
              "message_list": [],
              "uuid": "4eaa921f-4257-4d98-acbc-c0dea69a5f4d",
              "name": "action_start",
              "state": "ACTIVE",
              "critical": true,
              "attrs": {},
              "type": "system",
              "runbook": {
                "task_definition_list": [
                  {
                    "target_any_local_reference": {
                      "kind": "app_package",
                      "name": "Package2",
                      "uuid": "ccca8e2c-86be-4b22-92cb-eeba0eea1247"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "DAG",
                    "uuid": "3cedebaa-b4ef-4502-96e3-e4f6a943c1b1",
                    "child_tasks_local_reference_list": [
                      "@{kind=app_task; name=SYS_GEN__start_CRb_Service_b2466bcd_4fa1_479c_b5c8_5e3c80832769; uuid=b73ba0b0-9a34-41ba-99de-6bd34495f9b7}"
                    ],
                    "state": "ACTIVE",
                    "attrs": {
                      "edges": "",
                      "type": "DAG"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__Composite_DAG_Package_ccca8e2c_86be_4b22_92cb_eeba0eea1247"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_service",
                      "name": "Service1",
                      "uuid": "b2466bcd-4fa1-479c-b5c8-5e3c80832769"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "CALL_RUNBOOK",
                    "uuid": "b73ba0b0-9a34-41ba-99de-6bd34495f9b7",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "inarg_list": "",
                      "type": "CALL_RUNBOOK",
                      "runbook_reference": "@{kind=app_runbook; name=bcdcb98e_runbook; uuid=bb0141f3-0775-4357-b329-5aa96a7d87b9}"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__start_CRb_Service_b2466bcd_4fa1_479c_b5c8_5e3c80832769"
                  }
                ],
                "description": "",
                "message_list": [],
                "uuid": "563201c3-cde7-4584-8d3b-42421a05bc4c",
                "state": "ACTIVE",
                "variable_list": [],
                "main_task_local_reference": {
                  "kind": "app_task",
                  "name": "SYS_GEN__Composite_DAG_Package_ccca8e2c_86be_4b22_92cb_eeba0eea1247",
                  "uuid": "3cedebaa-b4ef-4502-96e3-e4f6a943c1b1"
                },
                "name": "SYS_GEN__Runbook_Package_ccca8e2c_86be_4b22_92cb_eeba0eea1247"
              }
            },
            {
              "description": "System action for restarting an application",
              "message_list": [],
              "uuid": "1154d646-f18e-40f5-8190-63aaf68e8da6",
              "name": "action_restart",
              "state": "ACTIVE",
              "critical": true,
              "attrs": {},
              "type": "system",
              "runbook": {
                "task_definition_list": [
                  {
                    "target_any_local_reference": {
                      "kind": "app_package",
                      "name": "Package2",
                      "uuid": "ccca8e2c-86be-4b22-92cb-eeba0eea1247"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "DAG",
                    "uuid": "3ee6dd58-de40-4abe-b98e-ca0f9c3e5a12",
                    "child_tasks_local_reference_list": [
                      "@{kind=app_task; name=SYS_GEN__restart_CRb_Service_b2466bcd_4fa1_479c_b5c8_5e3c80832769; uuid=b6abf9b0-1b5a-4d21-a9b9-c5b839b7c16e}"
                    ],
                    "state": "ACTIVE",
                    "attrs": {
                      "edges": "",
                      "type": "DAG"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__Composite_DAG_Package_ccca8e2c_86be_4b22_92cb_eeba0eea1247"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_service",
                      "name": "Service1",
                      "uuid": "b2466bcd-4fa1-479c-b5c8-5e3c80832769"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "CALL_RUNBOOK",
                    "uuid": "b6abf9b0-1b5a-4d21-a9b9-c5b839b7c16e",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "inarg_list": "",
                      "type": "CALL_RUNBOOK",
                      "runbook_reference": "@{kind=app_runbook; name=e68a120c_runbook; uuid=0838837f-1d74-4429-83f9-7177f89ba3a8}"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__restart_CRb_Service_b2466bcd_4fa1_479c_b5c8_5e3c80832769"
                  }
                ],
                "description": "",
                "message_list": [],
                "uuid": "f121b513-ebb3-4b81-9597-2291dba47915",
                "state": "ACTIVE",
                "variable_list": [],
                "main_task_local_reference": {
                  "kind": "app_task",
                  "name": "SYS_GEN__Composite_DAG_Package_ccca8e2c_86be_4b22_92cb_eeba0eea1247",
                  "uuid": "3ee6dd58-de40-4abe-b98e-ca0f9c3e5a12"
                },
                "name": "SYS_GEN__Runbook_Package_ccca8e2c_86be_4b22_92cb_eeba0eea1247"
              }
            },
            {
              "description": "System action for stopping an application",
              "message_list": [],
              "uuid": "8505fbb1-e948-4eaf-b344-8509f07ba003",
              "name": "action_stop",
              "state": "ACTIVE",
              "critical": true,
              "attrs": {},
              "type": "system",
              "runbook": {
                "task_definition_list": [
                  {
                    "target_any_local_reference": {
                      "kind": "app_package",
                      "name": "Package2",
                      "uuid": "ccca8e2c-86be-4b22-92cb-eeba0eea1247"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "DAG",
                    "uuid": "d73099b9-4b42-450b-8b61-b3ed21077c4e",
                    "child_tasks_local_reference_list": [
                      "@{kind=app_task; name=SYS_GEN__stop_CRb_Service_b2466bcd_4fa1_479c_b5c8_5e3c80832769; uuid=7ae9a30e-74ab-4f03-8d92-53afe82a5803}"
                    ],
                    "state": "ACTIVE",
                    "attrs": {
                      "edges": "",
                      "type": "DAG"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__Composite_DAG_Package_ccca8e2c_86be_4b22_92cb_eeba0eea1247"
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_service",
                      "name": "Service1",
                      "uuid": "b2466bcd-4fa1-479c-b5c8-5e3c80832769"
                    },
                    "retries": "0",
                    "description": "",
                    "type": "CALL_RUNBOOK",
                    "uuid": "7ae9a30e-74ab-4f03-8d92-53afe82a5803",
                    "child_tasks_local_reference_list": [],
                    "state": "ACTIVE",
                    "attrs": {
                      "inarg_list": "",
                      "type": "CALL_RUNBOOK",
                      "runbook_reference": "@{kind=app_runbook; name=e6e3ef02_runbook; uuid=ad14c0b3-3182-4e04-9b5a-c4c42ae4e9b2}"
                    },
                    "timeout_secs": "0",
                    "inherit_target": false,
                    "message_list": [],
                    "variable_list": [],
                    "name": "SYS_GEN__stop_CRb_Service_b2466bcd_4fa1_479c_b5c8_5e3c80832769"
                  }
                ],
                "description": "",
                "message_list": [],
                "uuid": "bbea9808-f91d-4821-b05b-e084223cc7cf",
                "state": "ACTIVE",
                "variable_list": [],
                "main_task_local_reference": {
                  "kind": "app_task",
                  "name": "SYS_GEN__Composite_DAG_Package_ccca8e2c_86be_4b22_92cb_eeba0eea1247",
                  "uuid": "d73099b9-4b42-450b-8b61-b3ed21077c4e"
                },
                "name": "SYS_GEN__Runbook_Package_ccca8e2c_86be_4b22_92cb_eeba0eea1247"
              }
            }
          ],
          "message_list": [],
          "service_local_reference_list": [
            {
              "kind": "app_service",
              "name": "Service1",
              "uuid": "b2466bcd-4fa1-479c-b5c8-5e3c80832769"
            }
          ],
          "uuid": "ccca8e2c-86be-4b22-92cb-eeba0eea1247",
          "state": "ACTIVE",
          "version": "",
          "editables": {},
          "type": "DEB",
          "options": {
            "install_runbook": {
              "task_definition_list": [
                {
                  "target_any_local_reference": {
                    "kind": "app_package",
                    "name": "Package2",
                    "uuid": "ccca8e2c-86be-4b22-92cb-eeba0eea1247"
                  },
                  "retries": "0",
                  "description": "",
                  "type": "DAG",
                  "uuid": "7c35246a-0f45-4c3e-8144-4d1d80e100fe",
                  "child_tasks_local_reference_list": [
                    {
                      "kind": "app_task",
                      "name": "existingDisksOnTemplate",
                      "uuid": "3e79efa1-bcdd-468b-a59a-812cd73f8d0a"
                    },
                    {
                      "kind": "app_task",
                      "name": "addBackupNetworkInterface",
                      "uuid": "9fb42426-c5ea-4a95-b554-0f6de6ea44bb"
                    },
                    {
                      "kind": "app_task",
                      "name": "addPrivateNetworkInterface",
                      "uuid": "0108658b-1c66-4d7d-abac-fad52b1c6e95"
                    },
                    {
                      "kind": "app_task",
                      "name": "addAdditionalDisk",
                      "uuid": "8f16a902-5980-44b7-b906-04cd34b4d4d3"
                    }
                  ],
                  "state": "ACTIVE",
                  "attrs": {
                    "edges": [
                      "@{from_task_reference=; edge_type=user_defined; type=; uuid=b399fb96-b3cb-4d79-8d0a-7033b1efee65; to_task_reference=}",
                      "@{from_task_reference=; edge_type=user_defined; type=; uuid=f2e528c1-3111-443f-82d7-65a3a4366dea; to_task_reference=}",
                      "@{from_task_reference=; edge_type=user_defined; type=; uuid=bfd44eeb-1af6-4dbf-8ce1-bb33c0c2a285; to_task_reference=}"
                    ],
                    "type": ""
                  },
                  "timeout_secs": "0",
                  "inherit_target": false,
                  "message_list": [],
                  "variable_list": [],
                  "name": "e3b220d9_dag"
                },
                {
                  "target_any_local_reference": {
                    "kind": "app_service",
                    "name": "Service1",
                    "uuid": "b2466bcd-4fa1-479c-b5c8-5e3c80832769"
                  },
                  "retries": "0",
                  "description": "",
                  "type": "SET_VARIABLE",
                  "uuid": "3e79efa1-bcdd-468b-a59a-812cd73f8d0a",
                  "child_tasks_local_reference_list": [],
                  "state": "ACTIVE",
                  "attrs": {
                    "exit_status": [],
                    "script": "#!/bin/bash\n\n## Get the list of exsisting disks on the template before adding new disks\ndisks=(`lsblk | grep disk | awk '{print $1}'`)\n\nexistingDisksOnTemplate=$(echo \"${disks[@]}\" | sed 's/ /\\|/g')\necho \"existingDisksOnTemplate=$existingDisksOnTemplate\"",
                    "eval_variables": [
                      "existingDisksOnTemplate"
                    ],
                    "eval_scope": "local",
                    "type": "",
                    "script_type": "sh"
                  },
                  "timeout_secs": "0",
                  "inherit_target": false,
                  "message_list": [],
                  "variable_list": [],
                  "name": "existingDisksOnTemplate"
                },
                {
                  "target_any_local_reference": {
                    "kind": "app_service",
                    "name": "Service1",
                    "uuid": "b2466bcd-4fa1-479c-b5c8-5e3c80832769"
                  },
                  "retries": "0",
                  "description": "",
                  "type": "SET_VARIABLE",
                  "uuid": "9fb42426-c5ea-4a95-b554-0f6de6ea44bb",
                  "child_tasks_local_reference_list": [],
                  "state": "ACTIVE",
                  "attrs": {
                    "exit_status": [],
                    "script": "###script\n\n#Global Variables\nnetworkName = \"@@{backupInterfaceNetwork}@@\"\n\nif networkName==\"None\":\n  exit(0)\n\nusername = '@@{domainAdminCreds.username}@@'\npassword = '@@{domainAdminCreds.secret}@@'\napi_server = '@@{vCenterAddress}@@'\nvmName = \"@@{name}@@\"\n# endregion\n# region API call function\ndef process_request(url, method, headers, payload=None):\n    if (payload is not None):\n        payload = json.dumps(payload)\n    if \"Cookie\" not in headers:\n        r = urlreq(url, verb=method, auth='BASIC', user=username, passwd=password, params=payload, verify=False, headers=headers)\n    else:\n        r = urlreq(url, verb=method, params=payload, verify=False, headers=headers)\n    if r.ok:\n        print(\"Request was successful\")\n        print(\"Status code: {}\".format(r.status_code))\n        if (r.content and ('/rest/com/vmware/cis/session' not in url)):\n            print('Response: {}'.format(json.dumps(json.loads(r.content), indent=4)))\n    elif ((r.status_code == 400) and (json.loads(r.content)['type'] == 'com.vmware.vapi.std.errors.already_exists')):\n        print(\"Status code: {}\".format(r.status_code))\n        print(\"Object already exists: skipping\")\n    else:\n        print(\"Request failed\")\n        print('Status code: {}'.format(r.status_code))\n        print(\"Headers: {}\".format(headers))\n        if (payload is not None):\n            print(\"Payload: {}\".format(json.dumps(payload)))\n        if r.content:\n            print('Response: {}'.format(json.dumps(json.loads(r.content), indent=4)))\n        exit(1)\n    return r\n# endregion\n# region login\n# region prepare api call\n\n#\n# fetch cookie\n#\n\napi_server_port = \"443\"\napi_server_endpoint = \"/rest/com/vmware/cis/session\"\nmethod = \"POST\"\nurl = \"https://{}:{}{}\".format(api_server, api_server_port, api_server_endpoint)\nheaders = {'Content-Type': 'application/json', 'Accept': 'application/json'}\n# endregion\n# region login API call\nprint(\"STEP: Logging in to vCenter...\")\nprint(\"Making a {} API call to {}\".format(method, url))\nresp = process_request(url, method, headers)\nvc_cookie = resp.headers.get('Set-Cookie').split(\";\")[0]\n\n\n\n#\n# get vm by name\n#\napi_server_port = \"443\"\n#api_server_endpoint = \"/rest/vcenter/vm/vm-5440\"\napi_server_endpoint = \"/rest/vcenter/vm?filter.names={}\".format(vmName)\nmethod = \"GET\"\nurl = \"https://{}:{}{}\".format(api_server, api_server_port, api_server_endpoint)\nheaders = {'Content-Type': 'application/json', 'Accept': 'application/json', 'Cookie': vc_cookie}\nprint(\"getting info for vm...\")\nprint(\"Making a {} API call to {}\".format(method, url))\nresp = process_request(url, method, headers)\nr = json.loads(resp.content)\nvmUuid = r['value'][0]['vm']\nprint \"vmUuid={}\".format(vmUuid)\n\n\n#\n# get network by name\n#\n\napi_server_port = \"443\"\napi_server_endpoint = \"/rest/vcenter/network?filter.names={}\".format(networkName)\n\nmethod = \"GET\"\nurl = \"https://{}:{}{}\".format(api_server, api_server_port, api_server_endpoint)\nheaders = {'Content-Type': 'application/json', 'Accept': 'application/json', 'Cookie': vc_cookie}\nprint(\"getting info for vm...\")\nprint(\"Making a {} API call to {}\".format(method, url))\nresp = process_request(url, method, headers)\n\nr = json.loads(resp.content)\nnetworkUuid = r['value'][0]['network']\n\nprint \"networkUuid={}\".format(networkUuid)\n\n#\n# add new network to vm\n#\n\napi_server_port = \"443\"\napi_server_endpoint = \"/rest/vcenter/vm/{}/hardware/ethernet\".format(vmUuid)\n\nmethod = \"POST\"\nurl = \"https://{}:{}{}\".format(api_server, api_server_port, api_server_endpoint)\nheaders = {'Content-Type': 'application/json', 'Accept': 'application/json', 'Cookie': vc_cookie}\nprint(\"getting info for vm...\")\nprint(\"Making a {} API call to {}\".format(method, url))\npayload = {\n    \"spec\": {\n        \"backing\": {\n            \"network\": networkUuid,\n            \"type\": \"DISTRIBUTED_PORTGROUP\"\n        },\n        \"start_connected\": True,\n        \"type\": \"VMXNET3\"\n        }\n}\nresp = process_request(url, method, headers, payload)\n\n\n#\n# get vm by name\n#\napi_server_port = \"443\"\napi_server_endpoint = \"/rest/vcenter/vm/{}\".format(vmUuid)\nmethod = \"GET\"\nurl = \"https://{}:{}{}\".format(api_server, api_server_port, api_server_endpoint)\nheaders = {'Content-Type': 'application/json', 'Accept': 'application/json', 'Cookie': vc_cookie}\nprint(\"getting info for vm...\")\nprint(\"Making a {} API call to {}\".format(method, url))\nresp = process_request(url, method, headers)\nr = json.loads(resp.content)\nprint r['value']['nics']\n\nnicList = r['value']['nics']\nmacAddress = nicList[len(nicList)-1]['value']['mac_address']\nprint macAddress\n\n#macAddress = macAddress.replace(':','-')\nprint ('backupInterfaceMac={}'.format(json.dumps(macAddress)))\n\n#Return\nexit(0)",
                    "eval_variables": [
                      "backupInterfaceMac"
                    ],
                    "eval_scope": "local",
                    "type": "",
                    "script_type": "static"
                  },
                  "timeout_secs": "0",
                  "inherit_target": false,
                  "message_list": [],
                  "variable_list": [],
                  "name": "addBackupNetworkInterface"
                },
                {
                  "target_any_local_reference": {
                    "kind": "app_service",
                    "name": "Service1",
                    "uuid": "b2466bcd-4fa1-479c-b5c8-5e3c80832769"
                  },
                  "retries": "0",
                  "description": "",
                  "type": "SET_VARIABLE",
                  "uuid": "0108658b-1c66-4d7d-abac-fad52b1c6e95",
                  "child_tasks_local_reference_list": [],
                  "state": "ACTIVE",
                  "attrs": {
                    "exit_status": [],
                    "script": "####script\n\n#Global Variables\nnetworkName = \"@@{privateInterfaceNetwork}@@\"\nif networkName==\"None\":\n  exit(0)\n\nusername = '@@{domainAdminCreds.username}@@'\npassword = '@@{domainAdminCreds.secret}@@'\napi_server = '@@{vCenterAddress}@@'\nvmName = \"@@{name}@@\"\n# endregion\n# region API call function\ndef process_request(url, method, headers, payload=None):\n    if (payload is not None):\n        payload = json.dumps(payload)\n    if \"Cookie\" not in headers:\n        r = urlreq(url, verb=method, auth='BASIC', user=username, passwd=password, params=payload, verify=False, headers=headers)\n    else:\n        r = urlreq(url, verb=method, params=payload, verify=False, headers=headers)\n    if r.ok:\n        print(\"Request was successful\")\n        print(\"Status code: {}\".format(r.status_code))\n        if (r.content and ('/rest/com/vmware/cis/session' not in url)):\n            print('Response: {}'.format(json.dumps(json.loads(r.content), indent=4)))\n    elif ((r.status_code == 400) and (json.loads(r.content)['type'] == 'com.vmware.vapi.std.errors.already_exists')):\n        print(\"Status code: {}\".format(r.status_code))\n        print(\"Object already exists: skipping\")\n    else:\n        print(\"Request failed\")\n        print('Status code: {}'.format(r.status_code))\n        print(\"Headers: {}\".format(headers))\n        if (payload is not None):\n            print(\"Payload: {}\".format(json.dumps(payload)))\n        if r.content:\n            print('Response: {}'.format(json.dumps(json.loads(r.content), indent=4)))\n        exit(1)\n    return r\n# endregion\n# region login\n# region prepare api call\n\n#\n# fetch cookie\n#\n\napi_server_port = \"443\"\napi_server_endpoint = \"/rest/com/vmware/cis/session\"\nmethod = \"POST\"\nurl = \"https://{}:{}{}\".format(api_server, api_server_port, api_server_endpoint)\nheaders = {'Content-Type': 'application/json', 'Accept': 'application/json'}\n# endregion\n# region login API call\nprint(\"STEP: Logging in to vCenter...\")\nprint(\"Making a {} API call to {}\".format(method, url))\nresp = process_request(url, method, headers)\nvc_cookie = resp.headers.get('Set-Cookie').split(\";\")[0]\n\n\n\n#\n# get vm by name\n#\napi_server_port = \"443\"\n#api_server_endpoint = \"/rest/vcenter/vm/vm-5440\"\napi_server_endpoint = \"/rest/vcenter/vm?filter.names={}\".format(vmName)\nmethod = \"GET\"\nurl = \"https://{}:{}{}\".format(api_server, api_server_port, api_server_endpoint)\nheaders = {'Content-Type': 'application/json', 'Accept': 'application/json', 'Cookie': vc_cookie}\nprint(\"getting info for vm...\")\nprint(\"Making a {} API call to {}\".format(method, url))\nresp = process_request(url, method, headers)\nr = json.loads(resp.content)\nvmUuid = r['value'][0]['vm']\nprint \"vmUuid={}\".format(vmUuid)\n\n\n#\n# get network by name\n#\n\napi_server_port = \"443\"\napi_server_endpoint = \"/rest/vcenter/network?filter.names={}\".format(networkName)\n\nmethod = \"GET\"\nurl = \"https://{}:{}{}\".format(api_server, api_server_port, api_server_endpoint)\nheaders = {'Content-Type': 'application/json', 'Accept': 'application/json', 'Cookie': vc_cookie}\nprint(\"getting info for vm...\")\nprint(\"Making a {} API call to {}\".format(method, url))\nresp = process_request(url, method, headers)\n\nr = json.loads(resp.content)\nnetworkUuid = r['value'][0]['network']\n\nprint \"networkUuid={}\".format(networkUuid)\n\n#\n# add new network to vm\n#\n\napi_server_port = \"443\"\napi_server_endpoint = \"/rest/vcenter/vm/{}/hardware/ethernet\".format(vmUuid)\n\nmethod = \"POST\"\nurl = \"https://{}:{}{}\".format(api_server, api_server_port, api_server_endpoint)\nheaders = {'Content-Type': 'application/json', 'Accept': 'application/json', 'Cookie': vc_cookie}\nprint(\"getting info for vm...\")\nprint(\"Making a {} API call to {}\".format(method, url))\npayload = {\n    \"spec\": {\n        \"backing\": {\n            \"network\": networkUuid,\n            \"type\": \"DISTRIBUTED_PORTGROUP\"\n        },\n        \"start_connected\": True,\n        \"type\": \"VMXNET3\"\n        }\n}\nresp = process_request(url, method, headers, payload)\n\n\n#\n# get vm by name\n#\napi_server_port = \"443\"\napi_server_endpoint = \"/rest/vcenter/vm/{}\".format(vmUuid)\nmethod = \"GET\"\nurl = \"https://{}:{}{}\".format(api_server, api_server_port, api_server_endpoint)\nheaders = {'Content-Type': 'application/json', 'Accept': 'application/json', 'Cookie': vc_cookie}\nprint(\"getting info for vm...\")\nprint(\"Making a {} API call to {}\".format(method, url))\nresp = process_request(url, method, headers)\nr = json.loads(resp.content)\nprint r['value']['nics']\n\nnicList = r['value']['nics']\nmacAddress = nicList[len(nicList)-1]['value']['mac_address']\nprint macAddress\n\n#macAddress = macAddress.replace(':','-')\nprint ('privateInterfaceMac={}'.format(json.dumps(macAddress)))\n\n#Return\nexit(0)",
                    "eval_variables": [
                      "privateInterfaceMac"
                    ],
                    "eval_scope": "local",
                    "type": "",
                    "script_type": "static"
                  },
                  "timeout_secs": "0",
                  "inherit_target": false,
                  "message_list": [],
                  "variable_list": [],
                  "name": "addPrivateNetworkInterface"
                },
                {
                  "target_any_local_reference": {
                    "kind": "app_service",
                    "name": "Service1",
                    "uuid": "b2466bcd-4fa1-479c-b5c8-5e3c80832769"
                  },
                  "retries": "0",
                  "description": "",
                  "type": "EXEC",
                  "uuid": "8f16a902-5980-44b7-b906-04cd34b4d4d3",
                  "child_tasks_local_reference_list": [],
                  "state": "ACTIVE",
                  "attrs": {
                    "script_type": "static",
                    "type": "",
                    "command_line_args": "",
                    "exit_status": [],
                    "script": "vDiskHome = @@{vDiskHome}@@\nvDiskOpt = @@{vDiskOpt}@@\nvDiskUsr = @@{vDiskUsr}@@\nvDiskVar = @@{vDiskVar}@@\n\nnewDiskList = [vDiskHome, vDiskOpt, vDiskUsr, vDiskVar]\nnewDiskList = [i for i in newDiskList if i != 0]\n\nif not newDiskList: \n  exit(0)\n  \nusername = '@@{domainAdminCreds.username}@@'\npassword = '@@{domainAdminCreds.secret}@@'\napi_server = '@@{vCenterAddress}@@'\nvmName = \"@@{name}@@\"\n\nnewDiskListCount = len(newDiskList)\nprint \"newDiskListCount = {}\".format(newDiskListCount)    \n\n# endregion\n# region API call function\ndef process_request(url, method, headers, payload=None):\n    if (payload is not None):\n        payload = json.dumps(payload)\n    if \"Cookie\" not in headers:\n        r = urlreq(url, verb=method, auth='BASIC', user=username, passwd=password, params=payload, verify=False, headers=headers)\n    else:\n        r = urlreq(url, verb=method, params=payload, verify=False, headers=headers)\n    if r.ok:\n        print(\"Request was successful\")\n        print(\"Status code: {}\".format(r.status_code))\n        if (r.content and ('/rest/com/vmware/cis/session' not in url)):\n            print('Response: {}'.format(json.dumps(json.loads(r.content), indent=4)))\n    elif ((r.status_code == 400) and (json.loads(r.content)['type'] == 'com.vmware.vapi.std.errors.already_exists')):\n        print(\"Status code: {}\".format(r.status_code))\n        print(\"Object already exists: skipping\")\n    else:\n        print(\"Request failed\")\n        print('Status code: {}'.format(r.status_code))\n        print(\"Headers: {}\".format(headers))\n        if (payload is not None):\n            print(\"Payload: {}\".format(json.dumps(payload)))\n        if r.content:\n            print('Response: {}'.format(json.dumps(json.loads(r.content), indent=4)))\n        exit(1)\n    return r\n# endregion\n# region login\n# region prepare api call\n\n#\n# fetch cookie\n#\n\napi_server_port = \"443\"\napi_server_endpoint = \"/rest/com/vmware/cis/session\"\nmethod = \"POST\"\nurl = \"https://{}:{}{}\".format(api_server, api_server_port, api_server_endpoint)\nheaders = {'Content-Type': 'application/json', 'Accept': 'application/json'}\n# endregion\n# region login API call\nprint(\"STEP: Logging in to vCenter...\")\nprint(\"Making a {} API call to {}\".format(method, url))\nresp = process_request(url, method, headers)\nvc_cookie = resp.headers.get('Set-Cookie').split(\";\")[0]\n\n\n\n#\n# get vm by name\n#\napi_server_port = \"443\"\n#api_server_endpoint = \"/rest/vcenter/vm/vm-5440\"\napi_server_endpoint = \"/rest/vcenter/vm?filter.names={}\".format(vmName)\nmethod = \"GET\"\nurl = \"https://{}:{}{}\".format(api_server, api_server_port, api_server_endpoint)\nheaders = {'Content-Type': 'application/json', 'Accept': 'application/json', 'Cookie': vc_cookie}\nprint(\"getting info for vm...\")\nprint(\"Making a {} API call to {}\".format(method, url))\nresp = process_request(url, method, headers)\nr = json.loads(resp.content)\nvmUuid = r['value'][0]['vm']\nprint \"vmUuid={}\".format(vmUuid)\n\n\n#\n# add new disk to vm\n#\napi_server_port = \"443\"\napi_server_endpoint = \"/rest/vcenter/vm/{}/hardware/disk\".format(vmUuid)\n\nmethod = \"POST\"\nurl = \"https://{}:{}{}\".format(api_server, api_server_port, api_server_endpoint)\nheaders = {'Content-Type': 'application/json', 'Accept': 'application/json', 'Cookie': vc_cookie}\n# endregion\n# region login API call\nprint(\"getting info for vm...\")\nprint(\"Making a {} API call to {}\".format(method, url))\n\nfor newDisk in newDiskList:\n    payload = {\n        \"spec\": {\n            \"new_vmdk\": {\n                \"capacity\": (newDisk * 1073741824) \n            },\n            \"type\": \"SCSI\"\n        }\n    }\n    resp = process_request(url, method, headers, payload)\n\n#Return\nexit(0)"
                  },
                  "timeout_secs": "0",
                  "inherit_target": false,
                  "message_list": [],
                  "variable_list": [],
                  "name": "addAdditionalDisk"
                }
              ],
              "description": "",
              "message_list": [],
              "uuid": "7e816977-556c-4892-9398-f61d02399678",
              "state": "ACTIVE",
              "variable_list": [],
              "main_task_local_reference": {
                "kind": "app_task",
                "name": "e3b220d9_dag",
                "uuid": "7c35246a-0f45-4c3e-8144-4d1d80e100fe"
              },
              "name": "4cd6e3ef_runbook"
            },
            "type": "",
            "upgrade_runbook": {},
            "uninstall_runbook": {
              "task_definition_list": [
                {
                  "target_any_local_reference": {
                    "kind": "app_package",
                    "name": "Package2",
                    "uuid": "ccca8e2c-86be-4b22-92cb-eeba0eea1247"
                  },
                  "retries": "0",
                  "description": "",
                  "type": "DAG",
                  "uuid": "31cc11d2-e73d-4674-9436-d37a5e6153eb",
                  "child_tasks_local_reference_list": [],
                  "state": "ACTIVE",
                  "attrs": {
                    "edges": [],
                    "type": ""
                  },
                  "timeout_secs": "0",
                  "inherit_target": false,
                  "message_list": [],
                  "variable_list": [],
                  "name": "0c2a9ffc_dag"
                }
              ],
              "description": "",
              "message_list": [],
              "uuid": "f5d53b8a-988a-47ed-aed3-18efa845855e",
              "state": "ACTIVE",
              "variable_list": [],
              "main_task_local_reference": {
                "kind": "app_task",
                "name": "0c2a9ffc_dag",
                "uuid": "31cc11d2-e73d-4674-9436-d37a5e6153eb"
              },
              "name": "54088f53_runbook"
            }
          },
          "variable_list": [],
          "name": "Package2"
        }
      ]
    },
    "name": "CentOS8"
  },
  "spec": {
    "description": "",
    "resources": {
      "client_attrs": {
        "4429ea15_deployment": {
          "y": 421.4006825444,
          "x": 1332.5671286544
        },
        "None": {
          "y": 421.4006825444,
          "x": 1332.5671286544
        },
        "7a9ac986_deployment": {
          "y": 421.4006825444,
          "x": 1332.5671286544
        }
      },
      "service_definition_list": [
        {
          "singleton": false,
          "action_list": [
            {
              "description": "System action for creating an application",
              "type": "system",
              "critical": false,
              "runbook": {
                "task_definition_list": [
                  {
                    "target_any_local_reference": {
                      "kind": "app_service",
                      "name": "Service1"
                    },
                    "retries": "0",
                    "description": "",
                    "inherit_target": false,
                    "child_tasks_local_reference_list": [
                      "@{kind=app_task; name=configureRepoServer}",
                      "@{kind=app_task; name=installAdditionalPackages}",
                      "@{kind=app_task; name=disableFirewall}",
                      "@{kind=app_task; name=configureDNS}",
                      "@{kind=app_task; name=configureNTP}",
                      "@{kind=app_task; name=configureBackupInterface}",
                      "@{kind=app_task; name=configurePrivateInterface}",
                      "@{kind=app_task; name=configureDisks}",
                      "@{kind=app_task; name=restartVM}",
                      "@{kind=app_task; name=vmRevivalProcess}",
                      "@{kind=app_task; name=installBackupAgent}",
                      "@{kind=app_task; name=installAntivirusAgent}",
                      "@{kind=app_task; name=sudoUsers}",
                      "@{kind=app_task; name=loginUsers}",
                      "@{kind=app_task; name=securityUser}",
                      "@{kind=app_task; name=installNgtTools}",
                      "@{kind=app_task; name=installVMwareTools}"
                    ],
                    "name": "4d06857d_dag",
                    "attrs": {
                      "edges": "               ",
                      "type": ""
                    },
                    "timeout_secs": "0",
                    "type": "DAG",
                    "variable_list": []
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_service",
                      "name": "Service1"
                    },
                    "retries": "0",
                    "description": "",
                    "inherit_target": false,
                    "child_tasks_local_reference_list": [],
                    "name": "configureRepoServer",
                    "attrs": {
                      "script": "sudo mkdir /etc/yum.repos.d/oldfiles\nsudo mv /etc/yum.repos.d/*.repo /etc/yum.repos.d/oldfiles/\n\n## Add CentOS 8 Repo Server:\necho '\n# change to local mirror server\n[Centos8-appstream]\nname=Centos8-appstream\nbaseurl=http://@@{repoServerIp}@@/repo/centos8/centos8-appstream/\nenabled=1\ngpgcheck=0\n\n \n[Centos8-baseos]\nname=Centos8-baseos\nbaseurl=http://@@{repoServerIp}@@/repo/centos8/centos8-baseos/\nenabled=1\ngpgcheck=0\n \n[Centos8-extras]\nname=Centos8-extras\nbaseurl=http://@@{repoServerIp}@@/repo/centos8/centos8-extras/\nenabled=1\ngpgcheck=0' | sudo tee /etc/yum.repos.d/remote.repo \n\n# Adding ping command to test connection. To be removed later. \n\n#echo -e \"\\nValidating repo server connection. \\n\"\n#ping -c4 172.17.76.142\n",
                      "type": "",
                      "command_line_args": "",
                      "exit_status": "",
                      "script_type": "sh"
                    },
                    "timeout_secs": "0",
                    "type": "EXEC",
                    "variable_list": []
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_service",
                      "name": "Service1"
                    },
                    "retries": "0",
                    "description": "",
                    "inherit_target": false,
                    "child_tasks_local_reference_list": [],
                    "name": "installAdditionalPackages",
                    "attrs": {
                      "script": "<<COMMENT\nsudo dnf install -y \\\n        sssd \\\n        realmd \\\n        oddjob \\\n        oddjob-mkhomedir \\\n        adcli \\\n        samba-common \\\n        samba-common-tools \\\n        krb5-workstation \\\n        openldap-clients \\\n        policycoreutils-python-utils \\\n        chrony \\\n        tar \\\n        python3 \\\n        authselect-compat\nCOMMENT\n\nyum install -y \\\nwget \\\nunzip \\\ntar \\\npython2 \\\nchrony",
                      "type": "",
                      "command_line_args": "",
                      "exit_status": "",
                      "script_type": "sh"
                    },
                    "timeout_secs": "0",
                    "type": "EXEC",
                    "variable_list": []
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_service",
                      "name": "Service1"
                    },
                    "retries": "0",
                    "description": "",
                    "inherit_target": false,
                    "child_tasks_local_reference_list": [],
                    "name": "disableFirewall",
                    "attrs": {
                      "script": "#!/bin/bash\n\n# Disable firewalld and SELinux\nsudo sed -i 's/SELINUX=enforcing/SELINUX=disabled/g' /etc/selinux/config\nsudo setenforce 0\nsudo systemctl stop firewalld\nsudo systemctl disable firewalld",
                      "type": "",
                      "command_line_args": "",
                      "exit_status": "",
                      "script_type": "sh"
                    },
                    "timeout_secs": "0",
                    "type": "EXEC",
                    "variable_list": []
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_service",
                      "name": "Service1"
                    },
                    "retries": "0",
                    "description": "",
                    "inherit_target": false,
                    "child_tasks_local_reference_list": [],
                    "name": "configureDNS",
                    "attrs": {
                      "script": "<<COMMENT\nSCRIPT INFORMATION\n .NAME:\n\tname: getVirtualMachinesFromPrismCentral\n .TYPE:\n\tNutanix Calm escript. Set Variable / Task\n . DESCRIPTION:\n\tThis action is a Template. Describe the funcionality of this ACTION\n .EXPECTED RESULT:\n\tFunction should return object type STRING with VALUE:\n .AUTHOR:\n\tDavid RÃ­os Delgado <david.riosdelgado@nutanix.com>\n .VERSION HISTORY:\n\t1.0.0\tInit version.\n .TESTED ON:\n\tNutanix Calm \n                3.0.0.X\n .FUNCTIONS:\n\n .INPUT PARAMETERS:\n\t@param \n        {string}\n        {Mandatory]\n        {Name=inputExample1}\n        {Description=This is an example 1}\n\t@param \n        {string}\n        {Mandatory]\n        {Name=inputExample2}\n        {Description=This is an example 2}\n\n .GLOBAL VARIABLES:\n\n .BLOCK VARIABLES:\n\n .RETURN\n\tresultObjs = {String}\n\nCOMMENT\n#FUNCTIONS\n#INPUT VARIABLES\n#GLOBAL VARIABLES\n#MAIN CODE BLOCK EXECUTION\n##Execution Block 1 - Get virtual machine api pagination - Variables\n##Execution Block 1 - Get virtual machine api pagination - Main Code\nsudo bash -c 'cat > /etc/resolv.conf <<EOF\nnameserver @@{dns1}@@\nnameserver @@{dns2}@@\nnameserver @@{dns3}@@\nEOF\n'\n\necho -e \"Validating DNS Values: \\n\"\ncat /etc/resolv.conf",
                      "type": "",
                      "command_line_args": "",
                      "exit_status": "",
                      "script_type": "sh"
                    },
                    "timeout_secs": "0",
                    "type": "EXEC",
                    "variable_list": []
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_service",
                      "name": "Service1"
                    },
                    "retries": "0",
                    "description": "",
                    "inherit_target": false,
                    "child_tasks_local_reference_list": [],
                    "name": "configureNTP",
                    "attrs": {
                      "script": "#!/bin/bash\nsed -i '/server/d' /etc/chrony.conf\necho \"\nserver @@{ntpServerIp1}@@ iburst\nserver @@{ntpServerIp2}@@ iburst\" | tee -a /etc/chrony.conf\nsystemctl start chronyd\nsystemctl enable chronyd\nchronyc makestep",
                      "type": "",
                      "command_line_args": "",
                      "exit_status": "",
                      "script_type": "sh"
                    },
                    "timeout_secs": "0",
                    "type": "EXEC",
                    "variable_list": []
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_service",
                      "name": "Service1"
                    },
                    "retries": "0",
                    "description": "",
                    "inherit_target": false,
                    "child_tasks_local_reference_list": [],
                    "name": "configureBackupInterface",
                    "attrs": {
                      "script": "# #!/bin/bash\n\n# if [ '@@{backupInterfaceNetwork}@@' == 'None' ]\n# then\n#     echo \"Backup interface not selected. Continuing...\"\n#     exit 0\n# else\n#     # Declaring variables.\n#     INTERFACE_NAME=`ifconfig | grep -B4 @@{backupInterfaceMac}@@ | grep BROADCAST | awk -F':' '{print $1}'` \n#     GATEWAY_IP=$(echo \"@@{backupInterfaceIP}@@\" | cut -d\".\" -f1-3)\n    \n    \n#     # Updating backup interface configuration.\n#     echo 'BOOTPROTO=none\n# DEVICE='$INTERFACE_NAME'\n# ONBOOT=yes\n# TYPE=Ethernet\n# IPADDR=@@{backupInterfaceIP}@@\n# NETMASK=@@{netmask}@@\n# USERCTL=no' | tee -a /etc/sysconfig/network-scripts/ifcfg-$INTERFACE_NAME\n    \n    \n#     # Adding static route for Backup communication:\n#     echo 'ADDRESS0=@@{routeIP}@@\n# NETMASK0=@@{routeMask}@@\n# GATEWAY0=@@{backupInterfaceGateway}@@' | sudo tee /etc/sysconfig/network-scripts/route-$INTERFACE_NAME\n    \n#     # Add hosts file entries for Backup Servers:\n#     echo '10.161.4.10     PMCRABKPMST01      PMCRABKPMST01.ads.pnu.edu.sa\n# 10.161.4.11     PMCRABKPMED01      PMCRABKPMED01.ads.pnu.edu.sa\n# 10.161.4.12     PMCRABKPMED02      PMCRABKPMED02.ads.pnu.edu.sa\n# 10.161.4.13     PMCRABKPMED03      PMCRABKPMED03.ads.pnu.edu.sa\n# 10.161.9.11     PHCRABKPMED01      PHCRABKPMED01.ads.pnu.edu.sa ' | tee -a /etc/hosts\n    \n#     # Bringing up the backup network\n#     sudo ifup $INTERFACE_NAME\n    \n#     # Checking if ping to Backup Server IP is working fine.\n#     #echo -e \"\\nValidating communication with the backup network.\\n\"\n#     #ping -c 4 10.161.4.10\n# fi\n\n#---------\n#!/bin/bash\n\nif [ '@@{backupInterfaceNetwork}@@' == 'None' ]\nthen\n    echo \"Backup interface not selected. Continuing...\"\n    exit 0\nelse\n    # Declaring variables.\n    INTERFACE_NAME=`ifconfig | grep -B4 @@{backupInterfaceMac}@@ | grep BROADCAST | awk -F':' '{print $1}'`\n    BKP_CONN=$(nmcli con show | grep -i wired | awk '{print $(NF-5),$(NF-4), $(NF-3)}')\n    nmcli con modify \"$BKP_CONN\" con-name $INTERFACE_NAME\n    \n    #GATEWAY_IP=$(echo \"@@{backupInterfaceIP}@@\" | cut -d\".\" -f1-3)\n    \n    # Updating backup interface configuration using nmcli\n    BKP_UUID=$(nmcli con show | grep -i $INTERFACE_NAME  | awk '{print $(NF-2)}')\n    sudo nmcli con mod $BKP_UUID ipv4.addresses @@{backupInterfaceIP}@@/24\n    sudo nmcli con mod $BKP_UUID ipv4.gateway @@{backupInterfaceGateway}@@\n    sudo nmcli con mod $BKP_UUID ipv4.method manual\n    sudo nmcli con mod $BKP_UUID ipv4.dns \"172.17.72.3 172.17.72.4\"\n    sudo nmcli con mod $BKP_UUID ipv4.routes \"@@{routeIP}@@/16 @@{backupInterfaceGateway}@@\"\n    sudo nmcli device disconnect $INTERFACE_NAME; wait; sudo nmcli device connect $INTERFACE_NAME\n    \n    \n    # Updating backup interface configuration.\n    #echo 'BOOTPROTO=none\n#DEVICE='$INTERFACE_NAME'\n#ONBOOT=yes\n#TYPE=Ethernet\n#IPADDR=@@{backupInterfaceIP}@@\n#NETMASK=@@{netmask}@@\n#USERCTL=no' | tee -a /etc/sysconfig/network-scripts/ifcfg-$INTERFACE_NAME\n    \n    \n    # Adding static route for Backup communication using nmcli:\n   \n    \n    # Adding static route for Backup communication:\n    #echo 'ADDRESS0=@@{routeIP}@@\n#NETMASK0=@@{routeMask}@@\n#GATEWAY0=@@{backupInterfaceGateway}@@' | sudo tee /etc/sysconfig/network-scripts/route-$INTERFACE_NAME\n    \n    # Add hosts file entries for Backup Servers:\n    echo '10.161.4.10     PMCRABKPMST01      PMCRABKPMST01.ads.pnu.edu.sa\n10.161.4.11     PMCRABKPMED01      PMCRABKPMED01.ads.pnu.edu.sa\n10.161.4.12     PMCRABKPMED02      PMCRABKPMED02.ads.pnu.edu.sa\n10.161.4.13     PMCRABKPMED03      PMCRABKPMED03.ads.pnu.edu.sa\n10.161.9.11     PHCRABKPMED01      PHCRABKPMED01.ads.pnu.edu.sa ' | tee -a /etc/hosts\n    \n    # Bringing up the backup network\n    sudo nmcli con up $BKP_UUID\n    ping -c3 10.161.4.10\n    \n    # Checking if ping to Backup Server IP is working fine.\n    #echo -e \"\\nValidating communication with the backup network.\\n\"\n    #ping -c 4 10.161.4.10\nfi\n",
                      "type": "",
                      "command_line_args": "",
                      "exit_status": "",
                      "script_type": "sh"
                    },
                    "timeout_secs": "0",
                    "type": "EXEC",
                    "variable_list": []
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_service",
                      "name": "Service1"
                    },
                    "retries": "0",
                    "description": "",
                    "inherit_target": false,
                    "child_tasks_local_reference_list": [],
                    "name": "configurePrivateInterface",
                    "attrs": {
                      "script": "##!/bin/bash\n\n# if [ '@@{privateInterfaceNetwork}@@' == 'None' ]\n# then\n#     echo \"Private interface not selected. Continuing...\"\n#     exit 0\n# else\n\n#     # Declaring variables.\n#     INTERFACE_NAME=`ifconfig | grep -B4 @@{privateInterfaceMac}@@ | grep BROADCAST | awk -F':' '{print $1}'` \n#     #GATEWAY_IP=$(echo \"@@{privateInterfaceIp}@@\" | cut -d\".\" -f1-3)\n       \n#     # Updating backup interface configuration.\n#     echo 'BOOTPROTO=none\n# DEVICE='$INTERFACE_NAME'\n# ONBOOT=yes\n# TYPE=Ethernet\n# IPADDR=@@{privateInterfaceIp}@@\n# NETMASK=@@{netmask}@@\n# USERCTL=no' | sudo tee -a /etc/sysconfig/network-scripts/ifcfg-$INTERFACE_NAME\n    \n#     # Bringing up the backup network\n#     sudo ifup $INTERFACE_NAME\n    \n#     # Checking if ping to Backup Server IP is working fine. \n#     #echo -e \"\\nValidating communication with private network.\\n\"\n#     #ping -c 4 @@{privateInterfaceIp}@@\n# fi\n\n#---------\n#!/bin/bash\n\nif [ '@@{privateInterfaceNetwork}@@' == 'None' ]\nthen\n    echo \"Private interface not selected. Continuing...\"\n    exit 0\nelse\n\n\tINTERFACE_NAME=`ifconfig | grep -B4 @@{privateInterfaceMac}@@ | grep BROADCAST | awk -F':' '{print $1}'`\n    PRIV_CONN=$(nmcli con show | grep -i wired | awk '{print $(NF-5),$(NF-4), $(NF-3)}')\n    nmcli con modify \"$PRIV_CONN\" con-name $INTERFACE_NAME\n    #GATEWAY_IP=$(echo \"@@{backupInterfaceIP}@@\" | cut -d\".\" -f1-3)\n    \n    # Updating backup interface configuration using nmcli\n    PRIV_UUID=$(nmcli con show | grep $INTERFACE_NAME  | awk '{print $(NF-2)}')\n    sudo nmcli con mod $PRIV_UUID ipv4.addresses @@{backupInterfaceIP}@@/24\n    sudo nmcli con mod $PRIV_UUID ipv4.method manual\n    sudo nmcli device disconnect $INTERFACE_NAME; wait; sudo nmcli device connect $INTERFACE_NAME\n\n    # Declaring variables.\n    #INTERFACE_NAME=`ifconfig | grep -B4 @@{privateInterfaceMac}@@ | grep BROADCAST | awk -F':' '{print $1}'` \n    #GATEWAY_IP=$(echo \"@@{privateInterfaceIp}@@\" | cut -d\".\" -f1-3)\n       \n    # Updating backup interface configuration.\n    #echo 'BOOTPROTO=none\n#DEVICE='$INTERFACE_NAME'\n#ONBOOT=yes\n#TYPE=Ethernet\n#IPADDR=@@{privateInterfaceIp}@@\n#NETMASK=@@{netmask}@@\n#USERCTL=no' | sudo tee -a /etc/sysconfig/network-scripts/ifcfg-$INTERFACE_NAME\n    \n    # Bringing up the backup network\n    sudo nmcli con up $PRIV_UUID\n    \n    # Checking if ping to Backup Server IP is working fine. \n    #echo -e \"\\nValidating communication with private network.\\n\"\n    #ping -c 4 @@{privateInterfaceIp}@@\nfi",
                      "type": "",
                      "command_line_args": "",
                      "exit_status": "",
                      "script_type": "sh"
                    },
                    "timeout_secs": "0",
                    "type": "EXEC",
                    "variable_list": []
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_service",
                      "name": "Service1"
                    },
                    "retries": "0",
                    "description": "",
                    "inherit_target": false,
                    "child_tasks_local_reference_list": [],
                    "name": "configureDisks",
                    "attrs": {
                      "script": "#!/bin/bash\n\n## Declaring Variables\nexistingDisks=\"@@{existingDisksOnTemplate}@@\"\nprintf \"Existing disks: $existingDisks \\n\"\ndisks=(`lsblk | grep disk | egrep -v $existingDisks | awk '{print $1}'`)\nvalues=(@@{vDiskHome}@@ @@{vDiskOpt}@@ @@{vDiskUsr}@@ @@{vDiskVar}@@)\nmountPoints=(@@{mountPointHome}@@ @@{mountPointOpt}@@ @@{mountPointUsr}@@ @@{mountPointVar}@@)\npartitions=(\"home\" \"opt\" \"usr\" \"var\")\ndisksLength=($(echo ${#disks[*]}))\n\nfor i in {0..3}\ndo\n  if [ $(echo ${values[i]}) -eq \"0\" ]\n  then\n      unset values[i]\n      unset mountPoints[i]\n      unset partitions[i]      \n  fi\ndone\n\nfinalValue=($(printf \"${values[*]}\"))\nprintf \"The final values are: ${finalValue[*]} \\n\"\n\nfinalMountPoint=($(printf \"${mountPoints[*]}\"))\nprintf \"The mount paths are: ${finalMountPoint[*]} \\n\"\n\nfinalPartitions=($(printf \"${partitions[*]}\"))\nprintf \"The mount paths are: ${finalPartitions[*]} \\n\"\n\n## Creating LVMs\nfor (( i = 0; i < $disksLength; i++ ))\ndo  \n    printf \"pvcreate /dev/${disks[$i]} \\n\"\n    pvcreate /dev/${disks[$i]}\n    printf \"vgcreate vg-${finalPartitions[$i]}-${disks[$i]} /dev/${disks[$i]} \\n\"\n    vgcreate vg-${finalPartitions[$i]}-${disks[$i]} /dev/${disks[$i]} \n    printf \"lvcreate -l 100%FREE -n lv-${finalPartitions[$i]} vg-${finalPartitions[$i]}-${disks[$i]} \\n\"\n    lvcreate -l 100%FREE -n lv-${finalPartitions[$i]} vg-${finalPartitions[$i]}-${disks[$i]}\n    printf \"pmkfs.xfs /dev/vg-${finalPartitions[$i]}-${disks[$i]}/lv-${finalPartitions[$i]} \\n\"\n    mkfs.xfs /dev/vg-${finalPartitions[$i]}-${disks[$i]}/lv-${finalPartitions[$i]}\n    printf \"mkdir ${finalMountPoint[$i]} \\n\"\n    mkdir ${finalMountPoint[$i]}\n    printf \"mount /dev/vg-${finalPartitions[$i]}-${disks[$i]}/lv-${finalPartitions[$i]} ${finalMountPoint[$i]} \\n\"\n    #mount /dev/vg-${disks[$i]}/lv-${disks[$i]} ${finalMountPoint[$i]}\n    echo \"/dev/vg-${finalPartitions[$i]}-${disks[$i]}/lv-${finalPartitions[$i]} ${finalMountPoint[$i]} xfs defaults 0 0\" >> /etc/fstab\n    mount -a\ndone\n\nlsblk",
                      "type": "",
                      "command_line_args": "",
                      "exit_status": "",
                      "script_type": "sh"
                    },
                    "timeout_secs": "0",
                    "type": "EXEC",
                    "variable_list": []
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_service",
                      "name": "Service1"
                    },
                    "retries": "0",
                    "description": "",
                    "inherit_target": false,
                    "child_tasks_local_reference_list": [],
                    "name": "restartVM",
                    "attrs": {
                      "script": "#if [ @@{vDiskHome}@@  -eq \"0\" & @@{vDiskOpt}@@ -eq \"0\" & @@{vDiskUsr}@@ -eq \"0\" & @@{vDiskVar}@@ -eq \"0\" ]\n#then\n#    echo -n \"Reboot is skipped as no additional disks are configured.\"\n#else\nshutdown -r +1\n#fi",
                      "type": "",
                      "command_line_args": "",
                      "exit_status": "",
                      "script_type": "sh"
                    },
                    "timeout_secs": "0",
                    "type": "EXEC",
                    "variable_list": []
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_service",
                      "name": "Service1"
                    },
                    "retries": "0",
                    "description": "",
                    "inherit_target": false,
                    "child_tasks_local_reference_list": [],
                    "name": "vmRevivalProcess",
                    "attrs": {
                      "type": "",
                      "interval_secs": 180
                    },
                    "timeout_secs": "0",
                    "type": "DELAY",
                    "variable_list": []
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_service",
                      "name": "Service1"
                    },
                    "retries": "0",
                    "description": "",
                    "inherit_target": false,
                    "child_tasks_local_reference_list": [],
                    "name": "installBackupAgent",
                    "attrs": {
                      "script": "#!/bin/bash\n\n\nif [ \"@@{backupInterfaceNetwork}@@\" == \"None\" ]\nthen\n\techo \"Select Backup interface for this task to complete successfully!!!\"\n    exit 0\nelse\n    # Preparing environment with backup agent. \n    SOURCE='http://@@{webServer}@@/release/NetBackup-Servers-and-Agents/NetBackup_LINUX/backupAgent.zip'\n    DEST=\"$HOME/backupFiles\"\n    sudo yum install wget -y\n    sudo wget $SOURCE -P $HOME\n    sudo mkdir $DEST\n    sudo unzip $HOME/backupAgent.zip -d $DEST\n    \n    # Setting up pre-requisites\n    sudo cp -av $DEST/backupAgent/NBInstallAnswer.conf /tmp/\n    \n    # Installing dependant library packages.\n    sudo yum install libnsl -y\n    \n    # Installing the backup agent.\n    cd $HOME/backupFiles/backupAgent/NBClients/anb/Clients/usr/openv/netbackup/client/Linux/RedHat2.6.32\n    sudo rpm  -U VRTSnbpck.rpm\n    sudo rpm  -U VRTSpbx.rpm\n    sudo rpm  -U VRTSnbclt.rpm\n    sudo rpm  -U VRTSnbjre.rpm\n    sudo rpm  -U VRTSnbjava.rpm\n    sudo rpm  -U VRTSpddea.rpm\n    sudo rpm  -U VRTSnbcfg.rpm\n    \n    # Checking if services are up. If down start the services.\n    #cd /usr/openv/netbackup/bin && ./bpps --> Command to check if the NetBackup services are started. \n    \n    cd /usr/openv/netbackup/bin/goodies && sudo ./netbackup start\n    if [ $(echo $?) != 0 ]\n    then\n        printf \"Unable to start the NetBackup service. Please contact Administrator!! \\n\"\n        exit 1\n    else\n        printf \"NetBackup services started successfully. Please check the Backup Server to see successful integration.\"\n    fi   \nfi",
                      "type": "",
                      "command_line_args": "",
                      "exit_status": "",
                      "script_type": "sh"
                    },
                    "timeout_secs": "0",
                    "type": "EXEC",
                    "variable_list": []
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_service",
                      "name": "Service1"
                    },
                    "retries": "0",
                    "description": "",
                    "inherit_target": false,
                    "child_tasks_local_reference_list": [],
                    "name": "installAntivirusAgent",
                    "attrs": {
                      "script": "#!/bin/bash\nSOURCE='http://@@{webServer}@@/release/Trenmicro-AV/Linux/Agent-RedHat_EL8-12.5.0-1033.x86_64.zip'\nDEST=\"$HOME/antivirusFile\"\nsudo wget $SOURCE -P $HOME\nsudo mkdir $DEST\nsudo unzip $HOME/Agent-RedHat_EL8-12.5.0-1033.x86_64.zip -d $DEST\nsudo rpm -ivh $DEST/Agent-Core-RedHat_EL8-12.5.0-1033.x86_64.rpm",
                      "type": "",
                      "command_line_args": "",
                      "exit_status": "",
                      "script_type": "sh"
                    },
                    "timeout_secs": "0",
                    "type": "EXEC",
                    "variable_list": []
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_service",
                      "name": "Service1"
                    },
                    "retries": "0",
                    "description": "",
                    "inherit_target": false,
                    "child_tasks_local_reference_list": [],
                    "name": "sudoUsers",
                    "attrs": {
                      "script": "#!/bin/bash\nLIST='@@{administrativeUsers}@@'\n\nUSERS=\"$(cat <<-EOF | awk -F':' '{print $1}'\n$LIST\nEOF\n)\"\n\nPASSWD=\"$(cat <<-EOF\n$LIST\nEOF\n)\"\n\n\n\nfor i in $USERS\ndo\n     useradd $i\n     usermod -aG wheel $i\ndone\n\nfor i in $PASSWD\ndo\n     echo \"$i\" | chpasswd\ndone",
                      "type": "",
                      "command_line_args": "",
                      "exit_status": "",
                      "script_type": "sh"
                    },
                    "timeout_secs": "0",
                    "type": "EXEC",
                    "variable_list": []
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_service",
                      "name": "Service1"
                    },
                    "retries": "0",
                    "description": "",
                    "inherit_target": false,
                    "child_tasks_local_reference_list": [],
                    "name": "loginUsers",
                    "attrs": {
                      "script": "#!/bin/bash\nLIST='@@{loginUsers}@@'\n\nUSERS=\"$(cat <<-EOF | awk -F':' '{print $1}'\n$LIST\nEOF\n)\"\n\nPASSWD=\"$(cat <<-EOF\n$LIST\nEOF\n)\"\n\n\n\nfor i in $USERS\ndo\n     useradd $i\ndone\n\nfor i in $PASSWD\ndo\n     echo \"$i\" | chpasswd\ndone",
                      "type": "",
                      "command_line_args": "",
                      "exit_status": "",
                      "script_type": "sh"
                    },
                    "timeout_secs": "0",
                    "type": "EXEC",
                    "variable_list": []
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_service",
                      "name": "Service1"
                    },
                    "retries": "0",
                    "description": "",
                    "inherit_target": false,
                    "child_tasks_local_reference_list": [],
                    "name": "securityUser",
                    "attrs": {
                      "script": "#!/bin/bash\nusername=\"sa-trendmicro\"\nuseradd $username\nusermod -aG wheel $username\necho \"$username:@@{securityUserPassword}@@\" | chpasswd",
                      "type": "",
                      "command_line_args": "",
                      "exit_status": "",
                      "script_type": "sh"
                    },
                    "timeout_secs": "0",
                    "type": "EXEC",
                    "variable_list": []
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_service",
                      "name": "Service1"
                    },
                    "retries": "0",
                    "description": "",
                    "inherit_target": false,
                    "child_tasks_local_reference_list": [],
                    "name": "installNgtTools",
                    "attrs": {
                      "script": "#!/bin/bash\n\nif [ \"@@{clusterSelection}@@\" != \"-\" ]\nthen\n\tmkdir -p /mnt/nutanix/ngt\n    sudo mount /dev/sr0 /mnt/nutanix/ngt\n    sudo python2 /mnt/nutanix/ngt/installer/linux/install_ngt.py\n    umount /mnt/nutanix/ngt\n    sudo eject\n    sudo systemctl enable ngt_guest_agent\n    service ngt_guest_agent status\n\n# Adding condition.\n\n    if [ $(echo $?) -eq \"0\" ]\n    then\n        echo -n \"NGT services are up and running!!!\"\n    else\n        echo -n \"NGT services are down!!! Trying to start the service...\"\n        service ngt_guest_agent start\n    fi\n\nelse\n    echo \"NGT tools will not be installed as the Application Profile selected is VMware.\"\n    exit 0    \nfi",
                      "type": "",
                      "command_line_args": "",
                      "exit_status": "",
                      "script_type": "sh"
                    },
                    "timeout_secs": "0",
                    "type": "EXEC",
                    "variable_list": []
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_service",
                      "name": "Service1"
                    },
                    "retries": "0",
                    "description": "",
                    "inherit_target": false,
                    "child_tasks_local_reference_list": [],
                    "name": "installVMwareTools",
                    "attrs": {
                      "script": "#!/bin/bash\n\nif [ \"@@{clusterSelection}@@\" == \"-\" ]\nthen\n    sudo yum install -y open-vm-tools\nfi",
                      "type": "",
                      "command_line_args": "",
                      "exit_status": "",
                      "script_type": "sh"
                    },
                    "timeout_secs": "0",
                    "type": "EXEC",
                    "variable_list": []
                  }
                ],
                "description": "",
                "name": "ff3e502d_runbook",
                "main_task_local_reference": {
                  "kind": "app_task",
                  "name": "4d06857d_dag"
                },
                "variable_list": [
                  {
                    "val_type": "STRING",
                    "is_mandatory": false,
                    "description": "",
                    "data_type": "BASE",
                    "type": "LOCAL",
                    "name": "adminGroupsList",
                    "value": "",
                    "label": "",
                    "attrs": {
                      "type": ""
                    },
                    "is_hidden": false,
                    "options": {
                      "type": "PREDEFINED",
                      "choices": ""
                    }
                  },
                  {
                    "val_type": "STRING",
                    "is_mandatory": false,
                    "description": "",
                    "data_type": "BASE",
                    "type": "LOCAL",
                    "name": "adminUsersList",
                    "value": "",
                    "label": "",
                    "attrs": {
                      "type": ""
                    },
                    "is_hidden": false,
                    "options": {
                      "type": "PREDEFINED",
                      "choices": ""
                    }
                  },
                  {
                    "val_type": "STRING",
                    "is_mandatory": false,
                    "description": "",
                    "data_type": "BASE",
                    "type": "LOCAL",
                    "name": "loginGroupsList",
                    "value": "",
                    "label": "",
                    "attrs": {
                      "type": ""
                    },
                    "is_hidden": false,
                    "options": {
                      "type": "PREDEFINED",
                      "choices": ""
                    }
                  },
                  {
                    "val_type": "STRING",
                    "is_mandatory": false,
                    "description": "",
                    "data_type": "BASE",
                    "type": "LOCAL",
                    "name": "loginUsersList",
                    "value": "",
                    "label": "",
                    "attrs": {
                      "type": ""
                    },
                    "is_hidden": false,
                    "options": {
                      "type": "PREDEFINED",
                      "choices": ""
                    }
                  }
                ]
              },
              "name": "action_create"
            },
            {
              "description": "System action for deleting an application. Deletes created VMs as well",
              "type": "system",
              "critical": false,
              "runbook": {
                "task_definition_list": [
                  {
                    "target_any_local_reference": {
                      "kind": "app_service",
                      "name": "Service1"
                    },
                    "retries": "0",
                    "description": "",
                    "inherit_target": false,
                    "child_tasks_local_reference_list": [],
                    "name": "b3d3c433_dag",
                    "attrs": {
                      "edges": "",
                      "type": ""
                    },
                    "timeout_secs": "0",
                    "type": "DAG",
                    "variable_list": []
                  }
                ],
                "description": "",
                "name": "c906f5a1_runbook",
                "main_task_local_reference": {
                  "kind": "app_task",
                  "name": "b3d3c433_dag"
                },
                "variable_list": []
              },
              "name": "action_delete"
            },
            {
              "description": "System action for starting an application",
              "type": "system",
              "critical": false,
              "runbook": {
                "task_definition_list": [
                  {
                    "target_any_local_reference": {
                      "kind": "app_service",
                      "name": "Service1"
                    },
                    "retries": "0",
                    "description": "",
                    "inherit_target": false,
                    "child_tasks_local_reference_list": [],
                    "name": "afa53fcc_dag",
                    "attrs": {
                      "edges": "",
                      "type": ""
                    },
                    "timeout_secs": "0",
                    "type": "DAG",
                    "variable_list": []
                  }
                ],
                "description": "",
                "name": "bcdcb98e_runbook",
                "main_task_local_reference": {
                  "kind": "app_task",
                  "name": "afa53fcc_dag"
                },
                "variable_list": []
              },
              "name": "action_start"
            },
            {
              "description": "System action for stopping an application",
              "type": "system",
              "critical": false,
              "runbook": {
                "task_definition_list": [
                  {
                    "target_any_local_reference": {
                      "kind": "app_service",
                      "name": "Service1"
                    },
                    "retries": "0",
                    "description": "",
                    "inherit_target": false,
                    "child_tasks_local_reference_list": [],
                    "name": "f2a98240_dag",
                    "attrs": {
                      "edges": "",
                      "type": ""
                    },
                    "timeout_secs": "0",
                    "type": "DAG",
                    "variable_list": []
                  }
                ],
                "description": "",
                "name": "e6e3ef02_runbook",
                "main_task_local_reference": {
                  "kind": "app_task",
                  "name": "f2a98240_dag"
                },
                "variable_list": []
              },
              "name": "action_stop"
            },
            {
              "description": "System action for restarting an application",
              "type": "system",
              "critical": false,
              "runbook": {
                "task_definition_list": [
                  {
                    "target_any_local_reference": {
                      "kind": "app_service",
                      "name": "Service1"
                    },
                    "retries": "0",
                    "description": "",
                    "inherit_target": false,
                    "child_tasks_local_reference_list": [],
                    "name": "ee176b7f_dag",
                    "attrs": {
                      "edges": "",
                      "type": ""
                    },
                    "timeout_secs": "0",
                    "type": "DAG",
                    "variable_list": []
                  }
                ],
                "description": "",
                "name": "e68a120c_runbook",
                "main_task_local_reference": {
                  "kind": "app_task",
                  "name": "ee176b7f_dag"
                },
                "variable_list": []
              },
              "name": "action_restart"
            }
          ],
          "depends_on_list": [],
          "name": "Service1",
          "port_list": [],
          "tier": "",
          "variable_list": [
            {
              "val_type": "STRING",
              "is_mandatory": false,
              "description": "",
              "data_type": "BASE",
              "type": "LOCAL",
              "name": "ntp1",
              "value": "",
              "label": "",
              "attrs": {
                "type": ""
              },
              "is_hidden": false,
              "options": {
                "type": "PREDEFINED",
                "choices": []
              }
            },
            {
              "val_type": "STRING",
              "is_mandatory": false,
              "description": "",
              "data_type": "BASE",
              "type": "LOCAL",
              "name": "ntp2",
              "value": "",
              "label": "",
              "attrs": {
                "type": ""
              },
              "is_hidden": false,
              "options": {
                "type": "PREDEFINED",
                "choices": []
              }
            },
            {
              "val_type": "STRING",
              "is_mandatory": false,
              "description": "",
              "data_type": "BASE",
              "type": "LOCAL",
              "name": "antivirusAgentPath",
              "value": "",
              "label": "",
              "attrs": {
                "type": ""
              },
              "is_hidden": false,
              "options": {
                "type": "PREDEFINED",
                "choices": []
              }
            },
            {
              "val_type": "STRING",
              "is_mandatory": false,
              "description": "",
              "data_type": "BASE",
              "type": "LOCAL",
              "name": "backupAgentPath",
              "value": "",
              "label": "",
              "attrs": {
                "type": ""
              },
              "is_hidden": false,
              "options": {
                "type": "PREDEFINED",
                "choices": []
              }
            },
            {
              "val_type": "STRING",
              "is_mandatory": false,
              "description": "",
              "data_type": "BASE",
              "type": "LOCAL",
              "name": "domainName",
              "value": "",
              "label": "",
              "attrs": {
                "type": ""
              },
              "is_hidden": false,
              "options": {
                "type": "PREDEFINED",
                "choices": []
              }
            },
            {
              "val_type": "STRING",
              "is_mandatory": false,
              "description": "",
              "data_type": "BASE",
              "type": "LOCAL",
              "name": "netDeviceName",
              "value": "ens192",
              "label": "",
              "attrs": {
                "type": ""
              },
              "is_hidden": false,
              "options": {
                "type": "PREDEFINED",
                "choices": []
              }
            },
            {
              "val_type": "STRING",
              "is_mandatory": false,
              "description": "",
              "data_type": "BASE",
              "type": "LOCAL",
              "name": "sshPublicKey",
              "value": "",
              "label": "",
              "attrs": {
                "type": ""
              },
              "is_hidden": false,
              "options": {
                "type": "PREDEFINED",
                "choices": []
              }
            },
            {
              "val_type": "STRING",
              "is_mandatory": false,
              "description": "",
              "data_type": "BASE",
              "type": "LOCAL",
              "name": "dns1",
              "value": "172.17.72.3",
              "label": "",
              "attrs": {
                "type": ""
              },
              "is_hidden": false,
              "options": {
                "type": "PREDEFINED",
                "choices": []
              }
            },
            {
              "val_type": "STRING",
              "is_mandatory": false,
              "description": "",
              "data_type": "BASE",
              "type": "LOCAL",
              "name": "dns2",
              "value": "172.17.73.3",
              "label": "",
              "attrs": {
                "type": ""
              },
              "is_hidden": false,
              "options": {
                "type": "PREDEFINED",
                "choices": []
              }
            },
            {
              "val_type": "STRING",
              "is_mandatory": false,
              "description": "",
              "data_type": "BASE",
              "type": "LOCAL",
              "name": "dns3",
              "value": "172.17.90.20",
              "label": "",
              "attrs": {
                "type": ""
              },
              "is_hidden": false,
              "options": {
                "type": "PREDEFINED",
                "choices": []
              }
            },
            {
              "val_type": "STRING",
              "is_mandatory": false,
              "description": "",
              "data_type": "BASE",
              "type": "LOCAL",
              "name": "loginUsersList",
              "value": "",
              "label": "",
              "attrs": {
                "type": ""
              },
              "is_hidden": false,
              "options": {
                "type": "PREDEFINED",
                "choices": []
              }
            },
            {
              "val_type": "STRING",
              "is_mandatory": false,
              "description": "",
              "data_type": "BASE",
              "type": "LOCAL",
              "name": "adminUsersList",
              "value": "",
              "label": "",
              "attrs": {
                "type": ""
              },
              "is_hidden": false,
              "options": {
                "type": "PREDEFINED",
                "choices": []
              }
            },
            {
              "val_type": "STRING",
              "is_mandatory": false,
              "description": "",
              "data_type": "BASE",
              "type": "LOCAL",
              "name": "backupInterfaceMac",
              "value": "",
              "label": "",
              "attrs": {
                "type": ""
              },
              "is_hidden": false,
              "options": {
                "type": "PREDEFINED",
                "choices": []
              }
            },
            {
              "val_type": "STRING",
              "is_mandatory": false,
              "description": "",
              "data_type": "BASE",
              "type": "LOCAL",
              "name": "privateInterfaceMac",
              "value": "",
              "label": "",
              "attrs": {
                "type": ""
              },
              "is_hidden": false,
              "options": {
                "type": "PREDEFINED",
                "choices": []
              }
            },
            {
              "val_type": "STRING",
              "is_mandatory": false,
              "description": "",
              "data_type": "BASE",
              "type": "LOCAL",
              "name": "netDeviceNameAHV",
              "value": "ens3",
              "label": "",
              "attrs": {
                "type": ""
              },
              "is_hidden": false,
              "options": {
                "type": "PREDEFINED",
                "choices": []
              }
            },
            {
              "val_type": "STRING",
              "is_mandatory": false,
              "description": "",
              "data_type": "BASE",
              "type": "LOCAL",
              "name": "repoServerIp",
              "value": "172.17.76.144",
              "label": "",
              "attrs": {
                "type": ""
              },
              "is_hidden": false,
              "options": {
                "type": "PREDEFINED",
                "choices": []
              }
            },
            {
              "val_type": "STRING",
              "is_mandatory": false,
              "description": "",
              "data_type": "BASE",
              "type": "LOCAL",
              "name": "netmask",
              "value": "255.255.255.0",
              "label": "",
              "attrs": {
                "type": ""
              },
              "is_hidden": false,
              "options": {
                "type": "PREDEFINED",
                "choices": []
              }
            },
            {
              "val_type": "STRING",
              "is_mandatory": false,
              "description": "",
              "data_type": "BASE",
              "type": "LOCAL",
              "name": "routeIP",
              "value": "10.161.0.0",
              "label": "",
              "attrs": {
                "type": ""
              },
              "is_hidden": false,
              "options": {
                "type": "PREDEFINED",
                "choices": []
              }
            },
            {
              "val_type": "STRING",
              "is_mandatory": false,
              "description": "",
              "data_type": "BASE",
              "type": "LOCAL",
              "name": "routeMask",
              "value": "255.255.0.0",
              "label": "",
              "attrs": {
                "type": ""
              },
              "is_hidden": false,
              "options": {
                "type": "PREDEFINED",
                "choices": []
              }
            },
            {
              "val_type": "STRING",
              "is_mandatory": false,
              "description": "",
              "data_type": "BASE",
              "type": "LOCAL",
              "name": "webServer",
              "value": "172.17.86.208",
              "label": "",
              "attrs": {
                "type": ""
              },
              "is_hidden": false,
              "options": {
                "type": "PREDEFINED",
                "choices": []
              }
            },
            {
              "val_type": "STRING",
              "is_mandatory": false,
              "description": "",
              "data_type": "BASE",
              "type": "LOCAL",
              "name": "ntpServerIp1",
              "value": "172.18.4.18",
              "label": "",
              "attrs": {
                "type": ""
              },
              "is_hidden": false,
              "options": {
                "type": "PREDEFINED",
                "choices": []
              }
            },
            {
              "val_type": "STRING",
              "is_mandatory": false,
              "description": "",
              "data_type": "BASE",
              "type": "LOCAL",
              "name": "ntpServerIp2",
              "value": "172.18.4.19",
              "label": "",
              "attrs": {
                "type": ""
              },
              "is_hidden": false,
              "options": {
                "type": "PREDEFINED",
                "choices": []
              }
            },
            {
              "val_type": "STRING",
              "is_mandatory": false,
              "description": "",
              "data_type": "BASE",
              "type": "LOCAL",
              "name": "existingDisksOnTemplate",
              "value": "",
              "label": "",
              "attrs": {
                "type": ""
              },
              "is_hidden": false,
              "options": {
                "type": "PREDEFINED",
                "choices": []
              }
            }
          ],
          "description": ""
        }
      ],
      "substrate_definition_list": [
        {
          "description": "",
          "action_list": [
            {
              "description": "",
              "type": "fragment",
              "critical": false,
              "runbook": {
                "task_definition_list": [
                  {
                    "target_any_local_reference": {
                      "kind": "app_substrate",
                      "name": "VM1"
                    },
                    "retries": "0",
                    "description": "",
                    "inherit_target": false,
                    "child_tasks_local_reference_list": [
                      "@{kind=app_task; name=setProductionNetwork}"
                    ],
                    "name": "22b68bee_dag",
                    "attrs": {
                      "edges": "",
                      "type": ""
                    },
                    "timeout_secs": "0",
                    "type": "DAG",
                    "variable_list": []
                  },
                  {
                    "target_any_local_reference": {
                      "kind": "app_substrate",
                      "name": "VM1"
                    },
                    "retries": "0",
                    "description": "",
                    "inherit_target": false,
                    "child_tasks_local_reference_list": [],
                    "name": "setProductionNetwork",
                    "attrs": {
                      "exit_status": "",
                      "script": "#script\n'''\nSCRIPT INFORMATION\n .NAME:\n\tname: getVirtualMachinesFromPrismCentral\n .TYPE:\n\tNutanix Calm escript. Set Variable / Task\n .DESCRIPTION:\n\tThis action is a Template. Describe the funcionality of this ACTION\n .EXPECTED RESULT:\n\tFunction should return object type STRING with VALUE:\n .AUTHOR:\n\tDavid RÃ­os Delgado <david.riosdelgado@nutanix.com>\n .VERSION HISTORY:\n\t1.0.0\tInit version.\n .TESTED ON:\n\tNutanix Calm \n                3.0.0.X\n .FUNCTIONS:\n\t@Gfunction\t\n        mainAction(payload, newEvent):\n\t\tExecutes the main code in this action.\n .INPUT PARAMETERS:\n\t@param \n        {string}\n        {Mandatory]\n        {Name=inputExample1}\n        {Description=This is an example 1}\n\t@param \n        {string}\n        {Mandatory]\n        {Name=inputExample2}\n        {Description=This is an example 2}\n .GLOBAL VARIABLES:\n\t@Mparam \n        {string}\n        {Mandatory}\n        {Name=type}\n        {Description=Describes the type of vRealize Orchestrator script}\n .BLOCK VARIABLES:\n\t@Mparam \n        {string}\n        {Mandatory}\n        {Name=type}\n        {Description=Describes the type of vRealize Orchestrator script}\n .RETURN\n\tresultObjs = {String}\n\n'''\n\n#INPUT VARIABLES\nproject = '@@{calm_project_name}@@'\nclusterSelection = '@@{clusterSelection}@@'\nnetworkSelection = '@@{productionInterfaceNetwork}@@'\njwt = '@@{calm_jwt}@@'\noffset = 0\nlength = 500\nlistNetwork = []\nlistSelection = []\n#FUNCTIONS\n\n#GLOBAL VARIABLES\n\n#MAIN CODE BLOCK EXECUTION\n##Execution Block 1 - Get virtual machine api pagination - Variables\napi_url = 'https://localhost:9440/api/nutanix/v3/projects/list'\nheaders = {'Content-Type': 'application/json',  'Accept':'application/json', 'Authorization': 'Bearer {}'.format(jwt)}\npayload = {\n  \"kind\": \"project\"\n}\n##Execution Block 1 - Get virtual machine api pagination - Main Code\nr = urlreq(api_url, verb='POST', params=json.dumps(payload), headers=headers, verify=False)\nif r.ok:\n    resp = json.loads(r.content)\n    iterations = ((int(resp['metadata']['total_matches'])) / length) + 1\nelse:\n    print (\"Post request failed\", r.content)\n    exit(1)\n\n##Execution Block 2 - Get virtual machine list - Variables\napi_url = 'https://localhost:9440/api/nutanix/v3/projects/list'\nheaders = {'Content-Type': 'application/json',  'Accept':'application/json', 'Authorization': 'Bearer {}'.format(jwt)}\n##Execution Block 2 - Get virtual machine list - Main Code\nfor iterator in range(iterations): \n    payload = {\n      \"kind\": \"project\",\n      \"length\": length,\n      \"offset\": offset\n    }\n    r = urlreq(api_url, verb='POST', params=json.dumps(payload), headers=headers, verify=False)\n    if r.ok:\n        resp = json.loads(r.content)\n    else:\n        print (\"Post request failed\", r.content)\n        exit(1)\n    for item in resp[\"entities\"]:\n        if project in item['spec']['name']:\n            for netResource in item['spec']['resources']['subnet_reference_list']:\n                listNetwork.append(netResource['uuid'])\n    offset = offset + length\n\n##Execution Block 2 - Get virtual machine list - Variables\nheaders = {'Content-Type': 'application/json',  'Accept':'application/json', 'Authorization': 'Bearer {}'.format(jwt)}\n##Execution Block 2 - Get virtual machine list - Main Code\nfor netUuid in listNetwork:\n    api_url = 'https://localhost:9440/api/nutanix/v3/subnets/{}'.format(netUuid)\n    r = urlreq(api_url, verb='GET', headers=headers, verify=False)\n    if r.ok:\n        resp = json.loads(r.content)\n        if (((resp['spec']['cluster_reference']['name']) == clusterSelection) and (resp['spec']['name'] == networkSelection)):\n            selectedUuid = netUuid\n            print(\"netUuid\")\n            break\n    else:\n        print (\"Post request failed\", r.content)\n        exit(1)\n\nnetwork = {\"name\":networkSelection,\"uuid\":\"{}\".format(selectedUuid)}\n\n#RETURN\nprint (\"productionNetwork={}\".format(json.dumps(network)))",
                      "eval_variables": "productionNetwork",
                      "eval_scope": "local",
                      "type": "",
                      "script_type": "static"
                    },
                    "timeout_secs": "0",
                    "type": "SET_VARIABLE",
                    "variable_list": []
                  }
                ],
                "description": "",
                "name": "8103e2f7_runbook",
                "main_task_local_reference": {
                  "kind": "app_task",
                  "name": "22b68bee_dag"
                },
                "variable_list": []
              },
              "name": "pre_action_create"
            },
            {
              "description": "",
              "type": "fragment",
              "critical": false,
              "runbook": {
                "task_definition_list": [
                  {
                    "target_any_local_reference": {
                      "kind": "app_substrate",
                      "name": "VM1"
                    },
                    "retries": "0",
                    "description": "",
                    "inherit_target": false,
                    "child_tasks_local_reference_list": [],
                    "name": "5b52803c_dag",
                    "attrs": {
                      "edges": "",
                      "type": ""
                    },
                    "timeout_secs": "0",
                    "type": "DAG",
                    "variable_list": []
                  }
                ],
                "description": "",
                "name": "30f3cc31_runbook",
                "main_task_local_reference": {
                  "kind": "app_task",
                  "name": "5b52803c_dag"
                },
                "variable_list": []
              },
              "name": "post_action_delete"
            }
          ],
          "type": "AHV_VM",
          "name": "VM1",
          "readiness_probe": {
            "connection_type": "SSH",
            "retries": "5",
            "connection_protocol": "",
            "connection_port": 22,
            "address": "@@{platform.status.resources.nic_list[0].ip_endpoint_list[0].ip}@@",
            "delay_secs": "60",
            "disable_readiness_probe": false,
            "login_credential_local_reference": {
              "kind": "app_credential",
              "name": "rootCreds"
            }
          },
          "editables": {
            "create_spec": {
              "resources": {
                "num_vcpus_per_socket": true,
                "num_sockets": true,
                "memory_size_mib": true,
                "serial_port_list": {}
              }
            }
          },
          "os_type": "Linux",
          "create_spec": {
            "name": "@@{calm_application_name}@@",
            "resources": {
              "nic_list": [
                {
                  "nic_type": "NORMAL_NIC",
                  "vpc_reference": null,
                  "ip_endpoint_list": [],
                  "network_function_chain_reference": null,
                  "network_function_nic_type": "INGRESS",
                  "mac_address": "",
                  "subnet_reference": {
                    "kind": "subnet",
                    "type": "",
                    "name": "",
                    "uuid": "@@{productionNetwork.uuid}@@"
                  },
                  "type": ""
                }
              ],
              "serial_port_list": [],
              "guest_tools": null,
              "num_vcpus_per_socket": 1,
              "num_sockets": 2,
              "gpu_list": [],
              "memory_size_mib": 4096,
              "parent_reference": null,
              "hardware_clock_timezone": "",
              "guest_customization": {
                "cloud_init": {
                  "meta_data": "",
                  "type": "",
                  "user_data": "#cloud-config\nhostname: @@{calm_application_name}@@\nfqdn: @@{calm_application_name}@@.@@{Service1.domainName}@@\nusers:\n  - name: ntnxcalm\n    ssh-authorized-keys:\n      - @@{Service1.sshPublicKey}@@\n    sudo: ['ALL=(ALL) NOPASSWD:ALL']\nchpasswd:\n  list: |\n    root:@@{rootCreds.secret}@@\n  expire: False\nssh_pwauth:   true\n\n# Setting up Primary IP address.\n\nruncmd:\n  - echo PRIM_UUID=$(nmcli con show | grep @@{Service1.netDeviceNameAHV}@@  | awk '{print $(NF-2)}') | sudo tee -a /etc/environment\n  - source /etc/environment\n  - nmcli con mod $PRIM_UUID ipv4.addresses @@{productionInterfaceIp}@@/24\n  - nmcli con mod $PRIM_UUID ipv4.gateway @@{productionInterfaceGateway}@@\n  - nmcli con mod $PRIM_UUID ipv4.method manual\n  - nmcli con mod $PRIM_UUID ipv4.dns \"172.17.72.3 172.17.72.4\"\n  - nmcli connection reload\n  - [systemctl, mask, cloud-init-local, cloud-init, cloud-config, cloud-final]\n  - [eject]"
                },
                "type": "",
                "sysprep": null
              },
              "power_state": "ON",
              "type": "",
              "account_uuid": "28b0cf0a-59e5-4d3e-bef1-80bca0b8e4ff",
              "boot_config": {
                "boot_device": {
                  "type": "",
                  "disk_address": {
                    "type": "",
                    "device_index": 0,
                    "adapter_type": "SCSI"
                  }
                },
                "type": "",
                "boot_type": "",
                "mac_address": ""
              },
              "disk_list": [
                {
                  "data_source_reference": {
                    "kind": "image",
                    "type": "",
                    "name": "CentOS8.2-CALMTEMP-V2",
                    "uuid": "8417df89-6af9-4f7e-971a-2a639495a731"
                  },
                  "type": "",
                  "disk_size_mib": 0,
                  "volume_group_reference": null,
                  "device_properties": {
                    "type": "",
                    "disk_address": {
                      "type": "",
                      "device_index": 0,
                      "adapter_type": "SCSI"
                    },
                    "device_type": "DISK"
                  }
                }
              ]
            },
            "availability_zone_reference": null,
            "backup_policy": null,
            "type": "",
            "cluster_reference": null,
            "categories": {}
          },
          "variable_list": []
        },
        {
          "description": "",
          "action_list": [
            {
              "description": "",
              "type": "fragment",
              "critical": false,
              "runbook": {
                "task_definition_list": [
                  {
                    "target_any_local_reference": {
                      "kind": "app_substrate",
                      "name": "VM1_2"
                    },
                    "retries": "0",
                    "description": "",
                    "inherit_target": false,
                    "child_tasks_local_reference_list": [],
                    "name": "65f1cfd0_dag",
                    "attrs": {
                      "edges": "",
                      "type": ""
                    },
                    "timeout_secs": "0",
                    "type": "DAG",
                    "variable_list": []
                  }
                ],
                "description": "",
                "name": "116a909f_runbook",
                "main_task_local_reference": {
                  "kind": "app_task",
                  "name": "65f1cfd0_dag"
                },
                "variable_list": []
              },
              "name": "pre_action_create"
            },
            {
              "description": "",
              "type": "fragment",
              "critical": false,
              "runbook": {
                "task_definition_list": [
                  {
                    "target_any_local_reference": {
                      "kind": "app_substrate",
                      "name": "VM1_2"
                    },
                    "retries": "0",
                    "description": "",
                    "inherit_target": false,
                    "child_tasks_local_reference_list": [],
                    "name": "8cc8843a_dag",
                    "attrs": {
                      "edges": "",
                      "type": ""
                    },
                    "timeout_secs": "0",
                    "type": "DAG",
                    "variable_list": []
                  }
                ],
                "description": "",
                "name": "cfc99356_runbook",
                "main_task_local_reference": {
                  "kind": "app_task",
                  "name": "8cc8843a_dag"
                },
                "variable_list": []
              },
              "name": "post_action_delete"
            }
          ],
          "type": "AHV_VM",
          "name": "VM1_2",
          "readiness_probe": {
            "connection_type": "SSH",
            "retries": "5",
            "connection_protocol": "",
            "connection_port": 22,
            "address": "",
            "delay_secs": "0",
            "disable_readiness_probe": true,
            "login_credential_local_reference": {
              "kind": "app_credential",
              "name": "rootCreds"
            }
          },
          "os_type": "Linux",
          "create_spec": {
            "name": "vm-@@{calm_array_index}@@-@@{calm_time}@@",
            "resources": {
              "nic_list": [],
              "serial_port_list": [],
              "guest_tools": null,
              "num_vcpus_per_socket": 0,
              "num_sockets": 0,
              "gpu_list": [],
              "memory_size_mib": 0,
              "parent_reference": null,
              "hardware_clock_timezone": "",
              "guest_customization": null,
              "power_state": "ON",
              "type": "",
              "account_uuid": "",
              "boot_config": {
                "boot_device": {
                  "type": "",
                  "disk_address": {
                    "type": "",
                    "device_index": 0,
                    "adapter_type": "SCSI"
                  }
                },
                "type": "",
                "boot_type": "LEGACY",
                "mac_address": ""
              },
              "disk_list": [
                {
                  "data_source_reference": null,
                  "type": "",
                  "disk_size_mib": 0,
                  "volume_group_reference": null,
                  "device_properties": {
                    "type": "",
                    "disk_address": {
                      "type": "",
                      "device_index": 0,
                      "adapter_type": "SCSI"
                    },
                    "device_type": "DISK"
                  }
                }
              ]
            },
            "availability_zone_reference": null,
            "backup_policy": null,
            "type": "",
            "cluster_reference": null,
            "categories": {}
          },
          "variable_list": []
        }
      ],
      "endpoint_definition_list": [],
      "credential_definition_list": [
        {
          "username": "ntnxCalm",
          "description": "",
          "type": "KEY",
          "secret": {
            "attrs": {
              "is_secret_modified": false,
              "secret_reference": {}
            }
          },
          "name": "ntnxCalmCred",
          "cred_class": "static"
        },
        {
          "username": "root",
          "description": "",
          "type": "PASSWORD",
          "secret": {
            "attrs": {
              "is_secret_modified": false,
              "secret_reference": {}
            }
          },
          "name": "rootCreds",
          "cred_class": "static"
        },
        {
          "username": "serveradmin",
          "description": "",
          "type": "PASSWORD",
          "secret": {
            "attrs": {
              "is_secret_modified": false,
              "secret_reference": {}
            }
          },
          "name": "serverAdmin",
          "cred_class": "static"
        },
        {
          "username": "pnuds\\APPCAM01",
          "description": "",
          "type": "PASSWORD",
          "secret": {
            "attrs": {
              "is_secret_modified": false,
              "secret_reference": {}
            }
          },
          "name": "domainAdminCreds",
          "cred_class": "static"
        }
      ],
      "package_definition_list": [
        {
          "description": "",
          "action_list": [],
          "type": "DEB",
          "service_local_reference_list": [
            {
              "kind": "app_service",
              "name": "Service1"
            }
          ],
          "name": "Package1",
          "version": "",
          "options": {
            "install_runbook": {
              "task_definition_list": [
                {
                  "target_any_local_reference": {
                    "kind": "app_package",
                    "name": "Package1"
                  },
                  "retries": "0",
                  "description": "",
                  "inherit_target": false,
                  "child_tasks_local_reference_list": [
                    {
                      "kind": "app_task",
                      "name": "existingDisksOnTemplate"
                    },
                    {
                      "kind": "app_task",
                      "name": "addBackupInterface"
                    },
                    {
                      "kind": "app_task",
                      "name": "getMacAddressBackupInterface"
                    },
                    {
                      "kind": "app_task",
                      "name": "addPrivateInterface"
                    },
                    {
                      "kind": "app_task",
                      "name": "getMacAddressPrivateInterface"
                    },
                    {
                      "kind": "app_task",
                      "name": "addAdditionalDisks"
                    },
                    {
                      "kind": "app_task",
                      "name": "mountNgtTools"
                    }
                  ],
                  "name": "2c5169c7_dag",
                  "attrs": {
                    "edges": [
                      "@{from_task_reference=; edge_type=user_defined; type=; to_task_reference=}",
                      "@{from_task_reference=; edge_type=user_defined; type=; to_task_reference=}",
                      "@{from_task_reference=; edge_type=user_defined; type=; to_task_reference=}",
                      "@{from_task_reference=; edge_type=user_defined; type=; to_task_reference=}",
                      "@{from_task_reference=; edge_type=user_defined; type=; to_task_reference=}",
                      "@{from_task_reference=; edge_type=user_defined; type=; to_task_reference=}"
                    ],
                    "type": ""
                  },
                  "timeout_secs": "0",
                  "type": "DAG",
                  "variable_list": []
                },
                {
                  "target_any_local_reference": {
                    "kind": "app_service",
                    "name": "Service1"
                  },
                  "retries": "0",
                  "description": "",
                  "inherit_target": false,
                  "child_tasks_local_reference_list": [],
                  "name": "existingDisksOnTemplate",
                  "attrs": {
                    "exit_status": [],
                    "script": "#!/bin/bash\n\n## Get the list of exsisting disks on the template before adding new disks\ndisks=(`lsblk | grep disk | awk '{print $1}'`)\n\nexistingDisksOnTemplate=$(echo \"${disks[@]}\" | sed 's/ /\\|/g')\necho \"existingDisksOnTemplate=$existingDisksOnTemplate\"\n\n",
                    "eval_variables": [
                      "existingDisksOnTemplate"
                    ],
                    "eval_scope": "local",
                    "type": "",
                    "script_type": "sh"
                  },
                  "timeout_secs": "0",
                  "type": "SET_VARIABLE",
                  "variable_list": []
                },
                {
                  "target_any_local_reference": {
                    "kind": "app_service",
                    "name": "Service1"
                  },
                  "retries": "0",
                  "description": "",
                  "inherit_target": false,
                  "child_tasks_local_reference_list": [],
                  "name": "addBackupInterface",
                  "attrs": {
                    "script": "###script\n\n#Global Variables\nnetworkName = \"@@{backupInterfaceNetwork}@@\"\n\nif networkName==\"None\":\n  exit(0)\n\noffset = 0\nlength = 100\nvmUuid = \"@@{platform.metadata.uuid}@@\"\nprint \"vmUuid =\", vmUuid\npcUser = \"@@{pcUser}@@\"\npcUserPassword = \"@@{pcUserPassword}@@\"\nclusterName=\"@@{clusterSelection}@@\"\n#clusterName=\"PMCRANTXFFCL01\"\n# find network id\n\n#networkName = \"VLAN275\"\nnetworkId = \"\"\nheaders = {'Content-Type': 'application/json',  'Accept':'application/json'}\n\n#Global Functions\n\n#Main Code\n\n#Getting the vnic uuid\napi_url = 'https://localhost:9440/api/nutanix/v3/subnets/list'\npayload ={\n  \"kind\": \"subnet\",\n  \"offset\": offset,\n  \"length\": length,\n  \"filter\": \"name=={};cluster_name=={}\".format(networkName,clusterName)\n  }\n\nreq = urlreq(api_url, verb='POST', params=json.dumps(payload), headers=headers, verify=False, auth='BASIC', user=pcUser, passwd=pcUserPassword)\nif req.ok:\n    resp = json.loads(req.content)\n    print resp\n    networkUuid=resp['entities'][0]['metadata']['uuid']\n    print \"networkUuid = \", networkUuid\nelse:\n    print \"Post request failed\", req.content\n    exit(1)\n\n\n#Adding vNic\npayload =[\n    {\n        \"generic_dto\": {\n            \"spec_list\": [\n                {\n                    \"network_uuid\":networkUuid,\n                    \"is_connected\": \"true\"\n                }\n            ],\n            \"uuid\": vmUuid\n        }\n    }\n]\n\napi_url = 'https://localhost:9440/api/nutanix/v0.8/vms/nics/fanout'\nreq = urlreq(api_url, verb='POST', params=json.dumps(payload), headers=headers, verify=False, auth='BASIC', user=pcUser, passwd=pcUserPassword)\nif req.ok:\n    resp = json.loads(req.content)\n    print \"Adding vNIC successed\"\nelse:\n    print \"Post request failed\", req.content\n    exit(1)\n\n#Validate task completed\ntaskUuid = resp['taskUuid']\nprint \"taskUuid = \", taskUuid\napi_url = 'https://localhost:9440/api/nutanix/v3/tasks/{}'.format(taskUuid)\ntaskStatus = None\ni = 0\n##Execution Block 3 - Get virtual machine list - Main Code\nwhile taskStatus != 'SUCCEEDED':\n    #Get VM status\n    r = urlreq(api_url, verb='GET', headers=headers, verify=False, auth='BASIC', user=pcUser, passwd=pcUserPassword)\n    if r.ok:\n        resp = json.loads(r.content)\n    else:\n        print (\"Post request failed\", r.content)\n        exit(1)    \n    print(resp['status'])\n    taskStatus = (resp['status'])\n    if taskStatus==\"ERROR\":\n        exit(1)\n    print(resp['percentage_complete'])\n    i = i + 1\n    if i == 20:\n        print(\"operation failed\")\n        exit(1)\n    sleep(15)\n#get VM payload \n    \n#Return\nexit(0)",
                    "type": "",
                    "command_line_args": "",
                    "exit_status": [],
                    "script_type": "static"
                  },
                  "timeout_secs": "0",
                  "type": "EXEC",
                  "variable_list": []
                },
                {
                  "target_any_local_reference": {
                    "kind": "app_service",
                    "name": "Service1"
                  },
                  "retries": "0",
                  "description": "",
                  "inherit_target": false,
                  "child_tasks_local_reference_list": [],
                  "name": "getMacAddressBackupInterface",
                  "attrs": {
                    "exit_status": [],
                    "script": "networkName = \"@@{backupInterfaceNetwork}@@\"\n\nif networkName==\"None\":\n  exit(0)\n\n\npcUser = '@@{pcUser}@@'\npcUserPassword = '@@{pcUserPassword}@@'\nvmUuid = '@@{platform.metadata.uuid}@@'\nheaders = {'Content-Type': 'application/json',  'Accept':'application/json'}\napi_url = 'https://localhost:9440/api/nutanix/v3/vms/{}'.format(vmUuid)\n\nreq = urlreq(api_url, verb='GET', headers=headers, verify=False, auth='BASIC', user=pcUser, passwd=pcUserPassword)\n\nif req.ok:\n    resp = json.loads(req.content)\n    nicList = resp['spec']['resources']['nic_list']\n    macAddress = nicList[len(nicList)-1]['mac_address']\n    print 'macAddress = ', macAddress\n    \nelse:\n    print 'Post request failed', req.content\n    exit(1)\n\n#macAddress = macAddress.replace(':','-')\nprint macAddress\nprint ('backupInterfaceMac={}'.format(json.dumps(macAddress)))",
                    "eval_variables": [
                      "backupInterfaceMac"
                    ],
                    "eval_scope": "local",
                    "type": "",
                    "script_type": "static"
                  },
                  "timeout_secs": "0",
                  "type": "SET_VARIABLE",
                  "variable_list": []
                },
                {
                  "target_any_local_reference": {
                    "kind": "app_service",
                    "name": "Service1"
                  },
                  "retries": "0",
                  "description": "",
                  "inherit_target": false,
                  "child_tasks_local_reference_list": [],
                  "name": "addPrivateInterface",
                  "attrs": {
                    "script": "###script\n\n#Global Variables\nnetworkName = \"@@{privateInterfaceNetwork}@@\"\n\nif networkName==\"None\":\n  exit(0)\n\noffset = 0\nlength = 100\nvmUuid = \"@@{platform.metadata.uuid}@@\"\nprint \"vmUuid =\", vmUuid\npcUser = \"@@{pcUser}@@\"\npcUserPassword = \"@@{pcUserPassword}@@\"\nclusterName=\"@@{clusterSelection}@@\"\nnetworkId = \"\"\nheaders = {'Content-Type': 'application/json',  'Accept':'application/json'}\n\n#Global Functions\n\n#Main Code\n\n#Getting the vNic uuid\napi_url = 'https://localhost:9440/api/nutanix/v3/subnets/list'\npayload ={\n  \"kind\": \"subnet\",\n  \"offset\": offset,\n  \"length\": length,\n  \"filter\": \"name=={};cluster_name=={}\".format(networkName,clusterName)\n  }\n\nreq = urlreq(api_url, verb='POST', params=json.dumps(payload), headers=headers, verify=False, auth='BASIC', user=pcUser, passwd=pcUserPassword)\nif req.ok:\n    resp = json.loads(req.content)\n    print resp\n    networkUuid=resp['entities'][0]['metadata']['uuid']\n    print \"networkUuid = \", networkUuid\nelse:\n    print \"Post request failed\", req.content\n    exit(1)\n\n\n#Adding vNic\npayload =[\n    {\n        \"generic_dto\": {\n            \"spec_list\": [\n                {\n                    \"network_uuid\":networkUuid,\n                    \"is_connected\": \"true\"\n                }\n            ],\n            \"uuid\": vmUuid\n        }\n    }\n]\n\napi_url = 'https://localhost:9440/api/nutanix/v0.8/vms/nics/fanout'\nreq = urlreq(api_url, verb='POST', params=json.dumps(payload), headers=headers, verify=False, auth='BASIC', user=pcUser, passwd=pcUserPassword)\nif req.ok:\n    resp = json.loads(req.content)\n    print \"Adding vNIC successed\"\nelse:\n    print \"Post request failed\", req.content\n    exit(1)\n\n#Validate task completed\ntaskUuid = resp['taskUuid']\nprint \"taskUuid = \", taskUuid\napi_url = 'https://localhost:9440/api/nutanix/v3/tasks/{}'.format(taskUuid)\ntaskStatus = None\ni = 0\n##Execution Block 3 - Get virtual machine list - Main Code\nwhile taskStatus != 'SUCCEEDED':\n    #Get VM status\n    r = urlreq(api_url, verb='GET', headers=headers, verify=False, auth='BASIC', user=pcUser, passwd=pcUserPassword)\n    if r.ok:\n        resp = json.loads(r.content)\n    else:\n        print (\"Post request failed\", r.content)\n        exit(1)    \n    print(resp['status'])\n    taskStatus = (resp['status'])\n    if taskStatus==\"ERROR\":\n        exit(1)\n    print(resp['percentage_complete'])\n    i = i + 1\n    if i == 20:\n        print(\"operation failed\")\n        exit(1)\n    sleep(15)\n    \n#Return\nexit(0)",
                    "type": "",
                    "command_line_args": "",
                    "exit_status": [],
                    "script_type": "static"
                  },
                  "timeout_secs": "0",
                  "type": "EXEC",
                  "variable_list": []
                },
                {
                  "target_any_local_reference": {
                    "kind": "app_service",
                    "name": "Service1"
                  },
                  "retries": "0",
                  "description": "",
                  "inherit_target": false,
                  "child_tasks_local_reference_list": [],
                  "name": "getMacAddressPrivateInterface",
                  "attrs": {
                    "exit_status": [],
                    "script": "networkName = \"@@{privateInterfaceNetwork}@@\"\n\nif networkName==\"None\":\n  exit(0)\n\npcUser = '@@{pcUser}@@'\npcUserPassword = '@@{pcUserPassword}@@'\nvmUuid = '@@{platform.metadata.uuid}@@'\nheaders = {'Content-Type': 'application/json',  'Accept':'application/json'}\napi_url = 'https://localhost:9440/api/nutanix/v3/vms/{}'.format(vmUuid)\n\nreq = urlreq(api_url, verb='GET', headers=headers, verify=False, auth='BASIC', user=pcUser, passwd=pcUserPassword)\n\nif req.ok:\n    resp = json.loads(req.content)\n    nicList = resp['spec']['resources']['nic_list']\n    macAddress = nicList[len(nicList)-1]['mac_address']\n    print 'macAddress = ', macAddress\n    \nelse:\n    print 'Post request failed', req.content\n    exit(1)\n\n#macAddress = macAddress.replace(':','-')\nprint macAddress\nprint ('privateInterfaceMac={}'.format(json.dumps(macAddress)))",
                    "eval_variables": [
                      "privateInterfaceMac"
                    ],
                    "eval_scope": "local",
                    "type": "",
                    "script_type": "static"
                  },
                  "timeout_secs": "0",
                  "type": "SET_VARIABLE",
                  "variable_list": []
                },
                {
                  "target_any_local_reference": {
                    "kind": "app_service",
                    "name": "Service1"
                  },
                  "retries": "0",
                  "description": "",
                  "inherit_target": false,
                  "child_tasks_local_reference_list": [],
                  "name": "addAdditionalDisks",
                  "attrs": {
                    "script": "vDiskHome = @@{vDiskHome}@@\nvDiskOpt = @@{vDiskOpt}@@\nvDiskUsr = @@{vDiskUsr}@@\nvDiskVar = @@{vDiskVar}@@\n\nnewDiskList = [vDiskHome, vDiskOpt, vDiskUsr, vDiskVar]\nnewDiskList = [i for i in newDiskList if i != 0]\n\nif not newDiskList: \n  exit(0)\n\n#FUNCTIONS\n#INPUT VARIABLES\njwt = '@@{calm_jwt}@@'\nvirtualMachineUuid = \"@@{id}@@\"\n\n#GLOBAL VARIABLES\nheaders = {'Content-Type': 'application/json',  'Accept':'application/json', 'Authorization': 'Bearer {}'.format(jwt)}\nnewDiskListCount = len(newDiskList)\nprint(newDiskListCount)\n#MAIN CODE BLOCK EXECUTION\n##Execution Block 1 - Get virtual machine api pagination - Variables\napi_url = 'https://localhost:9440/api/nutanix/v3/vms/{}'.format(virtualMachineUuid)\n##Execution Block 1 - Get virtual machine api pagination - Main Code\n###Get VM spec\nr = urlreq(api_url, verb='GET', headers=headers, verify=False)\nif r.ok:\n    resp = json.loads(r.content)\nelse:\n    print (\"Post request failed\", r.content)\n    exit(1)\n\n###Get scsi index in use\nscsiIndexList = []\nfor disk in resp['spec']['resources']['disk_list']:\n    if (disk['device_properties']['disk_address']['adapter_type'] != 'IDE'):\n        scsiIndexList.append(disk['device_properties']['disk_address']['device_index'])\n\n###set new scsi index list\nnewList = list(item for item in range(100) if item not in scsiIndexList)[:newDiskListCount]\n\n###Create Disk Template\ni = 0\nfor newDisk in newDiskList:\n    a = {}\n   # a['storage_config'] = resp['spec']['resources']['disk_list'][0]['storage_config']\n    a['device_properties'] = {}\n    a['device_properties']['device_type'] = \"DISK\"\n    a['device_properties']['disk_address'] = {}\n    a['device_properties']['disk_address']['device_index'] = newList[i]\n    a['device_properties']['disk_address']['adapter_type'] = \"SCSI\"\n    a['disk_size_bytes'] = (newDisk * 1073741824)    \n    i=i+1\n    resp['spec']['resources']['disk_list'].append(a)\nresp.pop('status', None)\n\n##Execution Block 2 - Get virtual machine list - Variables\napi_url = 'https://localhost:9440/api/nutanix/v3/vms/{}'.format(virtualMachineUuid)\n##Execution Block 2 - Get virtual machine list - Main Code\n###run update action\nr = urlreq(api_url, verb='PUT', params=json.dumps(resp), headers=headers, verify=False)\nif r.ok:\n    resp = json.loads(r.content)\n    print(resp)\nelse:\n    print (\"Post request failed\", r.content)\n    exit(1)\n###Get Task uuid\ntaskUuid = resp['status']['execution_context']['task_uuid']\n\n\n##Execution Block 3 - Get virtual machine list - Variables\napi_url = 'https://localhost:9440/api/nutanix/v3/tasks/{}'.format(taskUuid)\ntaskStatus = None\ni = 0\n##Execution Block 3 - Get virtual machine list - Main Code\nwhile taskStatus != 'SUCCEEDED':\n    #Get VM status\n    r = urlreq(api_url, verb='GET', headers=headers, verify=False)\n    if r.ok:\n        resp = json.loads(r.content)\n    else:\n        print (\"Post request failed\", r.content)\n        exit(1)    \n    print(resp['status'])\n    taskStatus = (resp['status'])\n    print(resp['percentage_complete'])\n    i = i + 1\n    if i == 20:\n        print(\"operation failed\")\n        exit(1)\n    sleep(15)",
                    "type": "",
                    "command_line_args": "",
                    "exit_status": [],
                    "script_type": "static"
                  },
                  "timeout_secs": "0",
                  "type": "EXEC",
                  "variable_list": []
                },
                {
                  "target_any_local_reference": {
                    "kind": "app_service",
                    "name": "Service1"
                  },
                  "retries": "0",
                  "description": "",
                  "inherit_target": false,
                  "child_tasks_local_reference_list": [],
                  "name": "mountNgtTools",
                  "attrs": {
                    "script": "#script\n\n#GLOBAL VARIABLES\njwt = '@@{calm_jwt}@@'\nheaders = {'Content-Type': 'application/json',  'Accept':'application/json', 'Authorization': 'Bearer {}'.format(jwt)}\nvirtualMachineUuid = \"@@{id}@@\"\n#MAIN CODE BLOCK EXECUTION\n##Execution Block 1 - Get virtual machine api pagination - Variables\napi_url = 'https://localhost:9440/api/nutanix/v3/vms/{}'.format(virtualMachineUuid)\n##Execution Block 1 - Get virtual machine api pagination - Main Code\n###Get VM spec\nr = urlreq(api_url, verb='GET', headers=headers, verify=False)\nif r.ok:\n    resp = json.loads(r.content)\nelse:\n    print \"Post request failed\", r.content\n    exit(1)\n###Create spec Template\nresp.pop('status', None)\nresp['spec']['resources']['guest_tools'] = {}\nresp['spec']['resources']['guest_tools']['nutanix_guest_tools'] = {}\nresp['spec']['resources']['guest_tools']['nutanix_guest_tools']['iso_mount_state'] = \"MOUNTED\"\nresp['spec']['resources']['guest_tools']['nutanix_guest_tools']['state'] = \"ENABLED\"\n\n##Execution Block 2 - Get virtual machine list - Variables\napi_url = 'https://localhost:9440/api/nutanix/v3/vms/{}'.format(virtualMachineUuid)\n##Execution Block 2 - Get virtual machine list - Main Code\n###run put action\nr = urlreq(api_url, verb='PUT', params=json.dumps(resp), headers=headers, verify=False)\nif r.ok:\n    resp = json.loads(r.content)\n    print(resp)\nelse:\n    print \"Post request failed\", r.content\n    exit(1)\n###Get Task uuid\ntaskUuid = resp['status']['execution_context']['task_uuid']\n\n##Execution Block 3 - Get virtual machine list - Variables\napi_url = 'https://localhost:9440/api/nutanix/v3/tasks/{}'.format(taskUuid)\ntaskStatus = None\ni = 0\n##Execution Block 3 - Get virtual machine list - Main Code\nwhile taskStatus != 'SUCCEEDED':\n    #Get VM status\n    r = urlreq(api_url, verb='GET', headers=headers, verify=False)\n    if r.ok:\n        resp = json.loads(r.content)\n    else:\n        print \"Post request failed\", r.content\n        exit(1)\n    print(resp['status'])\n    taskStatus = (resp['status'])\n    print(resp['percentage_complete'])\n    i = i + 1\n    if i == 20:\n        print(\"operation failed\")\n        exit(1)\n    sleep(15)",
                    "type": "",
                    "command_line_args": "",
                    "exit_status": [],
                    "script_type": "static"
                  },
                  "timeout_secs": "0",
                  "type": "EXEC",
                  "variable_list": []
                }
              ],
              "description": "",
              "name": "acb8bbe6_runbook",
              "main_task_local_reference": {
                "kind": "app_task",
                "name": "2c5169c7_dag"
              },
              "variable_list": []
            },
            "type": "",
            "uninstall_runbook": {
              "task_definition_list": [
                {
                  "target_any_local_reference": {
                    "kind": "app_package",
                    "name": "Package1"
                  },
                  "retries": "0",
                  "description": "",
                  "inherit_target": false,
                  "child_tasks_local_reference_list": [],
                  "name": "022642f5_dag",
                  "attrs": {
                    "edges": [],
                    "type": ""
                  },
                  "timeout_secs": "0",
                  "type": "DAG",
                  "variable_list": []
                }
              ],
              "description": "",
              "name": "155af92f_runbook",
              "main_task_local_reference": {
                "kind": "app_task",
                "name": "022642f5_dag"
              },
              "variable_list": []
            },
            "upgrade_runbook": {}
          },
          "variable_list": []
        },
        {
          "description": "",
          "action_list": [],
          "type": "DEB",
          "service_local_reference_list": [
            {
              "kind": "app_service",
              "name": "Service1"
            }
          ],
          "name": "Package2",
          "version": "",
          "options": {
            "install_runbook": {
              "task_definition_list": [
                {
                  "target_any_local_reference": {
                    "kind": "app_package",
                    "name": "Package2"
                  },
                  "retries": "0",
                  "description": "",
                  "inherit_target": false,
                  "child_tasks_local_reference_list": [
                    {
                      "kind": "app_task",
                      "name": "existingDisksOnTemplate"
                    },
                    {
                      "kind": "app_task",
                      "name": "addBackupNetworkInterface"
                    },
                    {
                      "kind": "app_task",
                      "name": "addPrivateNetworkInterface"
                    },
                    {
                      "kind": "app_task",
                      "name": "addAdditionalDisk"
                    }
                  ],
                  "name": "e3b220d9_dag",
                  "attrs": {
                    "edges": [
                      "@{from_task_reference=; edge_type=user_defined; type=; to_task_reference=}",
                      "@{from_task_reference=; edge_type=user_defined; type=; to_task_reference=}",
                      "@{from_task_reference=; edge_type=user_defined; type=; to_task_reference=}"
                    ],
                    "type": ""
                  },
                  "timeout_secs": "0",
                  "type": "DAG",
                  "variable_list": []
                },
                {
                  "target_any_local_reference": {
                    "kind": "app_service",
                    "name": "Service1"
                  },
                  "retries": "0",
                  "description": "",
                  "inherit_target": false,
                  "child_tasks_local_reference_list": [],
                  "name": "existingDisksOnTemplate",
                  "attrs": {
                    "exit_status": [],
                    "script": "#!/bin/bash\n\n## Get the list of exsisting disks on the template before adding new disks\ndisks=(`lsblk | grep disk | awk '{print $1}'`)\n\nexistingDisksOnTemplate=$(echo \"${disks[@]}\" | sed 's/ /\\|/g')\necho \"existingDisksOnTemplate=$existingDisksOnTemplate\"",
                    "eval_variables": [
                      "existingDisksOnTemplate"
                    ],
                    "eval_scope": "local",
                    "type": "",
                    "script_type": "sh"
                  },
                  "timeout_secs": "0",
                  "type": "SET_VARIABLE",
                  "variable_list": []
                },
                {
                  "target_any_local_reference": {
                    "kind": "app_service",
                    "name": "Service1"
                  },
                  "retries": "0",
                  "description": "",
                  "inherit_target": false,
                  "child_tasks_local_reference_list": [],
                  "name": "addBackupNetworkInterface",
                  "attrs": {
                    "exit_status": [],
                    "script": "###script\n\n#Global Variables\nnetworkName = \"@@{backupInterfaceNetwork}@@\"\n\nif networkName==\"None\":\n  exit(0)\n\nusername = '@@{domainAdminCreds.username}@@'\npassword = '@@{domainAdminCreds.secret}@@'\napi_server = '@@{vCenterAddress}@@'\nvmName = \"@@{name}@@\"\n# endregion\n# region API call function\ndef process_request(url, method, headers, payload=None):\n    if (payload is not None):\n        payload = json.dumps(payload)\n    if \"Cookie\" not in headers:\n        r = urlreq(url, verb=method, auth='BASIC', user=username, passwd=password, params=payload, verify=False, headers=headers)\n    else:\n        r = urlreq(url, verb=method, params=payload, verify=False, headers=headers)\n    if r.ok:\n        print(\"Request was successful\")\n        print(\"Status code: {}\".format(r.status_code))\n        if (r.content and ('/rest/com/vmware/cis/session' not in url)):\n            print('Response: {}'.format(json.dumps(json.loads(r.content), indent=4)))\n    elif ((r.status_code == 400) and (json.loads(r.content)['type'] == 'com.vmware.vapi.std.errors.already_exists')):\n        print(\"Status code: {}\".format(r.status_code))\n        print(\"Object already exists: skipping\")\n    else:\n        print(\"Request failed\")\n        print('Status code: {}'.format(r.status_code))\n        print(\"Headers: {}\".format(headers))\n        if (payload is not None):\n            print(\"Payload: {}\".format(json.dumps(payload)))\n        if r.content:\n            print('Response: {}'.format(json.dumps(json.loads(r.content), indent=4)))\n        exit(1)\n    return r\n# endregion\n# region login\n# region prepare api call\n\n#\n# fetch cookie\n#\n\napi_server_port = \"443\"\napi_server_endpoint = \"/rest/com/vmware/cis/session\"\nmethod = \"POST\"\nurl = \"https://{}:{}{}\".format(api_server, api_server_port, api_server_endpoint)\nheaders = {'Content-Type': 'application/json', 'Accept': 'application/json'}\n# endregion\n# region login API call\nprint(\"STEP: Logging in to vCenter...\")\nprint(\"Making a {} API call to {}\".format(method, url))\nresp = process_request(url, method, headers)\nvc_cookie = resp.headers.get('Set-Cookie').split(\";\")[0]\n\n\n\n#\n# get vm by name\n#\napi_server_port = \"443\"\n#api_server_endpoint = \"/rest/vcenter/vm/vm-5440\"\napi_server_endpoint = \"/rest/vcenter/vm?filter.names={}\".format(vmName)\nmethod = \"GET\"\nurl = \"https://{}:{}{}\".format(api_server, api_server_port, api_server_endpoint)\nheaders = {'Content-Type': 'application/json', 'Accept': 'application/json', 'Cookie': vc_cookie}\nprint(\"getting info for vm...\")\nprint(\"Making a {} API call to {}\".format(method, url))\nresp = process_request(url, method, headers)\nr = json.loads(resp.content)\nvmUuid = r['value'][0]['vm']\nprint \"vmUuid={}\".format(vmUuid)\n\n\n#\n# get network by name\n#\n\napi_server_port = \"443\"\napi_server_endpoint = \"/rest/vcenter/network?filter.names={}\".format(networkName)\n\nmethod = \"GET\"\nurl = \"https://{}:{}{}\".format(api_server, api_server_port, api_server_endpoint)\nheaders = {'Content-Type': 'application/json', 'Accept': 'application/json', 'Cookie': vc_cookie}\nprint(\"getting info for vm...\")\nprint(\"Making a {} API call to {}\".format(method, url))\nresp = process_request(url, method, headers)\n\nr = json.loads(resp.content)\nnetworkUuid = r['value'][0]['network']\n\nprint \"networkUuid={}\".format(networkUuid)\n\n#\n# add new network to vm\n#\n\napi_server_port = \"443\"\napi_server_endpoint = \"/rest/vcenter/vm/{}/hardware/ethernet\".format(vmUuid)\n\nmethod = \"POST\"\nurl = \"https://{}:{}{}\".format(api_server, api_server_port, api_server_endpoint)\nheaders = {'Content-Type': 'application/json', 'Accept': 'application/json', 'Cookie': vc_cookie}\nprint(\"getting info for vm...\")\nprint(\"Making a {} API call to {}\".format(method, url))\npayload = {\n    \"spec\": {\n        \"backing\": {\n            \"network\": networkUuid,\n            \"type\": \"DISTRIBUTED_PORTGROUP\"\n        },\n        \"start_connected\": True,\n        \"type\": \"VMXNET3\"\n        }\n}\nresp = process_request(url, method, headers, payload)\n\n\n#\n# get vm by name\n#\napi_server_port = \"443\"\napi_server_endpoint = \"/rest/vcenter/vm/{}\".format(vmUuid)\nmethod = \"GET\"\nurl = \"https://{}:{}{}\".format(api_server, api_server_port, api_server_endpoint)\nheaders = {'Content-Type': 'application/json', 'Accept': 'application/json', 'Cookie': vc_cookie}\nprint(\"getting info for vm...\")\nprint(\"Making a {} API call to {}\".format(method, url))\nresp = process_request(url, method, headers)\nr = json.loads(resp.content)\nprint r['value']['nics']\n\nnicList = r['value']['nics']\nmacAddress = nicList[len(nicList)-1]['value']['mac_address']\nprint macAddress\n\n#macAddress = macAddress.replace(':','-')\nprint ('backupInterfaceMac={}'.format(json.dumps(macAddress)))\n\n#Return\nexit(0)",
                    "eval_variables": [
                      "backupInterfaceMac"
                    ],
                    "eval_scope": "local",
                    "type": "",
                    "script_type": "static"
                  },
                  "timeout_secs": "0",
                  "type": "SET_VARIABLE",
                  "variable_list": []
                },
                {
                  "target_any_local_reference": {
                    "kind": "app_service",
                    "name": "Service1"
                  },
                  "retries": "0",
                  "description": "",
                  "inherit_target": false,
                  "child_tasks_local_reference_list": [],
                  "name": "addPrivateNetworkInterface",
                  "attrs": {
                    "exit_status": [],
                    "script": "####script\n\n#Global Variables\nnetworkName = \"@@{privateInterfaceNetwork}@@\"\nif networkName==\"None\":\n  exit(0)\n\nusername = '@@{domainAdminCreds.username}@@'\npassword = '@@{domainAdminCreds.secret}@@'\napi_server = '@@{vCenterAddress}@@'\nvmName = \"@@{name}@@\"\n# endregion\n# region API call function\ndef process_request(url, method, headers, payload=None):\n    if (payload is not None):\n        payload = json.dumps(payload)\n    if \"Cookie\" not in headers:\n        r = urlreq(url, verb=method, auth='BASIC', user=username, passwd=password, params=payload, verify=False, headers=headers)\n    else:\n        r = urlreq(url, verb=method, params=payload, verify=False, headers=headers)\n    if r.ok:\n        print(\"Request was successful\")\n        print(\"Status code: {}\".format(r.status_code))\n        if (r.content and ('/rest/com/vmware/cis/session' not in url)):\n            print('Response: {}'.format(json.dumps(json.loads(r.content), indent=4)))\n    elif ((r.status_code == 400) and (json.loads(r.content)['type'] == 'com.vmware.vapi.std.errors.already_exists')):\n        print(\"Status code: {}\".format(r.status_code))\n        print(\"Object already exists: skipping\")\n    else:\n        print(\"Request failed\")\n        print('Status code: {}'.format(r.status_code))\n        print(\"Headers: {}\".format(headers))\n        if (payload is not None):\n            print(\"Payload: {}\".format(json.dumps(payload)))\n        if r.content:\n            print('Response: {}'.format(json.dumps(json.loads(r.content), indent=4)))\n        exit(1)\n    return r\n# endregion\n# region login\n# region prepare api call\n\n#\n# fetch cookie\n#\n\napi_server_port = \"443\"\napi_server_endpoint = \"/rest/com/vmware/cis/session\"\nmethod = \"POST\"\nurl = \"https://{}:{}{}\".format(api_server, api_server_port, api_server_endpoint)\nheaders = {'Content-Type': 'application/json', 'Accept': 'application/json'}\n# endregion\n# region login API call\nprint(\"STEP: Logging in to vCenter...\")\nprint(\"Making a {} API call to {}\".format(method, url))\nresp = process_request(url, method, headers)\nvc_cookie = resp.headers.get('Set-Cookie').split(\";\")[0]\n\n\n\n#\n# get vm by name\n#\napi_server_port = \"443\"\n#api_server_endpoint = \"/rest/vcenter/vm/vm-5440\"\napi_server_endpoint = \"/rest/vcenter/vm?filter.names={}\".format(vmName)\nmethod = \"GET\"\nurl = \"https://{}:{}{}\".format(api_server, api_server_port, api_server_endpoint)\nheaders = {'Content-Type': 'application/json', 'Accept': 'application/json', 'Cookie': vc_cookie}\nprint(\"getting info for vm...\")\nprint(\"Making a {} API call to {}\".format(method, url))\nresp = process_request(url, method, headers)\nr = json.loads(resp.content)\nvmUuid = r['value'][0]['vm']\nprint \"vmUuid={}\".format(vmUuid)\n\n\n#\n# get network by name\n#\n\napi_server_port = \"443\"\napi_server_endpoint = \"/rest/vcenter/network?filter.names={}\".format(networkName)\n\nmethod = \"GET\"\nurl = \"https://{}:{}{}\".format(api_server, api_server_port, api_server_endpoint)\nheaders = {'Content-Type': 'application/json', 'Accept': 'application/json', 'Cookie': vc_cookie}\nprint(\"getting info for vm...\")\nprint(\"Making a {} API call to {}\".format(method, url))\nresp = process_request(url, method, headers)\n\nr = json.loads(resp.content)\nnetworkUuid = r['value'][0]['network']\n\nprint \"networkUuid={}\".format(networkUuid)\n\n#\n# add new network to vm\n#\n\napi_server_port = \"443\"\napi_server_endpoint = \"/rest/vcenter/vm/{}/hardware/ethernet\".format(vmUuid)\n\nmethod = \"POST\"\nurl = \"https://{}:{}{}\".format(api_server, api_server_port, api_server_endpoint)\nheaders = {'Content-Type': 'application/json', 'Accept': 'application/json', 'Cookie': vc_cookie}\nprint(\"getting info for vm...\")\nprint(\"Making a {} API call to {}\".format(method, url))\npayload = {\n    \"spec\": {\n        \"backing\": {\n            \"network\": networkUuid,\n            \"type\": \"DISTRIBUTED_PORTGROUP\"\n        },\n        \"start_connected\": True,\n        \"type\": \"VMXNET3\"\n        }\n}\nresp = process_request(url, method, headers, payload)\n\n\n#\n# get vm by name\n#\napi_server_port = \"443\"\napi_server_endpoint = \"/rest/vcenter/vm/{}\".format(vmUuid)\nmethod = \"GET\"\nurl = \"https://{}:{}{}\".format(api_server, api_server_port, api_server_endpoint)\nheaders = {'Content-Type': 'application/json', 'Accept': 'application/json', 'Cookie': vc_cookie}\nprint(\"getting info for vm...\")\nprint(\"Making a {} API call to {}\".format(method, url))\nresp = process_request(url, method, headers)\nr = json.loads(resp.content)\nprint r['value']['nics']\n\nnicList = r['value']['nics']\nmacAddress = nicList[len(nicList)-1]['value']['mac_address']\nprint macAddress\n\n#macAddress = macAddress.replace(':','-')\nprint ('privateInterfaceMac={}'.format(json.dumps(macAddress)))\n\n#Return\nexit(0)",
                    "eval_variables": [
                      "privateInterfaceMac"
                    ],
                    "eval_scope": "local",
                    "type": "",
                    "script_type": "static"
                  },
                  "timeout_secs": "0",
                  "type": "SET_VARIABLE",
                  "variable_list": []
                },
                {
                  "target_any_local_reference": {
                    "kind": "app_service",
                    "name": "Service1"
                  },
                  "retries": "0",
                  "description": "",
                  "inherit_target": false,
                  "child_tasks_local_reference_list": [],
                  "name": "addAdditionalDisk",
                  "attrs": {
                    "script": "vDiskHome = @@{vDiskHome}@@\nvDiskOpt = @@{vDiskOpt}@@\nvDiskUsr = @@{vDiskUsr}@@\nvDiskVar = @@{vDiskVar}@@\n\nnewDiskList = [vDiskHome, vDiskOpt, vDiskUsr, vDiskVar]\nnewDiskList = [i for i in newDiskList if i != 0]\n\nif not newDiskList: \n  exit(0)\n  \nusername = '@@{domainAdminCreds.username}@@'\npassword = '@@{domainAdminCreds.secret}@@'\napi_server = '@@{vCenterAddress}@@'\nvmName = \"@@{name}@@\"\n\nnewDiskListCount = len(newDiskList)\nprint \"newDiskListCount = {}\".format(newDiskListCount)    \n\n# endregion\n# region API call function\ndef process_request(url, method, headers, payload=None):\n    if (payload is not None):\n        payload = json.dumps(payload)\n    if \"Cookie\" not in headers:\n        r = urlreq(url, verb=method, auth='BASIC', user=username, passwd=password, params=payload, verify=False, headers=headers)\n    else:\n        r = urlreq(url, verb=method, params=payload, verify=False, headers=headers)\n    if r.ok:\n        print(\"Request was successful\")\n        print(\"Status code: {}\".format(r.status_code))\n        if (r.content and ('/rest/com/vmware/cis/session' not in url)):\n            print('Response: {}'.format(json.dumps(json.loads(r.content), indent=4)))\n    elif ((r.status_code == 400) and (json.loads(r.content)['type'] == 'com.vmware.vapi.std.errors.already_exists')):\n        print(\"Status code: {}\".format(r.status_code))\n        print(\"Object already exists: skipping\")\n    else:\n        print(\"Request failed\")\n        print('Status code: {}'.format(r.status_code))\n        print(\"Headers: {}\".format(headers))\n        if (payload is not None):\n            print(\"Payload: {}\".format(json.dumps(payload)))\n        if r.content:\n            print('Response: {}'.format(json.dumps(json.loads(r.content), indent=4)))\n        exit(1)\n    return r\n# endregion\n# region login\n# region prepare api call\n\n#\n# fetch cookie\n#\n\napi_server_port = \"443\"\napi_server_endpoint = \"/rest/com/vmware/cis/session\"\nmethod = \"POST\"\nurl = \"https://{}:{}{}\".format(api_server, api_server_port, api_server_endpoint)\nheaders = {'Content-Type': 'application/json', 'Accept': 'application/json'}\n# endregion\n# region login API call\nprint(\"STEP: Logging in to vCenter...\")\nprint(\"Making a {} API call to {}\".format(method, url))\nresp = process_request(url, method, headers)\nvc_cookie = resp.headers.get('Set-Cookie').split(\";\")[0]\n\n\n\n#\n# get vm by name\n#\napi_server_port = \"443\"\n#api_server_endpoint = \"/rest/vcenter/vm/vm-5440\"\napi_server_endpoint = \"/rest/vcenter/vm?filter.names={}\".format(vmName)\nmethod = \"GET\"\nurl = \"https://{}:{}{}\".format(api_server, api_server_port, api_server_endpoint)\nheaders = {'Content-Type': 'application/json', 'Accept': 'application/json', 'Cookie': vc_cookie}\nprint(\"getting info for vm...\")\nprint(\"Making a {} API call to {}\".format(method, url))\nresp = process_request(url, method, headers)\nr = json.loads(resp.content)\nvmUuid = r['value'][0]['vm']\nprint \"vmUuid={}\".format(vmUuid)\n\n\n#\n# add new disk to vm\n#\napi_server_port = \"443\"\napi_server_endpoint = \"/rest/vcenter/vm/{}/hardware/disk\".format(vmUuid)\n\nmethod = \"POST\"\nurl = \"https://{}:{}{}\".format(api_server, api_server_port, api_server_endpoint)\nheaders = {'Content-Type': 'application/json', 'Accept': 'application/json', 'Cookie': vc_cookie}\n# endregion\n# region login API call\nprint(\"getting info for vm...\")\nprint(\"Making a {} API call to {}\".format(method, url))\n\nfor newDisk in newDiskList:\n    payload = {\n        \"spec\": {\n            \"new_vmdk\": {\n                \"capacity\": (newDisk * 1073741824) \n            },\n            \"type\": \"SCSI\"\n        }\n    }\n    resp = process_request(url, method, headers, payload)\n\n#Return\nexit(0)",
                    "type": "",
                    "command_line_args": "",
                    "exit_status": [],
                    "script_type": "static"
                  },
                  "timeout_secs": "0",
                  "type": "EXEC",
                  "variable_list": []
                }
              ],
              "description": "",
              "name": "4cd6e3ef_runbook",
              "main_task_local_reference": {
                "kind": "app_task",
                "name": "e3b220d9_dag"
              },
              "variable_list": []
            },
            "type": "",
            "uninstall_runbook": {
              "task_definition_list": [
                {
                  "target_any_local_reference": {
                    "kind": "app_package",
                    "name": "Package2"
                  },
                  "retries": "0",
                  "description": "",
                  "inherit_target": false,
                  "child_tasks_local_reference_list": [],
                  "name": "0c2a9ffc_dag",
                  "attrs": {
                    "edges": [],
                    "type": ""
                  },
                  "timeout_secs": "0",
                  "type": "DAG",
                  "variable_list": []
                }
              ],
              "description": "",
              "name": "54088f53_runbook",
              "main_task_local_reference": {
                "kind": "app_task",
                "name": "0c2a9ffc_dag"
              },
              "variable_list": []
            },
            "upgrade_runbook": {}
          },
          "variable_list": []
        }
      ],
      "app_profile_list": [
        {
          "deployment_create_list": [
            {
              "type": "GREENFIELD",
              "action_list": [],
              "name": "4429ea15_deployment",
              "min_replicas": "1",
              "default_replicas": "1",
              "depends_on_list": [],
              "published_service_local_reference_list": [],
              "max_replicas": "1",
              "package_local_reference_list": [
                {
                  "kind": "app_package",
                  "name": "Package1"
                }
              ],
              "substrate_local_reference": {
                "kind": "app_substrate",
                "name": "VM1"
              },
              "variable_list": [],
              "description": ""
            }
          ],
          "environment_reference_list": [],
          "application_url": "",
          "description": "",
          "action_list": [],
          "name": "AHV",
          "restore_config_list": [],
          "snapshot_config_list": [],
          "patch_list": [],
          "variable_list": [
            {
              "regex": {
                "should_validate": false,
                "value": "^[\\d]*$"
              },
              "val_type": "INT",
              "is_mandatory": false,
              "description": "",
              "data_type": "BASE",
              "type": "LOCAL",
              "name": "vDiskVar",
              "value": "0",
              "label": "/var size",
              "attrs": {
                "type": ""
              },
              "editables": {
                "value": true
              },
              "is_hidden": false,
              "options": {
                "type": "PREDEFINED",
                "choices": []
              }
            },
            {
              "val_type": "STRING",
              "is_mandatory": true,
              "description": "",
              "data_type": "BASE",
              "type": "LOCAL",
              "name": "mountPointVar",
              "value": "/var/app01",
              "label": "mount point under /var",
              "attrs": {
                "type": "LOCAL"
              },
              "editables": {
                "value": true
              },
              "is_hidden": false,
              "options": {
                "type": "PREDEFINED",
                "choices": []
              }
            },
            {
              "regex": {
                "should_validate": false,
                "value": "^[\\d]*$"
              },
              "val_type": "INT",
              "is_mandatory": false,
              "description": "",
              "data_type": "BASE",
              "type": "LOCAL",
              "name": "vDiskUsr",
              "value": "0",
              "label": "/usr size",
              "attrs": {
                "type": ""
              },
              "editables": {
                "value": true
              },
              "is_hidden": false,
              "options": {
                "type": "PREDEFINED",
                "choices": []
              }
            },
            {
              "val_type": "STRING",
              "is_mandatory": true,
              "description": "",
              "data_type": "BASE",
              "type": "LOCAL",
              "name": "mountPointUsr",
              "value": "/usr/aap01",
              "label": "mount point under /usr",
              "attrs": {
                "type": ""
              },
              "editables": {
                "value": true
              },
              "is_hidden": false,
              "options": {
                "type": "PREDEFINED",
                "choices": []
              }
            },
            {
              "regex": {
                "should_validate": false,
                "value": "^[\\d]*$"
              },
              "val_type": "INT",
              "is_mandatory": false,
              "description": "",
              "data_type": "BASE",
              "type": "LOCAL",
              "name": "vDiskOpt",
              "value": "0",
              "label": "/opt size",
              "attrs": {
                "type": ""
              },
              "editables": {
                "value": true
              },
              "is_hidden": false,
              "options": {
                "type": "PREDEFINED",
                "choices": []
              }
            },
            {
              "val_type": "STRING",
              "is_mandatory": true,
              "description": "",
              "data_type": "BASE",
              "type": "LOCAL",
              "name": "mountPointOpt",
              "value": "/opt/app01",
              "label": "mount point under /opt",
              "attrs": {
                "type": ""
              },
              "editables": {
                "value": true
              },
              "is_hidden": false,
              "options": {
                "type": "PREDEFINED",
                "choices": []
              }
            },
            {
              "regex": {
                "should_validate": false,
                "value": "^[\\d]*$"
              },
              "val_type": "INT",
              "is_mandatory": false,
              "description": "",
              "data_type": "BASE",
              "type": "LOCAL",
              "name": "vDiskHome",
              "value": "0",
              "label": "/home size",
              "attrs": {
                "type": "LOCAL"
              },
              "editables": {
                "value": true
              },
              "is_hidden": false,
              "options": {
                "type": "PREDEFINED",
                "choices": []
              }
            },
            {
              "val_type": "STRING",
              "is_mandatory": true,
              "description": "",
              "data_type": "BASE",
              "type": "LOCAL",
              "name": "mountPointHome",
              "value": "/home/app01",
              "label": "mount point under /home",
              "attrs": {
                "type": ""
              },
              "editables": {
                "value": true
              },
              "is_hidden": false,
              "options": {
                "type": "PREDEFINED",
                "choices": []
              }
            },
            {
              "regex": {
                "should_validate": false,
                "value": "^(.|\\n)*$"
              },
              "val_type": "MULTILINE_STRING",
              "is_mandatory": false,
              "description": "",
              "data_type": "BASE",
              "type": "LOCAL",
              "name": "administrativeUsers",
              "value": "",
              "label": "Administrative Users",
              "attrs": {
                "type": ""
              },
              "editables": {
                "value": true
              },
              "is_hidden": false,
              "options": {
                "type": "PREDEFINED",
                "choices": []
              }
            },
            {
              "regex": {
                "should_validate": false,
                "value": "^(.|\\n)*$"
              },
              "val_type": "MULTILINE_STRING",
              "is_mandatory": false,
              "description": "",
              "data_type": "BASE",
              "type": "LOCAL",
              "name": "loginUsers",
              "value": "",
              "label": "Login Users",
              "attrs": {
                "type": ""
              },
              "editables": {
                "value": true
              },
              "is_hidden": false,
              "options": {
                "type": "PREDEFINED",
                "choices": []
              }
            },
            {
              "val_type": "STRING",
              "is_mandatory": false,
              "description": "",
              "data_type": "BASE",
              "type": "LOCAL",
              "name": "adEnv",
              "value": "ads.pnu.edu.sa",
              "label": "Select AD server",
              "attrs": {
                "type": "LOCAL"
              },
              "is_hidden": false,
              "options": {
                "type": "PREDEFINED",
                "choices": [
                  " pnudstst.edu.sa",
                  "ads.pnu.edu.sa"
                ]
              }
            },
            {
              "val_type": "STRING",
              "is_mandatory": false,
              "description": "",
              "data_type": "BASE",
              "type": "LOCAL",
              "name": "privateInterfaceNetmask",
              "value": "255.255.255.0",
              "label": "Private interface: NETMASK",
              "attrs": {
                "type": ""
              },
              "editables": {
                "value": true
              },
              "is_hidden": false,
              "options": {
                "type": "PREDEFINED",
                "choices": []
              }
            },
            {
              "val_type": "STRING",
              "is_mandatory": false,
              "description": "",
              "data_type": "BASE",
              "type": "LOCAL",
              "name": "privateInterfaceIp",
              "value": "",
              "label": "Private interface: IP",
              "attrs": {
                "type": ""
              },
              "editables": {
                "value": true
              },
              "is_hidden": false,
              "options": {
                "type": "PREDEFINED",
                "choices": []
              }
            },
            {
              "val_type": "STRING",
              "is_mandatory": true,
              "description": "",
              "data_type": "BASE",
              "type": "EXEC_LOCAL",
              "name": "privateInterfaceNetwork",
              "value": "",
              "label": "Private interface: NETWORK",
              "attrs": {
                "type": ""
              },
              "editables": {
                "value": true
              },
              "is_hidden": false,
              "options": {
                "type": "EXEC",
                "attrs": {
                  "script": "#script\n#Global Variables\nproject = '@@{calm_project_name}@@'\nclusterSelection = '@@{clusterSelection}@@'\noffset = 0\nlength = 500\nlistNetwork = []\nlistSelection = []\n\npayload = {\n  \"kind\": \"project\",\n  \"filter\": \"name=={}\".format(project)\n}\npcUser = \"@@{pcUser}@@\"\npcUserPassword = \"@@{pcUserPassword}@@\"\n\n#Main Code\napi_url = 'https://localhost:9440/api/nutanix/v3/projects/list'\nheaders = {'Content-Type': 'application/json',  'Accept':'application/json'}\nr = urlreq(api_url, verb='POST', params=json.dumps(payload), headers=headers, verify=False, auth='BASIC', user=pcUser, passwd=pcUserPassword)\nif r.ok:\n    resp = json.loads(r.content)\nelse:\n    print \"Post request failed\", r.content\n    exit(1)\n\nfor netResource in resp[\"entities\"][0]['spec']['resources']['subnet_reference_list']:\n        listNetwork.append(netResource['uuid'])\n\nfor netUuid in listNetwork:\n    api_url = 'https://localhost:9440/api/nutanix/v3/subnets/{}'.format(netUuid)\n    headers = {'Content-Type': 'application/json',  'Accept':'application/json'}\n    r = urlreq(api_url, verb='GET', headers=headers, verify=False, auth='BASIC', user=pcUser, passwd=pcUserPassword)\n    if r.ok:\n        resp = json.loads(r.content)\n        if ((resp['spec']['cluster_reference']['name']) == clusterSelection):\n            listSelection.append(resp['spec']['name']) \n    else:\n        print \"Post request failed\", r.content\n        exit(1)\n\n#Return\n#print (varToBase64(result))\nlistSelection = sorted(dict.fromkeys(listSelection))\nlistSelection.insert(0, \"None\")\nprint \",\".join(map(str,listSelection))\n#print ((result))\nexit(0)",
                  "type": "EXEC",
                  "command_line_args": "",
                  "exit_status": [],
                  "script_type": "static"
                }
              }
            },
            {
              "val_type": "STRING",
              "is_mandatory": false,
              "description": "",
              "data_type": "BASE",
              "type": "LOCAL",
              "name": "backupInterfaceGateway",
              "value": "",
              "label": "Backup interface: GATEWAY",
              "attrs": {
                "type": ""
              },
              "editables": {
                "value": true
              },
              "is_hidden": false,
              "options": {
                "type": "PREDEFINED",
                "choices": []
              }
            },
            {
              "val_type": "STRING",
              "is_mandatory": false,
              "description": "",
              "data_type": "BASE",
              "type": "LOCAL",
              "name": "backupInterfaceNetmask",
              "value": "255.255.255.0",
              "label": "Backup interface: NETMASK",
              "attrs": {
                "type": ""
              },
              "editables": {
                "value": true
              },
              "is_hidden": false,
              "options": {
                "type": "PREDEFINED",
                "choices": []
              }
            },
            {
              "val_type": "STRING",
              "is_mandatory": false,
              "description": "",
              "data_type": "BASE",
              "type": "LOCAL",
              "name": "backupInterfaceIP",
              "value": "",
              "label": "Backup interface: IP",
              "attrs": {
                "type": ""
              },
              "editables": {
                "value": true
              },
              "is_hidden": false,
              "options": {
                "type": "PREDEFINED",
                "choices": []
              }
            },
            {
              "val_type": "STRING",
              "is_mandatory": true,
              "description": "",
              "data_type": "BASE",
              "type": "EXEC_LOCAL",
              "name": "backupInterfaceNetwork",
              "value": "",
              "label": "Backup interface: NETWORK",
              "attrs": {
                "type": ""
              },
              "editables": {
                "value": true
              },
              "is_hidden": false,
              "options": {
                "type": "EXEC",
                "attrs": {
                  "script": "#script\n#Global Variables\nproject = '@@{calm_project_name}@@'\nclusterSelection = '@@{clusterSelection}@@'\noffset = 0\nlength = 500\nlistNetwork = []\nlistSelection = []\n\npayload = {\n  \"kind\": \"project\",\n  \"filter\": \"name=={}\".format(project)\n}\npcUser = \"@@{pcUser}@@\"\npcUserPassword = \"@@{pcUserPassword}@@\"\n\n#Main Code\napi_url = 'https://localhost:9440/api/nutanix/v3/projects/list'\nheaders = {'Content-Type': 'application/json',  'Accept':'application/json'}\nr = urlreq(api_url, verb='POST', params=json.dumps(payload), headers=headers, verify=False, auth='BASIC', user=pcUser, passwd=pcUserPassword)\nif r.ok:\n    resp = json.loads(r.content)\nelse:\n    print \"Post request failed\", r.content\n    exit(1)\n\nfor netResource in resp[\"entities\"][0]['spec']['resources']['subnet_reference_list']:\n        listNetwork.append(netResource['uuid'])\n\nfor netUuid in listNetwork:\n    api_url = 'https://localhost:9440/api/nutanix/v3/subnets/{}'.format(netUuid)\n    headers = {'Content-Type': 'application/json',  'Accept':'application/json'}\n    r = urlreq(api_url, verb='GET', headers=headers, verify=False, auth='BASIC', user=pcUser, passwd=pcUserPassword)\n    if r.ok:\n        resp = json.loads(r.content)\n        if ((resp['spec']['cluster_reference']['name']) == clusterSelection):\n            listSelection.append(resp['spec']['name']) \n    else:\n        print \"Post request failed\", r.content\n        exit(1)\n\n#Return\n#print (varToBase64(result))\nlistSelection = sorted(dict.fromkeys(listSelection))\nlistSelection.insert(0, \"None\")\nprint \",\".join(map(str,listSelection))\n#print ((result))\nexit(0)",
                  "type": "EXEC",
                  "command_line_args": "",
                  "exit_status": [],
                  "script_type": "static"
                }
              }
            },
            {
              "val_type": "STRING",
              "is_mandatory": true,
              "description": "",
              "data_type": "BASE",
              "type": "LOCAL",
              "name": "productionInterfaceGateway",
              "value": "",
              "label": "Production interface: GATEWAY",
              "attrs": {
                "type": ""
              },
              "editables": {
                "value": true
              },
              "is_hidden": false,
              "options": {
                "type": "PREDEFINED",
                "choices": []
              }
            },
            {
              "val_type": "STRING",
              "is_mandatory": false,
              "description": "",
              "data_type": "BASE",
              "type": "LOCAL",
              "name": "productionInterfaceNetmask",
              "value": "255.255.255.0",
              "label": "Production interface: NETMASK",
              "attrs": {
                "type": ""
              },
              "editables": {
                "value": true
              },
              "is_hidden": false,
              "options": {
                "type": "PREDEFINED",
                "choices": []
              }
            },
            {
              "regex": {
                "should_validate": false,
                "value": ""
              },
              "val_type": "STRING",
              "is_mandatory": true,
              "description": "",
              "data_type": "BASE",
              "type": "LOCAL",
              "name": "productionInterfaceIp",
              "value": "",
              "label": "Production interface: IP",
              "attrs": {
                "type": ""
              },
              "editables": {
                "value": true
              },
              "is_hidden": false,
              "options": {
                "type": "PREDEFINED",
                "choices": []
              }
            },
            {
              "regex": {
                "should_validate": false,
                "value": "^.*$"
              },
              "val_type": "STRING",
              "is_mandatory": true,
              "description": "",
              "data_type": "BASE",
              "type": "EXEC_LOCAL",
              "name": "productionInterfaceNetwork",
              "value": "",
              "label": "Production interface: NETWORK",
              "attrs": {
                "type": ""
              },
              "editables": {
                "value": true
              },
              "is_hidden": false,
              "options": {
                "type": "EXEC",
                "attrs": {
                  "script": "#script\n#Global Variables\nproject = '@@{calm_project_name}@@'\nclusterSelection = '@@{clusterSelection}@@'\noffset = 0\nlength = 500\nlistNetwork = []\nlistSelection = []\n\npayload = {\n  \"kind\": \"project\",\n  \"filter\": \"name=={}\".format(project)\n}\npcUser = \"@@{pcUser}@@\"\npcUserPassword = \"@@{pcUserPassword}@@\"\n\n#Main Code\napi_url = 'https://localhost:9440/api/nutanix/v3/projects/list'\nheaders = {'Content-Type': 'application/json',  'Accept':'application/json'}\nr = urlreq(api_url, verb='POST', params=json.dumps(payload), headers=headers, verify=False, auth='BASIC', user=pcUser, passwd=pcUserPassword)\nif r.ok:\n    resp = json.loads(r.content)\nelse:\n    print \"Post request failed\", r.content\n    exit(1)\n\nfor netResource in resp[\"entities\"][0]['spec']['resources']['subnet_reference_list']:\n        listNetwork.append(netResource['uuid'])\n\nfor netUuid in listNetwork:\n    api_url = 'https://localhost:9440/api/nutanix/v3/subnets/{}'.format(netUuid)\n    headers = {'Content-Type': 'application/json',  'Accept':'application/json'}\n    r = urlreq(api_url, verb='GET', headers=headers, verify=False, auth='BASIC', user=pcUser, passwd=pcUserPassword)\n    if r.ok:\n        resp = json.loads(r.content)\n        if ((resp['spec']['cluster_reference']['name']) == clusterSelection):\n            listSelection.append(resp['spec']['name']) \n    else:\n        print \"Post request failed\", r.content\n        exit(1)\n\n#Return\n#print (varToBase64(result))\nlistSelection = sorted(dict.fromkeys(listSelection))\nprint \",\".join(map(str,listSelection))\n#print ((result))\nexit(0)",
                  "type": "EXEC",
                  "command_line_args": "",
                  "exit_status": [],
                  "script_type": "static"
                }
              }
            },
            {
              "val_type": "STRING",
              "is_mandatory": true,
              "description": "",
              "data_type": "BASE",
              "type": "EXEC_LOCAL",
              "name": "clusterSelection",
              "value": "",
              "label": "Select Nutanix Cluster",
              "attrs": {
                "type": ""
              },
              "editables": {
                "value": true
              },
              "is_hidden": false,
              "options": {
                "type": "EXEC",
                "attrs": {
                  "script": "#script\n#Global Variables\nproject = '@@{calm_project_name}@@'\noffset = 0\nlength = 500\nlistNetwork = []\nlistCluster = []\npayload = {\n  \"kind\": \"project\",\n  \"filter\": \"name=={}\".format(project)\n  \n}\npcUser = \"@@{pcUser}@@\"\npcUserPassword = \"@@{pcUserPassword}@@\"\n\n#Global Functions\n\n#Main Code\napi_url = 'https://localhost:9440/api/nutanix/v3/projects/list'\nheaders = {'Content-Type': 'application/json',  'Accept':'application/json'}\nr = urlreq(api_url, verb='POST', params=json.dumps(payload), headers=headers, verify=False, auth='BASIC', user=pcUser, passwd=pcUserPassword)\nif r.ok:\n    resp = json.loads(r.content)\nelse:\n    print \"Post request failed\", r.content\n    exit(1)\n\nfor netResource in resp[\"entities\"][0]['spec']['resources']['subnet_reference_list']:\n    listNetwork.append(netResource['uuid'])\n\nfor netUuid in listNetwork:\n    api_url = 'https://localhost:9440/api/nutanix/v3/subnets/{}'.format(netUuid)\n    headers = {'Content-Type': 'application/json',  'Accept':'application/json'}\n    r = urlreq(api_url, verb='GET', headers=headers, verify=False, auth='BASIC', user=pcUser, passwd=pcUserPassword)\n    if r.ok:\n        resp = json.loads(r.content)\n        listCluster.append(resp['spec']['cluster_reference']['name'])\n    else:\n        print \"Post request failed\", r.content\n        exit(1)\n\nlistCluster = sorted(dict.fromkeys(listCluster))\n#Return\nprint \",\".join(map(str,listCluster))\nexit(0)",
                  "type": "EXEC",
                  "command_line_args": "",
                  "exit_status": [],
                  "script_type": "static"
                }
              }
            },
            {
              "val_type": "STRING",
              "is_mandatory": false,
              "description": "",
              "data_type": "BASE",
              "type": "LOCAL",
              "name": "pcUser",
              "value": "calmtemp",
              "label": "",
              "attrs": {
                "type": ""
              },
              "editables": {
                "value": false
              },
              "is_hidden": true,
              "options": {
                "type": "PREDEFINED",
                "choices": []
              }
            },
            {
              "val_type": "STRING",
              "is_mandatory": false,
              "description": "",
              "data_type": "BASE",
              "type": "LOCAL",
              "name": "pcUserPassword",
              "value": "Nutanix2020!",
              "label": "",
              "attrs": {
                "type": ""
              },
              "editables": {
                "value": false
              },
              "is_hidden": true,
              "options": {
                "type": "PREDEFINED",
                "choices": []
              }
            },
            {
              "regex": {
                "should_validate": false,
                "value": "^.*$"
              },
              "val_type": "STRING",
              "is_mandatory": false,
              "description": "",
              "data_type": "BASE",
              "type": "LOCAL",
              "name": "securityUserPassword",
              "value": "Trnd@dm!n@2020",
              "label": "",
              "attrs": {
                "type": "LOCAL"
              },
              "is_hidden": false,
              "options": {
                "type": "PREDEFINED",
                "choices": []
              }
            }
          ]
        },
        {
          "deployment_create_list": [
            {
              "type": "GREENFIELD",
              "action_list": [],
              "name": "7a9ac986_deployment",
              "min_replicas": "1",
              "default_replicas": "1",
              "depends_on_list": [],
              "published_service_local_reference_list": [],
              "max_replicas": "1",
              "package_local_reference_list": [
                {
                  "kind": "app_package",
                  "name": "Package2"
                }
              ],
              "substrate_local_reference": {
                "kind": "app_substrate",
                "name": "VM1_2"
              },
              "variable_list": [],
              "description": ""
            }
          ],
          "environment_reference_list": [
            "8c1d8b5c-4150-25d2-d4a4-58a5638a3ac7"
          ],
          "application_url": "",
          "description": "",
          "action_list": [],
          "name": "vSphere",
          "restore_config_list": [],
          "snapshot_config_list": [],
          "patch_list": [],
          "variable_list": [
            {
              "regex": {
                "should_validate": false,
                "value": "^[\\d]*$"
              },
              "val_type": "INT",
              "is_mandatory": false,
              "description": "",
              "data_type": "BASE",
              "type": "LOCAL",
              "name": "vDiskVar",
              "value": "0",
              "label": "/var size",
              "attrs": {
                "type": ""
              },
              "editables": {
                "value": true
              },
              "is_hidden": false,
              "options": {
                "type": "PREDEFINED",
                "choices": []
              }
            },
            {
              "val_type": "STRING",
              "is_mandatory": false,
              "description": "",
              "data_type": "BASE",
              "type": "LOCAL",
              "name": "mountPointVar",
              "value": "/var/app01",
              "label": "mount point under /var",
              "attrs": {
                "type": "LOCAL"
              },
              "editables": {
                "value": true
              },
              "is_hidden": false,
              "options": {
                "type": "PREDEFINED",
                "choices": []
              }
            },
            {
              "regex": {
                "should_validate": false,
                "value": "^[\\d]*$"
              },
              "val_type": "INT",
              "is_mandatory": false,
              "description": "",
              "data_type": "BASE",
              "type": "LOCAL",
              "name": "vDiskUsr",
              "value": "0",
              "label": "/usr size",
              "attrs": {
                "type": ""
              },
              "editables": {
                "value": true
              },
              "is_hidden": false,
              "options": {
                "type": "PREDEFINED",
                "choices": []
              }
            },
            {
              "val_type": "STRING",
              "is_mandatory": false,
              "description": "",
              "data_type": "BASE",
              "type": "LOCAL",
              "name": "mountPointUsr",
              "value": "/usr/app01",
              "label": "mount point under /usr",
              "attrs": {
                "type": ""
              },
              "editables": {
                "value": true
              },
              "is_hidden": false,
              "options": {
                "type": "PREDEFINED",
                "choices": []
              }
            },
            {
              "regex": {
                "should_validate": false,
                "value": "^[\\d]*$"
              },
              "val_type": "INT",
              "is_mandatory": false,
              "description": "",
              "data_type": "BASE",
              "type": "LOCAL",
              "name": "vDiskOpt",
              "value": "0",
              "label": "/opt size",
              "attrs": {
                "type": ""
              },
              "editables": {
                "value": true
              },
              "is_hidden": false,
              "options": {
                "type": "PREDEFINED",
                "choices": []
              }
            },
            {
              "val_type": "STRING",
              "is_mandatory": false,
              "description": "",
              "data_type": "BASE",
              "type": "LOCAL",
              "name": "mountPointOpt",
              "value": "/opt/app01",
              "label": "mount point under /opt",
              "attrs": {
                "type": ""
              },
              "editables": {
                "value": true
              },
              "is_hidden": false,
              "options": {
                "type": "PREDEFINED",
                "choices": []
              }
            },
            {
              "regex": {
                "should_validate": false,
                "value": "^[\\d]*$"
              },
              "val_type": "INT",
              "is_mandatory": false,
              "description": "",
              "data_type": "BASE",
              "type": "LOCAL",
              "name": "vDiskHome",
              "value": "0",
              "label": "/home size",
              "attrs": {
                "type": ""
              },
              "editables": {
                "value": true
              },
              "is_hidden": false,
              "options": {
                "type": "PREDEFINED",
                "choices": []
              }
            },
            {
              "val_type": "STRING",
              "is_mandatory": false,
              "description": "",
              "data_type": "BASE",
              "type": "LOCAL",
              "name": "mountPointHome",
              "value": "/home/app01",
              "label": "mount point under /home",
              "attrs": {
                "type": ""
              },
              "editables": {
                "value": true
              },
              "is_hidden": false,
              "options": {
                "type": "PREDEFINED",
                "choices": []
              }
            },
            {
              "regex": {
                "should_validate": false,
                "value": "^(.|\\n)*$"
              },
              "val_type": "MULTILINE_STRING",
              "is_mandatory": false,
              "description": "",
              "data_type": "BASE",
              "type": "LOCAL",
              "name": "administrativeUsers",
              "value": "",
              "label": "Administrative Users",
              "attrs": {
                "type": ""
              },
              "editables": {
                "value": true
              },
              "is_hidden": false,
              "options": {
                "type": "PREDEFINED",
                "choices": []
              }
            },
            {
              "regex": {
                "should_validate": false,
                "value": "^(.|\\n)*$"
              },
              "val_type": "MULTILINE_STRING",
              "is_mandatory": false,
              "description": "",
              "data_type": "BASE",
              "type": "LOCAL",
              "name": "loginUsers",
              "value": "",
              "label": "Login Users",
              "attrs": {
                "type": ""
              },
              "editables": {
                "value": true
              },
              "is_hidden": false,
              "options": {
                "type": "PREDEFINED",
                "choices": []
              }
            },
            {
              "val_type": "STRING",
              "is_mandatory": false,
              "description": "",
              "data_type": "BASE",
              "type": "LOCAL",
              "name": "adEnv",
              "value": "ads.pnu.edu.sa",
              "label": "Select AD server",
              "attrs": {
                "type": "LOCAL"
              },
              "is_hidden": false,
              "options": {
                "type": "PREDEFINED",
                "choices": [
                  " pnudstst.edu.sa",
                  "ads.pnu.edu.sa"
                ]
              }
            },
            {
              "val_type": "STRING",
              "is_mandatory": false,
              "description": "",
              "data_type": "BASE",
              "type": "LOCAL",
              "name": "privateInterfaceNetmask",
              "value": "255.255.255.0",
              "label": "Private interface: NETMASK",
              "attrs": {
                "type": ""
              },
              "editables": {
                "value": true
              },
              "is_hidden": false,
              "options": {
                "type": "PREDEFINED",
                "choices": []
              }
            },
            {
              "val_type": "STRING",
              "is_mandatory": false,
              "description": "",
              "data_type": "BASE",
              "type": "LOCAL",
              "name": "privateInterfaceIp",
              "value": "",
              "label": "Private interface: IP",
              "attrs": {
                "type": ""
              },
              "editables": {
                "value": true
              },
              "is_hidden": false,
              "options": {
                "type": "PREDEFINED",
                "choices": []
              }
            },
            {
              "val_type": "STRING",
              "is_mandatory": true,
              "description": "",
              "data_type": "BASE",
              "type": "EXEC_LOCAL",
              "name": "privateInterfaceNetwork",
              "value": "",
              "label": "Private interface: NETWORK",
              "attrs": {
                "type": ""
              },
              "editables": {
                "value": true
              },
              "is_hidden": false,
              "options": {
                "type": "EXEC",
                "attrs": {
                  "script": "\nusername = \"@@{vCenterUser}@@\"\npassword = \"@@{vCenterPass}@@\"\napi_server = \"@@{vCenterAddress}@@\"\n\nlistNetworks = []\n\n# endregion\n# region API call function\ndef process_request(url, method, headers, payload=None):\n    if (payload is not None):\n        payload = json.dumps(payload)\n    if \"Cookie\" not in headers:\n        r = urlreq(url, verb=method, auth='BASIC', user=username, passwd=password, params=payload, verify=False, headers=headers)\n    else:\n        r = urlreq(url, verb=method, params=payload, verify=False, headers=headers)\n    \n    '''\n    if ((r.status_code == 400) and (json.loads(r.content)['type'] == 'com.vmware.vapi.std.errors.already_exists')):\n        print(\"Status code: {}\".format(r.status_code))\n        print(\"Object already exists: skipping\")\n    else:\n        if (payload is not None):\n            print(\"Payload: {}\".format(json.dumps(payload)))\n        if r.content:\n            print('Response: {}'.format(json.dumps(json.loads(r.content), indent=4)))\n        exit(1)\n        \n    '''\n    return r\n# endregion\n# region login\n# region prepare api call\n\n#\n# fetch cookie\n#\n\napi_server_port = \"443\"\napi_server_endpoint = \"/rest/com/vmware/cis/session\"\nmethod = \"POST\"\nurl = \"https://{}:{}{}\".format(api_server, api_server_port, api_server_endpoint)\nheaders = {'Content-Type': 'application/json', 'Accept': 'application/json'}\n# endregion\n# region login API call\n#print(\"STEP: Logging in to vCenter...\")\n#print(\"Making a {} API call to {}\".format(method, url))\nresp = process_request(url, method, headers)\nvc_cookie = resp.headers.get('Set-Cookie').split(\";\")[0]\n\n#\n# get clusters\n#\n\napi_server_port = \"443\"\napi_server_endpoint = \"/rest/vcenter/network\"\nmethod = \"GET\"\nurl = \"https://{}:{}{}\".format(api_server, api_server_port, api_server_endpoint)\nheaders = {'Content-Type': 'application/json', 'Accept': 'application/json', 'Cookie': vc_cookie}\n# endregion\n# region login API call\nresp = process_request(url, method, headers)\n\nnetworks = json.loads(resp.content)['value']\n\nfor n in networks:\n    listNetworks.append(n['name'])\n    \nlistNetworks = sorted(dict.fromkeys(listNetworks))\nlistNetworks.insert(0, \"None\")\n#print listCluster\n#Return\nprint \",\".join(map(str,listNetworks))\n\nexit(0)",
                  "type": "EXEC",
                  "command_line_args": "",
                  "exit_status": [],
                  "script_type": "static"
                }
              }
            },
            {
              "val_type": "STRING",
              "is_mandatory": false,
              "description": "",
              "data_type": "BASE",
              "type": "LOCAL",
              "name": "backupInterfaceGateway",
              "value": "",
              "label": "Backup interface: GATEWAY",
              "attrs": {
                "type": ""
              },
              "editables": {
                "value": true
              },
              "is_hidden": false,
              "options": {
                "type": "PREDEFINED",
                "choices": []
              }
            },
            {
              "val_type": "STRING",
              "is_mandatory": false,
              "description": "",
              "data_type": "BASE",
              "type": "LOCAL",
              "name": "backupInterfaceNetmask",
              "value": "255.255.255.0",
              "label": "Backup interface: NETMASK",
              "attrs": {
                "type": ""
              },
              "editables": {
                "value": true
              },
              "is_hidden": false,
              "options": {
                "type": "PREDEFINED",
                "choices": []
              }
            },
            {
              "val_type": "STRING",
              "is_mandatory": false,
              "description": "",
              "data_type": "BASE",
              "type": "LOCAL",
              "name": "backupInterfaceIP",
              "value": "",
              "label": "Backup interface: IP",
              "attrs": {
                "type": ""
              },
              "editables": {
                "value": true
              },
              "is_hidden": false,
              "options": {
                "type": "PREDEFINED",
                "choices": []
              }
            },
            {
              "val_type": "STRING",
              "is_mandatory": true,
              "description": "",
              "data_type": "BASE",
              "type": "EXEC_LOCAL",
              "name": "backupInterfaceNetwork",
              "value": "",
              "label": "Backup interface: NETWORK",
              "attrs": {
                "type": ""
              },
              "editables": {
                "value": true
              },
              "is_hidden": false,
              "options": {
                "type": "EXEC",
                "attrs": {
                  "script": "\nusername = \"@@{vCenterUser}@@\"\npassword = \"@@{vCenterPass}@@\"\napi_server = \"@@{vCenterAddress}@@\"\n\nlistNetworks = []\n\n# endregion\n# region API call function\ndef process_request(url, method, headers, payload=None):\n    if (payload is not None):\n        payload = json.dumps(payload)\n    if \"Cookie\" not in headers:\n        r = urlreq(url, verb=method, auth='BASIC', user=username, passwd=password, params=payload, verify=False, headers=headers)\n    else:\n        r = urlreq(url, verb=method, params=payload, verify=False, headers=headers)\n    \n    '''\n    if ((r.status_code == 400) and (json.loads(r.content)['type'] == 'com.vmware.vapi.std.errors.already_exists')):\n        print(\"Status code: {}\".format(r.status_code))\n        print(\"Object already exists: skipping\")\n    else:\n        if (payload is not None):\n            print(\"Payload: {}\".format(json.dumps(payload)))\n        if r.content:\n            print('Response: {}'.format(json.dumps(json.loads(r.content), indent=4)))\n        exit(1)\n        \n    '''\n    return r\n# endregion\n# region login\n# region prepare api call\n\n#\n# fetch cookie\n#\n\napi_server_port = \"443\"\napi_server_endpoint = \"/rest/com/vmware/cis/session\"\nmethod = \"POST\"\nurl = \"https://{}:{}{}\".format(api_server, api_server_port, api_server_endpoint)\nheaders = {'Content-Type': 'application/json', 'Accept': 'application/json'}\n# endregion\n# region login API call\n#print(\"STEP: Logging in to vCenter...\")\n#print(\"Making a {} API call to {}\".format(method, url))\nresp = process_request(url, method, headers)\nvc_cookie = resp.headers.get('Set-Cookie').split(\";\")[0]\n\n#\n# get clusters\n#\n\napi_server_port = \"443\"\napi_server_endpoint = \"/rest/vcenter/network\"\nmethod = \"GET\"\nurl = \"https://{}:{}{}\".format(api_server, api_server_port, api_server_endpoint)\nheaders = {'Content-Type': 'application/json', 'Accept': 'application/json', 'Cookie': vc_cookie}\n# endregion\n# region login API call\nresp = process_request(url, method, headers)\n\nnetworks = json.loads(resp.content)['value']\n\nfor n in networks:\n    listNetworks.append(n['name'])\n    \nlistNetworks = sorted(dict.fromkeys(listNetworks))\nlistNetworks.insert(0, \"None\")\n#print listCluster\n#Return\nprint \",\".join(map(str,listNetworks))\n\nexit(0)",
                  "type": "EXEC",
                  "command_line_args": "",
                  "exit_status": [],
                  "script_type": "static"
                }
              }
            },
            {
              "val_type": "STRING",
              "is_mandatory": true,
              "description": "",
              "data_type": "BASE",
              "type": "LOCAL",
              "name": "productionInterfaceGateway",
              "value": "",
              "label": "Production interface: GATEWAY",
              "attrs": {
                "type": ""
              },
              "editables": {
                "value": true
              },
              "is_hidden": false,
              "options": {
                "type": "PREDEFINED",
                "choices": []
              }
            },
            {
              "val_type": "STRING",
              "is_mandatory": true,
              "description": "",
              "data_type": "BASE",
              "type": "LOCAL",
              "name": "productionInterfaceNetmask",
              "value": "255.255.255.0",
              "label": "Production interface: NETMASK",
              "attrs": {
                "type": ""
              },
              "editables": {
                "value": true
              },
              "is_hidden": false,
              "options": {
                "type": "PREDEFINED",
                "choices": []
              }
            },
            {
              "val_type": "STRING",
              "is_mandatory": true,
              "description": "",
              "data_type": "BASE",
              "type": "LOCAL",
              "name": "productionInterfaceIp",
              "value": "",
              "label": "Production interface: IP",
              "attrs": {
                "type": ""
              },
              "editables": {
                "value": true
              },
              "is_hidden": false,
              "options": {
                "type": "PREDEFINED",
                "choices": []
              }
            },
            {
              "val_type": "STRING",
              "is_mandatory": false,
              "description": "",
              "data_type": "BASE",
              "type": "LOCAL",
              "name": "pcUser",
              "value": "calmtemp",
              "label": "",
              "attrs": {
                "type": ""
              },
              "editables": {
                "value": false
              },
              "is_hidden": true,
              "options": {
                "type": "PREDEFINED",
                "choices": []
              }
            },
            {
              "val_type": "STRING",
              "is_mandatory": false,
              "description": "",
              "data_type": "BASE",
              "type": "LOCAL",
              "name": "pcUserPassword",
              "value": "Nutanix2020!",
              "label": "",
              "attrs": {
                "type": ""
              },
              "editables": {
                "value": false
              },
              "is_hidden": true,
              "options": {
                "type": "PREDEFINED",
                "choices": []
              }
            },
            {
              "val_type": "STRING",
              "is_mandatory": false,
              "description": "",
              "data_type": "BASE",
              "type": "LOCAL",
              "name": "vCenterAddress",
              "value": "172.17.25.50",
              "label": "",
              "attrs": {
                "type": ""
              },
              "editables": {
                "value": false
              },
              "is_hidden": true,
              "options": {
                "type": "PREDEFINED",
                "choices": []
              }
            },
            {
              "val_type": "STRING",
              "is_mandatory": false,
              "description": "",
              "data_type": "BASE",
              "type": "LOCAL",
              "name": "vCenterUser",
              "value": "pnuds\\APPCAM01",
              "label": "",
              "attrs": {
                "type": ""
              },
              "is_hidden": false,
              "options": {
                "type": "PREDEFINED",
                "choices": []
              }
            },
            {
              "val_type": "STRING",
              "is_mandatory": false,
              "description": "",
              "data_type": "BASE",
              "type": "LOCAL",
              "name": "vCenterPass",
              "value": "ZwTgd3rF",
              "label": "",
              "attrs": {
                "type": "LOCAL"
              },
              "is_hidden": false,
              "options": {
                "type": "PREDEFINED",
                "choices": []
              }
            },
            {
              "val_type": "STRING",
              "is_mandatory": false,
              "description": "",
              "data_type": "BASE",
              "type": "LOCAL",
              "name": "NOTE",
              "value": "Cluster and porduction network adaptor need to be selected from the Service section at the end of the page. ",
              "label": "NOTE:",
              "attrs": {
                "type": ""
              },
              "editables": {
                "value": true
              },
              "is_hidden": false,
              "options": {
                "type": "PREDEFINED",
                "choices": []
              }
            },
            {
              "val_type": "STRING",
              "is_mandatory": false,
              "description": "",
              "data_type": "BASE",
              "type": "LOCAL",
              "name": "clusterSelection",
              "value": "-",
              "label": "",
              "attrs": {
                "type": ""
              },
              "editables": {
                "value": false
              },
              "is_hidden": true,
              "options": {
                "type": "PREDEFINED",
                "choices": []
              }
            }
          ]
        }
      ],
      "published_service_definition_list": [],
      "default_credential_local_reference": {
        "kind": "app_credential",
        "name": "rootCreds"
      },
      "type": "USER"
    },
    "name": "CentOS8"
  },
  "api_version": "3.0",
  "metadata": {
    "last_update_time": "1655905550569901",
    "kind": "blueprint",
    "spec_version": 2,
    "creation_time": "1647935371869689",
    "name": "CentOS8"
  }
}
